{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/@babel/runtime/helpers/arrayLikeToArray.js","node_modules/@babel/runtime/helpers/arrayWithHoles.js","node_modules/@babel/runtime/helpers/assertThisInitialized.js","node_modules/@babel/runtime/helpers/asyncToGenerator.js","node_modules/@babel/runtime/helpers/classCallCheck.js","node_modules/@babel/runtime/helpers/createClass.js","node_modules/@babel/runtime/helpers/defineProperty.js","node_modules/@babel/runtime/helpers/get.js","node_modules/@babel/runtime/helpers/getPrototypeOf.js","node_modules/@babel/runtime/helpers/inherits.js","node_modules/@babel/runtime/helpers/interopRequireDefault.js","node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","node_modules/@babel/runtime/helpers/nonIterableRest.js","node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/setPrototypeOf.js","node_modules/@babel/runtime/helpers/slicedToArray.js","node_modules/@babel/runtime/helpers/superPropBase.js","node_modules/@babel/runtime/helpers/typeof.js","node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","node_modules/@babel/runtime/regenerator/index.js","node_modules/lottie-web/build/player/lottie.js","node_modules/regenerator-runtime/runtime.js","node_modules/three/build/three.js","node_modules/three/examples/jsm/loaders/OBJLoader.js","src/_includes/unbundled/index.js","src/_includes/unbundled/invisible-animations.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","arr","len","arr2","Array","__esModule","isArray","self","ReferenceError","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","fn","this","args","arguments","apply","err","undefined","instance","Constructor","TypeError","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","prototype","obj","superPropBase","_get","Reflect","get","property","receiver","base","desc","getOwnPropertyDescriptor","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","subClass","superClass","create","constructor","default","_i","Symbol","iterator","_s","_e","_arr","_n","_d","next","push","_typeof","assertThisInitialized","_setPrototypeOf","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","object","hasOwnProperty","arrayLikeToArray","minLen","toString","slice","name","from","test","root","factory","navigator","window","svgNS","locationHref","initialDefaultFrame","_useWebWorker","subframeEnabled","idPrefix","expressionsPlugin","isSafari","userAgent","cachedColors","bmRnd","bmPow","Math","pow","bmSqrt","sqrt","bmFloor","floor","bmMax","max","bmMin","min","BMMath","propertyNames","ProjectInterface","random","abs","val","_typeof2","absArr","createSizedArray","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","flag","round","styleDiv","element","style","position","top","left","display","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","type","currentTime","totalTime","frameMultiplier","direction","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","HSVtoRGB","h","s","v","g","b","q","RGBtoHSV","d","addSaturationToRGB","color","offset","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","BaseEvent","triggerEvent","eventName","_cbs","callbacks","addEventListener","callback","removeEventListener","bind","splice","createTypedArray","Uint8ClampedArray","Float32Array","Int16Array","createRegularArray","createNS","document","createElementNS","createTag","createElement","DynamicPropertyContainer","addDynamicProperty","prop","dynamicProperties","indexOf","container","_isAnimated","iterateDynamicProperties","_mdf","getValue","initDynamicPropertyContainer","getBlendMode","blendModeEnums","0","2","3","4","5","6","7","8","9","10","11","12","13","14","15","mode","lineCapEnum","lineJoinEnum","Matrix","_cos","cos","_sin","sin","_tan","tan","_rnd","reset","rotate","rotateX","rotateY","rotateZ","skew","skewFromAxis","shear","scale","setTransform","translate","transform","applyToPoint","applyToX","applyToY","applyToZ","applyToPointArray","applyToTriplePoints","applyToPointStringified","toCSS","to2dCSS","clone","cloneFromProps","equals","inversePoints","inversePoint","getInverseMatrix","_t","isIdentity","_identity","_identityCalculated","angle","mCos","mSin","sx","sy","ax","ay","sz","j","k","l","m","tx","ty","tz","a2","b2","c2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_p","a1","b1","c1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","p1","matr","x","y","z","determinant","inverseMatrix","pt","pts","retPts","pt1","pt2","pt3","p0","p4","p5","p12","p13","cssValue","roundMatrixProperty","pool","math","nodecrypto","global","width","chunks","rngname","startdenom","significance","overflow","mask","ARC4","keylen","me","S","count","copy","mixkey","seed","smear","stringseed","charCodeAt","tostring","String","fromCharCode","options","prng","arc4","shortseed","flatten","depth","result","typ","entropy","randomBytes","out","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","Date","screen","autoseed","int32","quick","pass","is_math_call","state","BezierFactory","ob","getBezierEasing","nm","str","replace","beziers","bezEasing","BezierEasing","kSplineTableSize","kSampleStepSize","float32ArraySupported","mX1","mY1","mX2","mY2","_precomputed","_precompute","calcBezier","_getTForX","_calcSampleValues","_mSampleValues","aX","mSampleValues","intervalStart","currentSample","lastSample","guessForT","initialSlope","getSlope","newtonRaphsonIterate","aGuessT","currentSlope","binarySubdivide","currentX","currentT","aA","aB","A","aA1","aA2","aT","points","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","extendPrototype","sources","destination","sourcePrototype","attr","getDescriptor","createProxyFunction","ProxyFunction","bezFunction","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt4","ptCoord","perc","ptDistance","curveSegments","addedLength","point","lastPoint","lengthData","bezierLengthPool","newElement","percents","lengths","BezierData","segmentLength","PointData","partial","partialLength","buildBezierData","bezierName","storedData","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","bezierSegmentPoints","getSegmentsLength","shapeData","segmentsLength","segmentsLengthPool","closed","pathV","pathO","pathI","_length","totalLength","getNewSegment","startPerc","endPerc","t0","t1","u1","u0u0u0","u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","percent","pointOnLine3D","z1","z2","z3","dist1","dist2","dist3","diffDist","currTime","getTime","timeToCall","id","setTimeout","clearTimeout","bez","dataManager","_counterId","processes","workerProxy","onmessage","postMessage","path","workerFn","data","_workerSelf","loadAnimation","onComplete","onError","setupWorker","processId","createProcess","workerInstance","fullPath","location","origin","pathname","loadData","completeAnimation","anim","animation","url","dataFunctionManager","completeLayers","layers","comps","kLen","layerData","completed","tt","td","hasMask","maskProps","masksProperties","jLen","convertPathsToAbsoluteValues","__used","JSON","parse","stringify","findCompLayers","refId","completeShapes","ks","it","shapes","singleShape","checkVersion","minimum","animVersionString","animVersion","split","minimumVersion","checkText","animationData","iterateLayers","assets","textLayer","documentData","checkChars","chars","pathData","paths","__converted","checkPathProperties","checkColors","iterateShapes","checkShapes","cl","completeClosingShapes","moduleOb","completeData","__complete","formatResponse","xhr","contentTypeHeader","getResponseHeader","responseType","response","responseText","assetLoader","load","errorCallback","XMLHttpRequest","onreadystatechange","readyState","status","open","send","payload","Worker","Blob","blob","URL","createObjectURL","event","process","getFontProperties","fontData","styles","fStyle","fWeight","toLowerCase","weight","FontManager","emptyChar","w","size","combinedCharacters","concat","surrogateModifiers","zeroWidthJoiner","Font","isModifier","firstCharCode","secondCharCode","sum","isZeroWidthJoiner","isCombinedCharacter","_char3","fontPrototype","addChars","found","fFamily","ch","addFonts","defs","isLoaded","fonts","list","tHelper","fontProps","fontArr","_pendingFonts","loadedSelector","sc","shouldLoadFont","loaded","monoCase","setUpNode","sansCase","fPath","fOrigin","querySelectorAll","setAttribute","innerText","appendChild","href","rel","body","src","helper","def","fontSize","textContent","fClass","fontFamily","getContext","font","cache","checkLoadedFonts","getCharData","_char","console","warn","_warned","getFontByName","fName","measureText","_char2","fontName","doubleSize","singleSize","index","getComputedTextLength","node","loadedCount","offsetWidth","parent","parentNode","removeChild","now","initTime","checkLoadedFontsBinded","setIsLoadedBinded","setIsLoaded","family","fontVariant","fontStyle","fontWeight","letterSpacing","familyArray","enabledFamilies","join","trimFontOptions","typekitLoaded","PropertyFactory","initFrame","mathAbs","getProp","elem","mult","MultiDimensionalProperty","KeyframedValueProperty","KeyframedMultidimensionalProperty","ValueProperty","effectsSequence","interpolateValue","frameNum","caching","newValue","keyData","nextKeyData","fnc","offsetTime","iterationIndex","propType","pv","lastIndex","keyframes","qy","qz","heading","attitude","keyframeMetadata","keyframesMetadata","nextKeyTime","keyTime","to","ti","ind","__fnct","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","quatStart","quatEnd","endValue","sh","createQuaternion","quat","sinom","scale0","scale1","az","aw","bx","by","bz","bw","cosom","omega","acos","slerp","qx","qw","atan2","asin","bank","values","c3","s1","s2","s3","getValueAtCurrentTime","comp","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","processEffectsSequence","globalData","frameId","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","vel","st","arrLen","TransformPropertyFactory","defaultVector","TransformProperty","applyToMatrix","mat","sk","sa","rz","ry","rx","or","px","py","pz","forceRender","v1","v2","_isDirty","precalculateMatrix","pre","appliedTransformations","autoOriented","frameRate","getValueAtTime","autoOrient","_addDynamicProperty","getTransformProperty","ShapePath","_maxLength","setPathData","setLength","pointPool","doubleArrayLength","setXYAt","pos","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","init","cnt","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","isHold","vertexValue","keyPropE","resetShape","localShapeCollection","shape1","shape2","shapesEqual","shapePool","releaseShapes","addShape","ShapeProperty","shapeCollectionPool","newShapeCollection","KeyframedShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","s0","_cw","_v","EllShapeProperty","StarShapePropertyFactory","convertToPath","convertStarToPath","numPts","longFlag","longRad","shortRad","ir","longRound","os","shortRound","is","longPerimSegment","shortPerimSegment","currentAng","roundness","perimSegment","rad","ox","oy","convertPolygonToPath","StarShapeProperty","RectShapePropertyFactory","convertRectToPath","v0","RectShapeProperty","getShapeProp","getConstructorFunction","getKeyframedConstructorFunction","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","RoundCornersModifier","PuckerAndBloatModifier","RepeaterModifier","ShapeCollection","DashProperty","renderer","dataProps","dashStr","dashArray","dashoffset","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","initModifierProperties","addShapeToModifier","shape","setAsAnimated","processKeys","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","shapeS","segmentOb","segments","shapeSegments","shapeE","releasePathsData","release","processShapes","shapePaths","totalShapeLength","edges","lastShape","newShapesData","addShapes","pop","addPaths","newPaths","addSegment","shapePath","newShape","addSegmentFromArray","shapeSegment","segmentCount","segment","currentLengthData","rd","processPath","currentV","currentI","currentO","closerV","distance","newPosPerc","clonedPath","amount","centerPoint","pathLength","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","cont","hasReloaded","copies","ceil","group","ix","reloadShapes","transformData","elems","op","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","comparePoints","buildShapeString","pathNodes","_o","shapeString","audioControllerFactory","AudioController","addAudio","audio","audios","pause","resume","setRate","rateValue","createAudio","assetPath","audioFactory","Howl","isPlaying","play","seek","playing","rate","setVolume","setAudioFactory","_volume","_updateVolume","mute","_isMuted","unmute","getVolume","volume","ImagePreloader","canvas","height","ctx","fillStyle","fillRect","proxyImage","ImagePreloaderFactory","loadAssets","cb","imagesLoadedCb","totalFootages","images","createFootageData","totalImages","_createImageData","setAssetsPath","assetsPath","setPath","loadedImages","loadedAssets","loadedFootages","loadedFootagesCount","destroy","getAsset","assetData","img","createImgData","getAssetsPath","crossOrigin","_imageLoaded","createImageData","testImageLoaded","setAttributeNS","_elementHelper","append","imageLoaded","footageLoaded","setCacheType","elementHelper","originalPath","imagePath","_footageLoaded","intervalId","setInterval","getBBox","clearInterval","footageData","featureSupport","maskType","filtersFactory","createFilter","filId","skipCoordinates","fil","createAlphaToLuminanceFilter","feColorMatrix","TextAnimatorProperty","textData","renderType","_hasMaskedPath","_frameId","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","sw","fc","fh","fs","fb","TextSelectorProp","getTextSelectorProp","LetterProps","TextProperty","keysIndex","canResize","minimumFontSize","currentData","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","of","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","searchProperty","completeTextData","searchProperties","maskManager","getMaskProperty","getMeasures","currentLength","currentPoint","pointInd","segmentInd","prevPoint","animators","matrixHelper","mHelper","renderedLettersCount","letters","pathInfo","tLength","pi","letterValue","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","rot","xPos","yPos","yOff","firstLine","initPathPos","initSegmentInd","initPointInd","currentLine","letterM","letterP","defaultPropsArray","animatorJustifyOffset","animatorFirstCharOffset","justifyOffsetMult","isNewLine","getMult","anIndexes","totalChars","line","extra","an","animatorOffset","add","tanAngle","atan","update","updated","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","text","charCode","charactersArray","shouldCombine","charAt","substr","newLineFlag","charData","fontManager","anchorGrouping","currentSize","currentPos","lineWidth","maxLineWidth","trackingOffset","boxHeight","currentHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","animatorData","letterData","based","indexes","rn","newInd","currentInd","updateDocumentData","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorPropFactory","_currentTextLength","textProperty","smoothness","easer","ne","xe","finalS","finalE","tot","sm","threshold","newCharsFlag","divisor","poolFactory","initialLength","_create","_release","pooling","double","cloned","shapeCollection","markerParser","_markers","markers","_marker","markerData","time","tm","duration","dr","cm","_","lines","keys","keysCount","trim","parsePayloadLines","__","BaseRenderer","SVGRenderer","animationItem","config","svgElement","ariaLabel","title","titleElement","titleId","description","descElement","descId","maskElement","layerElement","renderConfig","preserveAspectRatio","imagePreserveAspectRatio","contentVisibility","progressiveLoad","hideOnTransparent","viewBoxOnly","viewBoxSize","className","focusable","filterSize","pendingElements","destroyed","rendererType","CanvasRenderer","clearCanvas","context","dpr","wrapper","devicePixelRatio","currentGlobalAlpha","contextData","CVContextData","transformMat","HybridRenderer","threeDElements","camera","supports3d","MaskElement","rect","feMorph","filterID","properties","viewData","solidPath","currentMasks","layerId","maskRef","lastPath","expansor","expan","lastOperator","filterId","lastRadius","createLayerSolidPath","invRect","drawPath","maskedElement","addRenderableComponent","HierarchyElement","FrameElement","TransformElement","RenderableElement","RenderableDOMElement","ProcessedElement","SVGStyleData","level","lvl","hd","pElem","msElem","SVGShapeData","transformers","caches","lStr","SVGTransformData","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","checkLayers","num","ip","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","createFootage","AudioElement","FootageElement","buildAllItems","includeLayers","newLayers","setProjectInterface","pInterface","projectInterface","initItems","buildElementParenting","parentName","hierarchy","setAsParent","setHierarchy","addPendingElement","searchExtraCompositions","xt","initExpressions","registerComposition","setupGlobalData","animData","fontsContainer","getAssetData","imageLoader","imagePreloader","audioController","fr","compSize","NullElement","SVGShapeElement","SVGTextLottieElement","IImageElement","SVGCompElement","ISolidElement","configAnimation","maskId","updateContainerSize","appendElementInPos","setMatte","checkParenting","renderFrame","currentFrame","prepareFrame","getBaseElement","nextElement","insertBefore","hide","show","CVShapeElement","CVTextElement","CVImageElement","CVCompElement","CVSolidElement","ctxTransform","trProps","cProps","cTr","canvasContext","ctxOpacity","globalAlpha","cO","restore","save","actionFlag","cArrPos","duplicate","saved","savedOp","blendMode","popped","containerStyle","mozTransformOrigin","transformCanvas","isDashed","elementWidth","elementHeight","fillType","elementRel","animationRel","offsetHeight","par","beginPath","closePath","clip","clearRect","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","getThreeDContainerByPos","HShapeElement","HTextElement","HCameraElement","HImageElement","HCompElement","HSolidElement","startPos","endPos","perspectiveElem","createThreeDContainer","threeDContainerData","center","webkitTransform","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","svg","setup","cWidth","cHeight","webkitPerspective","perspective","floatingContainer","isFirstFrame","finalMat","finalTransform","mProp","getMaskelement","pathShapeValue","pathString","initHierarchy","_isParent","prepareProperties","isVisible","initTransform","_matMdf","_opMdf","ao","renderTransform","globalToLocal","transforms","ptNew","initRenderable","isInRange","hidden","isTransparent","renderableComponents","component","removeRenderableComponent","prepareRenderableFrame","checkLayerLimits","checkTransparency","renderRenderable","sourceRectAtTime","getLayerSize","initElement","initBaseData","initRendererElement","createContainerElements","createRenderableComponents","createContent","baseElement","renderElement","renderInnerContent","innerElem","destroyBaseElement","stops","setGradientData","setGradientOpacity","pathElement","stop","gradientId","gfill","gf","cst","opacityId","opFill","lc","lj","ml","ms","ost","SVGElementsRenderer","_identityMatrix","_matrixHelper","createRenderFunction","renderFill","renderGradient","renderGradientStroke","renderStroke","renderPath","renderContentTransform","styleData","itemData","pathStringTransformed","redraw","iterations","lLen","styleElem","ang","hasOpacity","attr2","attr1","cValues","oValues","dist","ShapeTransformManager","sequences","sequenceList","transform_key_count","CVShapeData","transformsManager","styledShapes","styledShape","addTransformSequence","trNodes","BaseElement","SVGBaseElement","IShapeElement","ITextElement","ICompElement","sourceRect","_isPlaying","_canPlay","_currentTime","_placeholder","textSpans","shapesData","stylesList","shapeModifiers","itemsData","processedElements","animatedContents","SVGTintFilter","filter","filterManager","matrixFilter","effectElements","feMerge","feMergeNode","SVGFillFilter","SVGGaussianBlurEffect","feGaussianBlur","SVGStrokeEffect","initialized","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","feOffset","feFlood","feComposite","originalNodeAdded","sequence","processSequence","processSequences","getNewKey","checkMasks","layerInterface","LayerExpressionInterface","registerMaskInterface","effectsInterface","EffectsExpressionInterface","createEffectsInterface","registerEffectsInterface","compInterface","CompExpressionInterface","shapeInterface","ShapeExpressionInterface","content","textInterface","TextExpressionInterface","setBlendMode","blendModeValue","bm","sr","effectsManager","EffectsManager","getType","matteElement","transformedElement","_sizeChanged","gg","maskGroup","maskGrouper","cp","clipId","cpGroup","layerElementParent","masker","feCTr","feFunc","alphaRect","ln","renderableEffectsManager","SVGEffects","addShapeToModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","searchProcessedElement","addProcessedElement","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","timeRemapped","setElements","getElements","destroyElements","pr","volumeValue","FootageInterface","getFootageData","textContainer","buildTextContents","textArray","textContents","currentTextContent","tSpan","usesGlyphs","cachedSpansLength","tElement","justify","textBox","bbox","renderedLetter","textSpan","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","setElementStyles","render","currentTransform","modifier","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","colorWhite","opacity","colorBlack","edgeMode","sigma","dimensions","initialize","groupPath","elemChildren","children","childNodes","removeAttribute","pathMasker","getTotalLength","dasharrayValue","units","color2","tableR","tableG","tableB","color1","color3","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","table","outputDelta","inputDelta","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","ef","filters","CVBaseElement","CVMaskElement","hasMasks","stroke","fill","currentRender","sWidth","fValue","CVEffects","HBaseElement","shapesContainer","currentBBox","textPaths","isMasked","pe","_prevMat","HEffects","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","newLength","currentSavedOp","set","createElements","globalCompositeOperation","hideElement","showElement","forceRealStack","imgW","imgH","imgRel","canvasRel","widthCrop","heightCrop","drawImage","moveTo","lineTo","bezierCurveTo","transformHelper","dashResetter","preTransforms","co","wi","da","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","strokeStyle","grd","lineCap","lineJoin","miterLimit","setLineDash","lineDashOffset","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","commands","pathArr","hasFill","hasStroke","lastFill","lastStroke","lastStrokeW","checkBlendMode","tg","matrixValue","transformedElementStyle","addEffects","backgroundColor","_createBaseContainerElements","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","item","boundingBox","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","bounds","shapeBoundingBox","xMax","right","yMax","bottom","tempBoundingBox","p3","b2ac","t2","calculateF","calculateBoundingBox","currentBoxContains","box","shapeStyle","shapeTransform","changed","compW","compH","tParent","tCont","tStyle","tSpanTranslation","innerElemStyle","textColor","strokeWidth","lineHeight","tContStyle","tContTranslation","svgStyle","translation","textPath","svgTransform","margin","Image","imageElem","perspectiveStyle","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","mRotationX","mRotationY","hasMatrixChanged","matValue","animationManager","registeredAnimations","playingAnimationsNum","_stopped","_isFrozen","registerAnimation","params","animItem","AnimationItem","setupAnimation","setParams","setSpeed","setDirection","togglePause","searchAnimations","standalone","div","animElements","getElementsByClassName","lenAnims","getElementsByTagName","resize","goToAndStop","isFrame","freeze","unfreeze","activate","getRegisteredAnimations","animations","removeElement","ev","isPaused","subtractPlayingCount","setData","addPlayingCount","nowTime","elapsedTime","advanceTime","first","currentRawFrame","frameMult","playSpeed","playDirection","playCount","autoplay","loop","animationID","timeCompleted","segmentPos","isSubframeEnabled","_idle","_completedLoop","onSetupError","onSegmentComplete","Expressions","animType","rendererSettings","parseInt","autoloadSegments","initialSegment","lastIndexOf","fileName","trigger","wrapperAttributes","attributes","getNamedItem","prerender","loadNextSegment","shift","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","updaFrameModifier","waitForFontsLoaded","triggerConfigError","gotoFrame","setSubframe","triggerRenderFrameError","setCurrentRawFrameValue","getMarkerData","markerName","marker","numValue","Number","isNaN","frameModifier","goToAndPlay","playSegments","_isComplete","nextValue","checkSegments","adjustSegment","setSegment","end","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onSegmentStart","onDestroy","getPath","getDuration","stackCount","registers","pushExpression","popExpression","registerExpressionProperty","expression","ExpressionManager","fetch","frames","$bm_isInstanceOfArray","isNumerable","tOfV","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","tOfB","lenB","sub","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","createPath","inTangents","outTangents","inVertexPoint","outVertexPoint","arrPlaceholder","initiateExpression","needsVelocity","_needsRandom","elemType","$bm_transform","effect","thisProperty","inPoint","valueAtTime","frameDuration","displayStartTime","outPoint","loopIn","loop_in","loopOut","loop_out","smooth","toWorld","fromWorld","fromComp","toComp","fromCompToSurface","rotation","anchorPoint","thisLayer","thisComp","velocityAtTime","scoped_bm_rt","expression_function","eval","numKeys","active","wiggle","freq","amp","lenWiggle","addedAmps","iWiggle","periods","loopInDuration","loopOutDuration","getVelocityAtTime","velocity","textIndex","textTotal","selectorValue","lookAt","elem1","elem2","fVec","easeOut","val1","val2","applyEase","easeIn","ease","lenKey","iKey","nearestKey","obKey","framesToTime","fps","timeToFrames","seedRandom","seedrandom","randSeed","substring","posterizeTime","framesPerSecond","hasParent","executeExpression","_value","frameExpressionId","expressionHelpers","searchExpressions","getSpeedAtTime","speed","_cachingAtTime","getStaticValueAtTime","setGroupProperty","propertyGroup","propertyGetProp","ShapePropertyConstructorFunction","KeyframedShapePropertyConstructorFunction","propertyGetShapeProp","durationFlag","cycleDuration","firstKeyFrame","ret","lastKeyFrame","initV","endV","current","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","sampleValue","sampleFrequency","ShapeExpressions","_transformCachingAtTime","positionX","positionY","positionZ","anchor","skewAxis","rotationZ","rotationY","rotationX","orientation","propertyIndex","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","trims","getExpressionValue","calculateExpression","isKeyframed","hasExpressions","ShapePathInterface","view","interfaceFunction","_propertyGroup","propertyGroupFactory","PropertyInterface","defineProperties","_name","mn","parentPropertyGroup","propertyName","interfaces","_interfaceFunction","iterateElements","numProperties","transformInterface","transformInterfaceFactory","cix","contentsInterfaceFactory","np","groupInterfaceFactory","ExpressionPropertyInterface","fillInterfaceFactory","_dashPropertyGroup","dashOb","addPropertyToDashOb","dash","strokeInterfaceFactory","start","trimInterfaceFactory","ellipseInterfaceFactory","outerRadius","outerRoundness","innerRoundness","innerRadius","starInterfaceFactory","rectInterfaceFactory","radius","roundedInterfaceFactory","repeaterInterfaceFactory","startPoint","endPoint","gradientFillInterfaceFactory","_sourceText","_thisLayerFunction","sourceText","stringValue","_prevValue","getMatrix","invertPoint","applyPoint","toWorldVec","fromWorldVec","sampleImage","anchorPointDescriptor","TransformExpressionInterface","anchor_point","startTime","source","MaskManagerInterface","effects","toWorldMat","dataInterface","dataInterfaceFactory","outlineInterface","currentProperty","currentPropertyName","propertyNameIndex","pixelAspect","numLayers","_thisFunction","xRotation","yRotation","xPosition","yPosition","zPosition","_px","_py","_pz","_transformFactory","_thisProjectFunction","compositions","effectsData","createGroupInterface","groupInterface","createValueInterface","enabled","en","expressionProperty","MaskInterface","_mask","_data","_masksInterfaces","defaultUnidimensionalValue","defaultMultidimensionalValue","expressionValue","completeProperty","arrValue","defaultGetter","valueProp","assign","speedAtTime","TextExpressionSelectorPropFactory","getValueProxy","total","propertyGetTextProp","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","effectItem","GroupEffect","eff","lottie","setLocationHref","setSubframeRendering","setIDPrefix","prefix","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","useWebWorker","__getFactory","version","scripts","myScript","define","amd","bodymovin","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","GenStateSuspendedStart","method","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","record","tryCatch","resultName","nextLoc","sent","_sent","dispatchException","abrupt","GenStateSuspendedYield","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","iter","skipTempReset","prev","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","CullFaceNone","CullFaceBack","CullFaceFront","PCFShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","NoToneMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipmapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipmapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","RGBA_BPTC_Format","SRGB8_ALPHA8_ASTC_4x4_Format","SRGB8_ALPHA8_ASTC_5x4_Format","SRGB8_ALPHA8_ASTC_5x5_Format","SRGB8_ALPHA8_ASTC_6x5_Format","SRGB8_ALPHA8_ASTC_6x6_Format","SRGB8_ALPHA8_ASTC_8x5_Format","SRGB8_ALPHA8_ASTC_8x6_Format","SRGB8_ALPHA8_ASTC_8x8_Format","SRGB8_ALPHA8_ASTC_10x5_Format","SRGB8_ALPHA8_ASTC_10x6_Format","SRGB8_ALPHA8_ASTC_10x8_Format","SRGB8_ALPHA8_ASTC_10x10_Format","SRGB8_ALPHA8_ASTC_12x10_Format","SRGB8_ALPHA8_ASTC_12x12_Format","LinearEncoding","sRGBEncoding","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","StaticDrawUsage","DynamicDrawUsage","GLSL3","EventDispatcher","_classCallCheck2","_createClass2","listener","_listeners","listeners","listenerArray","array","_lut","_seed","DEG2RAD","RAD2DEG","generateUUID","d0","d3","toUpperCase","euclideanModulo","lerp","isPowerOfTwo","ceilPowerOfTwo","log","LN2","floorPowerOfTwo","MathUtils","mapLinear","inverseLerp","damp","lambda","dt","exp","pingpong","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","seededRandom","degToRad","degrees","radToDeg","radians","setQuaternionFromProperEuler","order","c13","s13","c1_3","s1_3","c3_1","s3_1","Vector2","_Symbol$iterator","scalar","addVectors","subVectors","multiplyScalar","minVal","maxVal","divideScalar","distanceToSquared","dx","dy","alpha","attribute","getX","getY","_regenerator","_context2","Matrix3","isVector2","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","xAxis","yAxis","zAxis","setFromMatrix3Column","multiplyMatrices","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","t11","t12","t13","det","detInv","tmp","matrix4","setFromMatrix4","invert","transpose","cx","cy","theta","_i2","fromArray","arrayMax","Infinity","_i3","isMatrix3","_canvas","TYPED_ARRAYS","Int8Array","Uint16Array","Int32Array","Uint32Array","Float64Array","getTypedArray","buffer","ImageUtils","image","HTMLCanvasElement","ImageData","putImageData","toDataURL","textureId","Texture","_inherits2","_super","_createSuper","_this2","DEFAULT_IMAGE","mapping","DEFAULT_MAPPING","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","_assertThisInitialized2","uuid","mipmaps","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","userData","onUpdate","isRenderTargetTexture","setUvTransform","meta","isRootObject","textures","output","metadata","_i4","isDataTexture","serializeImage","dispatchEvent","uv","applyMatrix3","HTMLImageElement","ImageBitmap","getDataURL","isTexture","Vector4","_Symbol$iterator2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getZ","getW","_context3","WebGLRenderTarget","isVector4","_super2","_this3","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","dispose","_objectSpread","WebGLMultipleRenderTargets","isWebGLRenderTarget","_super3","_this4","_i5","_i6","il","_i7","WebGLMultisampleRenderTarget","isWebGLMultipleRenderTargets","_super4","_this5","ignoreDepthForMultisampleCopy","ignoreDepth","useRenderToTexture","useRenderbuffer","_get2","_getPrototypeOf2","Quaternion","isWebGLMultisampleRenderTarget","_x","_y","_z","_w","_onChangeCallback","quaternion","euler","isEuler","_order","axis","halfAngle","trace","_s2","_s3","vFrom","vTo","dot","EPSILON","step","angleTo","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","qb","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","qa","sqrt1u1","sqrtu1","u2","u3","qm","slerpQuaternions","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","tDir","x0","y0","z0","w0","w1","sqrSin","Vector3","isQuaternion","_Symbol$iterator3","multiplyVectors","applyQuaternion","_quaternion$4","setFromEuler","setFromAxisAngle","iy","iz","iw","applyMatrix4","matrixWorldInverse","projectionMatrix","projectionMatrixInverse","matrixWorld","crossVectors","denominator","lengthSq","planeNormal","_vector$c","projectOnVector","normal","dz","setFromSphericalCoords","phi","sinPhiRadius","setFromCylindricalCoords","setFromMatrixColumn","_context4","isVector3","Box3","minX","minY","minZ","maxX","maxY","maxZ","_i8","_i9","makeEmpty","_i10","expandByPoint","halfSize","_vector$b","expandByObject","isEmpty","vector","addScalar","updateWorldMatrix","geometry","computeBoundingBox","_box$3","union","_i11","sphere","clampPoint","plane","constant","triangle","getCenter","_center","_extents","_v0$2","_v1$7","_v2$3","_f0","_f1","_f2","satForAxes","_triangleNormal","getSize","_points","setFromPoints","isBox3","_testAxis","axes","extents","_i12","_box$2","_v1$6","_toFarthestPoint","_toPoint","Sphere","optionalCenter","maxRadiusSq","_i13","distanceTo","radiusSum","intersectsSphere","distanceToPoint","deltaLengthSq","expandByScalar","getMaxScaleOnAxis","missingRadiusHalf","_vector$a","_segCenter","_segDir","_diff","_edge1","_edge2","_normal$1","Ray","ray","at","directionDistance","distanceSqToPoint","optionalPointOnRay","optionalPointOnSegment","extDet","segExtent","a01","b0","sqrDist","invDet","tca","radius2","thc","distanceToPlane","distToPoint","tmin","tzmin","tzmax","invdirx","invdiry","invdirz","tmax","tymax","tymin","intersectBox","backfaceCulling","sign","DdN","DdQxE2","DdE1xQ","cross","QdN","transformDirection","Matrix4","n14","n24","n34","n41","n42","n43","n44","_v1$5","scaleZ","_ac","_ad","_bc","_bd","af","bf","cf","de","ce","df","_cf","_de","_ce","_df","_ae","_af","_be","_bf","ac","ad","bc","bd","compose","_zero","_one","eye","up","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","t14","scaleXSq","scaleYSq","scaleZSq","yx","zx","zy","wx","wy","wz","invSX","_m1$2","invSY","invSZ","setFromRotationMatrix","near","far","_i14","_i15","isMatrix4","_matrix$1","_quaternion$3","Euler","DefaultOrder","makeRotationFromQuaternion","newOrder","setFromQuaternion","optionalResult","Layers","RotationOrders","channel","_object3DId","_v1$4","_q1","_m1$1","_target","_position$3","_scale$2","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","_super5","_this6","DefaultUp","_onChange","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","updateMatrix","premultiply","decompose","multiply","rotateOnAxis","translateOnAxis","setFromMatrixPosition","isCamera","isLight","extractRotation","_i16","isObject3D","remove","_i17","_i18","getObjectByProperty","_i19","_i20","traverse","_i21","traverseVisible","traverseAncestors","force","_i22","updateMatrixWorld","updateParents","updateChildren","_i23","_shapes","skeletons","geometries","materials","serialize","library","toJSON","toArray","isInstancedMesh","instanceMatrix","instanceColor","isScene","background","isColor","environment","isMesh","isLine","isPoints","parameters","_i24","isSkinnedMesh","bindMode","bindMatrix","skeleton","material","uuids","_i25","_l","_i26","_i27","extractFromCache","recursive","_i28","child","_v0$1","_v1$3","_v2$2","_v3$1","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","i0","fromBufferAttribute","getNormal","setFromCoplanarPoints","getBarycoord","uv1","uv2","uv3","getUV","containsPoint","isFrontFacing","intersectsTriangle","d4","vc","addScaledVector","d5","d6","vb","va","denom","targetLengthSq","dot00","dot01","dot02","dot11","dot12","invDenom","materialId","Material","_super6","_this7","fog","blending","side","vertexColors","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaToCoverage","premultipliedAlpha","toneMapped","_alphaTest","onBeforeCompile","flatShading","isRoot","getHex","roughness","metalness","sheen","sheenColor","sheenRoughness","emissive","emissiveIntensity","specular","specularIntensity","specularColor","shininess","clearcoat","clearcoatRoughness","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","clearcoatNormalScale","map","matcap","alphaMap","lightMap","lightMapIntensity","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","specularIntensityMap","specularColorMap","envMap","combine","envMapIntensity","reflectivity","refractionRatio","gradientMap","transmission","transmissionMap","thickness","thicknessMap","attenuationDistance","attenuationColor","sizeAttenuation","linewidth","dashSize","gapSize","alphaTest","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","srcPlanes","dstPlanes","_i29","_colorKeywords","isMaterial","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","_hslA","_hslB","SRGBToLinear","LinearToSRGB","Color","setRGB","setHex","setStyle","handleAlpha","string","parseFloat","exec","components","setHSL","setColorName","copySRGBToLinear","copyLinearToSRGB","hue","lightness","saturation","delta","getHSL","normalized","MeshBasicMaterial","NAMES","_super7","_this8","setValues","_vector$9","isMeshBasicMaterial","_vector2$1","BufferAttribute","itemSize","usage","updateRange","index1","index2","_i30","colors","_i31","vectors","_i32","_i33","_i34","_i35","setXY","_i36","_l2","setXYZ","_i37","_i38","applyNormalMatrix","_i39","onUploadCallback","Int8BufferAttribute","isBufferAttribute","_super8","Uint8BufferAttribute","_super9","Uint8ClampedBufferAttribute","_super10","Int16BufferAttribute","_super11","Uint16BufferAttribute","_super12","Int32BufferAttribute","_super13","Uint32BufferAttribute","_super14","Float16BufferAttribute","_super15","Float32BufferAttribute","isFloat16BufferAttribute","_super16","Float64BufferAttribute","_super17","_id$1","_m1","_obj","_offset","_box$1","_boxMorphTargets","_vector$8","BufferGeometry","_super18","_this9","morphAttributes","morphTargetsRelative","groups","boundingSphere","drawRange","materialIndex","needsUpdate","tangent","getNormalMatrix","computeBoundingSphere","makeRotationX","makeRotationY","makeRotationZ","makeTranslation","makeScale","negate","_i40","morphAttributesPosition","isGLBufferAttribute","setFromBufferAttribute","_i41","morphAttribute","_i42","_i43","_il","_i44","_il2","_morphAttribute","jl","indices","positions","normals","uvs","nVertices","tangents","tan1","tan2","_i45","vA","vB","vC","uvA","uvB","uvC","sdir","tdir","_i46","isFinite","tmp2","_i47","_il3","_group","_start2","_j","_jl","handleVertex","positionAttribute","getAttribute","normalAttribute","_i48","pA","pB","pC","nA","nB","nC","ab","_i49","_il4","_i50","_il5","normalizeNormals","isBufferGeometry","attributeArray1","attribute2","attributeArray2","attributeOffset","_i51","_i52","convertBufferAttribute","array2","_i53","isInterleavedBufferAttribute","stride","geometry2","newAttribute","morphArray","_i54","_newAttribute","_i55","addGroup","_key","_key2","hasMorphAttributes","attributeArray","_i56","_attribute2","setIndex","_name2","_i57","_i58","_l3","_inverseMatrix$2","_ray$2","_sphere$3","_vA$1","_vB$1","_vC$1","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA$1","_uvB$1","_uvC$1","_intersectionPoint","_intersectionPointWorld","Mesh","_super19","_this10","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","morphTargets","raycaster","intersects","intersectsBox","morphPosition","_i59","groupMaterial","intersection","checkBufferGeometryIntersection","faceIndex","face","_i60","_il6","_a","_b","_c","_i61","_il7","_group2","_groupMaterial","_j2","_jl2","_i62","_il8","isGeometry","morphInfluences","_i63","influence","boneTransform","intersect","intersectTriangle","BoxGeometry","_super20","_this11","widthSegments","heightSegments","depthSegments","scope","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","_iy","_ix","cloneUniforms","mergeUniforms","uniforms","merged","_tmp","UniformsUtils","merge","ShaderMaterial","_super21","_this12","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","glslVersion","Camera","isShaderMaterial","_super22","_this13","PerspectiveCamera","_super23","_this14","fov","aspect","zoom","focus","filmGauge","filmOffset","updateProjectionMatrix","focalLength","vExtentSlope","getFilmHeight","fullWidth","fullHeight","offsetX","offsetY","getFilmWidth","makePerspective","CubeCamera","isPerspectiveCamera","_super24","renderTarget","_this15","isWebGLCubeRenderTarget","_possibleConstructorReturn2","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","scene","_this$children","_slicedToArray2","currentXrEnabled","xr","currentRenderTarget","getRenderTarget","setRenderTarget","CubeTexture","_super25","_this16","WebGLCubeRenderTarget","isCubeTexture","_super26","dummy","isInteger","_this17","_needsFlipEnvMap","shader","tEquirect","mesh","currentMinFilter","stencil","_i64","clear","_vector1","_vector2","_normalMatrix","Plane","setFromNormalAndCoplanarPoint","inverseNormalLength","startSign","endSign","intersectsPlane","optionalNormalMatrix","referencePoint","coplanarPoint","_sphere$2","isPlane","_vector$7","Frustum","planes","frustum","_i65","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","setComponents","sprite","negRadius","_i66","_i67","_i68","WebGLAnimation","isAnimating","animationLoop","requestId","onAnimationFrame","frame","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","deleteBuffer","bufferType","cached","bytesPerElement","elementSize","createBuffer","bindBuffer","bufferData","FLOAT","HALF_FLOAT","UNSIGNED_SHORT","SHORT","UNSIGNED_INT","INT","BYTE","UNSIGNED_BYTE","BYTES_PER_ELEMENT","bufferSubData","subarray","PlaneGeometry","_super27","_this18","width_half","height_half","segment_width","segment_height","_iy2","_ix2","ShaderChunk","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","alphatest_pars_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_physical_pars_fragment","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normal_pars_fragment","normal_pars_vertex","normal_vertex","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_pars_fragment","output_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","transmission_fragment","transmission_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_vert","background_frag","cube_vert","cube_frag","depth_vert","depth_frag","distanceRGBA_vert","distanceRGBA_frag","equirect_vert","equirect_frag","linedashed_vert","linedashed_frag","meshbasic_vert","meshbasic_frag","meshlambert_vert","meshlambert_frag","meshmatcap_vert","meshmatcap_frag","meshnormal_vert","meshnormal_frag","meshphong_vert","meshphong_frag","meshphysical_vert","meshphysical_frag","meshtoon_vert","meshtoon_frag","points_vert","points_frag","shadow_vert","shadow_frag","sprite_vert","sprite_frag","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","ior","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","directionalLightShadows","shadowBias","shadowNormalBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotShadowMap","spotShadowMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ltc_1","ltc_2","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","WebGLBackground","cubemaps","objects","planeMesh","boxMesh","clearColor","clearAlpha","currentBackground","currentBackgroundVersion","currentTonemapping","setClear","getClearColor","setClearColor","getClearAlpha","setClearAlpha","renderList","forceClear","session","getSession","environmentBlendMode","autoClear","autoClearColor","autoClearDepth","autoClearStencil","deleteAttribute","onBeforeRender","copyPosition","toneMapping","WebGLBindingStates","maxVertexAttributes","getParameter","MAX_VERTEX_ATTRIBS","extension","vaoAvailable","bindingStates","defaultState","createBindingState","currentState","bindVertexArrayObject","vao","bindVertexArray","bindVertexArrayOES","deleteVertexArrayObject","deleteVertexArray","deleteVertexArrayOES","newAttributes","enabledAttributes","attributeDivisors","_i69","program","initAttributes","_i70","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","_i71","disableVertexAttribArray","vertexAttribPointer","vertexAttribIPointer","resetDefaultState","updateBuffers","programMap","stateMap","createVertexArray","createVertexArrayOES","getBindingState","cachedAttributes","geometryAttributes","attributesNum","cachedAttribute","geometryAttribute","saveCache","ELEMENT_ARRAY_BUFFER","isInstancedBufferGeometry","programAttributes","getAttributes","materialDefaultAttributeValues","programAttribute","isInstancedInterleavedBuffer","_i72","locationSize","_maxInstanceCount","_i73","ARRAY_BUFFER","_i74","isInstancedBufferAttribute","_i75","_i76","_i77","_value2","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","setupVertexAttributes","geometryId","programId","releaseStatesOfGeometry","releaseStatesOfProgram","WebGLBufferRenderer","setMode","drawArrays","renderInstances","primcount","methodName","WebGLCapabilities","maxAnisotropy","getMaxPrecision","getShaderPrecisionFormat","VERTEX_SHADER","HIGH_FLOAT","FRAGMENT_SHADER","MEDIUM_FLOAT","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","has","logarithmicDepthBuffer","maxTextures","MAX_TEXTURE_IMAGE_UNITS","maxVertexTextures","MAX_VERTEX_TEXTURE_IMAGE_UNITS","maxTextureSize","MAX_TEXTURE_SIZE","maxCubemapSize","MAX_CUBE_MAP_TEXTURE_SIZE","maxAttributes","maxVertexUniforms","MAX_VERTEX_UNIFORM_VECTORS","maxVaryings","MAX_VARYING_VECTORS","maxFragmentUniforms","MAX_FRAGMENT_UNIFORM_VECTORS","vertexTextures","floatFragmentTextures","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","floatVertexTextures","maxSamples","MAX_SAMPLES","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","uniform","resetGlobalState","numPlanes","numIntersection","projectPlanes","skipTransform","nPlanes","dstArray","flatSize","viewMatrix","_i79","i4","enableLocalClipping","beginShadows","endShadows","setState","useCache","materialProperties","nGlobal","lGlobal","clippingState","_i78","WebGLCubeMaps","mapTextureMapping","onTextureDispose","cubemap","fromEquirectangularTexture","physical","sheenColorMap","sheenRoughnessMap","transmissionSamplerSize","transmissionSamplerMap","OrthographicCamera","_super28","_this19","scaleH","scaleW","makeOrthographic","RawShaderMaterial","isOrthographicCamera","_super29","_this20","SIZE_MAX","isRawShaderMaterial","EXTRA_LOD_SIGMA","TOTAL_LODS","LOD_MAX","ENCODINGS","_defineProperty2","_ENCODINGS","_flatCamera","_createPlanes2","_createPlanes","_lodPlanes","_sizeLods","_sigmas","_clearColor","_oldTarget","PHI","INV_PHI","_axisDirections","PMREMGenerator","weights","poleAxis","_renderer","_pingPongRenderTarget","_blurMaterial","latitudinal","dTheta","mipInt","_getCommonVertexShader","_getEncodings","_equirectShader","_cubemapShader","_compileMaterial","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","equirectangular","_fromTexture","_getCubemapShader","_getEquirectShader","_i80","outputTarget","_setViewport","_textureToCubeUV","_createRenderTarget","tmpMesh","compile","cubeCamera","upSign","forwardSign","originalAutoClear","backgroundMaterial","backgroundBox","useSolidColor","_i81","_setEncoding","_i82","lodIn","lodOut","pingPongRenderTarget","_halfBlur","targetIn","targetOut","sigmaRadians","blurMaterial","blurMesh","blurUniforms","pixels","radiansPerPixel","sigmaPixels","_i83","_x2","_i84","outputSize","lod","_i85","sizeLod","texelSize","positionSize","uvSize","faceIndexSize","inputEncoding","WebGLCubeUVMaps","cubeUVmaps","pmremGenerator","cubemapUV","isEquirectMap","isCubeMap","_i86","isCubeTextureComplete","fromEquirectangular","fromCubemap","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","memory","updateWireframeAttribute","geometryIndex","geometryPosition","_i88","_array","_i89","_l4","_a4","_b4","_c4","previousAttribute","_name3","_i87","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","programs","autoReset","instanceCount","TRIANGLES","LINES","LINE_STRIP","LINE_LOOP","POINTS","DataTexture2DArray","_super30","_this21","wrapR","numericalSort","absNumericalSort","denormalize","morph","WebGLMorphtargets","influencesList","morphTextures","workInfluences","_i90","objectInfluences","numberOfMorphTargets","hasMorphNormals","morphNormals","numberOfVertexData","vertexDataStride","_i91","morphTarget","morphNormal","morphInfluencesSum","_i92","morphBaseInfluence","getUniforms","setValue","influences","_i93","_i94","sort","_i95","MAX_SAFE_INTEGER","_morphTargets","_morphNormals","_morphInfluencesSum","_i96","_influence","_value3","hasAttribute","_morphBaseInfluence","WebGLObjects","updateMap","onInstancedMeshDispose","instancedMesh","buffergeometry","hasEventListener","isDataTexture2DArray","DataTexture3D","_super31","_this22","emptyTexture","isDataTexture3D","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","nBlocks","blockSize","firstElem","_i97","arraysEqual","_i98","copyArray","_i99","allocTexUnits","_i100","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueV1i","uniform1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","setValueV2ui","uniform2uiv","setValueV3ui","uniform3uiv","setValueV4ui","uniform4uiv","setValueT1","unit","safeSetTexture2D","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueT2DArray1","setTexture2DArray","setValueV1fArray","uniform1fv","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV1uiArray","uniform1uiv","setValueV2uiArray","setValueV3uiArray","setValueV4uiArray","setValueT1Array","_i101","setValueT3DArray","_i102","setValueT6Array","_i103","setValueT2DArrayArray","_i104","SingleUniform","activeInfo","getSingularSetter","PureArrayUniform","getPureArraySetter","StructuredUniform","seq","updateCache","_i105","RePathPart","addUniform","uniformObject","WebGLUniforms","getProgramParameter","ACTIVE_UNIFORMS","_i106","getActiveUniform","getUniformLocation","subscript","idIsIndex","matchEnd","match","WebGLShader","createShader","shaderSource","compileShader","setOptional","upload","_i107","seqWithValue","_i108","programIdCount","getEncodingComponents","getShaderErrors","getShaderParameter","COMPILE_STATUS","errors","getShaderInfoLog","_i109","addLineNumbers","getShaderSource","getTexelDecodingFunction","functionName","filterEmptyLine","replaceLightNums","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","deprecatedUnrollLoopPattern","unrollLoopPattern","unrollLoops","loopReplacer","deprecatedLoopReplacer","snippet","_i111","generatePrecision","precisionstring","WebGLProgram","cacheKey","prefixVertex","prefixFragment","cachedUniforms","shadowMapTypeDefine","shadowMapType","envMapTypeDefine","envMapMode","generateEnvMapTypeDefine","envMapModeDefine","generateEnvMapModeDefine","envMapBlendingDefine","generateEnvMapBlendingDefine","customExtensions","extensionDerivatives","envMapCubeUV","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","customDefines","_value4","generateDefines","createProgram","versionString","vertexGlsl","shaderName","instancing","instancingColor","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","vertexAlphas","vertexUvs","uvsVertexOnly","skinning","useVertexTexture","morphTargetsCount","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","toneMappingName","getToneMappingFunction","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","specularColorMapEncoding","sheenColorMapEncoding","lightMapEncoding","outputEncoding","depthPacking","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","haveDiagnostics","runnable","LINK_STATUS","vertexErrors","fragmentErrors","getError","VALIDATE_STATUS","diagnostics","deleteShader","ACTIVE_ATTRIBUTES","_i110","getActiveAttrib","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","getAttribLocation","fetchAttributeLocations","deleteProgram","usedTimes","_id","WebGLShaderCache","shaderCache","Map","materialCache","vertexShaderStage","_getShaderStage","fragmentShaderStage","materialShaders","_getShaderCacheForMaterial","_step","_iterator","_createForOfIteratorHelper","shaderStage","Set","stage","WebGLShaderStage","WebGLPrograms","cubeuvmaps","_programLayers","_customShaders","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","getTextureEncodingFromMap","getParameters","shadows","customVertexShaderID","customFragmentShaderID","isMeshStandardMaterial","bones","nVertexMatrices","getVertexShaderID","getFragmentShaderID","useAlphaTest","useClearcoat","isFogExp2","directional","spot","rectArea","hemi","shadowMap","customProgramCacheKey","getProgramCacheKey","disableAll","enable","acquireProgram","pl","preexistingProgram","releaseProgram","_i112","releaseShaderCache","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","transmissive","getNextRenderItem","renderItem","_i113","customOpaqueSort","customTransparentSort","WebGLRenderLists","lists","renderCallDepth","UniformsCache","light","halfWidth","halfHeight","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","shadowCache","hash","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","directionalShadow","spotShadow","rectAreaLTC1","rectAreaLTC2","pointShadow","_i114","vector3","matrix42","_i115","scaleFactor","_i116","_uniforms","_shadow","_shadowUniforms","_shadowUniforms2","intensity","isAmbientLight","isLightProbe","coefficients","isDirectionalLight","shadowUniforms","bias","normalBias","mapSize","isSpotLight","penumbra","isRectAreaLight","_uniforms2","isPointLight","_uniforms3","_shadow2","isHemisphereLight","_uniforms4","LTC_FLOAT_1","LTC_FLOAT_2","LTC_HALF_1","LTC_HALF_2","setupView","_i117","_uniforms5","_uniforms7","_uniforms8","_uniforms6","identity","WebGLRenderState","lightsArray","shadowsArray","setupLights","setupLightsView","pushLight","pushShadow","shadowLight","WebGLRenderStates","renderStates","renderState","_super32","_this23","isMeshDepthMaterial","_super33","_this24","vertex","isMeshDistanceMaterial","fragment","WebGLShadowMap","_objects","_capabilities","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterial","_distanceMaterial","_materialCache","_maxTextureSize","shadowMaterialVertical","VSM_SAMPLES","shadow_pass","resolution","shadowMaterialHorizontal","fullScreenTri","HORIZONTAL_PASS","fullScreenMesh","getDepthMaterial","keyB","materialsForVariant","customMaterial","customDistanceMaterial","customDepthMaterial","keyA","cachedMaterial","autoUpdate","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","_i118","shadowFrameExtents","getFrameExtents","viewportCount","isPointLightShadow","pars","mapPass","getViewportCount","vp","getViewport","updateMatrices","getFrustum","renderObject","shadowCamera","intersectsObject","kl","depthMaterial","renderBufferDirect","_depthMaterial2","_i119","blurSamples","WebGLState","colorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","currentDepthMask","currentDepthFunc","currentDepthClear","disable","DEPTH_TEST","depthMask","setFunc","NEVER","ALWAYS","LESS","LEQUAL","EQUAL","GEQUAL","GREATER","NOTEQUAL","clearDepth","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","STENCIL_TEST","stencilMask","setOp","stencilOp","clearStencil","enabledCapabilities","currentBoundFramebuffers","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","MAX_COMBINED_TEXTURE_IMAGE_UNITS","lineWidthAvailable","glVersion","VERSION","currentTextureSlot","currentBoundTextures","scissorParam","SCISSOR_BOX","viewportParam","VIEWPORT","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","_i120","texImage2D","RGBA","emptyTextures","TEXTURE_2D","TEXTURE_CUBE_MAP","TEXTURE_CUBE_MAP_POSITIVE_X","setFlipSided","setCullFace","CULL_FACE","_equationToGL","FUNC_ADD","FUNC_SUBTRACT","FUNC_REVERSE_SUBTRACT","equationToGL","factorToGL","MIN","MAX","MIN_EXT","MAX_EXT","_factorToGL","ZERO","ONE","SRC_COLOR","SRC_ALPHA","SRC_ALPHA_SATURATE","DST_COLOR","DST_ALPHA","ONE_MINUS_SRC_COLOR","ONE_MINUS_SRC_ALPHA","ONE_MINUS_DST_COLOR","ONE_MINUS_DST_ALPHA","BLEND","blendEquationSeparate","blendFuncSeparate","blendFunc","frontFace","CW","CCW","cullFace","BACK","FRONT","FRONT_AND_BACK","setPolygonOffset","factor","POLYGON_OFFSET_FILL","activeTexture","webglSlot","TEXTURE0","bindFramebuffer","framebuffer","DRAW_FRAMEBUFFER","FRAMEBUFFER","useProgram","setMaterial","frontFaceCW","SAMPLE_ALPHA_TO_COVERAGE","setLineWidth","SCISSOR_TEST","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","texImage3D","texStorage2D","texStorage3D","texSubImage2D","texSubImage3D","compressedTexSubImage2D","KEEP","READ_FRAMEBUFFER","WebGLTextures","_gl","utils","_filterToGL","MultisampledRenderToTextureExtension","_videoTextures","useOffscreenCanvas","OffscreenCanvas","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","isPowerOfTwo$1","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","getInternalFormat","internalFormatName","glFormat","glType","RED","R32F","R16F","R8","RGB","RGB32F","RGB16F","RGB8","RGBA32F","RGBA16F","SRGB8_ALPHA8","RGBA8","getMipLevels","isFramebufferTexture","log2","isCompressedTexture","filterFallback","LINEAR","textureProperties","__webglInit","deleteTexture","__webglTexture","isVideoTexture","onRenderTargetDispose","renderTargetProperties","_i121","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","_i122","attachmentProperties","textureUnits","setTexture2D","slot","__version","uploadTexture","setTextureCube","uploadCubeTexture","initTexture","pixelStorei","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_ALIGNMENT","UNPACK_COLORSPACE_CONVERSION_WEBGL","NONE","isCompressed","cubeImage","_i126","convert","glInternalFormat","useTexStorage","allocateMemory","levels","setTextureParameters","_i127","mipmap","_i128","_j3","mipmapImage","_j4","_mipmap2","_wrappingToGL","REPEAT","CLAMP_TO_EDGE","MIRRORED_REPEAT","wrappingToGL","filterToGL","NEAREST_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_NEAREST","LINEAR_MIPMAP_LINEAR","textureType","TEXTURE_WRAP_S","TEXTURE_WRAP_T","TEXTURE_3D","TEXTURE_2D_ARRAY","TEXTURE_WRAP_R","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","isDepthTexture","DEPTH_COMPONENT","DEPTH_COMPONENT32F","DEPTH_COMPONENT24","DEPTH24_STENCIL8","DEPTH_COMPONENT16","DEPTH_STENCIL","_i123","_i124","_il9","_i125","_il10","setupFrameBufferTexture","attachment","textureTarget","__hasExternalTextures","framebufferTexture2DMultisampleEXT","getRenderTargetSamples","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","_glInternalFormat","bindRenderbuffer","RENDERBUFFER","renderbufferStorageMultisampleEXT","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","DEPTH_ATTACHMENT","_samples","DEPTH_STENCIL_ATTACHMENT","_samples2","setupDepthRenderbuffer","isCube","__autoAllocateDepthBuffer","setupDepthTexture","webglDepthTexture","_i129","createRenderbuffer","warnedTexture2D","warnedTextureCube","textureUnit","resetTextureUnits","rebindTextures","colorTexture","COLOR_ATTACHMENT0","setupRenderTarget","isMultipleRenderTargets","isRenderTarget3D","_i130","createFramebuffer","_i131","_i132","_textures","_i133","_il11","_attachmentProperties","glTextureType","updateRenderTargetMipmap","_i134","updateMultisampleRenderTarget","invalidationArray","depthStyle","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","invalidateFramebuffer","blitFramebuffer","WebGLUtils","UNSIGNED_SHORT_4_4_4_4","UNSIGNED_SHORT_5_5_5_1","UNSIGNED_SHORT_5_6_5","HALF_FLOAT_OES","ALPHA","LUMINANCE","LUMINANCE_ALPHA","RED_INTEGER","RG","RG_INTEGER","RGB_INTEGER","RGBA_INTEGER","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGB8_ETC2","COMPRESSED_RGBA8_ETC2_EAC","UNSIGNED_INT_24_8","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","_super34","_this25","cameras","Group","isArrayCamera","_super35","_this26","_moveEvent","isGroup","WebXRController","_targetRay","_grip","_hand","joints","inputState","pinching","hasLinearVelocity","linearVelocity","hasAngularVelocity","angularVelocity","inputSource","referenceSpace","inputPose","gripPose","handPose","targetRay","grip","hand","visibilityState","getPose","targetRaySpace","_step2","_iterator2","_joint","inputjoint","jointPose","getJointPose","joint","jointName","jointRadius","indexTip","thumbTip","distanceToPinch","handedness","gripSpace","DepthTexture","_super36","_this27","WebXRManager","_super37","_this28","framebufferScaleFactor","referenceSpaceType","hasMultisampledRenderToTexture","pose","glBinding","glProjLayer","glBaseLayer","xrFrame","getContextAttributes","initialRenderTarget","newRenderTarget","controllers","inputSourcesMap","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","onSessionEvent","controller","onSessionEnd","disconnect","isPresenting","onInputSourcesChange","inputSources","_i135","_i136","removed","_i137","added","_inputSource","_controller","cameraAutoUpdate","getController","getTargetRaySpace","getControllerGrip","getGripSpace","getHand","getHandSpace","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","getBaseLayer","getBinding","getFrame","setSession","_ref","_asyncToGenerator2","_callee","depthFormat","depthType","projectionlayerInit","_context5","xrCompatible","makeXRCompatible","layerInit","antialias","XRWebGLLayer","updateRenderState","baseLayer","framebufferWidth","framebufferHeight","glDepthFormat","colorFormat","XRWebGLBinding","createProjectionLayer","textureWidth","textureHeight","ignoreDepthValues","setFoveation","requestReferenceSpace","_x3","cameraLPos","cameraRPos","updateCamera","depthNear","depthFar","_i138","ipd","projL","topFov","bottomFov","_i139","projR","leftFov","rightFov","xOffset","zOffset","translateX","translateZ","near2","far2","getCamera","getFoveation","fixedFoveation","foveation","onAnimationFrameCallback","getViewerPose","views","cameraVRNeedsUpdate","setRenderTargetFramebuffer","_i140","glSubImage","getViewSubImage","setRenderTargetTextures","depthStencilTexture","_i141","WebGLMaterials","refreshUniformsCommon","uvScaleMap","uv2ScaleMap","refreshUniformsStandard","refreshFogUniforms","isFog","density","refreshMaterialUniforms","pixelRatio","transmissionRenderTarget","isMeshLambertMaterial","isMeshToonMaterial","isMeshPhongMaterial","isMeshPhysicalMaterial","isMeshMatcapMaterial","isMeshNormalMaterial","isLineBasicMaterial","isLineDashedMaterial","isPointsMaterial","isSpriteMaterial","isShadowMaterial","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","currentRenderList","currentRenderState","renderListStack","renderStateStack","_this","domElement","sortObjects","toneMappingExposure","_isContextLost","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentMaterialId","_currentCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_currentDrawBuffers","_clippingEnabled","_localClippingEnabled","_transmissionRenderTarget","_projScreenMatrix","_vector3","_emptyScene","overrideMaterial","getTargetPixelRatio","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","contextNames","contextAttributes","_i142","contextName","onContextLost","onContextRestore","isWebGL1Renderer","rangeMin","rangeMax","message","initGLContext","preventDefault","infoAutoReset","shadowMapAutoUpdate","shadowMapNeedsUpdate","onMaterialDispose","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","setSize","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","getCurrentViewport","getScissor","setScissor","getScissorTest","_boolean","setOpaqueSort","setTransparentSort","bits","onXRSessionStart","onXRSessionEnd","needsProgramChange","needsLights","lightsStateVersion","getProgram","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","uCamPos","cameraPosition","boneTexture","computeBoneTexture","boneTextureSize","markUniformsLightsNeedsUpdate","uniformsList","setProgram","rangeFactor","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","_i143","renderScene","opaqueObjects","currentToneMapping","transmissiveObjects","transparentObjects","needsAntialias","renderObjects","_i147","onAfterRender","programCacheKey","updateCommonMaterialProperties","onBuild","progUniforms","setFromProjectionMatrix","projectObject","isLOD","intersectsSprite","_geometry2","_material","_i145","_i146","_l5","_i144","camera2","defaultFramebuffer","__useDefaultFramebuffer","useDefaultFramebuffer","_textures2","_i148","drawBuffersWEBGL","_textureProperties","framebufferTextureLayer","readRenderTargetPixels","activeCubeFaceIndex","textureFormat","IMPLEMENTATION_COLOR_READ_FORMAT","halfFloatSupportedByExt","IMPLEMENTATION_COLOR_READ_TYPE","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","readPixels","_framebuffer","copyFramebufferToTexture","levelScale","copyTexSubImage2D","copyTextureToTexture","srcTexture","dstTexture","copyTextureToTexture3D","sourceBox","glTarget","unpackRowLen","UNPACK_ROW_LENGTH","unpackImageHeight","UNPACK_IMAGE_HEIGHT","unpackSkipPixels","UNPACK_SKIP_PIXELS","unpackSkipRows","UNPACK_SKIP_ROWS","unpackSkipImages","UNPACK_SKIP_IMAGES","compressedTexSubImage3D","resetState","__THREE_DEVTOOLS__","CustomEvent","detail","isWebGLRenderer","_geometry","WebGL1Renderer","_super38","FogExp2","Fog","Scene","_super39","_this29","InterleavedBuffer","_i149","arrayBuffers","_uuid","ib","setUsage","_vector$6","isInterleavedBuffer","InterleavedBufferAttribute","interleavedBuffer","_i150","_i151","_i152","interleavedBuffers","_i153","_i154","_super40","_this30","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA","_vB","_vC","_uvA","_uvB","_uvC","Sprite","_super41","_this31","float32Array","setFromMatrixScale","transformVertex","vertexPosition","mvPosition","_v1$2","_v2$1","LOD","_super42","_this32","_currentLevel","_i155","addLevel","_i156","getObjectForDistance","raycast","_i157","_i158","_basePosition","_skinIndex","_skinWeight","_vector$5","_matrix","SkinnedMesh","_super43","_this33","bindMatrixInverse","calculateInverses","skinWeight","_i159","manhattanLength","setXYZW","skinIndex","_i160","boneIndex","getComponent","boneInverses","Bone","_super44","_this34","DataTexture","isBone","_super45","_this35","_offsetMatrix","Skeleton","boneMatrices","_i161","_i162","inverse","_i163","bone","_i164","_il12","_bone","_i165","_i166","json","_i167","_i168","boneInverse","InstancedBufferAttribute","_super46","_this36","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","_super47","_this37","raycastTimes","instanceId","getMatrixAt","_i169","_super48","_this38","linecap","linejoin","_start$1","_end$1","_inverseMatrix$1","_ray$1","_sphere$1","Line","_super49","_this39","lineDistances","_i170","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","_i171","distanceSqToSegment","_distance","_i172","_l6","_start","_end","LineSegments","_super50","_this40","_i173","LineLoop","_super51","_this41","_super52","_this42","_inverseMatrix","_ray","_sphere","_position$2","Points","_super53","_this43","_i174","testPoint","_i175","rayPointDistanceSq","intersectPoint","closestPointToPoint","distanceToRay","VideoTexture","_super54","video","_this44","requestVideoFrameCallback","updateVideo","HAVE_CURRENT_DATA","FramebufferTexture","_super55","_this45","CompressedTexture","_super56","_this46","CanvasTexture","_super57","_this47","CircleGeometry","isCanvasTexture","_super58","_this48","thetaStart","thetaLength","_i176","_i177","CylinderGeometry","_super59","_this49","radiusTop","radiusBottom","radialSegments","openEnded","indexArray","slope","indexRow","sinTheta","cosTheta","_x4","_y2","generateCap","centerIndexStart","centerIndexEnd","_x5","_x6","_i178","ConeGeometry","_CylinderGeometry","_super60","_this50","PolyhedronGeometry","_super61","_this51","vertexBuffer","uvBuffer","_i179","getVertexByIndex","_j5","_i181","rows","bj","aj","_i180","cols","subdivideFace","pushVertex","applyRadius","_i182","_i183","azimuth","inclination","centroid","_i185","azi","correctUV","_i184","computeVertexNormals","details","DodecahedronGeometry","_super62","_this52","_v0","_v1$1","_normal","_triangle","EdgesGeometry","_super63","_this53","thresholdAngle","index0","thresholdDot","indexAttr","getIndex","positionAttr","indexCount","indexArr","vertKeys","hashes","edgeData","_i186","jNext","vecHash0","vecHash1","reverseHash","_edgeData$key","Curve","arcLengthDivisions","optionalTarget","getUtoTmapping","getPoint","divisions","getPointAt","getLengths","cacheArcLengths","last","comparison","arcLengths","targetArcLength","lengthBefore","getTangent","binormals","_i187","getTangentAt","MAX_VALUE","_i188","makeRotationAxis","_theta","_i189","EllipseCurve","_super64","_this54","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","twoPi","deltaAngle","samePoints","ArcCurve","isEllipseCurve","_super65","aRadius","_this55","CubicPoly","c0","initCatmullRom","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","isArcCurve","CatmullRomCurve3","_super66","_this56","curveType","intPoint","_i190","_i191","_i192","CatmullRom","QuadraticBezier","CubicBezier","isCatmullRomCurve3","CubicBezierCurve","_super67","_this57","v3","CubicBezierCurve3","isCubicBezierCurve","_super68","_this58","LineCurve","isCubicBezierCurve3","_super69","_this59","LineCurve3","isLineCurve","_super70","_this60","isLineCurve3","QuadraticBezierCurve","_super71","_this61","QuadraticBezierCurve3","isQuadraticBezierCurve","_super72","_this62","SplineCurve","isQuadraticBezierCurve3","_super73","_this63","_i193","_i194","_i195","Curves","isSplineCurve","CurvePath","_super74","_this64","curves","autoClose","curve","diff","getLength","curveLengths","getCurveLengths","lens","cacheLengths","sums","_i196","_i197","_i198","getPoints","_i199","_i200","_i201","fromJSON","Path","_super75","_this65","_i202","aCPx","aCPy","aCP1x","aCP1y","aCP2x","aCP2y","npts","absarc","absellipse","firstPoint","Shape","_Path","_super76","_this66","holes","holesPts","_i203","getPointsHoles","_i204","hole","_i205","_i206","Earcut","holeIndices","invSize","dim","hasHoles","outerLen","outerNode","linkedList","queue","steiner","leftmost","getLeftmost","compareX","hx","hy","mx","my","tanMin","pointInTriangle","locallyInside","area","sectorContainsSector","findHoleBridge","splitPolygon","filterPoints","eliminateHole","eliminateHoles","_i207","earcutLinked","clockwise","_i208","signedArea","insertNode","removeNode","again","ear","indexCurve","zOrder","prevZ","nextZ","sortLinked","tail","numMerges","pSize","qSize","inSize","minTX","minTY","maxTX","maxTY","isEarHashed","isEar","cureLocalIntersections","intersectsPolygon","inside","middleInside","isValidDiagonal","splitEarcut","q1","q2","o3","o4","onSegment","Node","bp","ShapeUtils","contour","faces","holeIndex","removeDupEndPts","addContour","_i209","_i210","_i211","ExtrudeGeometry","_super77","_this67","verticesArray","uvArray","_i212","placeholder","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","extrudePts","splineTube","binormal","position2","extrudeByPath","getSpacedPoints","computeFrenetFrames","shapePoints","extractPoints","isClockWise","hl","ahole","triangulateShape","_h","_hl","_ahole","scalePt2","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","sf","v_trans_lensq","v_trans_x","v_trans_y","shrink_by","direction_eq","contourMovements","_i213","oneHoleMovements","holesMovements","verticesMovements","_h2","_hl2","_ahole2","_i214","_il13","_j6","_k","_bs","_i215","_il14","vert","_h3","_hl3","_ahole3","_i216","_il15","_vert","bs","_i217","_vert2","_i218","_vert3","_b5","_z2","_bs2","_i219","_il16","_vert4","_h4","_hl4","_ahole4","_i220","_il17","_vert5","sidewalls","layeroffset","_j7","_k2","_s4","sl","slen1","slen2","nextIndex","addVertex","addUV","generateSideWallUV","f3","generateTopUV","vector2","_i221","_i222","_face","_i223","_face2","_i224","_face3","buildLidFaces","_h5","_hl5","_ahole5","buildSideFaces","_i225","geometryShapes","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","IcosahedronGeometry","_super78","_this68","LatheGeometry","_super79","_this69","phiStart","phiLength","initNormals","inverseSegments","curNormal","prevNormal","_i226","_j8","_i227","_j9","OctahedronGeometry","_super80","_this70","RingGeometry","_super81","_this71","thetaSegments","phiSegments","radiusStep","_i228","_j10","thetaSegmentLevel","_i229","_segment","ShapeGeometry","_super82","_this72","_i230","indexOffset","shapeVertices","shapeHoles","_i231","shapeHole","_i232","_l7","_shapeHole","_i233","_l8","_vertex","_i234","_l9","_i235","SphereGeometry","_super83","_this73","thetaEnd","grid","verticesRow","uOffset","_iy3","_ix3","TetrahedronGeometry","_super84","_this74","TorusGeometry","_super85","_this75","tube","tubularSegments","arc","_i236","_j11","_i237","TorusKnotGeometry","_super86","_this76","P1","P2","B","T","N","_i238","calculatePositionOnCurve","_j12","_i239","cu","su","quOverP","cs","TubeGeometry","_super87","_this77","P","_i240","generateSegment","_i242","_i241","WireframeGeometry","_super88","_this78","ol","_i243","isUniqueEdge","_position2","_i244","_l10","_j13","_index2","hash1","hash2","Geometries","BoxBufferGeometry","CircleBufferGeometry","ConeBufferGeometry","CylinderBufferGeometry","DodecahedronBufferGeometry","ExtrudeBufferGeometry","IcosahedronBufferGeometry","LatheBufferGeometry","OctahedronBufferGeometry","PlaneBufferGeometry","PolyhedronBufferGeometry","RingBufferGeometry","ShapeBufferGeometry","SphereBufferGeometry","TetrahedronBufferGeometry","TorusBufferGeometry","TorusKnotBufferGeometry","TubeBufferGeometry","_super89","_this79","_super90","_this80","STANDARD","_super91","_this81","PHYSICAL","_sheen","_clearcoat","_transmission","_super92","_this82","_super93","_this83","TOON","_super94","_this84","_super95","_this85","_super96","_this86","MATCAP","_super97","_this87","Materials","AnimationUtils","arraySlice","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","_i245","sortedArray","nValues","_i246","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","tracks","_i247","track","valueSize","getValueSize","minStartTime","_i248","_i249","resetDuration","makeClipAdditive","targetClip","referenceFrame","referenceClip","numTracks","referenceTime","_i250","referenceTrack","referenceTrackType","ValueTypeName","targetTrack","find","_endIndex2","referenceOffset","referenceValueSize","targetOffset","createInterpolant","isInterpolantFactoryMethodGLTFCubicSpline","targetValueSize","referenceValue","numTimes","startIndex","_startIndex","_startIndex2","interpolant","evaluate","resultBuffer","valueStart","multiplyQuaternionsFlat","valueEnd","_loop","Interpolant","parameterPositions","sampleValues","sampleSize","_cachedIndex","settings","DefaultSettings_","pp","validate_interval","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","_giveUpAt","beforeStart_","mid","intervalChanged_","interpolate_","_i251","CubicInterpolant","copySampleValue_","_super98","_this88","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","getSettings_","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","_i252","LinearInterpolant","_super99","offset1","offset0","weight1","weight0","_i253","DiscreteInterpolant","_super100","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","factoryMethod","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","timeOffset","_i254","timeScale","_i255","nKeys","valid","prevTime","_i256","_i257","_value5","smoothInterpolation","getInterpolation","writeIndex","_i258","keep","offsetP","offsetN","_value6","readOffset","writeOffset","_j14","_readOffset","_writeOffset","_j15","trackType","BooleanKeyframeTrack","_super101","ColorKeyframeTrack","_super102","NumberKeyframeTrack","_super103","QuaternionLinearInterpolant","_super104","slerpFlat","QuaternionKeyframeTrack","_super105","StringKeyframeTrack","_super106","VectorKeyframeTrack","_super107","AnimationClip","_i259","_i260","_i261","validate","_i262","optimize","_i263","jsonTracks","frameTime","_i264","typeName","getTrackTypeForValueTypeName","parseKeyframeTrack","clipTracks","_i265","morphTargetSequence","noLoop","numMorphTargets","_i266","objectOrClipArray","clipArray","_i267","animationToMorphTargets","pattern","_i268","animationMorphTargets","parts","_name4","clips","CreateFromMorphTargetSequence","addNonemptyTrack","trackName","animationKeys","destTracks","clipName","hierarchyTracks","morphTargetName","morphTargetNames","_m","animationKey","boneName","Cache","files","file","LoadingManager","onLoad","onProgress","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","_i269","DefaultLoadingManager","Loader","manager","withCredentials","resourcePath","requestHeader","loading","FileLoader","_super108","req","_this89","Request","headers","Headers","credentials","statusText","ReadableStream","getReader","reader","contentLength","lengthComputable","stream","readData","read","_ref2","close","byteLength","ProgressEvent","_i270","enqueue","Response","arrayBuffer","DOMParser","parseFromString","mimeType","_i271","_i272","AnimationLoader","_super109","setRequestHeader","setWithCredentials","_i273","CompressedTextureLoader","_super110","setResponseType","_i274","texDatas","mipmapCount","loadTexture","isCubemap","_i275","ImageLoader","_super111","onImageLoad","removeEventListeners","onImageError","CubeTextureLoader","_super112","urls","setCrossOrigin","_i276","DataTextureLoader","_super113","texData","TextureLoader","_super114","Light","_super115","_this90","HemisphereLight","_super116","_this91","_projScreenMatrix$1","_lightPositionWorld$1","_lookTarget$1","LightShadow","_frameExtents","_viewportCount","_viewports","shadowMatrix","viewportIndex","SpotLightShadow","_super117","_this92","SpotLight","isSpotLightShadow","_super118","_this93","power","_lightPositionWorld","_lookTarget","PointLightShadow","_super119","_this94","_cubeDirections","_cubeUps","PointLight","_super120","_this95","DirectionalLightShadow","_super121","DirectionalLight","isDirectionalLightShadow","_super122","_this96","AmbientLight","_super123","_this97","RectAreaLight","_super124","_this98","SphericalHarmonics3","_i277","_i278","_i279","coeff","_i280","_i281","_i282","_i283","_i284","_i285","_i286","shBasis","LightProbe","isSphericalHarmonics3","_super125","_this99","MaterialLoader","_super126","_this100","getTexture","shading","LoaderUtils","TextDecoder","decode","_i287","escape","InstancedBufferGeometry","_super127","_this101","BufferGeometryLoader","_super128","interleavedBufferMap","arrayBufferMap","getInterleavedBuffer","getArrayBuffer","typedArray","_typedArray","bufferAttribute","_key3","_i288","_typedArray2","_attribute3","_bufferAttribute","_interleavedBuffer","drawcalls","offsets","_i289","ObjectLoader","_parseImagesAsync","_parseAsync","_loadAsync","_super129","extractUrlBase","_callee2","_context6","loadAsync","parseAsync","_x7","_x8","parseAnimations","parseShapes","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseSkeletons","bindSkeletons","hasImages","_callee3","_context7","parseImagesAsync","_x9","_i290","_i291","bufferGeometryLoader","_i292","setTextures","_i293","_i294","deserializeImage","_i295","deserializedImage","_deserializedImage","_callee5","_deserializeImage","_i296","_deserializedImage2","_context9","_callee4","_context8","_url","_x11","currentUrl","_x10","parseConstant","_i297","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","_i298","_i299","objectAnimations","_i300","setResourcePath","UVMapping","ImageBitmapLoader","_super130","_this102","createImageBitmap","fetchOptions","res","colorSpaceConversion","imageBitmap","AudioContext","isImageBitmapLoader","webkitAudioContext","AudioLoader","_super131","bufferCopy","decodeAudioData","audioBuffer","HemisphereLightProbe","_super132","_this103","sky","ground","AmbientLightProbe","isHemisphereLightProbe","_super133","_this104","_eyeRight","isAmbientLightProbe","_eyeLeft","_projectionMatrix","StereoCamera","eyeSep","_cache","eyeSepOnProjection","ymax","xmin","xmax","eyeSepHalf","Clock","autoStart","oldTime","running","getElapsedTime","getDelta","newTime","performance","_position$1","_quaternion$1","_scale$1","_orientation$1","AudioListener","_super134","_this105","gain","createGain","connect","timeDelta","_clock","setTargetAtTime","linearRampToValueAtTime","forwardX","forwardY","forwardZ","upX","upY","upZ","setPosition","setOrientation","Audio","_super135","_this106","getInput","detune","loopStart","loopEnd","playbackRate","hasPlaybackControl","sourceType","_startedAt","_progress","_connected","audioNode","mediaElement","createMediaElementSource","mediaStream","createMediaStreamSource","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","_i301","getOutput","_i302","getFilters","setFilters","_position","_quaternion","_scale","_orientation","PositionalAudio","_super136","_this107","panner","createPanner","panningModel","refDistance","rolloffFactor","distanceModel","maxDistance","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","fftSize","analyser","createAnalyser","frequencyBinCount","getByteFrequencyData","getFrequencyData","_i303","PropertyMixer","binding","mixFunction","mixFunctionAdditive","setIdentity","_slerp","_slerpAdditive","_setAdditiveIdentityQuaternion","_workIndex","_select","_setAdditiveIdentityOther","_lerp","_lerpAdditive","_setAdditiveIdentityNumeric","_mixBufferRegion","_mixBufferRegionAdditive","_setIdentity","_origIndex","_addIndex","cumulativeWeight","cumulativeWeightAdditive","useCount","referenceCount","accuIndex","currentWeight","_i304","originalValueOffset","weightAdditive","_i305","_i306","_i307","targetIndex","_i308","_i309","workOffset","_i310","_i311","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","_i312","_i313","_i314","unbind","rootNode","findNode","nodeName","_getValue_unbound","_setValue_unbound","targetObject","resolvedProperty","_i315","dest","_i316","_i317","_i318","targetArray","sourceArray","objectName","_getValue_unavailable","_setValue_unavailable","objectIndex","_i319","nodeProperty","versioning","Versioning","None","bindingType","NeedsUpdate","MatrixWorldNeedsUpdate","BindingType","Direct","ArrayElement","HasFromToArray","EntireArray","GetterByBindingType","SetterByBindingTypeAndVersioning","isAnimationObjectGroup","matches","results","lastDot","getBoneByName","subTreeNode","searchNodeSubtree","_i320","childNode","AnimationObjectGroup","_getValue_direct","_getValue_array","_getValue_arrayElement","_getValue_toArray","_setValue_direct","_setValue_direct_setNeedsUpdate","_setValue_direct_setMatrixWorldNeedsUpdate","_setValue_array","_setValue_array_setNeedsUpdate","_setValue_array_setMatrixWorldNeedsUpdate","_setValue_arrayElement","_setValue_arrayElement_setNeedsUpdate","_setValue_arrayElement_setMatrixWorldNeedsUpdate","_setValue_fromArray","_setValue_fromArray_setNeedsUpdate","_setValue_fromArray_setMatrixWorldNeedsUpdate","_indicesByUUID","_i321","_paths","_parsedPaths","_bindingsIndicesByPath","stats","inUse","bindingsPerObject","indicesByUUID","parsedPaths","nBindings","knownObject","nObjects","nCachedObjects","_i322","firstActiveIndex","lastCachedObject","_j16","_m2","bindingsForPath","lastCached","_i323","lastCachedIndex","firstActiveObject","firstActive","_i324","lastObject","_lastIndex","_lastObject","_j17","_m3","_bindingsForPath","indicesByPath","_i325","lastBindingsIndex","lastBindings","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","_i326","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","_isActiveAction","_scheduleFading","fadeOutAction","warp","fadeOutDuration","endStartRatio","fadeOut","fadeIn","fadeInDuration","fadeInAction","crossFadeFrom","weightInterpolant","_takeBackControlInterpolant","action","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","_root","deltaTime","timeDirection","timeRunning","_updateTimeScale","clipTime","_updateTime","_updateWeight","propertyMixers","accumulateAdditive","_j18","_m4","accumulate","interpolantValue","atStart","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atEnd","weightNow","weightThen","AnimationMixer","_super137","_this108","_initMemoryManager","_accuIndex","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_i327","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","_bindAction","knownActions","_addInactiveAction","_i328","_lendBinding","saveOriginalState","_lendAction","_i329","restoreOriginalState","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_i330","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","optionalRoot","clipObject","findByName","existingAction","newAction","_i331","nActions","_i332","_update","_i333","timeInSeconds","_i334","actionsToRemove","_i335","_removeInactiveAction","Uniform","InstancedInterleavedBuffer","_super138","_this109","GLBufferAttribute","Raycaster","coords","unproject","_intersectObject","ascSort","_i336","_i337","Spherical","other","setFromCartesianCoords","Cylindrical","_vector$4","Box2","_i338","_startP","isBox2","_startEnd","Line3","clampToLine","startEnd2","closestPointToPointParameter","_vector$3","SpotLightHelper","_super139","_this110","_i339","cone","coneLength","coneWidth","_vector$2","_boneMatrix","_matrixWorldInv","SkeletonHelper","_super140","getBoneList","boneList","_i342","_i340","_this111","isSkeletonHelper","_i341","PointLightHelper","_super141","sphereSize","_this112","_vector$1","_color1","_color2","HemisphereLightHelper","_super142","_this113","_i343","GridHelper","_super143","_i344","_this114","PolarGridHelper","_super144","radials","circles","_i345","_i346","_color","_x12","_z3","_this115","_v1","_v2","_v3","DirectionalLightHelper","_super145","_this116","lightPlane","targetLine","_vector","_camera","CameraHelper","_super146","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","_this117","setPoint","_i347","_lineGeometry","_coneGeometry","_box","BoxHelper","_super147","_this118","setFromObject","Box3Helper","_super148","_this119","PlaneHelper","_super149","_this120","_axis","ArrowHelper","_super150","_this121","headLength","headWidth","AxesHelper","_super151","_this122","xAxisColor","yAxisColor","zAxisColor","subPaths","currentPath","quadraticCurveTo","splineThru","isCCW","noHoles","toShapesNoHoles","inSubpaths","_i348","_tmpPath","_tmpShape","solid","tmpPath","tmpShape","tmpPoints","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","_i349","ambiguous","toChange","sIdx","sLen","_sIdx","_sLen","sho","hIdx","ho","hole_unassigned","s2Idx","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","isPointInsidePolygon","froms","tos","_i350","tmpHoles","_floatView","_int32View","DataUtils","construct","fromPoints","setColors","Handlers","empty","isIntersectionBox","isIntersectionSphere","setFromMatrix","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBufferAttribute","applyToVector3Array","getInverse","extractPosition","getPosition","setRotationFromQuaternion","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","intersectsLine","isIntersectionPlane","getArea","barycoordFromPoint","midpoint","getMidpoint","prototypenormal","getPlane","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","manhattanDistanceTo","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","getChildByName","getObjectByName","renderDepth","getWorldRotation","applyMatrix","eulerOrder","useQuaternion","setDrawMode","drawMode","initBones","setLens","setFocalLength","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","dynamic","setDynamic","copyIndicesArray","setArray","addIndex","addAttribute","addDrawCall","clearDrawCalls","clearGroups","computeOffsets","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","_boolean2","initMaterial","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","setTexture","getActiveMipMapLevel","shadowMapCullFace","vr","gammaInput","gammaOutput","toneMappingWhitePoint","gammaFactor","renderReverseSided","renderSingleSided","setBuffer","getData","updateCubeMap","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","SceneUtils","createMultiMaterialObject","detach","attach","revision","__THREE__","ACESFilmicToneMapping","AddOperation","AdditiveAnimationBlendMode","AlwaysStencilFunc","AxisHelper","BasicDepthPacking","BasicShadowMap","BinaryTextureLoader","BoundingBoxHelper","CineonToneMapping","CullFaceFrontBack","CustomToneMapping","DecrementStencilOp","DecrementWrapStencilOp","DynamicBufferAttribute","DynamicCopyUsage","DynamicReadUsage","EdgesHelper","EqualStencilFunc","FaceColors","FlatShading","Float32Attribute","Float64Attribute","FontLoader","GLSL1","GreaterEqualStencilFunc","GreaterStencilFunc","ImmediateRenderObject","IncrementStencilOp","IncrementWrapStencilOp","Int16Attribute","Int32Attribute","Int8Attribute","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","InvertStencilOp","JSONLoader","KeepStencilOp","LensFlare","LessEqualStencilFunc","LessStencilFunc","LinePieces","LineStrip","LinearMipMapLinearFilter","LinearMipMapNearestFilter","LinearToneMapping","LoopOnce","LoopPingPong","LoopRepeat","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","MeshFaceMaterial","MixOperation","MultiMaterial","isMultiMaterial","MultiplyOperation","NearestMipMapLinearFilter","NearestMipMapNearestFilter","NeverStencilFunc","NoColors","NormalAnimationBlendMode","NotEqualStencilFunc","PCFSoftShadowMap","ParametricGeometry","Particle","ParticleBasicMaterial","ParticleSystem","ParticleSystemMaterial","PointCloud","PointCloudMaterial","REVISION","ReinhardToneMapping","ReplaceStencilOp","SmoothShading","StaticCopyUsage","StaticReadUsage","StreamCopyUsage","StreamDrawUsage","StreamReadUsage","TOUCH","DOLLY_PAN","DOLLY_ROTATE","TextGeometry","TriangleFanDrawMode","TriangleStripDrawMode","TrianglesDrawMode","Uint16Attribute","Uint32Attribute","Uint8Attribute","Uint8ClampedAttribute","Vertex","VertexColors","WebGLRenderTargetCube","WireframeHelper","WrapAroundEnding","XHRLoader","ZeroCurvatureEnding","ZeroSlopeEnding","ZeroStencilOp","THREE","_three","_object_pattern","_material_library_pattern","_material_use_pattern","_map_use_pattern","_ab","_cb","ParserState","materialLibraries","startObject","fromDeclaration","previousMaterial","currentMaterial","_finalize","hasUVIndices","startMaterial","libraries","previous","inherited","mtllib","groupEnd","lastMultiMaterial","mi","declared","finalize","parseVertexIndex","parseNormalIndex","parseUVIndex","addVertexPoint","addVertexLine","addNormal","addFaceNormal","addColor","addDefaultUV","addUVLine","addFace","ua","ub","uc","na","nb","nc","vLen","ia","ic","nLen","uvLen","addPointGeometry","vi","addLineGeometry","uvi","OBJLoader","lineFirstChar","trimLeft","vertexData","faceVertices","vertexParts","lineParts","lineVertices","lineUVs","li","llen","pointData","hasPrimitives","hasVertexColors","createdMaterials","miLen","materialLine","sourceMaterial","materialHash","materialPoints","_mi","_miLen","_sourceMaterial","_material2","_buffergeometry","header","headerImg","wcydAnim","keyboardContainer","_lottieWeb","_interopRequireDefault","_interopRequireWildcard","_OBJLoader","scrollEffect","lastScrollTop","animationStart","clientWidth","clientHeight","onbeforeunload","scrollTo","matchMedia","playAnimation","pageYOffset","documentElement","scrollTop","querySelector","endlessScroll","classList","loadAnimationsLoadedAfter","createViewAllAnim","assignViewAllEvents","createLetsTalkAnim","assignLetsTalkEvents","_yield$import","innerWidth","innerHeight","IntersectionObserver","entries","intersectionRatio","observe","randomImg","clientX","clientY","letsTalk","viewAll","viewAllContainer","letsTalkContainer","stopPropagation"],"mappings":"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","file":"index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var superPropBase = require(\"./superPropBase.js\");\n\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n\n  return _get.apply(this, arguments);\n}\n\nmodule.exports = _get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","module.exports = require(\"regenerator-runtime\");\n","(typeof navigator !== \"undefined\") && (function(root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(function() {\n            return factory(root);\n        });\n    } else if (typeof module === \"object\" && module.exports) {\n        module.exports = factory(root);\n    } else {\n        root.lottie = factory(root);\n        root.bodymovin = root.lottie;\n    }\n}((window || {}), function(window) {\n\t/* global locationHref:writable, animationManager, subframeEnabled:writable, defaultCurveSegments:writable, roundValues,\r\nexpressionsPlugin:writable, PropertyFactory, ShapePropertyFactory, Matrix, idPrefix:writable, _useWebWorker:writable */\r\n/* exported locationHref, subframeEnabled, expressionsPlugin, idPrefix, _useWebWorker */\r\n\r\n'use strict';\r\n\r\n/* exported svgNS, locationHref, initialDefaultFrame, _useWebWorker */\r\n\r\nvar svgNS = 'http://www.w3.org/2000/svg';\r\n\r\nvar locationHref = '';\r\n\r\nvar initialDefaultFrame = -999999;\r\n\r\nvar _useWebWorker = false;\r\n\r\n/* global createSizedArray */\r\n/* exported subframeEnabled, expressionsPlugin, isSafari, cachedColors, bmPow, bmSqrt, bmFloor, bmMax, bmMin, ProjectInterface,\r\ndefaultCurveSegments, degToRads, roundCorner, bmRnd, styleDiv, BMEnterFrameEvent, BMCompleteEvent, BMCompleteLoopEvent,\r\nBMSegmentStartEvent, BMDestroyEvent, BMRenderFrameErrorEvent, BMConfigErrorEvent, BMAnimationConfigErrorEvent, createElementID,\r\naddSaturationToRGB, addBrightnessToRGB, addHueToRGB, rgbToHex */\r\n\r\nvar subframeEnabled = true;\r\nvar idPrefix = '';\r\nvar expressionsPlugin;\r\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\nvar cachedColors = {};\r\nvar bmRnd;\r\nvar bmPow = Math.pow;\r\nvar bmSqrt = Math.sqrt;\r\nvar bmFloor = Math.floor;\r\nvar bmMax = Math.max;\r\nvar bmMin = Math.min;\r\n\r\nvar BMMath = {};\r\n(function () {\r\n  var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\r\n  var i;\r\n  var len = propertyNames.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    BMMath[propertyNames[i]] = Math[propertyNames[i]];\r\n  }\r\n}());\r\n\r\nfunction ProjectInterface() { return {}; }\r\n\r\nBMMath.random = Math.random;\r\nBMMath.abs = function (val) {\r\n  var tOfVal = typeof val;\r\n  if (tOfVal === 'object' && val.length) {\r\n    var absArr = createSizedArray(val.length);\r\n    var i;\r\n    var len = val.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      absArr[i] = Math.abs(val[i]);\r\n    }\r\n    return absArr;\r\n  }\r\n  return Math.abs(val);\r\n};\r\nvar defaultCurveSegments = 150;\r\nvar degToRads = Math.PI / 180;\r\nvar roundCorner = 0.5519;\r\n\r\nfunction roundValues(flag) {\r\n  if (flag) {\r\n    bmRnd = Math.round;\r\n  } else {\r\n    bmRnd = function (val) {\r\n      return val;\r\n    };\r\n  }\r\n}\r\nroundValues(false);\r\n\r\nfunction styleDiv(element) {\r\n  element.style.position = 'absolute';\r\n  element.style.top = 0;\r\n  element.style.left = 0;\r\n  element.style.display = 'block';\r\n  element.style.transformOrigin = '0 0';\r\n  element.style.webkitTransformOrigin = '0 0';\r\n  element.style.backfaceVisibility = 'visible';\r\n  element.style.webkitBackfaceVisibility = 'visible';\r\n  element.style.transformStyle = 'preserve-3d';\r\n  element.style.webkitTransformStyle = 'preserve-3d';\r\n  element.style.mozTransformStyle = 'preserve-3d';\r\n}\r\n\r\nfunction BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\r\n  this.type = type;\r\n  this.currentTime = currentTime;\r\n  this.totalTime = totalTime;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteEvent(type, frameMultiplier) {\r\n  this.type = type;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\r\n  this.type = type;\r\n  this.currentLoop = currentLoop;\r\n  this.totalLoops = totalLoops;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMSegmentStartEvent(type, firstFrame, totalFrames) {\r\n  this.type = type;\r\n  this.firstFrame = firstFrame;\r\n  this.totalFrames = totalFrames;\r\n}\r\n\r\nfunction BMDestroyEvent(type, target) {\r\n  this.type = type;\r\n  this.target = target;\r\n}\r\n\r\nfunction BMRenderFrameErrorEvent(nativeError, currentTime) {\r\n  this.type = 'renderFrameError';\r\n  this.nativeError = nativeError;\r\n  this.currentTime = currentTime;\r\n}\r\n\r\nfunction BMConfigErrorEvent(nativeError) {\r\n  this.type = 'configError';\r\n  this.nativeError = nativeError;\r\n}\r\n\r\nfunction BMAnimationConfigErrorEvent(type, nativeError) {\r\n  this.type = type;\r\n  this.nativeError = nativeError;\r\n}\r\n\r\nvar createElementID = (function () {\r\n  var _count = 0;\r\n  return function createID() {\r\n    _count += 1;\r\n    return idPrefix + '__lottie_element_' + _count;\r\n  };\r\n}());\r\n\r\nfunction HSVtoRGB(h, s, v) {\r\n  var r;\r\n  var g;\r\n  var b;\r\n  var i;\r\n  var f;\r\n  var p;\r\n  var q;\r\n  var t;\r\n  i = Math.floor(h * 6);\r\n  f = h * 6 - i;\r\n  p = v * (1 - s);\r\n  q = v * (1 - f * s);\r\n  t = v * (1 - (1 - f) * s);\r\n  switch (i % 6) {\r\n    case 0: r = v; g = t; b = p; break;\r\n    case 1: r = q; g = v; b = p; break;\r\n    case 2: r = p; g = v; b = t; break;\r\n    case 3: r = p; g = q; b = v; break;\r\n    case 4: r = t; g = p; b = v; break;\r\n    case 5: r = v; g = p; b = q; break;\r\n    default: break;\r\n  }\r\n  return [r,\r\n    g,\r\n    b];\r\n}\r\n\r\nfunction RGBtoHSV(r, g, b) {\r\n  var max = Math.max(r, g, b);\r\n  var min = Math.min(r, g, b);\r\n  var d = max - min;\r\n  var h;\r\n  var s = (max === 0 ? 0 : d / max);\r\n  var v = max / 255;\r\n\r\n  switch (max) {\r\n    case min: h = 0; break;\r\n    case r: h = (g - b) + d * (g < b ? 6 : 0); h /= 6 * d; break;\r\n    case g: h = (b - r) + d * 2; h /= 6 * d; break;\r\n    case b: h = (r - g) + d * 4; h /= 6 * d; break;\r\n    default: break;\r\n  }\r\n\r\n  return [\r\n    h,\r\n    s,\r\n    v,\r\n  ];\r\n}\r\n\r\nfunction addSaturationToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[1] += offset;\r\n  if (hsv[1] > 1) {\r\n    hsv[1] = 1;\r\n  } else if (hsv[1] <= 0) {\r\n    hsv[1] = 0;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nfunction addBrightnessToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[2] += offset;\r\n  if (hsv[2] > 1) {\r\n    hsv[2] = 1;\r\n  } else if (hsv[2] < 0) {\r\n    hsv[2] = 0;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nfunction addHueToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[0] += offset / 360;\r\n  if (hsv[0] > 1) {\r\n    hsv[0] -= 1;\r\n  } else if (hsv[0] < 0) {\r\n    hsv[0] += 1;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nvar rgbToHex = (function () {\r\n  var colorMap = [];\r\n  var i;\r\n  var hex;\r\n  for (i = 0; i < 256; i += 1) {\r\n    hex = i.toString(16);\r\n    colorMap[i] = hex.length === 1 ? '0' + hex : hex;\r\n  }\r\n\r\n  return function (r, g, b) {\r\n    if (r < 0) {\r\n      r = 0;\r\n    }\r\n    if (g < 0) {\r\n      g = 0;\r\n    }\r\n    if (b < 0) {\r\n      b = 0;\r\n    }\r\n    return '#' + colorMap[r] + colorMap[g] + colorMap[b];\r\n  };\r\n}());\r\n\r\nfunction BaseEvent() {}\r\nBaseEvent.prototype = {\r\n  triggerEvent: function (eventName, args) {\r\n    if (this._cbs[eventName]) {\r\n      var callbacks = this._cbs[eventName];\r\n      for (var i = 0; i < callbacks.length; i += 1) {\r\n        callbacks[i](args);\r\n      }\r\n    }\r\n  },\r\n  addEventListener: function (eventName, callback) {\r\n    if (!this._cbs[eventName]) {\r\n      this._cbs[eventName] = [];\r\n    }\r\n    this._cbs[eventName].push(callback);\r\n\r\n    return function () {\r\n      this.removeEventListener(eventName, callback);\r\n    }.bind(this);\r\n  },\r\n  removeEventListener: function (eventName, callback) {\r\n    if (!callback) {\r\n      this._cbs[eventName] = null;\r\n    } else if (this._cbs[eventName]) {\r\n      var i = 0;\r\n      var len = this._cbs[eventName].length;\r\n      while (i < len) {\r\n        if (this._cbs[eventName][i] === callback) {\r\n          this._cbs[eventName].splice(i, 1);\r\n          i -= 1;\r\n          len -= 1;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (!this._cbs[eventName].length) {\r\n        this._cbs[eventName] = null;\r\n      }\r\n    }\r\n  },\r\n};\r\n\r\n/* exported createTypedArray, createSizedArray */\r\n\r\nvar createTypedArray = (function () {\r\n  function createRegularArray(type, len) {\r\n    var i = 0;\r\n    var arr = [];\r\n    var value;\r\n    switch (type) {\r\n      case 'int16':\r\n      case 'uint8c':\r\n        value = 1;\r\n        break;\r\n      default:\r\n        value = 1.1;\r\n        break;\r\n    }\r\n    for (i = 0; i < len; i += 1) {\r\n      arr.push(value);\r\n    }\r\n    return arr;\r\n  }\r\n  function createTypedArrayFactory(type, len) {\r\n    if (type === 'float32') {\r\n      return new Float32Array(len);\r\n    } if (type === 'int16') {\r\n      return new Int16Array(len);\r\n    } if (type === 'uint8c') {\r\n      return new Uint8ClampedArray(len);\r\n    }\r\n    return createRegularArray(type, len);\r\n  }\r\n  if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\r\n    return createTypedArrayFactory;\r\n  }\r\n  return createRegularArray;\r\n}());\r\n\r\nfunction createSizedArray(len) {\r\n  return Array.apply(null, { length: len });\r\n}\r\n\r\n/* global svgNS */\r\n/* exported createNS */\r\n\r\nfunction createNS(type) {\r\n  // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n  return document.createElementNS(svgNS, type);\r\n}\r\n\r\n/* exported createTag */\r\n\r\nfunction createTag(type) {\r\n  // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n  return document.createElement(type);\r\n}\r\n\r\nfunction DynamicPropertyContainer() {}\r\nDynamicPropertyContainer.prototype = {\r\n  addDynamicProperty: function (prop) {\r\n    if (this.dynamicProperties.indexOf(prop) === -1) {\r\n      this.dynamicProperties.push(prop);\r\n      this.container.addDynamicProperty(this);\r\n      this._isAnimated = true;\r\n    }\r\n  },\r\n  iterateDynamicProperties: function () {\r\n    this._mdf = false;\r\n    var i;\r\n    var len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.dynamicProperties[i].getValue();\r\n      if (this.dynamicProperties[i]._mdf) {\r\n        this._mdf = true;\r\n      }\r\n    }\r\n  },\r\n  initDynamicPropertyContainer: function (container) {\r\n    this.container = container;\r\n    this.dynamicProperties = [];\r\n    this._mdf = false;\r\n    this._isAnimated = false;\r\n  },\r\n};\r\n\r\n/* exported getBlendMode */\r\n\r\nvar getBlendMode = (function () {\r\n  var blendModeEnums = {\r\n    0: 'source-over',\r\n    1: 'multiply',\r\n    2: 'screen',\r\n    3: 'overlay',\r\n    4: 'darken',\r\n    5: 'lighten',\r\n    6: 'color-dodge',\r\n    7: 'color-burn',\r\n    8: 'hard-light',\r\n    9: 'soft-light',\r\n    10: 'difference',\r\n    11: 'exclusion',\r\n    12: 'hue',\r\n    13: 'saturation',\r\n    14: 'color',\r\n    15: 'luminosity',\r\n  };\r\n\r\n  return function (mode) {\r\n    return blendModeEnums[mode] || '';\r\n  };\r\n}());\r\n\r\n/* exported lineCapEnum, lineJoinEnum */\r\n\r\nvar lineCapEnum = {\r\n  1: 'butt',\r\n  2: 'round',\r\n  3: 'square',\r\n};\r\n\r\nvar lineJoinEnum = {\r\n  1: 'miter',\r\n  2: 'round',\r\n  3: 'bevel',\r\n};\r\n\r\n/* global createTypedArray */\r\n\r\n/*!\r\n Transformation Matrix v2.0\r\n (c) Epistemex 2014-2015\r\n www.epistemex.com\r\n By Ken Fyrstenberg\r\n Contributions by leeoniya.\r\n License: MIT, header required.\r\n */\r\n\r\n/**\r\n * 2D transformation matrix object initialized with identity matrix.\r\n *\r\n * The matrix can synchronize a canvas context by supplying the context\r\n * as an argument, or later apply current absolute transform to an\r\n * existing context.\r\n *\r\n * All values are handled as floating point values.\r\n *\r\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n * @prop {number} a - scale x\r\n * @prop {number} b - shear y\r\n * @prop {number} c - shear x\r\n * @prop {number} d - scale y\r\n * @prop {number} e - translate x\r\n * @prop {number} f - translate y\r\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n * @constructor\r\n */\r\n\r\nvar Matrix = (function () {\r\n  var _cos = Math.cos;\r\n  var _sin = Math.sin;\r\n  var _tan = Math.tan;\r\n  var _rnd = Math.round;\r\n\r\n  function reset() {\r\n    this.props[0] = 1;\r\n    this.props[1] = 0;\r\n    this.props[2] = 0;\r\n    this.props[3] = 0;\r\n    this.props[4] = 0;\r\n    this.props[5] = 1;\r\n    this.props[6] = 0;\r\n    this.props[7] = 0;\r\n    this.props[8] = 0;\r\n    this.props[9] = 0;\r\n    this.props[10] = 1;\r\n    this.props[11] = 0;\r\n    this.props[12] = 0;\r\n    this.props[13] = 0;\r\n    this.props[14] = 0;\r\n    this.props[15] = 1;\r\n    return this;\r\n  }\r\n\r\n  function rotate(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateX(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateY(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateZ(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function shear(sx, sy) {\r\n    return this._t(1, sy, sx, 1, 0, 0);\r\n  }\r\n\r\n  function skew(ax, ay) {\r\n    return this.shear(_tan(ax), _tan(ay));\r\n  }\r\n\r\n  function skewFromAxis(ax, angle) {\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\r\n      ._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\r\n      ._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n    // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\r\n  }\r\n\r\n  function scale(sx, sy, sz) {\r\n    if (!sz && sz !== 0) {\r\n      sz = 1;\r\n    }\r\n    if (sx === 1 && sy === 1 && sz === 1) {\r\n      return this;\r\n    }\r\n    return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\r\n    this.props[0] = a;\r\n    this.props[1] = b;\r\n    this.props[2] = c;\r\n    this.props[3] = d;\r\n    this.props[4] = e;\r\n    this.props[5] = f;\r\n    this.props[6] = g;\r\n    this.props[7] = h;\r\n    this.props[8] = i;\r\n    this.props[9] = j;\r\n    this.props[10] = k;\r\n    this.props[11] = l;\r\n    this.props[12] = m;\r\n    this.props[13] = n;\r\n    this.props[14] = o;\r\n    this.props[15] = p;\r\n    return this;\r\n  }\r\n\r\n  function translate(tx, ty, tz) {\r\n    tz = tz || 0;\r\n    if (tx !== 0 || ty !== 0 || tz !== 0) {\r\n      return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\r\n    var _p = this.props;\r\n\r\n    if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\r\n      // NOTE: commenting this condition because TurboFan deoptimizes code when present\r\n      // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\r\n      _p[12] = _p[12] * a2 + _p[15] * m2;\r\n      _p[13] = _p[13] * f2 + _p[15] * n2;\r\n      _p[14] = _p[14] * k2 + _p[15] * o2;\r\n      _p[15] *= p2;\r\n      // }\r\n      this._identityCalculated = false;\r\n      return this;\r\n    }\r\n\r\n    var a1 = _p[0];\r\n    var b1 = _p[1];\r\n    var c1 = _p[2];\r\n    var d1 = _p[3];\r\n    var e1 = _p[4];\r\n    var f1 = _p[5];\r\n    var g1 = _p[6];\r\n    var h1 = _p[7];\r\n    var i1 = _p[8];\r\n    var j1 = _p[9];\r\n    var k1 = _p[10];\r\n    var l1 = _p[11];\r\n    var m1 = _p[12];\r\n    var n1 = _p[13];\r\n    var o1 = _p[14];\r\n    var p1 = _p[15];\r\n\r\n    /* matrix order (canvas compatible):\r\n         * ace\r\n         * bdf\r\n         * 001\r\n         */\r\n    _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\r\n    _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\r\n    _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\r\n    _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\r\n\r\n    _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\r\n    _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\r\n    _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\r\n    _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\r\n\r\n    _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\r\n    _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\r\n    _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\r\n    _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\r\n\r\n    _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\r\n    _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\r\n    _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\r\n    _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\r\n\r\n    this._identityCalculated = false;\r\n    return this;\r\n  }\r\n\r\n  function isIdentity() {\r\n    if (!this._identityCalculated) {\r\n      this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\r\n      this._identityCalculated = true;\r\n    }\r\n    return this._identity;\r\n  }\r\n\r\n  function equals(matr) {\r\n    var i = 0;\r\n    while (i < 16) {\r\n      if (matr.props[i] !== this.props[i]) {\r\n        return false;\r\n      }\r\n      i += 1;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function clone(matr) {\r\n    var i;\r\n    for (i = 0; i < 16; i += 1) {\r\n      matr.props[i] = this.props[i];\r\n    }\r\n    return matr;\r\n  }\r\n\r\n  function cloneFromProps(props) {\r\n    var i;\r\n    for (i = 0; i < 16; i += 1) {\r\n      this.props[i] = props[i];\r\n    }\r\n  }\r\n\r\n  function applyToPoint(x, y, z) {\r\n    return {\r\n      x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n      y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n      z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14],\r\n    };\r\n    /* return {\r\n         x: x * me.a + y * me.c + me.e,\r\n         y: x * me.b + y * me.d + me.f\r\n         }; */\r\n  }\r\n  function applyToX(x, y, z) {\r\n    return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\r\n  }\r\n  function applyToY(x, y, z) {\r\n    return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\r\n  }\r\n  function applyToZ(x, y, z) {\r\n    return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\r\n  }\r\n\r\n  function getInverseMatrix() {\r\n    var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\r\n    var a = this.props[5] / determinant;\r\n    var b = -this.props[1] / determinant;\r\n    var c = -this.props[4] / determinant;\r\n    var d = this.props[0] / determinant;\r\n    var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\r\n    var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\r\n    var inverseMatrix = new Matrix();\r\n    inverseMatrix.props[0] = a;\r\n    inverseMatrix.props[1] = b;\r\n    inverseMatrix.props[4] = c;\r\n    inverseMatrix.props[5] = d;\r\n    inverseMatrix.props[12] = e;\r\n    inverseMatrix.props[13] = f;\r\n    return inverseMatrix;\r\n  }\r\n\r\n  function inversePoint(pt) {\r\n    var inverseMatrix = this.getInverseMatrix();\r\n    return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\r\n  }\r\n\r\n  function inversePoints(pts) {\r\n    var i;\r\n    var len = pts.length;\r\n    var retPts = [];\r\n    for (i = 0; i < len; i += 1) {\r\n      retPts[i] = inversePoint(pts[i]);\r\n    }\r\n    return retPts;\r\n  }\r\n\r\n  function applyToTriplePoints(pt1, pt2, pt3) {\r\n    var arr = createTypedArray('float32', 6);\r\n    if (this.isIdentity()) {\r\n      arr[0] = pt1[0];\r\n      arr[1] = pt1[1];\r\n      arr[2] = pt2[0];\r\n      arr[3] = pt2[1];\r\n      arr[4] = pt3[0];\r\n      arr[5] = pt3[1];\r\n    } else {\r\n      var p0 = this.props[0];\r\n      var p1 = this.props[1];\r\n      var p4 = this.props[4];\r\n      var p5 = this.props[5];\r\n      var p12 = this.props[12];\r\n      var p13 = this.props[13];\r\n      arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\r\n      arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\r\n      arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\r\n      arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\r\n      arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\r\n      arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function applyToPointArray(x, y, z) {\r\n    var arr;\r\n    if (this.isIdentity()) {\r\n      arr = [x, y, z];\r\n    } else {\r\n      arr = [\r\n        x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n        x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n        x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14],\r\n      ];\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function applyToPointStringified(x, y) {\r\n    if (this.isIdentity()) {\r\n      return x + ',' + y;\r\n    }\r\n    var _p = this.props;\r\n    return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\r\n  }\r\n\r\n  function toCSS() {\r\n    // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n    /* if(this.isIdentity()) {\r\n            return '';\r\n        } */\r\n    var i = 0;\r\n    var props = this.props;\r\n    var cssValue = 'matrix3d(';\r\n    var v = 10000;\r\n    while (i < 16) {\r\n      cssValue += _rnd(props[i] * v) / v;\r\n      cssValue += i === 15 ? ')' : ',';\r\n      i += 1;\r\n    }\r\n    return cssValue;\r\n  }\r\n\r\n  function roundMatrixProperty(val) {\r\n    var v = 10000;\r\n    if ((val < 0.000001 && val > 0) || (val > -0.000001 && val < 0)) {\r\n      return _rnd(val * v) / v;\r\n    }\r\n    return val;\r\n  }\r\n\r\n  function to2dCSS() {\r\n    // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n    /* if(this.isIdentity()) {\r\n            return '';\r\n        } */\r\n    var props = this.props;\r\n    var _a = roundMatrixProperty(props[0]);\r\n    var _b = roundMatrixProperty(props[1]);\r\n    var _c = roundMatrixProperty(props[4]);\r\n    var _d = roundMatrixProperty(props[5]);\r\n    var _e = roundMatrixProperty(props[12]);\r\n    var _f = roundMatrixProperty(props[13]);\r\n    return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\r\n  }\r\n\r\n  return function () {\r\n    this.reset = reset;\r\n    this.rotate = rotate;\r\n    this.rotateX = rotateX;\r\n    this.rotateY = rotateY;\r\n    this.rotateZ = rotateZ;\r\n    this.skew = skew;\r\n    this.skewFromAxis = skewFromAxis;\r\n    this.shear = shear;\r\n    this.scale = scale;\r\n    this.setTransform = setTransform;\r\n    this.translate = translate;\r\n    this.transform = transform;\r\n    this.applyToPoint = applyToPoint;\r\n    this.applyToX = applyToX;\r\n    this.applyToY = applyToY;\r\n    this.applyToZ = applyToZ;\r\n    this.applyToPointArray = applyToPointArray;\r\n    this.applyToTriplePoints = applyToTriplePoints;\r\n    this.applyToPointStringified = applyToPointStringified;\r\n    this.toCSS = toCSS;\r\n    this.to2dCSS = to2dCSS;\r\n    this.clone = clone;\r\n    this.cloneFromProps = cloneFromProps;\r\n    this.equals = equals;\r\n    this.inversePoints = inversePoints;\r\n    this.inversePoint = inversePoint;\r\n    this.getInverseMatrix = getInverseMatrix;\r\n    this._t = this.transform;\r\n    this.isIdentity = isIdentity;\r\n    this._identity = true;\r\n    this._identityCalculated = false;\r\n\r\n    this.props = createTypedArray('float32', 16);\r\n    this.reset();\r\n  };\r\n}());\r\n\r\n/* eslint-disable */\r\n/*\r\n Copyright 2014 David Bau.\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining\r\n a copy of this software and associated documentation files (the\r\n \"Software\"), to deal in the Software without restriction, including\r\n without limitation the rights to use, copy, modify, merge, publish,\r\n distribute, sublicense, and/or sell copies of the Software, and to\r\n permit persons to whom the Software is furnished to do so, subject to\r\n the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be\r\n included in all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n */\r\n\r\n(function (pool, math) {\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\n    var global = this,\r\n        width = 256,        // each RC4 output is 0 <= x < 256\r\n        chunks = 6,         // at least six RC4 outputs for each double\r\n        digits = 52,        // there are 52 significant digits in a double\r\n        rngname = 'random', // rngname: name for Math.random and Math.seedrandom\r\n        startdenom = math.pow(width, chunks),\r\n        significance = math.pow(2, digits),\r\n        overflow = significance * 2,\r\n        mask = width - 1,\r\n        nodecrypto;         // node.js crypto module, initialized at the bottom.\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\n    function seedrandom(seed, options, callback) {\r\n        var key = [];\r\n        options = (options === true) ? { entropy: true } : (options || {});\r\n\r\n        // Flatten the seed string or build one from local entropy if needed.\r\n        var shortseed = mixkey(flatten(\r\n            options.entropy ? [seed, tostring(pool)] :\r\n                (seed === null) ? autoseed() : seed, 3), key);\r\n\r\n        // Use the seed to initialize an ARC4 generator.\r\n        var arc4 = new ARC4(key);\r\n\r\n        // This function returns a random double in [0, 1) that contains\r\n        // randomness in every bit of the mantissa of the IEEE 754 value.\r\n        var prng = function() {\r\n            var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n                d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n                x = 0;                          //   and no 'extra last byte'.\r\n            while (n < significance) {          // Fill up all significant digits by\r\n                n = (n + x) * width;              //   shifting numerator and\r\n                d *= width;                       //   denominator and generating a\r\n                x = arc4.g(1);                    //   new least-significant-byte.\r\n            }\r\n            while (n >= overflow) {             // To avoid rounding up, before adding\r\n                n /= 2;                           //   last byte, shift everything\r\n                d /= 2;                           //   right using integer math until\r\n                x >>>= 1;                         //   we have exactly the desired bits.\r\n            }\r\n            return (n + x) / d;                 // Form the number within [0, 1).\r\n        };\r\n\r\n        prng.int32 = function() { return arc4.g(4) | 0; };\r\n        prng.quick = function() { return arc4.g(4) / 0x100000000; };\r\n        prng.double = prng;\r\n\r\n        // Mix the randomness into accumulated entropy.\r\n        mixkey(tostring(arc4.S), pool);\r\n\r\n        // Calling convention: what to return as a function of prng, seed, is_math.\r\n        return (options.pass || callback ||\r\n        function(prng, seed, is_math_call, state) {\r\n            if (state) {\r\n                // Load the arc4 state from the given state if it has an S array.\r\n                if (state.S) { copy(state, arc4); }\r\n                // Only provide the .state method if requested via options.state.\r\n                prng.state = function() { return copy(arc4, {}); };\r\n            }\r\n\r\n            // If called as a method of Math (Math.seedrandom()), mutate\r\n            // Math.random because that is how seedrandom.js has worked since v1.0.\r\n            if (is_math_call) { math[rngname] = prng; return seed; }\r\n\r\n            // Otherwise, it is a newer calling convention, so return the\r\n            // prng directly.\r\n            else return prng;\r\n        })(\r\n            prng,\r\n            shortseed,\r\n            'global' in options ? options.global : (this == math),\r\n            options.state);\r\n    }\r\n    math['seed' + rngname] = seedrandom;\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n    function ARC4(key) {\r\n        var t, keylen = key.length,\r\n            me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n        // The empty key [] is treated as [0].\r\n        if (!keylen) { key = [keylen++]; }\r\n\r\n        // Set up S using the standard key scheduling algorithm.\r\n        while (i < width) {\r\n            s[i] = i++;\r\n        }\r\n        for (i = 0; i < width; i++) {\r\n            s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n            s[j] = t;\r\n        }\r\n\r\n        // The \"g\" method returns the next (count) outputs as one number.\r\n        me.g = function(count) {\r\n            // Using instance members instead of closure state nearly doubles speed.\r\n            var t, r = 0,\r\n                i = me.i, j = me.j, s = me.S;\r\n            while (count--) {\r\n                t = s[i = mask & (i + 1)];\r\n                r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n            }\r\n            me.i = i; me.j = j;\r\n            return r;\r\n            // For robust unpredictability, the function call below automatically\r\n            // discards an initial batch of values.  This is called RC4-drop[256].\r\n            // See http://google.com/search?q=rsa+fluhrer+response&btnI\r\n        };\r\n    }\r\n\r\n//\r\n// copy()\r\n// Copies internal state of ARC4 to or from a plain object.\r\n//\r\n    function copy(f, t) {\r\n        t.i = f.i;\r\n        t.j = f.j;\r\n        t.S = f.S.slice();\r\n        return t;\r\n    }\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\n    function flatten(obj, depth) {\r\n        var result = [], typ = (typeof obj), prop;\r\n        if (depth && typ == 'object') {\r\n            for (prop in obj) {\r\n                try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n            }\r\n        }\r\n        return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\r\n    }\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\n    function mixkey(seed, key) {\r\n        var stringseed = seed + '', smear, j = 0;\r\n        while (j < stringseed.length) {\r\n            key[mask & j] =\r\n                mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n        }\r\n        return tostring(key);\r\n    }\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto and Node crypto\r\n// module if available.\r\n//\r\n    function autoseed() {\r\n        try {\r\n            if (nodecrypto) { return tostring(nodecrypto.randomBytes(width)); }\r\n            var out = new Uint8Array(width);\r\n            (global.crypto || global.msCrypto).getRandomValues(out);\r\n            return tostring(out);\r\n        } catch (e) {\r\n            var browser = global.navigator,\r\n                plugins = browser && browser.plugins;\r\n            return [+new Date(), global, plugins, global.screen, tostring(pool)];\r\n        }\r\n    }\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\n    function tostring(a) {\r\n        return String.fromCharCode.apply(0, a);\r\n    }\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to interfere with deterministic PRNG state later,\r\n// seedrandom will not call math.random on its own again after\r\n// initialization.\r\n//\r\n    mixkey(math.random(), pool);\r\n\r\n//\r\n// Nodejs and AMD support: export the implementation as a module using\r\n// either convention.\r\n//\r\n\r\n// End anonymous scope, and pass initial values.\r\n})(\r\n    [],     // pool: entropy pool starts empty\r\n    BMMath    // math: package containing random, pow, and seedrandom\r\n);\r\n/* eslint-disable */\r\nvar BezierFactory = (function () {\r\n  /**\r\n     * BezierEasing - use bezier curve for transition easing function\r\n     * by Gatan Renaudeau 2014 - 2015  MIT License\r\n     *\r\n     * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n     * Usage:\r\n     * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n     * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n     *\r\n     */\r\n\r\n  var ob = {};\r\n  ob.getBezierEasing = getBezierEasing;\r\n  var beziers = {};\r\n\r\n  function getBezierEasing(a, b, c, d, nm) {\r\n    var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\r\n    if (beziers[str]) {\r\n      return beziers[str];\r\n    }\r\n    var bezEasing = new BezierEasing([a, b, c, d]);\r\n    beziers[str] = bezEasing;\r\n    return bezEasing;\r\n  }\r\n\r\n  // These values are established by empiricism with tests (tradeoff: performance VS precision)\r\n  var NEWTON_ITERATIONS = 4;\r\n  var NEWTON_MIN_SLOPE = 0.001;\r\n  var SUBDIVISION_PRECISION = 0.0000001;\r\n  var SUBDIVISION_MAX_ITERATIONS = 10;\r\n\r\n  var kSplineTableSize = 11;\r\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n\r\n  var float32ArraySupported = typeof Float32Array === 'function';\r\n\r\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\r\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\r\n  function C(aA1) { return 3.0 * aA1; }\r\n\r\n  // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\r\n  function calcBezier(aT, aA1, aA2) {\r\n    return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\r\n  }\r\n\r\n  // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\r\n  function getSlope(aT, aA1, aA2) {\r\n    return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n  }\r\n\r\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\r\n    var currentX,\r\n      currentT,\r\n      i = 0;\r\n    do {\r\n      currentT = aA + (aB - aA) / 2.0;\r\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\r\n      if (currentX > 0.0) {\r\n        aB = currentT;\r\n      } else {\r\n        aA = currentT;\r\n      }\r\n    } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\r\n    return currentT;\r\n  }\r\n\r\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\r\n    for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\r\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\r\n      if (currentSlope === 0.0) return aGuessT;\r\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n      aGuessT -= currentX / currentSlope;\r\n    }\r\n    return aGuessT;\r\n  }\r\n\r\n  /**\r\n     * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n     */\r\n  function BezierEasing(points) {\r\n    this._p = points;\r\n    this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\r\n    this._precomputed = false;\r\n\r\n    this.get = this.get.bind(this);\r\n  }\r\n\r\n  BezierEasing.prototype = {\r\n\r\n    get: function (x) {\r\n      var mX1 = this._p[0],\r\n        mY1 = this._p[1],\r\n        mX2 = this._p[2],\r\n        mY2 = this._p[3];\r\n      if (!this._precomputed) this._precompute();\r\n      if (mX1 === mY1 && mX2 === mY2) return x; // linear\r\n      // Because JavaScript number are imprecise, we should guarantee the extremes are right.\r\n      if (x === 0) return 0;\r\n      if (x === 1) return 1;\r\n      return calcBezier(this._getTForX(x), mY1, mY2);\r\n    },\r\n\r\n    // Private part\r\n\r\n    _precompute: function () {\r\n      var mX1 = this._p[0],\r\n        mY1 = this._p[1],\r\n        mX2 = this._p[2],\r\n        mY2 = this._p[3];\r\n      this._precomputed = true;\r\n      if (mX1 !== mY1 || mX2 !== mY2) { this._calcSampleValues(); }\r\n    },\r\n\r\n    _calcSampleValues: function () {\r\n      var mX1 = this._p[0],\r\n        mX2 = this._p[2];\r\n      for (var i = 0; i < kSplineTableSize; ++i) {\r\n        this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n      }\r\n    },\r\n\r\n    /**\r\n         * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n         */\r\n    _getTForX: function (aX) {\r\n      var mX1 = this._p[0],\r\n        mX2 = this._p[2],\r\n        mSampleValues = this._mSampleValues;\r\n\r\n      var intervalStart = 0.0;\r\n      var currentSample = 1;\r\n      var lastSample = kSplineTableSize - 1;\r\n\r\n      for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\r\n        intervalStart += kSampleStepSize;\r\n      }\r\n      --currentSample;\r\n\r\n      // Interpolate to provide an initial guess for t\r\n      var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\r\n      var guessForT = intervalStart + dist * kSampleStepSize;\r\n\r\n      var initialSlope = getSlope(guessForT, mX1, mX2);\r\n      if (initialSlope >= NEWTON_MIN_SLOPE) {\r\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n      } if (initialSlope === 0.0) {\r\n        return guessForT;\r\n      }\r\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\r\n    },\r\n  };\r\n\r\n  return ob;\r\n}());\r\n\r\n(function () {\r\n  var lastTime = 0;\r\n  var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) { // eslint-disable-line no-plusplus\r\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n  }\r\n  if (!window.requestAnimationFrame) {\r\n    window.requestAnimationFrame = function (callback) {\r\n      var currTime = new Date().getTime();\r\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n      var id = setTimeout(function () {\r\n        callback(currTime + timeToCall);\r\n      },\r\n      timeToCall);\r\n      lastTime = currTime + timeToCall;\r\n      return id;\r\n    };\r\n  }\r\n  if (!window.cancelAnimationFrame) {\r\n    window.cancelAnimationFrame = function (id) {\r\n      clearTimeout(id);\r\n    };\r\n  }\r\n}());\r\n\r\n/* exported extendPrototype, getDescriptor, createProxyFunction */\r\n\r\nfunction extendPrototype(sources, destination) {\r\n  var i;\r\n  var len = sources.length;\r\n  var sourcePrototype;\r\n  for (i = 0; i < len; i += 1) {\r\n    sourcePrototype = sources[i].prototype;\r\n    for (var attr in sourcePrototype) {\r\n      if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\r\n    }\r\n  }\r\n}\r\n\r\nfunction getDescriptor(object, prop) {\r\n  return Object.getOwnPropertyDescriptor(object, prop);\r\n}\r\n\r\nfunction createProxyFunction(prototype) {\r\n  function ProxyFunction() {}\r\n  ProxyFunction.prototype = prototype;\r\n  return ProxyFunction;\r\n}\r\n\r\n/* global segmentsLengthPool, defaultCurveSegments, createSizedArray, bmPow, bmSqrt, bmFloor, createTypedArray, bezierLengthPool */\r\n/* exported bez */\r\n\r\nfunction bezFunction() {\r\n  var math = Math;\r\n\r\n  function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\r\n    var det1 = (x1 * y2) + (y1 * x3) + (x2 * y3) - (x3 * y2) - (y3 * x1) - (x2 * y1);\r\n    return det1 > -0.001 && det1 < 0.001;\r\n  }\r\n\r\n  function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\r\n    if (z1 === 0 && z2 === 0 && z3 === 0) {\r\n      return pointOnLine2D(x1, y1, x2, y2, x3, y3);\r\n    }\r\n    var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\r\n    var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\r\n    var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\r\n    var diffDist;\r\n    if (dist1 > dist2) {\r\n      if (dist1 > dist3) {\r\n        diffDist = dist1 - dist2 - dist3;\r\n      } else {\r\n        diffDist = dist3 - dist2 - dist1;\r\n      }\r\n    } else if (dist3 > dist2) {\r\n      diffDist = dist3 - dist2 - dist1;\r\n    } else {\r\n      diffDist = dist2 - dist1 - dist3;\r\n    }\r\n    return diffDist > -0.0001 && diffDist < 0.0001;\r\n  }\r\n\r\n  var getBezierLength = (function () {\r\n    return function (pt1, pt2, pt3, pt4) {\r\n      var curveSegments = defaultCurveSegments;\r\n      var k;\r\n      var i;\r\n      var len;\r\n      var ptCoord;\r\n      var perc;\r\n      var addedLength = 0;\r\n      var ptDistance;\r\n      var point = [];\r\n      var lastPoint = [];\r\n      var lengthData = bezierLengthPool.newElement();\r\n      len = pt3.length;\r\n      for (k = 0; k < curveSegments; k += 1) {\r\n        perc = k / (curveSegments - 1);\r\n        ptDistance = 0;\r\n        for (i = 0; i < len; i += 1) {\r\n          ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\r\n          point[i] = ptCoord;\r\n          if (lastPoint[i] !== null) {\r\n            ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n          }\r\n          lastPoint[i] = point[i];\r\n        }\r\n        if (ptDistance) {\r\n          ptDistance = bmSqrt(ptDistance);\r\n          addedLength += ptDistance;\r\n        }\r\n        lengthData.percents[k] = perc;\r\n        lengthData.lengths[k] = addedLength;\r\n      }\r\n      lengthData.addedLength = addedLength;\r\n      return lengthData;\r\n    };\r\n  }());\r\n\r\n  function getSegmentsLength(shapeData) {\r\n    var segmentsLength = segmentsLengthPool.newElement();\r\n    var closed = shapeData.c;\r\n    var pathV = shapeData.v;\r\n    var pathO = shapeData.o;\r\n    var pathI = shapeData.i;\r\n    var i;\r\n    var len = shapeData._length;\r\n    var lengths = segmentsLength.lengths;\r\n    var totalLength = 0;\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\r\n      totalLength += lengths[i].addedLength;\r\n    }\r\n    if (closed && len) {\r\n      lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\r\n      totalLength += lengths[i].addedLength;\r\n    }\r\n    segmentsLength.totalLength = totalLength;\r\n    return segmentsLength;\r\n  }\r\n\r\n  function BezierData(length) {\r\n    this.segmentLength = 0;\r\n    this.points = new Array(length);\r\n  }\r\n\r\n  function PointData(partial, point) {\r\n    this.partialLength = partial;\r\n    this.point = point;\r\n  }\r\n\r\n  var buildBezierData = (function () {\r\n    var storedData = {};\r\n\r\n    return function (pt1, pt2, pt3, pt4) {\r\n      var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\r\n      if (!storedData[bezierName]) {\r\n        var curveSegments = defaultCurveSegments;\r\n        var k;\r\n        var i;\r\n        var len;\r\n        var ptCoord;\r\n        var perc;\r\n        var addedLength = 0;\r\n        var ptDistance;\r\n        var point;\r\n        var lastPoint = null;\r\n        if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\r\n          curveSegments = 2;\r\n        }\r\n        var bezierData = new BezierData(curveSegments);\r\n        len = pt3.length;\r\n        for (k = 0; k < curveSegments; k += 1) {\r\n          point = createSizedArray(len);\r\n          perc = k / (curveSegments - 1);\r\n          ptDistance = 0;\r\n          for (i = 0; i < len; i += 1) {\r\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\r\n            point[i] = ptCoord;\r\n            if (lastPoint !== null) {\r\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n            }\r\n          }\r\n          ptDistance = bmSqrt(ptDistance);\r\n          addedLength += ptDistance;\r\n          bezierData.points[k] = new PointData(ptDistance, point);\r\n          lastPoint = point;\r\n        }\r\n        bezierData.segmentLength = addedLength;\r\n        storedData[bezierName] = bezierData;\r\n      }\r\n      return storedData[bezierName];\r\n    };\r\n  }());\r\n\r\n  function getDistancePerc(perc, bezierData) {\r\n    var percents = bezierData.percents;\r\n    var lengths = bezierData.lengths;\r\n    var len = percents.length;\r\n    var initPos = bmFloor((len - 1) * perc);\r\n    var lengthPos = perc * bezierData.addedLength;\r\n    var lPerc = 0;\r\n    if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\r\n      return percents[initPos];\r\n    }\r\n    var dir = lengths[initPos] > lengthPos ? -1 : 1;\r\n    var flag = true;\r\n    while (flag) {\r\n      if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\r\n        lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\r\n        flag = false;\r\n      } else {\r\n        initPos += dir;\r\n      }\r\n      if (initPos < 0 || initPos >= len - 1) {\r\n        // FIX for TypedArrays that don't store floating point values with enough accuracy\r\n        if (initPos === len - 1) {\r\n          return percents[initPos];\r\n        }\r\n        flag = false;\r\n      }\r\n    }\r\n    return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\r\n  }\r\n\r\n  function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\r\n    var t1 = getDistancePerc(percent, bezierData);\r\n    var u1 = 1 - t1;\r\n    var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\r\n    var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\r\n    return [ptX, ptY];\r\n  }\r\n\r\n  var bezierSegmentPoints = createTypedArray('float32', 8);\r\n\r\n  function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\r\n    if (startPerc < 0) {\r\n      startPerc = 0;\r\n    } else if (startPerc > 1) {\r\n      startPerc = 1;\r\n    }\r\n    var t0 = getDistancePerc(startPerc, bezierData);\r\n    endPerc = endPerc > 1 ? 1 : endPerc;\r\n    var t1 = getDistancePerc(endPerc, bezierData);\r\n    var i;\r\n    var len = pt1.length;\r\n    var u0 = 1 - t0;\r\n    var u1 = 1 - t1;\r\n    var u0u0u0 = u0 * u0 * u0;\r\n    var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\r\n    var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\r\n    var t0t0t0 = t0 * t0 * t0;\r\n    //\r\n    var u0u0u1 = u0 * u0 * u1;\r\n    var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\r\n    var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\r\n    var t0t0t1 = t0 * t0 * t1;\r\n    //\r\n    var u0u1u1 = u0 * u1 * u1;\r\n    var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\r\n    var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\r\n    var t0t1t1 = t0 * t1 * t1;\r\n    //\r\n    var u1u1u1 = u1 * u1 * u1;\r\n    var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\r\n    var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\r\n    var t1t1t1 = t1 * t1 * t1;\r\n    for (i = 0; i < len; i += 1) {\r\n      bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n    }\r\n\r\n    return bezierSegmentPoints;\r\n  }\r\n\r\n  return {\r\n    getSegmentsLength: getSegmentsLength,\r\n    getNewSegment: getNewSegment,\r\n    getPointInSegment: getPointInSegment,\r\n    buildBezierData: buildBezierData,\r\n    pointOnLine2D: pointOnLine2D,\r\n    pointOnLine3D: pointOnLine3D,\r\n  };\r\n}\r\n\r\nvar bez = bezFunction();\r\n\r\n/* global _useWebWorker */\r\n\r\nvar dataManager = (function () {\r\n  var _counterId = 1;\r\n  var processes = [];\r\n  var workerFn;\r\n  var workerInstance;\r\n  var workerProxy = {\r\n    onmessage: function () {\r\n\r\n    },\r\n    postMessage: function (path) {\r\n      workerFn({\r\n        data: path,\r\n      });\r\n    },\r\n  };\r\n  var _workerSelf = {\r\n    postMessage: function (data) {\r\n      workerProxy.onmessage({\r\n        data: data,\r\n      });\r\n    },\r\n  };\r\n  function createWorker(fn) {\r\n    if (window.Worker && window.Blob && _useWebWorker) {\r\n      var blob = new Blob(['var _workerSelf = self; self.onmessage = ', fn.toString()], { type: 'text/javascript' });\r\n      // var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\r\n      var url = URL.createObjectURL(blob);\r\n      return new Worker(url);\r\n    }\r\n    workerFn = fn;\r\n    return workerProxy;\r\n  }\r\n\r\n  function setupWorker() {\r\n    if (!workerInstance) {\r\n      workerInstance = createWorker(function workerStart(e) {\r\n        /* exported dataManager */\r\n\r\n        function dataFunctionManager() {\r\n          // var tCanvasHelper = createTag('canvas').getContext('2d');\r\n\r\n          function completeLayers(layers, comps) {\r\n            var layerData;\r\n            var i;\r\n            var len = layers.length;\r\n            var j;\r\n            var jLen;\r\n            var k;\r\n            var kLen;\r\n            for (i = 0; i < len; i += 1) {\r\n              layerData = layers[i];\r\n              if (('ks' in layerData) && !layerData.completed) {\r\n                layerData.completed = true;\r\n                if (layerData.tt) {\r\n                  layers[i - 1].td = layerData.tt;\r\n                }\r\n                if (layerData.hasMask) {\r\n                  var maskProps = layerData.masksProperties;\r\n                  jLen = maskProps.length;\r\n                  for (j = 0; j < jLen; j += 1) {\r\n                    if (maskProps[j].pt.k.i) {\r\n                      convertPathsToAbsoluteValues(maskProps[j].pt.k);\r\n                    } else {\r\n                      kLen = maskProps[j].pt.k.length;\r\n                      for (k = 0; k < kLen; k += 1) {\r\n                        if (maskProps[j].pt.k[k].s) {\r\n                          convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\r\n                        }\r\n                        if (maskProps[j].pt.k[k].e) {\r\n                          convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n                if (layerData.ty === 0) {\r\n                  layerData.layers = findCompLayers(layerData.refId, comps);\r\n                  completeLayers(layerData.layers, comps);\r\n                } else if (layerData.ty === 4) {\r\n                  completeShapes(layerData.shapes);\r\n                } else if (layerData.ty === 5) {\r\n                  completeText(layerData);\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          function findCompLayers(id, comps) {\r\n            var i = 0;\r\n            var len = comps.length;\r\n            while (i < len) {\r\n              if (comps[i].id === id) {\r\n                if (!comps[i].layers.__used) {\r\n                  comps[i].layers.__used = true;\r\n                  return comps[i].layers;\r\n                }\r\n                return JSON.parse(JSON.stringify(comps[i].layers));\r\n              }\r\n              i += 1;\r\n            }\r\n            return null;\r\n          }\r\n\r\n          function completeShapes(arr) {\r\n            var i;\r\n            var len = arr.length;\r\n            var j;\r\n            var jLen;\r\n            for (i = len - 1; i >= 0; i -= 1) {\r\n              if (arr[i].ty === 'sh') {\r\n                if (arr[i].ks.k.i) {\r\n                  convertPathsToAbsoluteValues(arr[i].ks.k);\r\n                } else {\r\n                  jLen = arr[i].ks.k.length;\r\n                  for (j = 0; j < jLen; j += 1) {\r\n                    if (arr[i].ks.k[j].s) {\r\n                      convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\r\n                    }\r\n                    if (arr[i].ks.k[j].e) {\r\n                      convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\r\n                    }\r\n                  }\r\n                }\r\n              } else if (arr[i].ty === 'gr') {\r\n                completeShapes(arr[i].it);\r\n              }\r\n            }\r\n          }\r\n\r\n          function convertPathsToAbsoluteValues(path) {\r\n            var i;\r\n            var len = path.i.length;\r\n            for (i = 0; i < len; i += 1) {\r\n              path.i[i][0] += path.v[i][0];\r\n              path.i[i][1] += path.v[i][1];\r\n              path.o[i][0] += path.v[i][0];\r\n              path.o[i][1] += path.v[i][1];\r\n            }\r\n          }\r\n\r\n          function checkVersion(minimum, animVersionString) {\r\n            var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\r\n            if (minimum[0] > animVersion[0]) {\r\n              return true;\r\n            } if (animVersion[0] > minimum[0]) {\r\n              return false;\r\n            }\r\n            if (minimum[1] > animVersion[1]) {\r\n              return true;\r\n            } if (animVersion[1] > minimum[1]) {\r\n              return false;\r\n            }\r\n            if (minimum[2] > animVersion[2]) {\r\n              return true;\r\n            } if (animVersion[2] > minimum[2]) {\r\n              return false;\r\n            }\r\n            return null;\r\n          }\r\n\r\n          var checkText = (function () {\r\n            var minimumVersion = [4, 4, 14];\r\n\r\n            function updateTextLayer(textLayer) {\r\n              var documentData = textLayer.t.d;\r\n              textLayer.t.d = {\r\n                k: [\r\n                  {\r\n                    s: documentData,\r\n                    t: 0,\r\n                  },\r\n                ],\r\n              };\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var i;\r\n              var len = layers.length;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (layers[i].ty === 5) {\r\n                  updateTextLayer(layers[i]);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkChars = (function () {\r\n            var minimumVersion = [4, 7, 99];\r\n            return function (animationData) {\r\n              if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\r\n                var i;\r\n                var len = animationData.chars.length;\r\n                var j;\r\n                var jLen;\r\n                var pathData;\r\n                var paths;\r\n                for (i = 0; i < len; i += 1) {\r\n                  if (animationData.chars[i].data && animationData.chars[i].data.shapes) {\r\n                    paths = animationData.chars[i].data.shapes[0].it;\r\n                    jLen = paths.length;\r\n\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      pathData = paths[j].ks.k;\r\n                      if (!pathData.__converted) {\r\n                        convertPathsToAbsoluteValues(paths[j].ks.k);\r\n                        pathData.__converted = true;\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkPathProperties = (function () {\r\n            var minimumVersion = [5, 7, 15];\r\n\r\n            function updateTextLayer(textLayer) {\r\n              var pathData = textLayer.t.p;\r\n              if (typeof pathData.a === 'number') {\r\n                pathData.a = {\r\n                  a: 0,\r\n                  k: pathData.a,\r\n                };\r\n              }\r\n              if (typeof pathData.p === 'number') {\r\n                pathData.p = {\r\n                  a: 0,\r\n                  k: pathData.p,\r\n                };\r\n              }\r\n              if (typeof pathData.r === 'number') {\r\n                pathData.r = {\r\n                  a: 0,\r\n                  k: pathData.r,\r\n                };\r\n              }\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var i;\r\n              var len = layers.length;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (layers[i].ty === 5) {\r\n                  updateTextLayer(layers[i]);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkColors = (function () {\r\n            var minimumVersion = [4, 1, 9];\r\n\r\n            function iterateShapes(shapes) {\r\n              var i;\r\n              var len = shapes.length;\r\n              var j;\r\n              var jLen;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (shapes[i].ty === 'gr') {\r\n                  iterateShapes(shapes[i].it);\r\n                } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\r\n                  if (shapes[i].c.k && shapes[i].c.k[0].i) {\r\n                    jLen = shapes[i].c.k.length;\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      if (shapes[i].c.k[j].s) {\r\n                        shapes[i].c.k[j].s[0] /= 255;\r\n                        shapes[i].c.k[j].s[1] /= 255;\r\n                        shapes[i].c.k[j].s[2] /= 255;\r\n                        shapes[i].c.k[j].s[3] /= 255;\r\n                      }\r\n                      if (shapes[i].c.k[j].e) {\r\n                        shapes[i].c.k[j].e[0] /= 255;\r\n                        shapes[i].c.k[j].e[1] /= 255;\r\n                        shapes[i].c.k[j].e[2] /= 255;\r\n                        shapes[i].c.k[j].e[3] /= 255;\r\n                      }\r\n                    }\r\n                  } else {\r\n                    shapes[i].c.k[0] /= 255;\r\n                    shapes[i].c.k[1] /= 255;\r\n                    shapes[i].c.k[2] /= 255;\r\n                    shapes[i].c.k[3] /= 255;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var i;\r\n              var len = layers.length;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (layers[i].ty === 4) {\r\n                  iterateShapes(layers[i].shapes);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkShapes = (function () {\r\n            var minimumVersion = [4, 4, 18];\r\n\r\n            function completeClosingShapes(arr) {\r\n              var i;\r\n              var len = arr.length;\r\n              var j;\r\n              var jLen;\r\n              for (i = len - 1; i >= 0; i -= 1) {\r\n                if (arr[i].ty === 'sh') {\r\n                  if (arr[i].ks.k.i) {\r\n                    arr[i].ks.k.c = arr[i].closed;\r\n                  } else {\r\n                    jLen = arr[i].ks.k.length;\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      if (arr[i].ks.k[j].s) {\r\n                        arr[i].ks.k[j].s[0].c = arr[i].closed;\r\n                      }\r\n                      if (arr[i].ks.k[j].e) {\r\n                        arr[i].ks.k[j].e[0].c = arr[i].closed;\r\n                      }\r\n                    }\r\n                  }\r\n                } else if (arr[i].ty === 'gr') {\r\n                  completeClosingShapes(arr[i].it);\r\n                }\r\n              }\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var layerData;\r\n              var i;\r\n              var len = layers.length;\r\n              var j;\r\n              var jLen;\r\n              var k;\r\n              var kLen;\r\n              for (i = 0; i < len; i += 1) {\r\n                layerData = layers[i];\r\n                if (layerData.hasMask) {\r\n                  var maskProps = layerData.masksProperties;\r\n                  jLen = maskProps.length;\r\n                  for (j = 0; j < jLen; j += 1) {\r\n                    if (maskProps[j].pt.k.i) {\r\n                      maskProps[j].pt.k.c = maskProps[j].cl;\r\n                    } else {\r\n                      kLen = maskProps[j].pt.k.length;\r\n                      for (k = 0; k < kLen; k += 1) {\r\n                        if (maskProps[j].pt.k[k].s) {\r\n                          maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\r\n                        }\r\n                        if (maskProps[j].pt.k[k].e) {\r\n                          maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n                if (layerData.ty === 4) {\r\n                  completeClosingShapes(layerData.shapes);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          function completeData(animationData) {\r\n            if (animationData.__complete) {\r\n              return;\r\n            }\r\n            checkColors(animationData);\r\n            checkText(animationData);\r\n            checkChars(animationData);\r\n            checkPathProperties(animationData);\r\n            checkShapes(animationData);\r\n            completeLayers(animationData.layers, animationData.assets);\r\n            animationData.__complete = true;\r\n          }\r\n\r\n          function completeText(data) {\r\n            if (data.t.a.length === 0 && !('m' in data.t.p)) {\r\n              data.singleShape = true;\r\n            }\r\n          }\r\n\r\n          var moduleOb = {};\r\n          moduleOb.completeData = completeData;\r\n          moduleOb.checkColors = checkColors;\r\n          moduleOb.checkChars = checkChars;\r\n          moduleOb.checkPathProperties = checkPathProperties;\r\n          moduleOb.checkShapes = checkShapes;\r\n          moduleOb.completeLayers = completeLayers;\r\n\r\n          return moduleOb;\r\n        }\r\n        if (!_workerSelf.dataManager) {\r\n          _workerSelf.dataManager = dataFunctionManager();\r\n        }\r\n\r\n        /* exported assetLoader */\r\n        if (!_workerSelf.assetLoader) {\r\n          _workerSelf.assetLoader = (function () {\r\n            function formatResponse(xhr) {\r\n              // using typeof doubles the time of execution of this method,\r\n              // so if available, it's better to use the header to validate the type\r\n              var contentTypeHeader = xhr.getResponseHeader('content-type');\r\n              if (contentTypeHeader && xhr.responseType === 'json' && contentTypeHeader.indexOf('json') !== -1) {\r\n                return xhr.response;\r\n              }\r\n              if (xhr.response && typeof xhr.response === 'object') {\r\n                return xhr.response;\r\n              } if (xhr.response && typeof xhr.response === 'string') {\r\n                return JSON.parse(xhr.response);\r\n              } if (xhr.responseText) {\r\n                return JSON.parse(xhr.responseText);\r\n              }\r\n              return null;\r\n            }\r\n\r\n            function loadAsset(path, fullPath, callback, errorCallback) {\r\n              var response;\r\n              var xhr = new XMLHttpRequest();\r\n              // set responseType after calling open or IE will break.\r\n              try {\r\n                // This crashes on Android WebView prior to KitKat\r\n                xhr.responseType = 'json';\r\n              } catch (err) {} // eslint-disable-line no-empty\r\n              xhr.onreadystatechange = function () {\r\n                if (xhr.readyState === 4) {\r\n                  if (xhr.status === 200) {\r\n                    response = formatResponse(xhr);\r\n                    callback(response);\r\n                  } else {\r\n                    try {\r\n                      response = formatResponse(xhr);\r\n                      callback(response);\r\n                    } catch (err) {\r\n                      if (errorCallback) {\r\n                        errorCallback(err);\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              };\r\n              try {\r\n                xhr.open('GET', path, true);\r\n              } catch (error) {\r\n                xhr.open('GET', fullPath + '/' + path, true);\r\n              }\r\n              xhr.send();\r\n            }\r\n            return {\r\n              load: loadAsset,\r\n            };\r\n          }());\r\n        }\r\n\r\n        if (e.data.type === 'loadAnimation') {\r\n          _workerSelf.assetLoader.load(\r\n            e.data.path,\r\n            e.data.fullPath,\r\n            function (data) {\r\n              _workerSelf.dataManager.completeData(data);\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                payload: data,\r\n                status: 'success',\r\n              });\r\n            },\r\n            function () {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                status: 'error',\r\n              });\r\n            }\r\n          );\r\n        } else if (e.data.type === 'complete') {\r\n          var animation = e.data.animation;\r\n          _workerSelf.dataManager.completeData(animation);\r\n          _workerSelf.postMessage({\r\n            id: e.data.id,\r\n            payload: animation,\r\n            status: 'success',\r\n          });\r\n        } else if (e.data.type === 'loadData') {\r\n          _workerSelf.assetLoader.load(\r\n            e.data.path,\r\n            e.data.fullPath,\r\n            function (data) {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                payload: data,\r\n                status: 'success',\r\n              });\r\n            },\r\n            function () {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                status: 'error',\r\n              });\r\n            }\r\n          );\r\n        }\r\n      });\r\n\r\n      workerInstance.onmessage = function (event) {\r\n        var data = event.data;\r\n        var id = data.id;\r\n        var process = processes[id];\r\n        processes[id] = null;\r\n        if (data.status === 'success') {\r\n          process.onComplete(data.payload);\r\n        } else if (process.onError) {\r\n          process.onError();\r\n        }\r\n      };\r\n    }\r\n  }\r\n\r\n  function createProcess(onComplete, onError) {\r\n    _counterId += 1;\r\n    var id = 'processId_' + _counterId;\r\n    processes[id] = {\r\n      onComplete: onComplete,\r\n      onError: onError,\r\n    };\r\n    return id;\r\n  }\r\n\r\n  function loadAnimation(path, onComplete, onError) {\r\n    setupWorker();\r\n    var processId = createProcess(onComplete, onError);\r\n    workerInstance.postMessage({\r\n      type: 'loadAnimation',\r\n      path: path,\r\n      fullPath: window.location.origin + window.location.pathname,\r\n      id: processId,\r\n    });\r\n  }\r\n\r\n  function loadData(path, onComplete, onError) {\r\n    setupWorker();\r\n    var processId = createProcess(onComplete, onError);\r\n    workerInstance.postMessage({\r\n      type: 'loadData',\r\n      path: path,\r\n      fullPath: window.location.origin + window.location.pathname,\r\n      id: processId,\r\n    });\r\n  }\r\n\r\n  function completeAnimation(anim, onComplete, onError) {\r\n    setupWorker();\r\n    var processId = createProcess(onComplete, onError);\r\n    workerInstance.postMessage({\r\n      type: 'complete',\r\n      animation: anim,\r\n      id: processId,\r\n    });\r\n  }\r\n\r\n  return {\r\n    loadAnimation: loadAnimation,\r\n    loadData: loadData,\r\n    completeAnimation: completeAnimation,\r\n  };\r\n}());\r\n\r\n/* exported getFontProperties */\r\n\r\nfunction getFontProperties(fontData) {\r\n  var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\r\n\r\n  var fWeight = 'normal'; var\r\n    fStyle = 'normal';\r\n  var len = styles.length;\r\n  var styleName;\r\n  for (var i = 0; i < len; i += 1) {\r\n    styleName = styles[i].toLowerCase();\r\n    switch (styleName) {\r\n      case 'italic':\r\n        fStyle = 'italic';\r\n        break;\r\n      case 'bold':\r\n        fWeight = '700';\r\n        break;\r\n      case 'black':\r\n        fWeight = '900';\r\n        break;\r\n      case 'medium':\r\n        fWeight = '500';\r\n        break;\r\n      case 'regular':\r\n      case 'normal':\r\n        fWeight = '400';\r\n        break;\r\n      case 'light':\r\n      case 'thin':\r\n        fWeight = '200';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  return {\r\n    style: fStyle,\r\n    weight: fontData.fWeight || fWeight,\r\n  };\r\n}\r\n\r\n/* global createNS, createTag, getFontProperties */\r\n/* exported FontManager */\r\n\r\nvar FontManager = (function () {\r\n  var maxWaitingTime = 5000;\r\n  var emptyChar = {\r\n    w: 0,\r\n    size: 0,\r\n    shapes: [],\r\n  };\r\n  var combinedCharacters = [];\r\n  // Hindi characters\r\n  combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366,\r\n    2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379,\r\n    2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\r\n\r\n  var surrogateModifiers = [\r\n    'd83cdffb',\r\n    'd83cdffc',\r\n    'd83cdffd',\r\n    'd83cdffe',\r\n    'd83cdfff',\r\n  ];\r\n\r\n  var zeroWidthJoiner = [65039, 8205];\r\n\r\n  function trimFontOptions(font) {\r\n    var familyArray = font.split(',');\r\n    var i;\r\n    var len = familyArray.length;\r\n    var enabledFamilies = [];\r\n    for (i = 0; i < len; i += 1) {\r\n      if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\r\n        enabledFamilies.push(familyArray[i]);\r\n      }\r\n    }\r\n    return enabledFamilies.join(',');\r\n  }\r\n\r\n  function setUpNode(font, family) {\r\n    var parentNode = createTag('span');\r\n    // Node is invisible to screen readers.\r\n    parentNode.setAttribute('aria-hidden', true);\r\n    parentNode.style.fontFamily = family;\r\n    var node = createTag('span');\r\n    // Characters that vary significantly among different fonts\r\n    node.innerText = 'giItT1WQy@!-/#';\r\n    // Visible - so we can measure it - but not on the screen\r\n    parentNode.style.position = 'absolute';\r\n    parentNode.style.left = '-10000px';\r\n    parentNode.style.top = '-10000px';\r\n    // Large font size makes even subtle changes obvious\r\n    parentNode.style.fontSize = '300px';\r\n    // Reset any font properties\r\n    parentNode.style.fontVariant = 'normal';\r\n    parentNode.style.fontStyle = 'normal';\r\n    parentNode.style.fontWeight = 'normal';\r\n    parentNode.style.letterSpacing = '0';\r\n    parentNode.appendChild(node);\r\n    document.body.appendChild(parentNode);\r\n\r\n    // Remember width with no applied web font\r\n    var width = node.offsetWidth;\r\n    node.style.fontFamily = trimFontOptions(font) + ', ' + family;\r\n    return { node: node, w: width, parent: parentNode };\r\n  }\r\n\r\n  function checkLoadedFonts() {\r\n    var i;\r\n    var len = this.fonts.length;\r\n    var node;\r\n    var w;\r\n    var loadedCount = len;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.fonts[i].loaded) {\r\n        loadedCount -= 1;\r\n      } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\r\n        this.fonts[i].loaded = true;\r\n      } else {\r\n        node = this.fonts[i].monoCase.node;\r\n        w = this.fonts[i].monoCase.w;\r\n        if (node.offsetWidth !== w) {\r\n          loadedCount -= 1;\r\n          this.fonts[i].loaded = true;\r\n        } else {\r\n          node = this.fonts[i].sansCase.node;\r\n          w = this.fonts[i].sansCase.w;\r\n          if (node.offsetWidth !== w) {\r\n            loadedCount -= 1;\r\n            this.fonts[i].loaded = true;\r\n          }\r\n        }\r\n        if (this.fonts[i].loaded) {\r\n          this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\r\n          this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\r\n      setTimeout(this.checkLoadedFontsBinded, 20);\r\n    } else {\r\n      setTimeout(this.setIsLoadedBinded, 10);\r\n    }\r\n  }\r\n\r\n  function createHelper(def, fontData) {\r\n    var tHelper = createNS('text');\r\n    tHelper.style.fontSize = '100px';\r\n    // tHelper.style.fontFamily = fontData.fFamily;\r\n\r\n    var fontProps = getFontProperties(fontData);\r\n    tHelper.setAttribute('font-family', fontData.fFamily);\r\n    tHelper.setAttribute('font-style', fontProps.style);\r\n    tHelper.setAttribute('font-weight', fontProps.weight);\r\n    tHelper.textContent = '1';\r\n    if (fontData.fClass) {\r\n      tHelper.style.fontFamily = 'inherit';\r\n      tHelper.setAttribute('class', fontData.fClass);\r\n    } else {\r\n      tHelper.style.fontFamily = fontData.fFamily;\r\n    }\r\n    def.appendChild(tHelper);\r\n    var tCanvasHelper = createTag('canvas').getContext('2d');\r\n    tCanvasHelper.font = fontData.fWeight + ' ' + fontData.fStyle + ' 100px ' + fontData.fFamily;\r\n    // tCanvasHelper.font = ' 100px '+ fontData.fFamily;\r\n    return tHelper;\r\n  }\r\n\r\n  function addFonts(fontData, defs) {\r\n    if (!fontData) {\r\n      this.isLoaded = true;\r\n      return;\r\n    }\r\n    if (this.chars) {\r\n      this.isLoaded = true;\r\n      this.fonts = fontData.list;\r\n      return;\r\n    }\r\n\r\n    var fontArr = fontData.list;\r\n    var i;\r\n    var len = fontArr.length;\r\n    var _pendingFonts = len;\r\n    for (i = 0; i < len; i += 1) {\r\n      var shouldLoadFont = true;\r\n      var loadedSelector;\r\n      var j;\r\n      fontArr[i].loaded = false;\r\n      fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\r\n      fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\r\n      if (!fontArr[i].fPath) {\r\n        fontArr[i].loaded = true;\r\n        _pendingFonts -= 1;\r\n      } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\r\n        loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\r\n\r\n        if (loadedSelector.length > 0) {\r\n          shouldLoadFont = false;\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var s = createTag('style');\r\n          s.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          s.setAttribute('f-origin', fontArr[i].origin);\r\n          s.setAttribute('f-family', fontArr[i].fFamily);\r\n          s.type = 'text/css';\r\n          s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\r\n          defs.appendChild(s);\r\n        }\r\n      } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\r\n        loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\r\n\r\n        for (j = 0; j < loadedSelector.length; j += 1) {\r\n          if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\r\n            // Font is already loaded\r\n            shouldLoadFont = false;\r\n          }\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var l = createTag('link');\r\n          l.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          l.setAttribute('f-origin', fontArr[i].origin);\r\n          l.type = 'text/css';\r\n          l.rel = 'stylesheet';\r\n          l.href = fontArr[i].fPath;\r\n          document.body.appendChild(l);\r\n        }\r\n      } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\r\n        loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\r\n\r\n        for (j = 0; j < loadedSelector.length; j += 1) {\r\n          if (fontArr[i].fPath === loadedSelector[j].src) {\r\n            // Font is already loaded\r\n            shouldLoadFont = false;\r\n          }\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var sc = createTag('link');\r\n          sc.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          sc.setAttribute('f-origin', fontArr[i].origin);\r\n          sc.setAttribute('rel', 'stylesheet');\r\n          sc.setAttribute('href', fontArr[i].fPath);\r\n          defs.appendChild(sc);\r\n        }\r\n      }\r\n      fontArr[i].helper = createHelper(defs, fontArr[i]);\r\n      fontArr[i].cache = {};\r\n      this.fonts.push(fontArr[i]);\r\n    }\r\n    if (_pendingFonts === 0) {\r\n      this.isLoaded = true;\r\n    } else {\r\n      // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\r\n      // Adding this timeout seems to fix it\r\n      setTimeout(this.checkLoadedFonts.bind(this), 100);\r\n    }\r\n  }\r\n\r\n  function addChars(chars) {\r\n    if (!chars) {\r\n      return;\r\n    }\r\n    if (!this.chars) {\r\n      this.chars = [];\r\n    }\r\n    var i;\r\n    var len = chars.length;\r\n    var j;\r\n    var jLen = this.chars.length;\r\n    var found;\r\n    for (i = 0; i < len; i += 1) {\r\n      j = 0;\r\n      found = false;\r\n      while (j < jLen) {\r\n        if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\r\n          found = true;\r\n        }\r\n        j += 1;\r\n      }\r\n      if (!found) {\r\n        this.chars.push(chars[i]);\r\n        jLen += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  function getCharData(char, style, font) {\r\n    var i = 0;\r\n    var len = this.chars.length;\r\n    while (i < len) {\r\n      if (this.chars[i].ch === char && this.chars[i].style === style && this.chars[i].fFamily === font) {\r\n        return this.chars[i];\r\n      }\r\n      i += 1;\r\n    }\r\n    if (((typeof char === 'string' && char.charCodeAt(0) !== 13) || !char)\r\n            && console\r\n            && console.warn // eslint-disable-line no-console\r\n            && !this._warned\r\n    ) {\r\n      this._warned = true;\r\n      console.warn('Missing character from exported characters list: ', char, style, font); // eslint-disable-line no-console\r\n    }\r\n    return emptyChar;\r\n  }\r\n\r\n  function measureText(char, fontName, size) {\r\n    var fontData = this.getFontByName(fontName);\r\n    var index = char.charCodeAt(0);\r\n    if (!fontData.cache[index + 1]) {\r\n      var tHelper = fontData.helper;\r\n      // Canvas version\r\n      // fontData.cache[index] = tHelper.measureText(char).width / 100;\r\n      // SVG version\r\n      // console.log(tHelper.getBBox().width)\r\n      if (char === ' ') {\r\n        tHelper.textContent = '|' + char + '|';\r\n        var doubleSize = tHelper.getComputedTextLength();\r\n        tHelper.textContent = '||';\r\n        var singleSize = tHelper.getComputedTextLength();\r\n        fontData.cache[index + 1] = (doubleSize - singleSize) / 100;\r\n      } else {\r\n        tHelper.textContent = char;\r\n        fontData.cache[index + 1] = (tHelper.getComputedTextLength()) / 100;\r\n      }\r\n    }\r\n    return fontData.cache[index + 1] * size;\r\n  }\r\n\r\n  function getFontByName(name) {\r\n    var i = 0;\r\n    var len = this.fonts.length;\r\n    while (i < len) {\r\n      if (this.fonts[i].fName === name) {\r\n        return this.fonts[i];\r\n      }\r\n      i += 1;\r\n    }\r\n    return this.fonts[0];\r\n  }\r\n\r\n  function isModifier(firstCharCode, secondCharCode) {\r\n    var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\r\n    return surrogateModifiers.indexOf(sum) !== -1;\r\n  }\r\n\r\n  function isZeroWidthJoiner(firstCharCode, secondCharCode) {\r\n    if (!secondCharCode) {\r\n      return firstCharCode === zeroWidthJoiner[1];\r\n    }\r\n    return firstCharCode === zeroWidthJoiner[0] && secondCharCode === zeroWidthJoiner[1];\r\n  }\r\n\r\n  function isCombinedCharacter(char) {\r\n    return combinedCharacters.indexOf(char) !== -1;\r\n  }\r\n\r\n  function setIsLoaded() {\r\n    this.isLoaded = true;\r\n  }\r\n\r\n  var Font = function () {\r\n    this.fonts = [];\r\n    this.chars = null;\r\n    this.typekitLoaded = 0;\r\n    this.isLoaded = false;\r\n    this._warned = false;\r\n    this.initTime = Date.now();\r\n    this.setIsLoadedBinded = this.setIsLoaded.bind(this);\r\n    this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\r\n  };\r\n  Font.isModifier = isModifier;\r\n  Font.isZeroWidthJoiner = isZeroWidthJoiner;\r\n  Font.isCombinedCharacter = isCombinedCharacter;\r\n\r\n  var fontPrototype = {\r\n    addChars: addChars,\r\n    addFonts: addFonts,\r\n    getCharData: getCharData,\r\n    getFontByName: getFontByName,\r\n    measureText: measureText,\r\n    checkLoadedFonts: checkLoadedFonts,\r\n    setIsLoaded: setIsLoaded,\r\n  };\r\n\r\n  Font.prototype = fontPrototype;\r\n\r\n  return Font;\r\n}());\r\n\r\n/* global initialDefaultFrame, BezierFactory, degToRads, bez, createTypedArray */\r\n/* exported PropertyFactory */\r\n\r\nvar PropertyFactory = (function () {\r\n  var initFrame = initialDefaultFrame;\r\n  var mathAbs = Math.abs;\r\n\r\n  function interpolateValue(frameNum, caching) {\r\n    var offsetTime = this.offsetTime;\r\n    var newValue;\r\n    if (this.propType === 'multidimensional') {\r\n      newValue = createTypedArray('float32', this.pv.length);\r\n    }\r\n    var iterationIndex = caching.lastIndex;\r\n    var i = iterationIndex;\r\n    var len = this.keyframes.length - 1;\r\n    var flag = true;\r\n    var keyData;\r\n    var nextKeyData;\r\n    var keyframeMetadata;\r\n\r\n    while (flag) {\r\n      keyData = this.keyframes[i];\r\n      nextKeyData = this.keyframes[i + 1];\r\n      if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\r\n        if (keyData.h) {\r\n          keyData = nextKeyData;\r\n        }\r\n        iterationIndex = 0;\r\n        break;\r\n      }\r\n      if ((nextKeyData.t - offsetTime) > frameNum) {\r\n        iterationIndex = i;\r\n        break;\r\n      }\r\n      if (i < len - 1) {\r\n        i += 1;\r\n      } else {\r\n        iterationIndex = 0;\r\n        flag = false;\r\n      }\r\n    }\r\n    keyframeMetadata = this.keyframesMetadata[i] || {};\r\n\r\n    var k;\r\n    var kLen;\r\n    var perc;\r\n    var jLen;\r\n    var j;\r\n    var fnc;\r\n    var nextKeyTime = nextKeyData.t - offsetTime;\r\n    var keyTime = keyData.t - offsetTime;\r\n    var endValue;\r\n    if (keyData.to) {\r\n      if (!keyframeMetadata.bezierData) {\r\n        keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\r\n      }\r\n      var bezierData = keyframeMetadata.bezierData;\r\n      if (frameNum >= nextKeyTime || frameNum < keyTime) {\r\n        var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\r\n        kLen = bezierData.points[ind].point.length;\r\n        for (k = 0; k < kLen; k += 1) {\r\n          newValue[k] = bezierData.points[ind].point[k];\r\n        }\r\n        // caching._lastKeyframeIndex = -1;\r\n      } else {\r\n        if (keyframeMetadata.__fnct) {\r\n          fnc = keyframeMetadata.__fnct;\r\n        } else {\r\n          fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\r\n          keyframeMetadata.__fnct = fnc;\r\n        }\r\n        perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n        var distanceInLine = bezierData.segmentLength * perc;\r\n\r\n        var segmentPerc;\r\n        var addedLength = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastAddedLength : 0;\r\n        j = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastPoint : 0;\r\n        flag = true;\r\n        jLen = bezierData.points.length;\r\n        while (flag) {\r\n          addedLength += bezierData.points[j].partialLength;\r\n          if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\r\n            kLen = bezierData.points[j].point.length;\r\n            for (k = 0; k < kLen; k += 1) {\r\n              newValue[k] = bezierData.points[j].point[k];\r\n            }\r\n            break;\r\n          } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\r\n            segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\r\n            kLen = bezierData.points[j].point.length;\r\n            for (k = 0; k < kLen; k += 1) {\r\n              newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\r\n            }\r\n            break;\r\n          }\r\n          if (j < jLen - 1) {\r\n            j += 1;\r\n          } else {\r\n            flag = false;\r\n          }\r\n        }\r\n        caching._lastPoint = j;\r\n        caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\r\n        caching._lastKeyframeIndex = i;\r\n      }\r\n    } else {\r\n      var outX;\r\n      var outY;\r\n      var inX;\r\n      var inY;\r\n      var keyValue;\r\n      len = keyData.s.length;\r\n      endValue = nextKeyData.s || keyData.e;\r\n      if (this.sh && keyData.h !== 1) {\r\n        if (frameNum >= nextKeyTime) {\r\n          newValue[0] = endValue[0];\r\n          newValue[1] = endValue[1];\r\n          newValue[2] = endValue[2];\r\n        } else if (frameNum <= keyTime) {\r\n          newValue[0] = keyData.s[0];\r\n          newValue[1] = keyData.s[1];\r\n          newValue[2] = keyData.s[2];\r\n        } else {\r\n          var quatStart = createQuaternion(keyData.s);\r\n          var quatEnd = createQuaternion(endValue);\r\n          var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\r\n          quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\r\n        }\r\n      } else {\r\n        for (i = 0; i < len; i += 1) {\r\n          if (keyData.h !== 1) {\r\n            if (frameNum >= nextKeyTime) {\r\n              perc = 1;\r\n            } else if (frameNum < keyTime) {\r\n              perc = 0;\r\n            } else {\r\n              if (keyData.o.x.constructor === Array) {\r\n                if (!keyframeMetadata.__fnct) {\r\n                  keyframeMetadata.__fnct = [];\r\n                }\r\n                if (!keyframeMetadata.__fnct[i]) {\r\n                  outX = keyData.o.x[i] === undefined ? keyData.o.x[0] : keyData.o.x[i];\r\n                  outY = keyData.o.y[i] === undefined ? keyData.o.y[0] : keyData.o.y[i];\r\n                  inX = keyData.i.x[i] === undefined ? keyData.i.x[0] : keyData.i.x[i];\r\n                  inY = keyData.i.y[i] === undefined ? keyData.i.y[0] : keyData.i.y[i];\r\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                  keyframeMetadata.__fnct[i] = fnc;\r\n                } else {\r\n                  fnc = keyframeMetadata.__fnct[i];\r\n                }\r\n              } else if (!keyframeMetadata.__fnct) {\r\n                outX = keyData.o.x;\r\n                outY = keyData.o.y;\r\n                inX = keyData.i.x;\r\n                inY = keyData.i.y;\r\n                fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                keyData.keyframeMetadata = fnc;\r\n              } else {\r\n                fnc = keyframeMetadata.__fnct;\r\n              }\r\n              perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n            }\r\n          }\r\n\r\n          endValue = nextKeyData.s || keyData.e;\r\n          keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\r\n\r\n          if (this.propType === 'multidimensional') {\r\n            newValue[i] = keyValue;\r\n          } else {\r\n            newValue = keyValue;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    caching.lastIndex = iterationIndex;\r\n    return newValue;\r\n  }\r\n\r\n  // based on @Toji's https://github.com/toji/gl-matrix/\r\n  function slerp(a, b, t) {\r\n    var out = [];\r\n    var ax = a[0];\r\n    var ay = a[1];\r\n    var az = a[2];\r\n    var aw = a[3];\r\n    var bx = b[0];\r\n    var by = b[1];\r\n    var bz = b[2];\r\n    var bw = b[3];\r\n\r\n    var omega;\r\n    var cosom;\r\n    var sinom;\r\n    var scale0;\r\n    var scale1;\r\n\r\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n    if (cosom < 0.0) {\r\n      cosom = -cosom;\r\n      bx = -bx;\r\n      by = -by;\r\n      bz = -bz;\r\n      bw = -bw;\r\n    }\r\n    if ((1.0 - cosom) > 0.000001) {\r\n      omega = Math.acos(cosom);\r\n      sinom = Math.sin(omega);\r\n      scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n      scale1 = Math.sin(t * omega) / sinom;\r\n    } else {\r\n      scale0 = 1.0 - t;\r\n      scale1 = t;\r\n    }\r\n    out[0] = scale0 * ax + scale1 * bx;\r\n    out[1] = scale0 * ay + scale1 * by;\r\n    out[2] = scale0 * az + scale1 * bz;\r\n    out[3] = scale0 * aw + scale1 * bw;\r\n\r\n    return out;\r\n  }\r\n\r\n  function quaternionToEuler(out, quat) {\r\n    var qx = quat[0];\r\n    var qy = quat[1];\r\n    var qz = quat[2];\r\n    var qw = quat[3];\r\n    var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\r\n    var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\r\n    var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\r\n    out[0] = heading / degToRads;\r\n    out[1] = attitude / degToRads;\r\n    out[2] = bank / degToRads;\r\n  }\r\n\r\n  function createQuaternion(values) {\r\n    var heading = values[0] * degToRads;\r\n    var attitude = values[1] * degToRads;\r\n    var bank = values[2] * degToRads;\r\n    var c1 = Math.cos(heading / 2);\r\n    var c2 = Math.cos(attitude / 2);\r\n    var c3 = Math.cos(bank / 2);\r\n    var s1 = Math.sin(heading / 2);\r\n    var s2 = Math.sin(attitude / 2);\r\n    var s3 = Math.sin(bank / 2);\r\n    var w = c1 * c2 * c3 - s1 * s2 * s3;\r\n    var x = s1 * s2 * c3 + c1 * c2 * s3;\r\n    var y = s1 * c2 * c3 + c1 * s2 * s3;\r\n    var z = c1 * s2 * c3 - s1 * c2 * s3;\r\n\r\n    return [x, y, z, w];\r\n  }\r\n\r\n  function getValueAtCurrentTime() {\r\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n    var initTime = this.keyframes[0].t - this.offsetTime;\r\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n    if (!(frameNum === this._caching.lastFrame || (this._caching.lastFrame !== initFrame && ((this._caching.lastFrame >= endTime && frameNum >= endTime) || (this._caching.lastFrame < initTime && frameNum < initTime))))) {\r\n      if (this._caching.lastFrame >= frameNum) {\r\n        this._caching._lastKeyframeIndex = -1;\r\n        this._caching.lastIndex = 0;\r\n      }\r\n\r\n      var renderResult = this.interpolateValue(frameNum, this._caching);\r\n      this.pv = renderResult;\r\n    }\r\n    this._caching.lastFrame = frameNum;\r\n    return this.pv;\r\n  }\r\n\r\n  function setVValue(val) {\r\n    var multipliedValue;\r\n    if (this.propType === 'unidimensional') {\r\n      multipliedValue = val * this.mult;\r\n      if (mathAbs(this.v - multipliedValue) > 0.00001) {\r\n        this.v = multipliedValue;\r\n        this._mdf = true;\r\n      }\r\n    } else {\r\n      var i = 0;\r\n      var len = this.v.length;\r\n      while (i < len) {\r\n        multipliedValue = val[i] * this.mult;\r\n        if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\r\n          this.v[i] = multipliedValue;\r\n          this._mdf = true;\r\n        }\r\n        i += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  function processEffectsSequence() {\r\n    if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\r\n      return;\r\n    }\r\n    if (this.lock) {\r\n      this.setVValue(this.pv);\r\n      return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = this._isFirstFrame;\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    var finalValue = this.kf ? this.pv : this.data.k;\r\n    for (i = 0; i < len; i += 1) {\r\n      finalValue = this.effectsSequence[i](finalValue);\r\n    }\r\n    this.setVValue(finalValue);\r\n    this._isFirstFrame = false;\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function addEffect(effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.container.addDynamicProperty(this);\r\n  }\r\n\r\n  function ValueProperty(elem, data, mult, container) {\r\n    this.propType = 'unidimensional';\r\n    this.mult = mult || 1;\r\n    this.data = data;\r\n    this.v = mult ? data.k * mult : data.k;\r\n    this.pv = data.k;\r\n    this._mdf = false;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this.vel = 0;\r\n    this.effectsSequence = [];\r\n    this._isFirstFrame = true;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function MultiDimensionalProperty(elem, data, mult, container) {\r\n    this.propType = 'multidimensional';\r\n    this.mult = mult || 1;\r\n    this.data = data;\r\n    this._mdf = false;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this.frameId = -1;\r\n    var i;\r\n    var len = data.k.length;\r\n    this.v = createTypedArray('float32', len);\r\n    this.pv = createTypedArray('float32', len);\r\n    this.vel = createTypedArray('float32', len);\r\n    for (i = 0; i < len; i += 1) {\r\n      this.v[i] = data.k[i] * this.mult;\r\n      this.pv[i] = data.k[i];\r\n    }\r\n    this._isFirstFrame = true;\r\n    this.effectsSequence = [];\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function KeyframedValueProperty(elem, data, mult, container) {\r\n    this.propType = 'unidimensional';\r\n    this.keyframes = data.k;\r\n    this.keyframesMetadata = [];\r\n    this.offsetTime = elem.data.st;\r\n    this.frameId = -1;\r\n    this._caching = {\r\n      lastFrame: initFrame, lastIndex: 0, value: 0, _lastKeyframeIndex: -1,\r\n    };\r\n    this.k = true;\r\n    this.kf = true;\r\n    this.data = data;\r\n    this.mult = mult || 1;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.v = initFrame;\r\n    this.pv = initFrame;\r\n    this._isFirstFrame = true;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.interpolateValue = interpolateValue;\r\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function KeyframedMultidimensionalProperty(elem, data, mult, container) {\r\n    this.propType = 'multidimensional';\r\n    var i;\r\n    var len = data.k.length;\r\n    var s;\r\n    var e;\r\n    var to;\r\n    var ti;\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\r\n        s = data.k[i].s;\r\n        e = data.k[i + 1].s;\r\n        to = data.k[i].to;\r\n        ti = data.k[i].ti;\r\n        if ((s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1])) || (s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2]))) {\r\n          data.k[i].to = null;\r\n          data.k[i].ti = null;\r\n        }\r\n        if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\r\n          if (s.length === 2 || (s[2] === e[2] && to[2] === 0 && ti[2] === 0)) {\r\n            data.k[i].to = null;\r\n            data.k[i].ti = null;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n    this.data = data;\r\n    this.keyframes = data.k;\r\n    this.keyframesMetadata = [];\r\n    this.offsetTime = elem.data.st;\r\n    this.k = true;\r\n    this.kf = true;\r\n    this._isFirstFrame = true;\r\n    this.mult = mult || 1;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.interpolateValue = interpolateValue;\r\n    this.frameId = -1;\r\n    var arrLen = data.k[0].s.length;\r\n    this.v = createTypedArray('float32', arrLen);\r\n    this.pv = createTypedArray('float32', arrLen);\r\n    for (i = 0; i < arrLen; i += 1) {\r\n      this.v[i] = initFrame;\r\n      this.pv[i] = initFrame;\r\n    }\r\n    this._caching = { lastFrame: initFrame, lastIndex: 0, value: createTypedArray('float32', arrLen) };\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function getProp(elem, data, type, mult, container) {\r\n    var p;\r\n    if (!data.k.length) {\r\n      p = new ValueProperty(elem, data, mult, container);\r\n    } else if (typeof (data.k[0]) === 'number') {\r\n      p = new MultiDimensionalProperty(elem, data, mult, container);\r\n    } else {\r\n      switch (type) {\r\n        case 0:\r\n          p = new KeyframedValueProperty(elem, data, mult, container);\r\n          break;\r\n        case 1:\r\n          p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    if (p.effectsSequence.length) {\r\n      container.addDynamicProperty(p);\r\n    }\r\n    return p;\r\n  }\r\n\r\n  var ob = {\r\n    getProp: getProp,\r\n  };\r\n  return ob;\r\n}());\r\n\r\n/* global Matrix, degToRads, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n/* exported TransformPropertyFactory */\r\n\r\nvar TransformPropertyFactory = (function () {\r\n  var defaultVector = [0, 0];\r\n\r\n  function applyToMatrix(mat) {\r\n    var _mdf = this._mdf;\r\n    this.iterateDynamicProperties();\r\n    this._mdf = this._mdf || _mdf;\r\n    if (this.a) {\r\n      mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n    }\r\n    if (this.s) {\r\n      mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n    }\r\n    if (this.sk) {\r\n      mat.skewFromAxis(-this.sk.v, this.sa.v);\r\n    }\r\n    if (this.r) {\r\n      mat.rotate(-this.r.v);\r\n    } else {\r\n      mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n        .rotateY(this.or.v[1])\r\n        .rotateX(this.or.v[0]);\r\n    }\r\n    if (this.data.p.s) {\r\n      if (this.data.p.z) {\r\n        mat.translate(this.px.v, this.py.v, -this.pz.v);\r\n      } else {\r\n        mat.translate(this.px.v, this.py.v, 0);\r\n      }\r\n    } else {\r\n      mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n    }\r\n  }\r\n  function processKeys(forceRender) {\r\n    if (this.elem.globalData.frameId === this.frameId) {\r\n      return;\r\n    }\r\n    if (this._isDirty) {\r\n      this.precalculateMatrix();\r\n      this._isDirty = false;\r\n    }\r\n\r\n    this.iterateDynamicProperties();\r\n\r\n    if (this._mdf || forceRender) {\r\n      var frameRate;\r\n      this.v.cloneFromProps(this.pre.props);\r\n      if (this.appliedTransformations < 1) {\r\n        this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n      }\r\n      if (this.appliedTransformations < 2) {\r\n        this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n      }\r\n      if (this.sk && this.appliedTransformations < 3) {\r\n        this.v.skewFromAxis(-this.sk.v, this.sa.v);\r\n      }\r\n      if (this.r && this.appliedTransformations < 4) {\r\n        this.v.rotate(-this.r.v);\r\n      } else if (!this.r && this.appliedTransformations < 4) {\r\n        this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n          .rotateY(this.or.v[1])\r\n          .rotateX(this.or.v[0]);\r\n      }\r\n      if (this.autoOriented) {\r\n        var v1;\r\n        var v2;\r\n        frameRate = this.elem.globalData.frameRate;\r\n        if (this.p && this.p.keyframes && this.p.getValueAtTime) {\r\n          if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\r\n            v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\r\n          } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\r\n            v1 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t / frameRate), 0);\r\n            v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\r\n          } else {\r\n            v1 = this.p.pv;\r\n            v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\r\n          }\r\n        } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\r\n          v1 = [];\r\n          v2 = [];\r\n          var px = this.px;\r\n          var py = this.py;\r\n          if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\r\n            v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v2[0] = px.getValueAtTime((px.keyframes[0].t) / frameRate, 0);\r\n            v2[1] = py.getValueAtTime((py.keyframes[0].t) / frameRate, 0);\r\n          } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\r\n            v1[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t / frameRate), 0);\r\n            v1[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t / frameRate), 0);\r\n            v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n            v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n          } else {\r\n            v1 = [px.pv, py.pv];\r\n            v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\r\n            v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\r\n          }\r\n        } else {\r\n          v2 = defaultVector;\r\n          v1 = v2;\r\n        }\r\n        this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\r\n      }\r\n      if (this.data.p && this.data.p.s) {\r\n        if (this.data.p.z) {\r\n          this.v.translate(this.px.v, this.py.v, -this.pz.v);\r\n        } else {\r\n          this.v.translate(this.px.v, this.py.v, 0);\r\n        }\r\n      } else {\r\n        this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n      }\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function precalculateMatrix() {\r\n    if (!this.a.k) {\r\n      this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n      this.appliedTransformations = 1;\r\n    } else {\r\n      return;\r\n    }\r\n    if (!this.s.effectsSequence.length) {\r\n      this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n      this.appliedTransformations = 2;\r\n    } else {\r\n      return;\r\n    }\r\n    if (this.sk) {\r\n      if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\r\n        this.pre.skewFromAxis(-this.sk.v, this.sa.v);\r\n        this.appliedTransformations = 3;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n    if (this.r) {\r\n      if (!this.r.effectsSequence.length) {\r\n        this.pre.rotate(-this.r.v);\r\n        this.appliedTransformations = 4;\r\n      }\r\n    } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\r\n      this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n        .rotateY(this.or.v[1])\r\n        .rotateX(this.or.v[0]);\r\n      this.appliedTransformations = 4;\r\n    }\r\n  }\r\n\r\n  function autoOrient() {\r\n    //\r\n    // var prevP = this.getValueAtTime();\r\n  }\r\n\r\n  function addDynamicProperty(prop) {\r\n    this._addDynamicProperty(prop);\r\n    this.elem.addDynamicProperty(prop);\r\n    this._isDirty = true;\r\n  }\r\n\r\n  function TransformProperty(elem, data, container) {\r\n    this.elem = elem;\r\n    this.frameId = -1;\r\n    this.propType = 'transform';\r\n    this.data = data;\r\n    this.v = new Matrix();\r\n    // Precalculated matrix with non animated properties\r\n    this.pre = new Matrix();\r\n    this.appliedTransformations = 0;\r\n    this.initDynamicPropertyContainer(container || elem);\r\n    if (data.p && data.p.s) {\r\n      this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\r\n      this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\r\n      if (data.p.z) {\r\n        this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\r\n      }\r\n    } else {\r\n      this.p = PropertyFactory.getProp(elem, data.p || { k: [0, 0, 0] }, 1, 0, this);\r\n    }\r\n    if (data.rx) {\r\n      this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\r\n      this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\r\n      this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\r\n      if (data.or.k[0].ti) {\r\n        var i;\r\n        var len = data.or.k.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          data.or.k[i].to = null;\r\n          data.or.k[i].ti = null;\r\n        }\r\n      }\r\n      this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this);\r\n      // sh Indicates it needs to be capped between -180 and 180\r\n      this.or.sh = true;\r\n    } else {\r\n      this.r = PropertyFactory.getProp(elem, data.r || { k: 0 }, 0, degToRads, this);\r\n    }\r\n    if (data.sk) {\r\n      this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\r\n      this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\r\n    }\r\n    this.a = PropertyFactory.getProp(elem, data.a || { k: [0, 0, 0] }, 1, 0, this);\r\n    this.s = PropertyFactory.getProp(elem, data.s || { k: [100, 100, 100] }, 1, 0.01, this);\r\n    // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\r\n    if (data.o) {\r\n      this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\r\n    } else {\r\n      this.o = { _mdf: false, v: 1 };\r\n    }\r\n    this._isDirty = true;\r\n    if (!this.dynamicProperties.length) {\r\n      this.getValue(true);\r\n    }\r\n  }\r\n\r\n  TransformProperty.prototype = {\r\n    applyToMatrix: applyToMatrix,\r\n    getValue: processKeys,\r\n    precalculateMatrix: precalculateMatrix,\r\n    autoOrient: autoOrient,\r\n  };\r\n\r\n  extendPrototype([DynamicPropertyContainer], TransformProperty);\r\n  TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\r\n  TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\r\n\r\n  function getTransformProperty(elem, data, container) {\r\n    return new TransformProperty(elem, data, container);\r\n  }\r\n\r\n  return {\r\n    getTransformProperty: getTransformProperty,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, createSizedArray, pointPool */\r\n\r\nfunction ShapePath() {\r\n  this.c = false;\r\n  this._length = 0;\r\n  this._maxLength = 8;\r\n  this.v = createSizedArray(this._maxLength);\r\n  this.o = createSizedArray(this._maxLength);\r\n  this.i = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapePath.prototype.setPathData = function (closed, len) {\r\n  this.c = closed;\r\n  this.setLength(len);\r\n  var i = 0;\r\n  while (i < len) {\r\n    this.v[i] = pointPool.newElement();\r\n    this.o[i] = pointPool.newElement();\r\n    this.i[i] = pointPool.newElement();\r\n    i += 1;\r\n  }\r\n};\r\n\r\nShapePath.prototype.setLength = function (len) {\r\n  while (this._maxLength < len) {\r\n    this.doubleArrayLength();\r\n  }\r\n  this._length = len;\r\n};\r\n\r\nShapePath.prototype.doubleArrayLength = function () {\r\n  this.v = this.v.concat(createSizedArray(this._maxLength));\r\n  this.i = this.i.concat(createSizedArray(this._maxLength));\r\n  this.o = this.o.concat(createSizedArray(this._maxLength));\r\n  this._maxLength *= 2;\r\n};\r\n\r\nShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\r\n  var arr;\r\n  this._length = Math.max(this._length, pos + 1);\r\n  if (this._length >= this._maxLength) {\r\n    this.doubleArrayLength();\r\n  }\r\n  switch (type) {\r\n    case 'v':\r\n      arr = this.v;\r\n      break;\r\n    case 'i':\r\n      arr = this.i;\r\n      break;\r\n    case 'o':\r\n      arr = this.o;\r\n      break;\r\n    default:\r\n      arr = [];\r\n      break;\r\n  }\r\n  if (!arr[pos] || (arr[pos] && !replace)) {\r\n    arr[pos] = pointPool.newElement();\r\n  }\r\n  arr[pos][0] = x;\r\n  arr[pos][1] = y;\r\n};\r\n\r\nShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\r\n  this.setXYAt(vX, vY, 'v', pos, replace);\r\n  this.setXYAt(oX, oY, 'o', pos, replace);\r\n  this.setXYAt(iX, iY, 'i', pos, replace);\r\n};\r\n\r\nShapePath.prototype.reverse = function () {\r\n  var newPath = new ShapePath();\r\n  newPath.setPathData(this.c, this._length);\r\n  var vertices = this.v;\r\n  var outPoints = this.o;\r\n  var inPoints = this.i;\r\n  var init = 0;\r\n  if (this.c) {\r\n    newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\r\n    init = 1;\r\n  }\r\n  var cnt = this._length - 1;\r\n  var len = this._length;\r\n\r\n  var i;\r\n  for (i = init; i < len; i += 1) {\r\n    newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\r\n    cnt -= 1;\r\n  }\r\n  return newPath;\r\n};\r\n\r\n/* global extendPrototype, roundCorner, BezierFactory, shapePool, degToRads,\r\n  shapeCollectionPool, PropertyFactory, bmMin, DynamicPropertyContainer */\r\n/* exported ShapePropertyFactory */\r\n\r\nvar ShapePropertyFactory = (function () {\r\n  var initFrame = -999999;\r\n\r\n  function interpolateShape(frameNum, previousValue, caching) {\r\n    var iterationIndex = caching.lastIndex;\r\n    var keyPropS;\r\n    var keyPropE;\r\n    var isHold;\r\n    var j;\r\n    var k;\r\n    var jLen;\r\n    var kLen;\r\n    var perc;\r\n    var vertexValue;\r\n    var kf = this.keyframes;\r\n    if (frameNum < kf[0].t - this.offsetTime) {\r\n      keyPropS = kf[0].s[0];\r\n      isHold = true;\r\n      iterationIndex = 0;\r\n    } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\r\n      keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\r\n      /* if(kf[kf.length - 1].s){\r\n                keyPropS = kf[kf.length - 1].s[0];\r\n            }else{\r\n                keyPropS = kf[kf.length - 2].e[0];\r\n            } */\r\n      isHold = true;\r\n    } else {\r\n      var i = iterationIndex;\r\n      var len = kf.length - 1;\r\n      var flag = true;\r\n      var keyData;\r\n      var nextKeyData;\r\n      var keyframeMetadata;\r\n      while (flag) {\r\n        keyData = kf[i];\r\n        nextKeyData = kf[i + 1];\r\n        if ((nextKeyData.t - this.offsetTime) > frameNum) {\r\n          break;\r\n        }\r\n        if (i < len - 1) {\r\n          i += 1;\r\n        } else {\r\n          flag = false;\r\n        }\r\n      }\r\n      keyframeMetadata = this.keyframesMetadata[i] || {};\r\n      isHold = keyData.h === 1;\r\n      iterationIndex = i;\r\n      if (!isHold) {\r\n        if (frameNum >= nextKeyData.t - this.offsetTime) {\r\n          perc = 1;\r\n        } else if (frameNum < keyData.t - this.offsetTime) {\r\n          perc = 0;\r\n        } else {\r\n          var fnc;\r\n          if (keyframeMetadata.__fnct) {\r\n            fnc = keyframeMetadata.__fnct;\r\n          } else {\r\n            fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\r\n            keyframeMetadata.__fnct = fnc;\r\n          }\r\n          perc = fnc((frameNum - (keyData.t - this.offsetTime)) / ((nextKeyData.t - this.offsetTime) - (keyData.t - this.offsetTime)));\r\n        }\r\n        keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\r\n      }\r\n      keyPropS = keyData.s[0];\r\n    }\r\n    jLen = previousValue._length;\r\n    kLen = keyPropS.i[0].length;\r\n    caching.lastIndex = iterationIndex;\r\n\r\n    for (j = 0; j < jLen; j += 1) {\r\n      for (k = 0; k < kLen; k += 1) {\r\n        vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\r\n        previousValue.i[j][k] = vertexValue;\r\n        vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\r\n        previousValue.o[j][k] = vertexValue;\r\n        vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\r\n        previousValue.v[j][k] = vertexValue;\r\n      }\r\n    }\r\n  }\r\n\r\n  function interpolateShapeCurrentTime() {\r\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n    var initTime = this.keyframes[0].t - this.offsetTime;\r\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n    var lastFrame = this._caching.lastFrame;\r\n    if (!(lastFrame !== initFrame && ((lastFrame < initTime && frameNum < initTime) || (lastFrame > endTime && frameNum > endTime)))) {\r\n      /// /\r\n      this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\r\n      this.interpolateShape(frameNum, this.pv, this._caching);\r\n      /// /\r\n    }\r\n    this._caching.lastFrame = frameNum;\r\n    return this.pv;\r\n  }\r\n\r\n  function resetShape() {\r\n    this.paths = this.localShapeCollection;\r\n  }\r\n\r\n  function shapesEqual(shape1, shape2) {\r\n    if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\r\n      return false;\r\n    }\r\n    var i;\r\n    var len = shape1._length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (shape1.v[i][0] !== shape2.v[i][0]\r\n            || shape1.v[i][1] !== shape2.v[i][1]\r\n            || shape1.o[i][0] !== shape2.o[i][0]\r\n            || shape1.o[i][1] !== shape2.o[i][1]\r\n            || shape1.i[i][0] !== shape2.i[i][0]\r\n            || shape1.i[i][1] !== shape2.i[i][1]) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function setVValue(newPath) {\r\n    if (!shapesEqual(this.v, newPath)) {\r\n      this.v = shapePool.clone(newPath);\r\n      this.localShapeCollection.releaseShapes();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this._mdf = true;\r\n      this.paths = this.localShapeCollection;\r\n    }\r\n  }\r\n\r\n  function processEffectsSequence() {\r\n    if (this.elem.globalData.frameId === this.frameId) {\r\n      return;\r\n    } if (!this.effectsSequence.length) {\r\n      this._mdf = false;\r\n      return;\r\n    }\r\n    if (this.lock) {\r\n      this.setVValue(this.pv);\r\n      return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = false;\r\n    var finalValue;\r\n    if (this.kf) {\r\n      finalValue = this.pv;\r\n    } else if (this.data.ks) {\r\n      finalValue = this.data.ks.k;\r\n    } else {\r\n      finalValue = this.data.pt.k;\r\n    }\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      finalValue = this.effectsSequence[i](finalValue);\r\n    }\r\n    this.setVValue(finalValue);\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function ShapeProperty(elem, data, type) {\r\n    this.propType = 'shape';\r\n    this.comp = elem.comp;\r\n    this.container = elem;\r\n    this.elem = elem;\r\n    this.data = data;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this._mdf = false;\r\n    var pathData = type === 3 ? data.pt.k : data.ks.k;\r\n    this.v = shapePool.clone(pathData);\r\n    this.pv = shapePool.clone(this.v);\r\n    this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n    this.paths = this.localShapeCollection;\r\n    this.paths.addShape(this.v);\r\n    this.reset = resetShape;\r\n    this.effectsSequence = [];\r\n  }\r\n\r\n  function addEffect(effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.container.addDynamicProperty(this);\r\n  }\r\n\r\n  ShapeProperty.prototype.interpolateShape = interpolateShape;\r\n  ShapeProperty.prototype.getValue = processEffectsSequence;\r\n  ShapeProperty.prototype.setVValue = setVValue;\r\n  ShapeProperty.prototype.addEffect = addEffect;\r\n\r\n  function KeyframedShapeProperty(elem, data, type) {\r\n    this.propType = 'shape';\r\n    this.comp = elem.comp;\r\n    this.elem = elem;\r\n    this.container = elem;\r\n    this.offsetTime = elem.data.st;\r\n    this.keyframes = type === 3 ? data.pt.k : data.ks.k;\r\n    this.keyframesMetadata = [];\r\n    this.k = true;\r\n    this.kf = true;\r\n    var len = this.keyframes[0].s[0].i.length;\r\n    this.v = shapePool.newElement();\r\n    this.v.setPathData(this.keyframes[0].s[0].c, len);\r\n    this.pv = shapePool.clone(this.v);\r\n    this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n    this.paths = this.localShapeCollection;\r\n    this.paths.addShape(this.v);\r\n    this.lastFrame = initFrame;\r\n    this.reset = resetShape;\r\n    this._caching = { lastFrame: initFrame, lastIndex: 0 };\r\n    this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\r\n  }\r\n  KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\r\n  KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\r\n  KeyframedShapeProperty.prototype.setVValue = setVValue;\r\n  KeyframedShapeProperty.prototype.addEffect = addEffect;\r\n\r\n  var EllShapeProperty = (function () {\r\n    var cPoint = roundCorner;\r\n\r\n    function EllShapePropertyFactory(elem, data) {\r\n      /* this.v = {\r\n                v: createSizedArray(4),\r\n                i: createSizedArray(4),\r\n                o: createSizedArray(4),\r\n                c: true\r\n            }; */\r\n      this.v = shapePool.newElement();\r\n      this.v.setPathData(true, 4);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.paths = this.localShapeCollection;\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.d = data.d;\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.frameId = -1;\r\n      this.initDynamicPropertyContainer(elem);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertEllToPath();\r\n      }\r\n    }\r\n\r\n    EllShapePropertyFactory.prototype = {\r\n      reset: resetShape,\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n\r\n        if (this._mdf) {\r\n          this.convertEllToPath();\r\n        }\r\n      },\r\n      convertEllToPath: function () {\r\n        var p0 = this.p.v[0];\r\n        var p1 = this.p.v[1];\r\n        var s0 = this.s.v[0] / 2;\r\n        var s1 = this.s.v[1] / 2;\r\n        var _cw = this.d !== 3;\r\n        var _v = this.v;\r\n        _v.v[0][0] = p0;\r\n        _v.v[0][1] = p1 - s1;\r\n        _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.v[1][1] = p1;\r\n        _v.v[2][0] = p0;\r\n        _v.v[2][1] = p1 + s1;\r\n        _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.v[3][1] = p1;\r\n        _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n        _v.i[0][1] = p1 - s1;\r\n        _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.i[1][1] = p1 - s1 * cPoint;\r\n        _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n        _v.i[2][1] = p1 + s1;\r\n        _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.i[3][1] = p1 + s1 * cPoint;\r\n        _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n        _v.o[0][1] = p1 - s1;\r\n        _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.o[1][1] = p1 + s1 * cPoint;\r\n        _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n        _v.o[2][1] = p1 + s1;\r\n        _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.o[3][1] = p1 - s1 * cPoint;\r\n      },\r\n    };\r\n\r\n    extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\r\n\r\n    return EllShapePropertyFactory;\r\n  }());\r\n\r\n  var StarShapeProperty = (function () {\r\n    function StarShapePropertyFactory(elem, data) {\r\n      this.v = shapePool.newElement();\r\n      this.v.setPathData(true, 0);\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.data = data;\r\n      this.frameId = -1;\r\n      this.d = data.d;\r\n      this.initDynamicPropertyContainer(elem);\r\n      if (data.sy === 1) {\r\n        this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\r\n        this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\r\n        this.convertToPath = this.convertStarToPath;\r\n      } else {\r\n        this.convertToPath = this.convertPolygonToPath;\r\n      }\r\n      this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\r\n      this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\r\n      this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.paths = this.localShapeCollection;\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertToPath();\r\n      }\r\n    }\r\n\r\n    StarShapePropertyFactory.prototype = {\r\n      reset: resetShape,\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n        if (this._mdf) {\r\n          this.convertToPath();\r\n        }\r\n      },\r\n      convertStarToPath: function () {\r\n        var numPts = Math.floor(this.pt.v) * 2;\r\n        var angle = (Math.PI * 2) / numPts;\r\n        /* this.v.v.length = numPts;\r\n                this.v.i.length = numPts;\r\n                this.v.o.length = numPts; */\r\n        var longFlag = true;\r\n        var longRad = this.or.v;\r\n        var shortRad = this.ir.v;\r\n        var longRound = this.os.v;\r\n        var shortRound = this.is.v;\r\n        var longPerimSegment = (2 * Math.PI * longRad) / (numPts * 2);\r\n        var shortPerimSegment = (2 * Math.PI * shortRad) / (numPts * 2);\r\n        var i;\r\n        var rad;\r\n        var roundness;\r\n        var perimSegment;\r\n        var currentAng = -Math.PI / 2;\r\n        currentAng += this.r.v;\r\n        var dir = this.data.d === 3 ? -1 : 1;\r\n        this.v._length = 0;\r\n        for (i = 0; i < numPts; i += 1) {\r\n          rad = longFlag ? longRad : shortRad;\r\n          roundness = longFlag ? longRound : shortRound;\r\n          perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\r\n          var x = rad * Math.cos(currentAng);\r\n          var y = rad * Math.sin(currentAng);\r\n          var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n          var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n          x += +this.p.v[0];\r\n          y += +this.p.v[1];\r\n          this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n\r\n          /* this.v.v[i] = [x,y];\r\n                    this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                    this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                    this.v._length = numPts; */\r\n          longFlag = !longFlag;\r\n          currentAng += angle * dir;\r\n        }\r\n      },\r\n      convertPolygonToPath: function () {\r\n        var numPts = Math.floor(this.pt.v);\r\n        var angle = (Math.PI * 2) / numPts;\r\n        var rad = this.or.v;\r\n        var roundness = this.os.v;\r\n        var perimSegment = (2 * Math.PI * rad) / (numPts * 4);\r\n        var i;\r\n        var currentAng = -Math.PI * 0.5;\r\n        var dir = this.data.d === 3 ? -1 : 1;\r\n        currentAng += this.r.v;\r\n        this.v._length = 0;\r\n        for (i = 0; i < numPts; i += 1) {\r\n          var x = rad * Math.cos(currentAng);\r\n          var y = rad * Math.sin(currentAng);\r\n          var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n          var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n          x += +this.p.v[0];\r\n          y += +this.p.v[1];\r\n          this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n          currentAng += angle * dir;\r\n        }\r\n        this.paths.length = 0;\r\n        this.paths[0] = this.v;\r\n      },\r\n\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\r\n\r\n    return StarShapePropertyFactory;\r\n  }());\r\n\r\n  var RectShapeProperty = (function () {\r\n    function RectShapePropertyFactory(elem, data) {\r\n      this.v = shapePool.newElement();\r\n      this.v.c = true;\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.paths = this.localShapeCollection;\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.frameId = -1;\r\n      this.d = data.d;\r\n      this.initDynamicPropertyContainer(elem);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n      this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertRectToPath();\r\n      }\r\n    }\r\n\r\n    RectShapePropertyFactory.prototype = {\r\n      convertRectToPath: function () {\r\n        var p0 = this.p.v[0];\r\n        var p1 = this.p.v[1];\r\n        var v0 = this.s.v[0] / 2;\r\n        var v1 = this.s.v[1] / 2;\r\n        var round = bmMin(v0, v1, this.r.v);\r\n        var cPoint = round * (1 - roundCorner);\r\n        this.v._length = 0;\r\n\r\n        if (this.d === 2 || this.d === 1) {\r\n          this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\r\n          this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\r\n          if (round !== 0) {\r\n            this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\r\n            this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\r\n          } else {\r\n            this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\r\n          }\r\n        } else {\r\n          this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\r\n          if (round !== 0) {\r\n            this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\r\n            this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\r\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\r\n          } else {\r\n            this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\r\n            this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\r\n          }\r\n        }\r\n      },\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n        if (this._mdf) {\r\n          this.convertRectToPath();\r\n        }\r\n      },\r\n      reset: resetShape,\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\r\n\r\n    return RectShapePropertyFactory;\r\n  }());\r\n\r\n  function getShapeProp(elem, data, type) {\r\n    var prop;\r\n    if (type === 3 || type === 4) {\r\n      var dataProp = type === 3 ? data.pt : data.ks;\r\n      var keys = dataProp.k;\r\n      if (keys.length) {\r\n        prop = new KeyframedShapeProperty(elem, data, type);\r\n      } else {\r\n        prop = new ShapeProperty(elem, data, type);\r\n      }\r\n    } else if (type === 5) {\r\n      prop = new RectShapeProperty(elem, data);\r\n    } else if (type === 6) {\r\n      prop = new EllShapeProperty(elem, data);\r\n    } else if (type === 7) {\r\n      prop = new StarShapeProperty(elem, data);\r\n    }\r\n    if (prop.k) {\r\n      elem.addDynamicProperty(prop);\r\n    }\r\n    return prop;\r\n  }\r\n\r\n  function getConstructorFunction() {\r\n    return ShapeProperty;\r\n  }\r\n\r\n  function getKeyframedConstructorFunction() {\r\n    return KeyframedShapeProperty;\r\n  }\r\n\r\n  var ob = {};\r\n  ob.getShapeProp = getShapeProp;\r\n  ob.getConstructorFunction = getConstructorFunction;\r\n  ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\r\n  return ob;\r\n}());\r\n\r\n/* global shapeCollectionPool, initialDefaultFrame, extendPrototype, DynamicPropertyContainer */\r\n/* exported ShapeModifiers */\r\n\r\nvar ShapeModifiers = (function () {\r\n  var ob = {};\r\n  var modifiers = {};\r\n  ob.registerModifier = registerModifier;\r\n  ob.getModifier = getModifier;\r\n\r\n  function registerModifier(nm, factory) {\r\n    if (!modifiers[nm]) {\r\n      modifiers[nm] = factory;\r\n    }\r\n  }\r\n\r\n  function getModifier(nm, elem, data) {\r\n    return new modifiers[nm](elem, data);\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\nfunction ShapeModifier() {}\r\nShapeModifier.prototype.initModifierProperties = function () {};\r\nShapeModifier.prototype.addShapeToModifier = function () {};\r\nShapeModifier.prototype.addShape = function (data) {\r\n  if (!this.closed) {\r\n    // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\r\n    data.sh.container.addDynamicProperty(data.sh);\r\n    var shapeData = { shape: data.sh, data: data, localShapeCollection: shapeCollectionPool.newShapeCollection() };\r\n    this.shapes.push(shapeData);\r\n    this.addShapeToModifier(shapeData);\r\n    if (this._isAnimated) {\r\n      data.setAsAnimated();\r\n    }\r\n  }\r\n};\r\nShapeModifier.prototype.init = function (elem, data) {\r\n  this.shapes = [];\r\n  this.elem = elem;\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.initModifierProperties(elem, data);\r\n  this.frameId = initialDefaultFrame;\r\n  this.closed = false;\r\n  this.k = false;\r\n  if (this.dynamicProperties.length) {\r\n    this.k = true;\r\n  } else {\r\n    this.getValue(true);\r\n  }\r\n};\r\nShapeModifier.prototype.processKeys = function () {\r\n  if (this.elem.globalData.frameId === this.frameId) {\r\n    return;\r\n  }\r\n  this.frameId = this.elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], ShapeModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, segmentsLengthPool, bez, shapePool, ShapeModifiers */\r\n\r\nfunction TrimModifier() {\r\n}\r\nextendPrototype([ShapeModifier], TrimModifier);\r\nTrimModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\r\n  this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\r\n  this.sValue = 0;\r\n  this.eValue = 0;\r\n  this.getValue = this.processKeys;\r\n  this.m = data.m;\r\n  this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\r\n};\r\n\r\nTrimModifier.prototype.addShapeToModifier = function (shapeData) {\r\n  shapeData.pathsData = [];\r\n};\r\n\r\nTrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\r\n  var segments = [];\r\n  if (e <= 1) {\r\n    segments.push({\r\n      s: s,\r\n      e: e,\r\n    });\r\n  } else if (s >= 1) {\r\n    segments.push({\r\n      s: s - 1,\r\n      e: e - 1,\r\n    });\r\n  } else {\r\n    segments.push({\r\n      s: s,\r\n      e: 1,\r\n    });\r\n    segments.push({\r\n      s: 0,\r\n      e: e - 1,\r\n    });\r\n  }\r\n  var shapeSegments = [];\r\n  var i;\r\n  var len = segments.length;\r\n  var segmentOb;\r\n  for (i = 0; i < len; i += 1) {\r\n    segmentOb = segments[i];\r\n    if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\r\n      var shapeS;\r\n      var shapeE;\r\n      if (segmentOb.s * totalModifierLength <= addedLength) {\r\n        shapeS = 0;\r\n      } else {\r\n        shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\r\n      }\r\n      if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\r\n        shapeE = 1;\r\n      } else {\r\n        shapeE = ((segmentOb.e * totalModifierLength - addedLength) / shapeLength);\r\n      }\r\n      shapeSegments.push([shapeS, shapeE]);\r\n    }\r\n  }\r\n  if (!shapeSegments.length) {\r\n    shapeSegments.push([0, 0]);\r\n  }\r\n  return shapeSegments;\r\n};\r\n\r\nTrimModifier.prototype.releasePathsData = function (pathsData) {\r\n  var i;\r\n  var len = pathsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    segmentsLengthPool.release(pathsData[i]);\r\n  }\r\n  pathsData.length = 0;\r\n  return pathsData;\r\n};\r\n\r\nTrimModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var s;\r\n  var e;\r\n  if (this._mdf || _isFirstFrame) {\r\n    var o = (this.o.v % 360) / 360;\r\n    if (o < 0) {\r\n      o += 1;\r\n    }\r\n    if (this.s.v > 1) {\r\n      s = 1 + o;\r\n    } else if (this.s.v < 0) {\r\n      s = 0 + o;\r\n    } else {\r\n      s = this.s.v + o;\r\n    }\r\n    if (this.e.v > 1) {\r\n      e = 1 + o;\r\n    } else if (this.e.v < 0) {\r\n      e = 0 + o;\r\n    } else {\r\n      e = this.e.v + o;\r\n    }\r\n\r\n    if (s > e) {\r\n      var _s = s;\r\n      s = e;\r\n      e = _s;\r\n    }\r\n    s = Math.round(s * 10000) * 0.0001;\r\n    e = Math.round(e * 10000) * 0.0001;\r\n    this.sValue = s;\r\n    this.eValue = e;\r\n  } else {\r\n    s = this.sValue;\r\n    e = this.eValue;\r\n  }\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var pathsData;\r\n  var pathData;\r\n  var totalShapeLength;\r\n  var totalModifierLength = 0;\r\n\r\n  if (e === s) {\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapes[i].localShapeCollection.releaseShapes();\r\n      this.shapes[i].shape._mdf = true;\r\n      this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\r\n      if (this._mdf) {\r\n        this.shapes[i].pathsData.length = 0;\r\n      }\r\n    }\r\n  } else if (!((e === 1 && s === 0) || (e === 0 && s === 1))) {\r\n    var segments = [];\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\r\n      if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\r\n        shapeData.shape.paths = shapeData.localShapeCollection;\r\n      } else {\r\n        shapePaths = shapeData.shape.paths;\r\n        jLen = shapePaths._length;\r\n        totalShapeLength = 0;\r\n        if (!shapeData.shape._mdf && shapeData.pathsData.length) {\r\n          totalShapeLength = shapeData.totalShapeLength;\r\n        } else {\r\n          pathsData = this.releasePathsData(shapeData.pathsData);\r\n          for (j = 0; j < jLen; j += 1) {\r\n            pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\r\n            pathsData.push(pathData);\r\n            totalShapeLength += pathData.totalLength;\r\n          }\r\n          shapeData.totalShapeLength = totalShapeLength;\r\n          shapeData.pathsData = pathsData;\r\n        }\r\n\r\n        totalModifierLength += totalShapeLength;\r\n        shapeData.shape._mdf = true;\r\n      }\r\n    }\r\n    var shapeS = s;\r\n    var shapeE = e;\r\n    var addedLength = 0;\r\n    var edges;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      shapeData = this.shapes[i];\r\n      if (shapeData.shape._mdf) {\r\n        localShapeCollection = shapeData.localShapeCollection;\r\n        localShapeCollection.releaseShapes();\r\n        // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\r\n        if (this.m === 2 && len > 1) {\r\n          edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\r\n          addedLength += shapeData.totalShapeLength;\r\n        } else {\r\n          edges = [[shapeS, shapeE]];\r\n        }\r\n        jLen = edges.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          shapeS = edges[j][0];\r\n          shapeE = edges[j][1];\r\n          segments.length = 0;\r\n          if (shapeE <= 1) {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * shapeS,\r\n              e: shapeData.totalShapeLength * shapeE,\r\n            });\r\n          } else if (shapeS >= 1) {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * (shapeS - 1),\r\n              e: shapeData.totalShapeLength * (shapeE - 1),\r\n            });\r\n          } else {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * shapeS,\r\n              e: shapeData.totalShapeLength,\r\n            });\r\n            segments.push({\r\n              s: 0,\r\n              e: shapeData.totalShapeLength * (shapeE - 1),\r\n            });\r\n          }\r\n          var newShapesData = this.addShapes(shapeData, segments[0]);\r\n          if (segments[0].s !== segments[0].e) {\r\n            if (segments.length > 1) {\r\n              var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\r\n              if (lastShapeInCollection.c) {\r\n                var lastShape = newShapesData.pop();\r\n                this.addPaths(newShapesData, localShapeCollection);\r\n                newShapesData = this.addShapes(shapeData, segments[1], lastShape);\r\n              } else {\r\n                this.addPaths(newShapesData, localShapeCollection);\r\n                newShapesData = this.addShapes(shapeData, segments[1]);\r\n              }\r\n            }\r\n            this.addPaths(newShapesData, localShapeCollection);\r\n          }\r\n        }\r\n        shapeData.shape.paths = localShapeCollection;\r\n      }\r\n    }\r\n  } else if (this._mdf) {\r\n    for (i = 0; i < len; i += 1) {\r\n      // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\r\n      // Don't remove this even if it's losing cached info.\r\n      this.shapes[i].pathsData.length = 0;\r\n      this.shapes[i].shape._mdf = true;\r\n    }\r\n  }\r\n};\r\n\r\nTrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\r\n  var i;\r\n  var len = newPaths.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    localShapeCollection.addShape(newPaths[i]);\r\n  }\r\n};\r\n\r\nTrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\r\n  shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\r\n  shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\r\n  if (newShape) {\r\n    shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\r\n  }\r\n  shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\r\n  shapePath.setXYAt(points[1], points[5], 'o', pos);\r\n  shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\r\n  if (newShape) {\r\n    shapePath.setXYAt(points[0], points[4], 'v', pos);\r\n  }\r\n  shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\r\n  var pathsData = shapeData.pathsData;\r\n  var shapePaths = shapeData.shape.paths.shapes;\r\n  var i;\r\n  var len = shapeData.shape.paths._length;\r\n  var j;\r\n  var jLen;\r\n  var addedLength = 0;\r\n  var currentLengthData;\r\n  var segmentCount;\r\n  var lengths;\r\n  var segment;\r\n  var shapes = [];\r\n  var initPos;\r\n  var newShape = true;\r\n  if (!shapePath) {\r\n    shapePath = shapePool.newElement();\r\n    segmentCount = 0;\r\n    initPos = 0;\r\n  } else {\r\n    segmentCount = shapePath._length;\r\n    initPos = shapePath._length;\r\n  }\r\n  shapes.push(shapePath);\r\n  for (i = 0; i < len; i += 1) {\r\n    lengths = pathsData[i].lengths;\r\n    shapePath.c = shapePaths[i].c;\r\n    jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\r\n    for (j = 1; j < jLen; j += 1) {\r\n      currentLengthData = lengths[j - 1];\r\n      if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\r\n        addedLength += currentLengthData.addedLength;\r\n        shapePath.c = false;\r\n      } else if (addedLength > shapeSegment.e) {\r\n        shapePath.c = false;\r\n        break;\r\n      } else {\r\n        if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\r\n          this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n        } else {\r\n          segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\r\n          this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n          // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n          shapePath.c = false;\r\n        }\r\n        addedLength += currentLengthData.addedLength;\r\n        segmentCount += 1;\r\n      }\r\n    }\r\n    if (shapePaths[i].c && lengths.length) {\r\n      currentLengthData = lengths[j - 1];\r\n      if (addedLength <= shapeSegment.e) {\r\n        var segmentLength = lengths[j - 1].addedLength;\r\n        if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\r\n          this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n        } else {\r\n          segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\r\n          this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n          // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n          shapePath.c = false;\r\n        }\r\n      } else {\r\n        shapePath.c = false;\r\n      }\r\n      addedLength += currentLengthData.addedLength;\r\n      segmentCount += 1;\r\n    }\r\n    if (shapePath._length) {\r\n      shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\r\n      shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\r\n    }\r\n    if (addedLength > shapeSegment.e) {\r\n      break;\r\n    }\r\n    if (i < len - 1) {\r\n      shapePath = shapePool.newElement();\r\n      newShape = true;\r\n      shapes.push(shapePath);\r\n      segmentCount = 0;\r\n    }\r\n  }\r\n  return shapes;\r\n};\r\n\r\nShapeModifiers.registerModifier('tm', TrimModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, shapePool, roundCorner, ShapeModifiers */\r\n\r\nfunction RoundCornersModifier() {}\r\nextendPrototype([ShapeModifier], RoundCornersModifier);\r\nRoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\r\n  this._isAnimated = !!this.rd.effectsSequence.length;\r\n};\r\n\r\nRoundCornersModifier.prototype.processPath = function (path, round) {\r\n  var clonedPath = shapePool.newElement();\r\n  clonedPath.c = path.c;\r\n  var i;\r\n  var len = path._length;\r\n  var currentV;\r\n  var currentI;\r\n  var currentO;\r\n  var closerV;\r\n  var distance;\r\n  var newPosPerc;\r\n  var index = 0;\r\n  var vX;\r\n  var vY;\r\n  var oX;\r\n  var oY;\r\n  var iX;\r\n  var iY;\r\n  for (i = 0; i < len; i += 1) {\r\n    currentV = path.v[i];\r\n    currentO = path.o[i];\r\n    currentI = path.i[i];\r\n    if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\r\n      if ((i === 0 || i === len - 1) && !path.c) {\r\n        clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\r\n        /* clonedPath.v[index] = currentV;\r\n                clonedPath.o[index] = currentO;\r\n                clonedPath.i[index] = currentI; */\r\n        index += 1;\r\n      } else {\r\n        if (i === 0) {\r\n          closerV = path.v[len - 1];\r\n        } else {\r\n          closerV = path.v[i - 1];\r\n        }\r\n        distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n        newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n        iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n        vX = iX;\r\n        iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\r\n        vY = iY;\r\n        oX = vX - (vX - currentV[0]) * roundCorner;\r\n        oY = vY - (vY - currentV[1]) * roundCorner;\r\n        clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n        index += 1;\r\n\r\n        if (i === len - 1) {\r\n          closerV = path.v[0];\r\n        } else {\r\n          closerV = path.v[i + 1];\r\n        }\r\n        distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n        newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n        oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n        vX = oX;\r\n        oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\r\n        vY = oY;\r\n        iX = vX - (vX - currentV[0]) * roundCorner;\r\n        iY = vY - (vY - currentV[1]) * roundCorner;\r\n        clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n        index += 1;\r\n      }\r\n    } else {\r\n      clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\r\n      index += 1;\r\n    }\r\n  }\r\n  return clonedPath;\r\n};\r\n\r\nRoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var rd = this.rd.v;\r\n\r\n  if (rd !== 0) {\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      localShapeCollection = shapeData.localShapeCollection;\r\n      if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n        localShapeCollection.releaseShapes();\r\n        shapeData.shape._mdf = true;\r\n        shapePaths = shapeData.shape.paths.shapes;\r\n        jLen = shapeData.shape.paths._length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\r\n        }\r\n      }\r\n      shapeData.shape.paths = shapeData.localShapeCollection;\r\n    }\r\n  }\r\n  if (!this.dynamicProperties.length) {\r\n    this._mdf = false;\r\n  }\r\n};\r\n\r\nShapeModifiers.registerModifier('rd', RoundCornersModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, shapePool, ShapeModifiers */\r\n\r\nfunction PuckerAndBloatModifier() {}\r\nextendPrototype([ShapeModifier], PuckerAndBloatModifier);\r\nPuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\r\n  this._isAnimated = !!this.amount.effectsSequence.length;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processPath = function (path, amount) {\r\n  var percent = amount / 100;\r\n  var centerPoint = [0, 0];\r\n  var pathLength = path._length;\r\n  var i = 0;\r\n  for (i = 0; i < pathLength; i += 1) {\r\n    centerPoint[0] += path.v[i][0];\r\n    centerPoint[1] += path.v[i][1];\r\n  }\r\n  centerPoint[0] /= pathLength;\r\n  centerPoint[1] /= pathLength;\r\n  var clonedPath = shapePool.newElement();\r\n  clonedPath.c = path.c;\r\n  var vX;\r\n  var vY;\r\n  var oX;\r\n  var oY;\r\n  var iX;\r\n  var iY;\r\n  for (i = 0; i < pathLength; i += 1) {\r\n    vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\r\n    vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\r\n    oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\r\n    oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\r\n    iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\r\n    iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\r\n    clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\r\n  }\r\n  return clonedPath;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var amount = this.amount.v;\r\n\r\n  if (amount !== 0) {\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      localShapeCollection = shapeData.localShapeCollection;\r\n      if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n        localShapeCollection.releaseShapes();\r\n        shapeData.shape._mdf = true;\r\n        shapePaths = shapeData.shape.paths.shapes;\r\n        jLen = shapeData.shape.paths._length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\r\n        }\r\n      }\r\n      shapeData.shape.paths = shapeData.localShapeCollection;\r\n    }\r\n  }\r\n  if (!this.dynamicProperties.length) {\r\n    this._mdf = false;\r\n  }\r\n};\r\nShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, TransformPropertyFactory, PropertyFactory, Matrix, ShapeModifiers */\r\n\r\nfunction RepeaterModifier() {}\r\nextendPrototype([ShapeModifier], RepeaterModifier);\r\n\r\nRepeaterModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\r\n  this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\r\n  this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\r\n  this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\r\n  this.data = data;\r\n  if (!this.dynamicProperties.length) {\r\n    this.getValue(true);\r\n  }\r\n  this._isAnimated = !!this.dynamicProperties.length;\r\n  this.pMatrix = new Matrix();\r\n  this.rMatrix = new Matrix();\r\n  this.sMatrix = new Matrix();\r\n  this.tMatrix = new Matrix();\r\n  this.matrix = new Matrix();\r\n};\r\n\r\nRepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\r\n  var dir = inv ? -1 : 1;\r\n  var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\r\n  var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\r\n  pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\r\n  rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n  rMatrix.rotate(-transform.r.v * dir * perc);\r\n  rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n  sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n  sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\r\n  sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n};\r\n\r\nRepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\r\n  this.elem = elem;\r\n  this.arr = arr;\r\n  this.pos = pos;\r\n  this.elemsData = elemsData;\r\n  this._currentCopies = 0;\r\n  this._elements = [];\r\n  this._groups = [];\r\n  this.frameId = -1;\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.initModifierProperties(elem, arr[pos]);\r\n  while (pos > 0) {\r\n    pos -= 1;\r\n    // this._elements.unshift(arr.splice(pos,1)[0]);\r\n    this._elements.unshift(arr[pos]);\r\n  }\r\n  if (this.dynamicProperties.length) {\r\n    this.k = true;\r\n  } else {\r\n    this.getValue(true);\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.resetElements = function (elements) {\r\n  var i;\r\n  var len = elements.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    elements[i]._processed = false;\r\n    if (elements[i].ty === 'gr') {\r\n      this.resetElements(elements[i].it);\r\n    }\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.cloneElements = function (elements) {\r\n  var newElements = JSON.parse(JSON.stringify(elements));\r\n  this.resetElements(newElements);\r\n  return newElements;\r\n};\r\n\r\nRepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\r\n  var i;\r\n  var len = elements.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    elements[i]._render = renderFlag;\r\n    if (elements[i].ty === 'gr') {\r\n      this.changeGroupRender(elements[i].it, renderFlag);\r\n    }\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var items;\r\n  var itemsTransform;\r\n  var i;\r\n  var dir;\r\n  var cont;\r\n  var hasReloaded = false;\r\n  if (this._mdf || _isFirstFrame) {\r\n    var copies = Math.ceil(this.c.v);\r\n    if (this._groups.length < copies) {\r\n      while (this._groups.length < copies) {\r\n        var group = {\r\n          it: this.cloneElements(this._elements),\r\n          ty: 'gr',\r\n        };\r\n        group.it.push({\r\n          a: { a: 0, ix: 1, k: [0, 0] }, nm: 'Transform', o: { a: 0, ix: 7, k: 100 }, p: { a: 0, ix: 2, k: [0, 0] }, r: { a: 1, ix: 6, k: [{ s: 0, e: 0, t: 0 }, { s: 0, e: 0, t: 1 }] }, s: { a: 0, ix: 3, k: [100, 100] }, sa: { a: 0, ix: 5, k: 0 }, sk: { a: 0, ix: 4, k: 0 }, ty: 'tr',\r\n        });\r\n\r\n        this.arr.splice(0, 0, group);\r\n        this._groups.splice(0, 0, group);\r\n        this._currentCopies += 1;\r\n      }\r\n      this.elem.reloadShapes();\r\n      hasReloaded = true;\r\n    }\r\n    cont = 0;\r\n    var renderFlag;\r\n    for (i = 0; i <= this._groups.length - 1; i += 1) {\r\n      renderFlag = cont < copies;\r\n      this._groups[i]._render = renderFlag;\r\n      this.changeGroupRender(this._groups[i].it, renderFlag);\r\n      if (!renderFlag) {\r\n        var elems = this.elemsData[i].it;\r\n        var transformData = elems[elems.length - 1];\r\n        if (transformData.transform.op.v !== 0) {\r\n          transformData.transform.op._mdf = true;\r\n          transformData.transform.op.v = 0;\r\n        } else {\r\n          transformData.transform.op._mdf = false;\r\n        }\r\n      }\r\n      cont += 1;\r\n    }\r\n\r\n    this._currentCopies = copies;\r\n    /// /\r\n\r\n    var offset = this.o.v;\r\n    var offsetModulo = offset % 1;\r\n    var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\r\n    var pProps = this.pMatrix.props;\r\n    var rProps = this.rMatrix.props;\r\n    var sProps = this.sMatrix.props;\r\n    this.pMatrix.reset();\r\n    this.rMatrix.reset();\r\n    this.sMatrix.reset();\r\n    this.tMatrix.reset();\r\n    this.matrix.reset();\r\n    var iteration = 0;\r\n\r\n    if (offset > 0) {\r\n      while (iteration < roundOffset) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n        iteration += 1;\r\n      }\r\n      if (offsetModulo) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\r\n        iteration += offsetModulo;\r\n      }\r\n    } else if (offset < 0) {\r\n      while (iteration > roundOffset) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\r\n        iteration -= 1;\r\n      }\r\n      if (offsetModulo) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\r\n        iteration -= offsetModulo;\r\n      }\r\n    }\r\n    i = this.data.m === 1 ? 0 : this._currentCopies - 1;\r\n    dir = this.data.m === 1 ? 1 : -1;\r\n    cont = this._currentCopies;\r\n    var j;\r\n    var jLen;\r\n    while (cont) {\r\n      items = this.elemsData[i].it;\r\n      itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n      jLen = itemsTransform.length;\r\n      items[items.length - 1].transform.mProps._mdf = true;\r\n      items[items.length - 1].transform.op._mdf = true;\r\n      items[items.length - 1].transform.op.v = this._currentCopies === 1\r\n        ? this.so.v\r\n        : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\r\n\r\n      if (iteration !== 0) {\r\n        if ((i !== 0 && dir === 1) || (i !== this._currentCopies - 1 && dir === -1)) {\r\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n        }\r\n        this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\r\n        this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\r\n        this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsTransform[j] = this.matrix.props[j];\r\n        }\r\n        this.matrix.reset();\r\n      } else {\r\n        this.matrix.reset();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsTransform[j] = this.matrix.props[j];\r\n        }\r\n      }\r\n      iteration += 1;\r\n      cont -= 1;\r\n      i += dir;\r\n    }\r\n  } else {\r\n    cont = this._currentCopies;\r\n    i = 0;\r\n    dir = 1;\r\n    while (cont) {\r\n      items = this.elemsData[i].it;\r\n      itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n      items[items.length - 1].transform.mProps._mdf = false;\r\n      items[items.length - 1].transform.op._mdf = false;\r\n      cont -= 1;\r\n      i += dir;\r\n    }\r\n  }\r\n  return hasReloaded;\r\n};\r\n\r\nRepeaterModifier.prototype.addShape = function () {};\r\n\r\nShapeModifiers.registerModifier('rp', RepeaterModifier);\r\n\r\n/* global createSizedArray, shapePool */\r\n\r\nfunction ShapeCollection() {\r\n  this._length = 0;\r\n  this._maxLength = 4;\r\n  this.shapes = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapeCollection.prototype.addShape = function (shapeData) {\r\n  if (this._length === this._maxLength) {\r\n    this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\r\n    this._maxLength *= 2;\r\n  }\r\n  this.shapes[this._length] = shapeData;\r\n  this._length += 1;\r\n};\r\n\r\nShapeCollection.prototype.releaseShapes = function () {\r\n  var i;\r\n  for (i = 0; i < this._length; i += 1) {\r\n    shapePool.release(this.shapes[i]);\r\n  }\r\n  this._length = 0;\r\n};\r\n\r\n/* global createSizedArray, createTypedArray, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction DashProperty(elem, data, renderer, container) {\r\n  this.elem = elem;\r\n  this.frameId = -1;\r\n  this.dataProps = createSizedArray(data.length);\r\n  this.renderer = renderer;\r\n  this.k = false;\r\n  this.dashStr = '';\r\n  this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\r\n  this.dashoffset = createTypedArray('float32', 1);\r\n  this.initDynamicPropertyContainer(container);\r\n  var i;\r\n  var len = data.length || 0;\r\n  var prop;\r\n  for (i = 0; i < len; i += 1) {\r\n    prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\r\n    this.k = prop.k || this.k;\r\n    this.dataProps[i] = { n: data[i].n, p: prop };\r\n  }\r\n  if (!this.k) {\r\n    this.getValue(true);\r\n  }\r\n  this._isAnimated = this.k;\r\n}\r\n\r\nDashProperty.prototype.getValue = function (forceRender) {\r\n  if (this.elem.globalData.frameId === this.frameId && !forceRender) {\r\n    return;\r\n  }\r\n  this.frameId = this.elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n  this._mdf = this._mdf || forceRender;\r\n  if (this._mdf) {\r\n    var i = 0;\r\n    var len = this.dataProps.length;\r\n    if (this.renderer === 'svg') {\r\n      this.dashStr = '';\r\n    }\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.dataProps[i].n !== 'o') {\r\n        if (this.renderer === 'svg') {\r\n          this.dashStr += ' ' + this.dataProps[i].p.v;\r\n        } else {\r\n          this.dashArray[i] = this.dataProps[i].p.v;\r\n        }\r\n      } else {\r\n        this.dashoffset[0] = this.dataProps[i].p.v;\r\n      }\r\n    }\r\n  }\r\n};\r\nextendPrototype([DynamicPropertyContainer], DashProperty);\r\n\r\n/* global createTypedArray, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\nfunction GradientProperty(elem, data, container) {\r\n  this.data = data;\r\n  this.c = createTypedArray('uint8c', data.p * 4);\r\n  var cLength = data.k.k[0].s ? (data.k.k[0].s.length - data.p * 4) : data.k.k.length - data.p * 4;\r\n  this.o = createTypedArray('float32', cLength);\r\n  this._cmdf = false;\r\n  this._omdf = false;\r\n  this._collapsable = this.checkCollapsable();\r\n  this._hasOpacity = cLength;\r\n  this.initDynamicPropertyContainer(container);\r\n  this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\r\n  this.k = this.prop.k;\r\n  this.getValue(true);\r\n}\r\n\r\nGradientProperty.prototype.comparePoints = function (values, points) {\r\n  var i = 0;\r\n  var len = this.o.length / 2;\r\n  var diff;\r\n  while (i < len) {\r\n    diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\r\n    if (diff > 0.01) {\r\n      return false;\r\n    }\r\n    i += 1;\r\n  }\r\n  return true;\r\n};\r\n\r\nGradientProperty.prototype.checkCollapsable = function () {\r\n  if (this.o.length / 2 !== this.c.length / 4) {\r\n    return false;\r\n  }\r\n  if (this.data.k.k[0].s) {\r\n    var i = 0;\r\n    var len = this.data.k.k.length;\r\n    while (i < len) {\r\n      if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\r\n        return false;\r\n      }\r\n      i += 1;\r\n    }\r\n  } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nGradientProperty.prototype.getValue = function (forceRender) {\r\n  this.prop.getValue();\r\n  this._mdf = false;\r\n  this._cmdf = false;\r\n  this._omdf = false;\r\n  if (this.prop._mdf || forceRender) {\r\n    var i;\r\n    var len = this.data.p * 4;\r\n    var mult;\r\n    var val;\r\n    for (i = 0; i < len; i += 1) {\r\n      mult = i % 4 === 0 ? 100 : 255;\r\n      val = Math.round(this.prop.v[i] * mult);\r\n      if (this.c[i] !== val) {\r\n        this.c[i] = val;\r\n        this._cmdf = !forceRender;\r\n      }\r\n    }\r\n    if (this.o.length) {\r\n      len = this.prop.v.length;\r\n      for (i = this.data.p * 4; i < len; i += 1) {\r\n        mult = i % 2 === 0 ? 100 : 1;\r\n        val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\r\n        if (this.o[i - this.data.p * 4] !== val) {\r\n          this.o[i - this.data.p * 4] = val;\r\n          this._omdf = !forceRender;\r\n        }\r\n      }\r\n    }\r\n    this._mdf = !forceRender;\r\n  }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], GradientProperty);\r\n\r\n/* exported buildShapeString */\r\n\r\nvar buildShapeString = function (pathNodes, length, closed, mat) {\r\n  if (length === 0) {\r\n    return '';\r\n  }\r\n  var _o = pathNodes.o;\r\n  var _i = pathNodes.i;\r\n  var _v = pathNodes.v;\r\n  var i;\r\n  var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n  for (i = 1; i < length; i += 1) {\r\n    shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\r\n  }\r\n  if (closed && length) {\r\n    shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n    shapeString += 'z';\r\n  }\r\n  return shapeString;\r\n};\r\n\r\n/* global Howl */\r\n/* exported audioControllerFactory */\r\n\r\nvar audioControllerFactory = (function () {\r\n  function AudioController(audioFactory) {\r\n    this.audios = [];\r\n    this.audioFactory = audioFactory;\r\n    this._volume = 1;\r\n    this._isMuted = false;\r\n  }\r\n\r\n  AudioController.prototype = {\r\n    addAudio: function (audio) {\r\n      this.audios.push(audio);\r\n    },\r\n    pause: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].pause();\r\n      }\r\n    },\r\n    resume: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].resume();\r\n      }\r\n    },\r\n    setRate: function (rateValue) {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].setRate(rateValue);\r\n      }\r\n    },\r\n    createAudio: function (assetPath) {\r\n      if (this.audioFactory) {\r\n        return this.audioFactory(assetPath);\r\n      } if (Howl) {\r\n        return new Howl({\r\n          src: [assetPath],\r\n        });\r\n      }\r\n      return {\r\n        isPlaying: false,\r\n        play: function () { this.isPlaying = true; },\r\n        seek: function () { this.isPlaying = false; },\r\n        playing: function () {},\r\n        rate: function () {},\r\n        setVolume: function () {},\r\n      };\r\n    },\r\n    setAudioFactory: function (audioFactory) {\r\n      this.audioFactory = audioFactory;\r\n    },\r\n    setVolume: function (value) {\r\n      this._volume = value;\r\n      this._updateVolume();\r\n    },\r\n    mute: function () {\r\n      this._isMuted = true;\r\n      this._updateVolume();\r\n    },\r\n    unmute: function () {\r\n      this._isMuted = false;\r\n      this._updateVolume();\r\n    },\r\n    getVolume: function () {\r\n      return this._volume;\r\n    },\r\n    _updateVolume: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\r\n      }\r\n    },\r\n  };\r\n\r\n  return function () {\r\n    return new AudioController();\r\n  };\r\n}());\r\n\r\n/* global createTag, createNS, isSafari, dataManager */\r\n/* exported ImagePreloader */\r\n\r\nvar ImagePreloader = (function () {\r\n  var proxyImage = (function () {\r\n    var canvas = createTag('canvas');\r\n    canvas.width = 1;\r\n    canvas.height = 1;\r\n    var ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = 'rgba(0,0,0,0)';\r\n    ctx.fillRect(0, 0, 1, 1);\r\n    return canvas;\r\n  }());\r\n\r\n  function imageLoaded() {\r\n    this.loadedAssets += 1;\r\n    if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\r\n      if (this.imagesLoadedCb) {\r\n        this.imagesLoadedCb(null);\r\n      }\r\n    }\r\n  }\r\n  function footageLoaded() {\r\n    this.loadedFootagesCount += 1;\r\n    if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\r\n      if (this.imagesLoadedCb) {\r\n        this.imagesLoadedCb(null);\r\n      }\r\n    }\r\n  }\r\n\r\n  function getAssetsPath(assetData, assetsPath, originalPath) {\r\n    var path = '';\r\n    if (assetData.e) {\r\n      path = assetData.p;\r\n    } else if (assetsPath) {\r\n      var imagePath = assetData.p;\r\n      if (imagePath.indexOf('images/') !== -1) {\r\n        imagePath = imagePath.split('/')[1];\r\n      }\r\n      path = assetsPath + imagePath;\r\n    } else {\r\n      path = originalPath;\r\n      path += assetData.u ? assetData.u : '';\r\n      path += assetData.p;\r\n    }\r\n    return path;\r\n  }\r\n\r\n  function testImageLoaded(img) {\r\n    var _count = 0;\r\n    var intervalId = setInterval(function () {\r\n      var box = img.getBBox();\r\n      if (box.width || _count > 500) {\r\n        this._imageLoaded();\r\n        clearInterval(intervalId);\r\n      }\r\n      _count += 1;\r\n    }.bind(this), 50);\r\n  }\r\n\r\n  function createImageData(assetData) {\r\n    var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n    var img = createNS('image');\r\n    if (isSafari) {\r\n      this.testImageLoaded(img);\r\n    } else {\r\n      img.addEventListener('load', this._imageLoaded, false);\r\n    }\r\n    img.addEventListener('error', function () {\r\n      ob.img = proxyImage;\r\n      this._imageLoaded();\r\n    }.bind(this), false);\r\n    img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\r\n    if (this._elementHelper.append) {\r\n      this._elementHelper.append(img);\r\n    } else {\r\n      this._elementHelper.appendChild(img);\r\n    }\r\n    var ob = {\r\n      img: img,\r\n      assetData: assetData,\r\n    };\r\n    return ob;\r\n  }\r\n\r\n  function createImgData(assetData) {\r\n    var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n    var img = createTag('img');\r\n    img.crossOrigin = 'anonymous';\r\n    img.addEventListener('load', this._imageLoaded, false);\r\n    img.addEventListener('error', function () {\r\n      ob.img = proxyImage;\r\n      this._imageLoaded();\r\n    }.bind(this), false);\r\n    img.src = path;\r\n    var ob = {\r\n      img: img,\r\n      assetData: assetData,\r\n    };\r\n    return ob;\r\n  }\r\n\r\n  function createFootageData(data) {\r\n    var ob = {\r\n      assetData: data,\r\n    };\r\n    var path = getAssetsPath(data, this.assetsPath, this.path);\r\n    dataManager.loadData(path, function (footageData) {\r\n      ob.img = footageData;\r\n      this._footageLoaded();\r\n    }.bind(this), function () {\r\n      ob.img = {};\r\n      this._footageLoaded();\r\n    }.bind(this));\r\n    return ob;\r\n  }\r\n\r\n  function loadAssets(assets, cb) {\r\n    this.imagesLoadedCb = cb;\r\n    var i;\r\n    var len = assets.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!assets[i].layers) {\r\n        if (!assets[i].t || assets[i].t === 'seq') {\r\n          this.totalImages += 1;\r\n          this.images.push(this._createImageData(assets[i]));\r\n        } else if (assets[i].t === 3) {\r\n          this.totalFootages += 1;\r\n          this.images.push(this.createFootageData(assets[i]));\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function setPath(path) {\r\n    this.path = path || '';\r\n  }\r\n\r\n  function setAssetsPath(path) {\r\n    this.assetsPath = path || '';\r\n  }\r\n\r\n  function getAsset(assetData) {\r\n    var i = 0;\r\n    var len = this.images.length;\r\n    while (i < len) {\r\n      if (this.images[i].assetData === assetData) {\r\n        return this.images[i].img;\r\n      }\r\n      i += 1;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function destroy() {\r\n    this.imagesLoadedCb = null;\r\n    this.images.length = 0;\r\n  }\r\n\r\n  function loadedImages() {\r\n    return this.totalImages === this.loadedAssets;\r\n  }\r\n\r\n  function loadedFootages() {\r\n    return this.totalFootages === this.loadedFootagesCount;\r\n  }\r\n\r\n  function setCacheType(type, elementHelper) {\r\n    if (type === 'svg') {\r\n      this._elementHelper = elementHelper;\r\n      this._createImageData = this.createImageData.bind(this);\r\n    } else {\r\n      this._createImageData = this.createImgData.bind(this);\r\n    }\r\n  }\r\n\r\n  function ImagePreloaderFactory() {\r\n    this._imageLoaded = imageLoaded.bind(this);\r\n    this._footageLoaded = footageLoaded.bind(this);\r\n    this.testImageLoaded = testImageLoaded.bind(this);\r\n    this.createFootageData = createFootageData.bind(this);\r\n    this.assetsPath = '';\r\n    this.path = '';\r\n    this.totalImages = 0;\r\n    this.totalFootages = 0;\r\n    this.loadedAssets = 0;\r\n    this.loadedFootagesCount = 0;\r\n    this.imagesLoadedCb = null;\r\n    this.images = [];\r\n  }\r\n\r\n  ImagePreloaderFactory.prototype = {\r\n    loadAssets: loadAssets,\r\n    setAssetsPath: setAssetsPath,\r\n    setPath: setPath,\r\n    loadedImages: loadedImages,\r\n    loadedFootages: loadedFootages,\r\n    destroy: destroy,\r\n    getAsset: getAsset,\r\n    createImgData: createImgData,\r\n    createImageData: createImageData,\r\n    imageLoaded: imageLoaded,\r\n    footageLoaded: footageLoaded,\r\n    setCacheType: setCacheType,\r\n  };\r\n\r\n  return ImagePreloaderFactory;\r\n}());\r\n\r\n/* exported featureSupport */\r\n\r\nvar featureSupport = (function () {\r\n  var ob = {\r\n    maskType: true,\r\n  };\r\n  if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\r\n    ob.maskType = false;\r\n  }\r\n  return ob;\r\n}());\r\n\r\n/* global createNS */\r\n/* exported filtersFactory */\r\n\r\nvar filtersFactory = (function () {\r\n  var ob = {};\r\n  ob.createFilter = createFilter;\r\n  ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\r\n\r\n  function createFilter(filId, skipCoordinates) {\r\n    var fil = createNS('filter');\r\n    fil.setAttribute('id', filId);\r\n    if (skipCoordinates !== true) {\r\n      fil.setAttribute('filterUnits', 'objectBoundingBox');\r\n      fil.setAttribute('x', '0%');\r\n      fil.setAttribute('y', '0%');\r\n      fil.setAttribute('width', '100%');\r\n      fil.setAttribute('height', '100%');\r\n    }\r\n    return fil;\r\n  }\r\n\r\n  function createAlphaToLuminanceFilter() {\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type', 'matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n    feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\r\n    return feColorMatrix;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global createSizedArray, PropertyFactory, TextAnimatorDataProperty, bez, addHueToRGB,\r\n  addSaturationToRGB, addBrightnessToRGB, LetterProps, Matrix, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction TextAnimatorProperty(textData, renderType, elem) {\r\n  this._isFirstFrame = true;\r\n  this._hasMaskedPath = false;\r\n  this._frameId = -1;\r\n  this._textData = textData;\r\n  this._renderType = renderType;\r\n  this._elem = elem;\r\n  this._animatorsData = createSizedArray(this._textData.a.length);\r\n  this._pathData = {};\r\n  this._moreOptions = {\r\n    alignment: {},\r\n  };\r\n  this.renderedLetters = [];\r\n  this.lettersChangedFlag = false;\r\n  this.initDynamicPropertyContainer(elem);\r\n}\r\n\r\nTextAnimatorProperty.prototype.searchProperties = function () {\r\n  var i;\r\n  var len = this._textData.a.length;\r\n  var animatorProps;\r\n  var getProp = PropertyFactory.getProp;\r\n  for (i = 0; i < len; i += 1) {\r\n    animatorProps = this._textData.a[i];\r\n    this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\r\n  }\r\n  if (this._textData.p && 'm' in this._textData.p) {\r\n    this._pathData = {\r\n      a: getProp(this._elem, this._textData.p.a, 0, 0, this),\r\n      f: getProp(this._elem, this._textData.p.f, 0, 0, this),\r\n      l: getProp(this._elem, this._textData.p.l, 0, 0, this),\r\n      r: getProp(this._elem, this._textData.p.r, 0, 0, this),\r\n      p: getProp(this._elem, this._textData.p.p, 0, 0, this),\r\n      m: this._elem.maskManager.getMaskProperty(this._textData.p.m),\r\n    };\r\n    this._hasMaskedPath = true;\r\n  } else {\r\n    this._hasMaskedPath = false;\r\n  }\r\n  this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\r\n};\r\n\r\nTextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\r\n  this.lettersChangedFlag = lettersChangedFlag;\r\n  if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\r\n    return;\r\n  }\r\n  this._isFirstFrame = false;\r\n  var alignment = this._moreOptions.alignment.v;\r\n  var animators = this._animatorsData;\r\n  var textData = this._textData;\r\n  var matrixHelper = this.mHelper;\r\n  var renderType = this._renderType;\r\n  var renderedLettersCount = this.renderedLetters.length;\r\n  var xPos;\r\n  var yPos;\r\n  var i;\r\n  var len;\r\n  var letters = documentData.l;\r\n  var pathInfo;\r\n  var currentLength;\r\n  var currentPoint;\r\n  var segmentLength;\r\n  var flag;\r\n  var pointInd;\r\n  var segmentInd;\r\n  var prevPoint;\r\n  var points;\r\n  var segments;\r\n  var partialLength;\r\n  var totalLength;\r\n  var perc;\r\n  var tanAngle;\r\n  var mask;\r\n  if (this._hasMaskedPath) {\r\n    mask = this._pathData.m;\r\n    if (!this._pathData.n || this._pathData._mdf) {\r\n      var paths = mask.v;\r\n      if (this._pathData.r.v) {\r\n        paths = paths.reverse();\r\n      }\r\n      // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\r\n      pathInfo = {\r\n        tLength: 0,\r\n        segments: [],\r\n      };\r\n      len = paths._length - 1;\r\n      var bezierData;\r\n      totalLength = 0;\r\n      for (i = 0; i < len; i += 1) {\r\n        bezierData = bez.buildBezierData(paths.v[i],\r\n          paths.v[i + 1],\r\n          [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\r\n          [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\r\n        pathInfo.tLength += bezierData.segmentLength;\r\n        pathInfo.segments.push(bezierData);\r\n        totalLength += bezierData.segmentLength;\r\n      }\r\n      i = len;\r\n      if (mask.v.c) {\r\n        bezierData = bez.buildBezierData(paths.v[i],\r\n          paths.v[0],\r\n          [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\r\n          [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\r\n        pathInfo.tLength += bezierData.segmentLength;\r\n        pathInfo.segments.push(bezierData);\r\n        totalLength += bezierData.segmentLength;\r\n      }\r\n      this._pathData.pi = pathInfo;\r\n    }\r\n    pathInfo = this._pathData.pi;\r\n\r\n    currentLength = this._pathData.f.v;\r\n    segmentInd = 0;\r\n    pointInd = 1;\r\n    segmentLength = 0;\r\n    flag = true;\r\n    segments = pathInfo.segments;\r\n    if (currentLength < 0 && mask.v.c) {\r\n      if (pathInfo.tLength < Math.abs(currentLength)) {\r\n        currentLength = -Math.abs(currentLength) % pathInfo.tLength;\r\n      }\r\n      segmentInd = segments.length - 1;\r\n      points = segments[segmentInd].points;\r\n      pointInd = points.length - 1;\r\n      while (currentLength < 0) {\r\n        currentLength += points[pointInd].partialLength;\r\n        pointInd -= 1;\r\n        if (pointInd < 0) {\r\n          segmentInd -= 1;\r\n          points = segments[segmentInd].points;\r\n          pointInd = points.length - 1;\r\n        }\r\n      }\r\n    }\r\n    points = segments[segmentInd].points;\r\n    prevPoint = points[pointInd - 1];\r\n    currentPoint = points[pointInd];\r\n    partialLength = currentPoint.partialLength;\r\n  }\r\n\r\n  len = letters.length;\r\n  xPos = 0;\r\n  yPos = 0;\r\n  var yOff = documentData.finalSize * 1.2 * 0.714;\r\n  var firstLine = true;\r\n  var animatorProps;\r\n  var animatorSelector;\r\n  var j;\r\n  var jLen;\r\n  var letterValue;\r\n\r\n  jLen = animators.length;\r\n\r\n  var mult;\r\n  var ind = -1;\r\n  var offf;\r\n  var xPathPos;\r\n  var yPathPos;\r\n  var initPathPos = currentLength;\r\n  var initSegmentInd = segmentInd;\r\n  var initPointInd = pointInd;\r\n  var currentLine = -1;\r\n  var elemOpacity;\r\n  var sc;\r\n  var sw;\r\n  var fc;\r\n  var k;\r\n  var letterSw;\r\n  var letterSc;\r\n  var letterFc;\r\n  var letterM = '';\r\n  var letterP = this.defaultPropsArray;\r\n  var letterO;\r\n\r\n  //\r\n  if (documentData.j === 2 || documentData.j === 1) {\r\n    var animatorJustifyOffset = 0;\r\n    var animatorFirstCharOffset = 0;\r\n    var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\r\n    var lastIndex = 0;\r\n    var isNewLine = true;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (letters[i].n) {\r\n        if (animatorJustifyOffset) {\r\n          animatorJustifyOffset += animatorFirstCharOffset;\r\n        }\r\n        while (lastIndex < i) {\r\n          letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n          lastIndex += 1;\r\n        }\r\n        animatorJustifyOffset = 0;\r\n        isNewLine = true;\r\n      } else {\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n          if (animatorProps.t.propType) {\r\n            if (isNewLine && documentData.j === 2) {\r\n              animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\r\n            }\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\r\n            } else {\r\n              animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\r\n            }\r\n          }\r\n        }\r\n        isNewLine = false;\r\n      }\r\n    }\r\n    if (animatorJustifyOffset) {\r\n      animatorJustifyOffset += animatorFirstCharOffset;\r\n    }\r\n    while (lastIndex < i) {\r\n      letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n      lastIndex += 1;\r\n    }\r\n  }\r\n  //\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    matrixHelper.reset();\r\n    elemOpacity = 1;\r\n    if (letters[i].n) {\r\n      xPos = 0;\r\n      yPos += documentData.yOffset;\r\n      yPos += firstLine ? 1 : 0;\r\n      currentLength = initPathPos;\r\n      firstLine = false;\r\n      if (this._hasMaskedPath) {\r\n        segmentInd = initSegmentInd;\r\n        pointInd = initPointInd;\r\n        points = segments[segmentInd].points;\r\n        prevPoint = points[pointInd - 1];\r\n        currentPoint = points[pointInd];\r\n        partialLength = currentPoint.partialLength;\r\n        segmentLength = 0;\r\n      }\r\n      letterM = '';\r\n      letterFc = '';\r\n      letterSw = '';\r\n      letterO = '';\r\n      letterP = this.defaultPropsArray;\r\n    } else {\r\n      if (this._hasMaskedPath) {\r\n        if (currentLine !== letters[i].line) {\r\n          switch (documentData.j) {\r\n            case 1:\r\n              currentLength += totalLength - documentData.lineWidths[letters[i].line];\r\n              break;\r\n            case 2:\r\n              currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          currentLine = letters[i].line;\r\n        }\r\n        if (ind !== letters[i].ind) {\r\n          if (letters[ind]) {\r\n            currentLength += letters[ind].extra;\r\n          }\r\n          currentLength += letters[i].an / 2;\r\n          ind = letters[i].ind;\r\n        }\r\n        currentLength += (alignment[0] * letters[i].an) * 0.005;\r\n        var animatorOffset = 0;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n          if (animatorProps.p.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorOffset += animatorProps.p.v[0] * mult[0];\r\n            } else {\r\n              animatorOffset += animatorProps.p.v[0] * mult;\r\n            }\r\n          }\r\n          if (animatorProps.a.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorOffset += animatorProps.a.v[0] * mult[0];\r\n            } else {\r\n              animatorOffset += animatorProps.a.v[0] * mult;\r\n            }\r\n          }\r\n        }\r\n        flag = true;\r\n        // Force alignment only works with a single line for now\r\n        if (this._pathData.a.v) {\r\n          currentLength = letters[0].an * 0.5 + ((totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind) / (len - 1);\r\n          currentLength += this._pathData.f.v;\r\n        }\r\n        while (flag) {\r\n          if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\r\n            perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\r\n            xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\r\n            yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\r\n            matrixHelper.translate((-alignment[0] * letters[i].an) * 0.005, -(alignment[1] * yOff) * 0.01);\r\n            flag = false;\r\n          } else if (points) {\r\n            segmentLength += currentPoint.partialLength;\r\n            pointInd += 1;\r\n            if (pointInd >= points.length) {\r\n              pointInd = 0;\r\n              segmentInd += 1;\r\n              if (!segments[segmentInd]) {\r\n                if (mask.v.c) {\r\n                  pointInd = 0;\r\n                  segmentInd = 0;\r\n                  points = segments[segmentInd].points;\r\n                } else {\r\n                  segmentLength -= currentPoint.partialLength;\r\n                  points = null;\r\n                }\r\n              } else {\r\n                points = segments[segmentInd].points;\r\n              }\r\n            }\r\n            if (points) {\r\n              prevPoint = currentPoint;\r\n              currentPoint = points[pointInd];\r\n              partialLength = currentPoint.partialLength;\r\n            }\r\n          }\r\n        }\r\n        offf = letters[i].an / 2 - letters[i].add;\r\n        matrixHelper.translate(-offf, 0, 0);\r\n      } else {\r\n        offf = letters[i].an / 2 - letters[i].add;\r\n        matrixHelper.translate(-offf, 0, 0);\r\n\r\n        // Grouping alignment\r\n        matrixHelper.translate((-alignment[0] * letters[i].an) * 0.005, (-alignment[1] * yOff) * 0.01, 0);\r\n      }\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.t.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\r\n          if (xPos !== 0 || documentData.j !== 0) {\r\n            if (this._hasMaskedPath) {\r\n              if (mult.length) {\r\n                currentLength += animatorProps.t.v * mult[0];\r\n              } else {\r\n                currentLength += animatorProps.t.v * mult;\r\n              }\r\n            } else if (mult.length) {\r\n              xPos += animatorProps.t.v * mult[0];\r\n            } else {\r\n              xPos += animatorProps.t.v * mult;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (documentData.strokeWidthAnim) {\r\n        sw = documentData.sw || 0;\r\n      }\r\n      if (documentData.strokeColorAnim) {\r\n        if (documentData.sc) {\r\n          sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\r\n        } else {\r\n          sc = [0, 0, 0];\r\n        }\r\n      }\r\n      if (documentData.fillColorAnim && documentData.fc) {\r\n        fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.a.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n          if (mult.length) {\r\n            matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\r\n          } else {\r\n            matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\r\n          }\r\n        }\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.s.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          if (mult.length) {\r\n            matrixHelper.scale(1 + ((animatorProps.s.v[0] - 1) * mult[0]), 1 + ((animatorProps.s.v[1] - 1) * mult[1]), 1);\r\n          } else {\r\n            matrixHelper.scale(1 + ((animatorProps.s.v[0] - 1) * mult), 1 + ((animatorProps.s.v[1] - 1) * mult), 1);\r\n          }\r\n        }\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        animatorSelector = animators[j].s;\r\n        mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n        if (animatorProps.sk.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\r\n          } else {\r\n            matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.r.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\r\n          } else {\r\n            matrixHelper.rotateZ(-animatorProps.r.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.ry.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\r\n          } else {\r\n            matrixHelper.rotateY(animatorProps.ry.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.rx.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\r\n          } else {\r\n            matrixHelper.rotateX(animatorProps.rx.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.o.propType) {\r\n          if (mult.length) {\r\n            elemOpacity += ((animatorProps.o.v) * mult[0] - elemOpacity) * mult[0];\r\n          } else {\r\n            elemOpacity += ((animatorProps.o.v) * mult - elemOpacity) * mult;\r\n          }\r\n        }\r\n        if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\r\n          if (mult.length) {\r\n            sw += animatorProps.sw.v * mult[0];\r\n          } else {\r\n            sw += animatorProps.sw.v * mult;\r\n          }\r\n        }\r\n        if (documentData.strokeColorAnim && animatorProps.sc.propType) {\r\n          for (k = 0; k < 3; k += 1) {\r\n            if (mult.length) {\r\n              sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\r\n            } else {\r\n              sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\r\n            }\r\n          }\r\n        }\r\n        if (documentData.fillColorAnim && documentData.fc) {\r\n          if (animatorProps.fc.propType) {\r\n            for (k = 0; k < 3; k += 1) {\r\n              if (mult.length) {\r\n                fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\r\n              } else {\r\n                fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\r\n              }\r\n            }\r\n          }\r\n          if (animatorProps.fh.propType) {\r\n            if (mult.length) {\r\n              fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\r\n            } else {\r\n              fc = addHueToRGB(fc, animatorProps.fh.v * mult);\r\n            }\r\n          }\r\n          if (animatorProps.fs.propType) {\r\n            if (mult.length) {\r\n              fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\r\n            } else {\r\n              fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\r\n            }\r\n          }\r\n          if (animatorProps.fb.propType) {\r\n            if (mult.length) {\r\n              fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\r\n            } else {\r\n              fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n\r\n        if (animatorProps.p.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          if (this._hasMaskedPath) {\r\n            if (mult.length) {\r\n              matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\r\n            } else {\r\n              matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n            }\r\n          } else if (mult.length) {\r\n            matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\r\n          } else {\r\n            matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n          }\r\n        }\r\n      }\r\n      if (documentData.strokeWidthAnim) {\r\n        letterSw = sw < 0 ? 0 : sw;\r\n      }\r\n      if (documentData.strokeColorAnim) {\r\n        letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\r\n      }\r\n      if (documentData.fillColorAnim && documentData.fc) {\r\n        letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\r\n      }\r\n\r\n      if (this._hasMaskedPath) {\r\n        matrixHelper.translate(0, -documentData.ls);\r\n\r\n        matrixHelper.translate(0, (alignment[1] * yOff) * 0.01 + yPos, 0);\r\n        if (this._pathData.p.v) {\r\n          tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\r\n          var rot = (Math.atan(tanAngle) * 180) / Math.PI;\r\n          if (currentPoint.point[0] < prevPoint.point[0]) {\r\n            rot += 180;\r\n          }\r\n          matrixHelper.rotate((-rot * Math.PI) / 180);\r\n        }\r\n        matrixHelper.translate(xPathPos, yPathPos, 0);\r\n        currentLength -= (alignment[0] * letters[i].an) * 0.005;\r\n        if (letters[i + 1] && ind !== letters[i + 1].ind) {\r\n          currentLength += letters[i].an / 2;\r\n          currentLength += (documentData.tr * 0.001) * documentData.finalSize;\r\n        }\r\n      } else {\r\n        matrixHelper.translate(xPos, yPos, 0);\r\n\r\n        if (documentData.ps) {\r\n          // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\r\n          matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n        }\r\n        switch (documentData.j) {\r\n          case 1:\r\n            matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\r\n            break;\r\n          case 2:\r\n            matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        matrixHelper.translate(0, -documentData.ls);\r\n        matrixHelper.translate(offf, 0, 0);\r\n        matrixHelper.translate((alignment[0] * letters[i].an) * 0.005, (alignment[1] * yOff) * 0.01, 0);\r\n        xPos += letters[i].l + (documentData.tr * 0.001) * documentData.finalSize;\r\n      }\r\n      if (renderType === 'html') {\r\n        letterM = matrixHelper.toCSS();\r\n      } else if (renderType === 'svg') {\r\n        letterM = matrixHelper.to2dCSS();\r\n      } else {\r\n        letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\r\n      }\r\n      letterO = elemOpacity;\r\n    }\r\n\r\n    if (renderedLettersCount <= i) {\r\n      letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\r\n      this.renderedLetters.push(letterValue);\r\n      renderedLettersCount += 1;\r\n      this.lettersChangedFlag = true;\r\n    } else {\r\n      letterValue = this.renderedLetters[i];\r\n      this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\r\n    }\r\n  }\r\n};\r\n\r\nTextAnimatorProperty.prototype.getValue = function () {\r\n  if (this._elem.globalData.frameId === this._frameId) {\r\n    return;\r\n  }\r\n  this._frameId = this._elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n};\r\n\r\nTextAnimatorProperty.prototype.mHelper = new Matrix();\r\nTextAnimatorProperty.prototype.defaultPropsArray = [];\r\nextendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\r\n\r\n/* global PropertyFactory, degToRads, TextSelectorProp */\r\n/* exported TextAnimatorDataProperty */\r\n\r\nfunction TextAnimatorDataProperty(elem, animatorProps, container) {\r\n  var defaultData = { propType: false };\r\n  var getProp = PropertyFactory.getProp;\r\n  var textAnimatorAnimatables = animatorProps.a;\r\n  this.a = {\r\n    r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\r\n    rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\r\n    ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\r\n    sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\r\n    sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\r\n    s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\r\n    a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\r\n    o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\r\n    p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\r\n    sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\r\n    sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\r\n    fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\r\n    fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\r\n    fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\r\n    fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\r\n    t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData,\r\n  };\r\n\r\n  this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\r\n  this.s.t = animatorProps.s.t;\r\n}\r\n\r\nfunction LetterProps(o, sw, sc, fc, m, p) {\r\n  this.o = o;\r\n  this.sw = sw;\r\n  this.sc = sc;\r\n  this.fc = fc;\r\n  this.m = m;\r\n  this.p = p;\r\n  this._mdf = {\r\n    o: true,\r\n    sw: !!sw,\r\n    sc: !!sc,\r\n    fc: !!fc,\r\n    m: true,\r\n    p: true,\r\n  };\r\n}\r\n\r\nLetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\r\n  this._mdf.o = false;\r\n  this._mdf.sw = false;\r\n  this._mdf.sc = false;\r\n  this._mdf.fc = false;\r\n  this._mdf.m = false;\r\n  this._mdf.p = false;\r\n  var updated = false;\r\n\r\n  if (this.o !== o) {\r\n    this.o = o;\r\n    this._mdf.o = true;\r\n    updated = true;\r\n  }\r\n  if (this.sw !== sw) {\r\n    this.sw = sw;\r\n    this._mdf.sw = true;\r\n    updated = true;\r\n  }\r\n  if (this.sc !== sc) {\r\n    this.sc = sc;\r\n    this._mdf.sc = true;\r\n    updated = true;\r\n  }\r\n  if (this.fc !== fc) {\r\n    this.fc = fc;\r\n    this._mdf.fc = true;\r\n    updated = true;\r\n  }\r\n  if (this.m !== m) {\r\n    this.m = m;\r\n    this._mdf.m = true;\r\n    updated = true;\r\n  }\r\n  if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\r\n    this.p = p;\r\n    this._mdf.p = true;\r\n    updated = true;\r\n  }\r\n  return updated;\r\n};\r\n\r\n/* global FontManager, initialDefaultFrame, getFontProperties */\r\n/* exported TextProperty */\r\n\r\nfunction TextProperty(elem, data) {\r\n  this._frameId = initialDefaultFrame;\r\n  this.pv = '';\r\n  this.v = '';\r\n  this.kf = false;\r\n  this._isFirstFrame = true;\r\n  this._mdf = false;\r\n  this.data = data;\r\n  this.elem = elem;\r\n  this.comp = this.elem.comp;\r\n  this.keysIndex = 0;\r\n  this.canResize = false;\r\n  this.minimumFontSize = 1;\r\n  this.effectsSequence = [];\r\n  this.currentData = {\r\n    ascent: 0,\r\n    boxWidth: this.defaultBoxWidth,\r\n    f: '',\r\n    fStyle: '',\r\n    fWeight: '',\r\n    fc: '',\r\n    j: '',\r\n    justifyOffset: '',\r\n    l: [],\r\n    lh: 0,\r\n    lineWidths: [],\r\n    ls: '',\r\n    of: '',\r\n    s: '',\r\n    sc: '',\r\n    sw: 0,\r\n    t: 0,\r\n    tr: 0,\r\n    sz: 0,\r\n    ps: null,\r\n    fillColorAnim: false,\r\n    strokeColorAnim: false,\r\n    strokeWidthAnim: false,\r\n    yOffset: 0,\r\n    finalSize: 0,\r\n    finalText: [],\r\n    finalLineHeight: 0,\r\n    __complete: false,\r\n\r\n  };\r\n  this.copyData(this.currentData, this.data.d.k[0].s);\r\n\r\n  if (!this.searchProperty()) {\r\n    this.completeTextData(this.currentData);\r\n  }\r\n}\r\n\r\nTextProperty.prototype.defaultBoxWidth = [0, 0];\r\n\r\nTextProperty.prototype.copyData = function (obj, data) {\r\n  for (var s in data) {\r\n    if (Object.prototype.hasOwnProperty.call(data, s)) {\r\n      obj[s] = data[s];\r\n    }\r\n  }\r\n  return obj;\r\n};\r\n\r\nTextProperty.prototype.setCurrentData = function (data) {\r\n  if (!data.__complete) {\r\n    this.completeTextData(data);\r\n  }\r\n  this.currentData = data;\r\n  this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\r\n  this._mdf = true;\r\n};\r\n\r\nTextProperty.prototype.searchProperty = function () {\r\n  return this.searchKeyframes();\r\n};\r\n\r\nTextProperty.prototype.searchKeyframes = function () {\r\n  this.kf = this.data.d.k.length > 1;\r\n  if (this.kf) {\r\n    this.addEffect(this.getKeyframeValue.bind(this));\r\n  }\r\n  return this.kf;\r\n};\r\n\r\nTextProperty.prototype.addEffect = function (effectFunction) {\r\n  this.effectsSequence.push(effectFunction);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.getValue = function (_finalValue) {\r\n  if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\r\n    return;\r\n  }\r\n  this.currentData.t = this.data.d.k[this.keysIndex].s.t;\r\n  var currentValue = this.currentData;\r\n  var currentIndex = this.keysIndex;\r\n  if (this.lock) {\r\n    this.setCurrentData(this.currentData);\r\n    return;\r\n  }\r\n  this.lock = true;\r\n  this._mdf = false;\r\n  var i; var\r\n    len = this.effectsSequence.length;\r\n  var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\r\n  for (i = 0; i < len; i += 1) {\r\n    // Checking if index changed to prevent creating a new object every time the expression updates.\r\n    if (currentIndex !== this.keysIndex) {\r\n      finalValue = this.effectsSequence[i](finalValue, finalValue.t);\r\n    } else {\r\n      finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\r\n    }\r\n  }\r\n  if (currentValue !== finalValue) {\r\n    this.setCurrentData(finalValue);\r\n  }\r\n  this.v = this.currentData;\r\n  this.pv = this.v;\r\n  this.lock = false;\r\n  this.frameId = this.elem.globalData.frameId;\r\n};\r\n\r\nTextProperty.prototype.getKeyframeValue = function () {\r\n  var textKeys = this.data.d.k;\r\n  var frameNum = this.elem.comp.renderedFrame;\r\n  var i = 0; var\r\n    len = textKeys.length;\r\n  while (i <= len - 1) {\r\n    if (i === len - 1 || textKeys[i + 1].t > frameNum) {\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n  if (this.keysIndex !== i) {\r\n    this.keysIndex = i;\r\n  }\r\n  return this.data.d.k[this.keysIndex].s;\r\n};\r\n\r\nTextProperty.prototype.buildFinalText = function (text) {\r\n  var charactersArray = [];\r\n  var i = 0;\r\n  var len = text.length;\r\n  var charCode;\r\n  var secondCharCode;\r\n  var shouldCombine = false;\r\n  while (i < len) {\r\n    charCode = text.charCodeAt(i);\r\n    if (FontManager.isCombinedCharacter(charCode)) {\r\n      charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n    } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\r\n      secondCharCode = text.charCodeAt(i + 1);\r\n      if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\r\n        if (shouldCombine || FontManager.isModifier(charCode, secondCharCode)) {\r\n          charactersArray[charactersArray.length - 1] += text.substr(i, 2);\r\n          shouldCombine = false;\r\n        } else {\r\n          charactersArray.push(text.substr(i, 2));\r\n        }\r\n        i += 1;\r\n      } else {\r\n        charactersArray.push(text.charAt(i));\r\n      }\r\n    } else if (charCode > 0xDBFF) {\r\n      secondCharCode = text.charCodeAt(i + 1);\r\n      if (FontManager.isZeroWidthJoiner(charCode, secondCharCode)) {\r\n        shouldCombine = true;\r\n        charactersArray[charactersArray.length - 1] += text.substr(i, 2);\r\n        i += 1;\r\n      } else {\r\n        charactersArray.push(text.charAt(i));\r\n      }\r\n    } else if (FontManager.isZeroWidthJoiner(charCode)) {\r\n      charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n      shouldCombine = true;\r\n    } else {\r\n      charactersArray.push(text.charAt(i));\r\n    }\r\n    i += 1;\r\n  }\r\n  return charactersArray;\r\n};\r\n\r\nTextProperty.prototype.completeTextData = function (documentData) {\r\n  documentData.__complete = true;\r\n  var fontManager = this.elem.globalData.fontManager;\r\n  var data = this.data;\r\n  var letters = [];\r\n  var i; var\r\n    len;\r\n  var newLineFlag; var index = 0; var\r\n    val;\r\n  var anchorGrouping = data.m.g;\r\n  var currentSize = 0; var currentPos = 0; var currentLine = 0; var\r\n    lineWidths = [];\r\n  var lineWidth = 0;\r\n  var maxLineWidth = 0;\r\n  var j; var\r\n    jLen;\r\n  var fontData = fontManager.getFontByName(documentData.f);\r\n  var charData; var\r\n    cLength = 0;\r\n\r\n  var fontProps = getFontProperties(fontData);\r\n  documentData.fWeight = fontProps.weight;\r\n  documentData.fStyle = fontProps.style;\r\n  documentData.finalSize = documentData.s;\r\n  documentData.finalText = this.buildFinalText(documentData.t);\r\n  len = documentData.finalText.length;\r\n  documentData.finalLineHeight = documentData.lh;\r\n  var trackingOffset = (documentData.tr / 1000) * documentData.finalSize;\r\n  var charCode;\r\n  if (documentData.sz) {\r\n    var flag = true;\r\n    var boxWidth = documentData.sz[0];\r\n    var boxHeight = documentData.sz[1];\r\n    var currentHeight; var\r\n      finalText;\r\n    while (flag) {\r\n      finalText = this.buildFinalText(documentData.t);\r\n      currentHeight = 0;\r\n      lineWidth = 0;\r\n      len = finalText.length;\r\n      trackingOffset = (documentData.tr / 1000) * documentData.finalSize;\r\n      var lastSpaceIndex = -1;\r\n      for (i = 0; i < len; i += 1) {\r\n        charCode = finalText[i].charCodeAt(0);\r\n        newLineFlag = false;\r\n        if (finalText[i] === ' ') {\r\n          lastSpaceIndex = i;\r\n        } else if (charCode === 13 || charCode === 3) {\r\n          lineWidth = 0;\r\n          newLineFlag = true;\r\n          currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n        }\r\n        if (fontManager.chars) {\r\n          charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\r\n          cLength = newLineFlag ? 0 : (charData.w * documentData.finalSize) / 100;\r\n        } else {\r\n          // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\r\n          cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\r\n        }\r\n        if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\r\n          if (lastSpaceIndex === -1) {\r\n            len += 1;\r\n          } else {\r\n            i = lastSpaceIndex;\r\n          }\r\n          currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n          finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r');\r\n          // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\r\n          lastSpaceIndex = -1;\r\n          lineWidth = 0;\r\n        } else {\r\n          lineWidth += cLength;\r\n          lineWidth += trackingOffset;\r\n        }\r\n      }\r\n      currentHeight += (fontData.ascent * documentData.finalSize) / 100;\r\n      if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\r\n        documentData.finalSize -= 1;\r\n        documentData.finalLineHeight = (documentData.finalSize * documentData.lh) / documentData.s;\r\n      } else {\r\n        documentData.finalText = finalText;\r\n        len = documentData.finalText.length;\r\n        flag = false;\r\n      }\r\n    }\r\n  }\r\n  lineWidth = -trackingOffset;\r\n  cLength = 0;\r\n  var uncollapsedSpaces = 0;\r\n  var currentChar;\r\n  for (i = 0; i < len; i += 1) {\r\n    newLineFlag = false;\r\n    currentChar = documentData.finalText[i];\r\n    charCode = currentChar.charCodeAt(0);\r\n    if (charCode === 13 || charCode === 3) {\r\n      uncollapsedSpaces = 0;\r\n      lineWidths.push(lineWidth);\r\n      maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n      lineWidth = -2 * trackingOffset;\r\n      val = '';\r\n      newLineFlag = true;\r\n      currentLine += 1;\r\n    } else {\r\n      val = currentChar;\r\n    }\r\n    if (fontManager.chars) {\r\n      charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\r\n      cLength = newLineFlag ? 0 : (charData.w * documentData.finalSize) / 100;\r\n    } else {\r\n      // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n      // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\r\n      cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n    }\r\n\r\n    //\r\n    if (currentChar === ' ') {\r\n      uncollapsedSpaces += cLength + trackingOffset;\r\n    } else {\r\n      lineWidth += cLength + trackingOffset + uncollapsedSpaces;\r\n      uncollapsedSpaces = 0;\r\n    }\r\n    letters.push({\r\n      l: cLength, an: cLength, add: currentSize, n: newLineFlag, anIndexes: [], val: val, line: currentLine, animatorJustifyOffset: 0,\r\n    });\r\n    if (anchorGrouping == 2) { // eslint-disable-line eqeqeq\r\n      currentSize += cLength;\r\n      if (val === '' || val === ' ' || i === len - 1) {\r\n        if (val === '' || val === ' ') {\r\n          currentSize -= cLength;\r\n        }\r\n        while (currentPos <= i) {\r\n          letters[currentPos].an = currentSize;\r\n          letters[currentPos].ind = index;\r\n          letters[currentPos].extra = cLength;\r\n          currentPos += 1;\r\n        }\r\n        index += 1;\r\n        currentSize = 0;\r\n      }\r\n    } else if (anchorGrouping == 3) { // eslint-disable-line eqeqeq\r\n      currentSize += cLength;\r\n      if (val === '' || i === len - 1) {\r\n        if (val === '') {\r\n          currentSize -= cLength;\r\n        }\r\n        while (currentPos <= i) {\r\n          letters[currentPos].an = currentSize;\r\n          letters[currentPos].ind = index;\r\n          letters[currentPos].extra = cLength;\r\n          currentPos += 1;\r\n        }\r\n        currentSize = 0;\r\n        index += 1;\r\n      }\r\n    } else {\r\n      letters[index].ind = index;\r\n      letters[index].extra = 0;\r\n      index += 1;\r\n    }\r\n  }\r\n  documentData.l = letters;\r\n  maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n  lineWidths.push(lineWidth);\r\n  if (documentData.sz) {\r\n    documentData.boxWidth = documentData.sz[0];\r\n    documentData.justifyOffset = 0;\r\n  } else {\r\n    documentData.boxWidth = maxLineWidth;\r\n    switch (documentData.j) {\r\n      case 1:\r\n        documentData.justifyOffset = -documentData.boxWidth;\r\n        break;\r\n      case 2:\r\n        documentData.justifyOffset = -documentData.boxWidth / 2;\r\n        break;\r\n      default:\r\n        documentData.justifyOffset = 0;\r\n    }\r\n  }\r\n  documentData.lineWidths = lineWidths;\r\n\r\n  var animators = data.a; var animatorData; var\r\n    letterData;\r\n  jLen = animators.length;\r\n  var based; var ind; var\r\n    indexes = [];\r\n  for (j = 0; j < jLen; j += 1) {\r\n    animatorData = animators[j];\r\n    if (animatorData.a.sc) {\r\n      documentData.strokeColorAnim = true;\r\n    }\r\n    if (animatorData.a.sw) {\r\n      documentData.strokeWidthAnim = true;\r\n    }\r\n    if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\r\n      documentData.fillColorAnim = true;\r\n    }\r\n    ind = 0;\r\n    based = animatorData.s.b;\r\n    for (i = 0; i < len; i += 1) {\r\n      letterData = letters[i];\r\n      letterData.anIndexes[j] = ind;\r\n      if ((based == 1 && letterData.val !== '') || (based == 2 && letterData.val !== '' && letterData.val !== ' ') || (based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1)) || (based == 4 && (letterData.n || i == len - 1))) { // eslint-disable-line eqeqeq\r\n        if (animatorData.s.rn === 1) {\r\n          indexes.push(ind);\r\n        }\r\n        ind += 1;\r\n      }\r\n    }\r\n    data.a[j].s.totalChars = ind;\r\n    var currentInd = -1; var\r\n      newInd;\r\n    if (animatorData.s.rn === 1) {\r\n      for (i = 0; i < len; i += 1) {\r\n        letterData = letters[i];\r\n        if (currentInd != letterData.anIndexes[j]) { // eslint-disable-line eqeqeq\r\n          currentInd = letterData.anIndexes[j];\r\n          newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\r\n        }\r\n        letterData.anIndexes[j] = newInd;\r\n      }\r\n    }\r\n  }\r\n  documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n  documentData.ls = documentData.ls || 0;\r\n  documentData.ascent = (fontData.ascent * documentData.finalSize) / 100;\r\n};\r\n\r\nTextProperty.prototype.updateDocumentData = function (newData, index) {\r\n  index = index === undefined ? this.keysIndex : index;\r\n  var dData = this.copyData({}, this.data.d.k[index].s);\r\n  dData = this.copyData(dData, newData);\r\n  this.data.d.k[index].s = dData;\r\n  this.recalculate(index);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.recalculate = function (index) {\r\n  var dData = this.data.d.k[index].s;\r\n  dData.__complete = false;\r\n  this.keysIndex = 0;\r\n  this._isFirstFrame = true;\r\n  this.getValue(dData);\r\n};\r\n\r\nTextProperty.prototype.canResizeFont = function (_canResize) {\r\n  this.canResize = _canResize;\r\n  this.recalculate(this.keysIndex);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.setMinimumFontSize = function (_fontValue) {\r\n  this.minimumFontSize = Math.floor(_fontValue) || 1;\r\n  this.recalculate(this.keysIndex);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\n/* global extendPrototype, BezierFactory, PropertyFactory, DynamicPropertyContainer */\r\n/* exported TextSelectorProp */\r\n\r\nvar TextSelectorProp = (function () {\r\n  var max = Math.max;\r\n  var min = Math.min;\r\n  var floor = Math.floor;\r\n\r\n  function TextSelectorPropFactory(elem, data) {\r\n    this._currentTextLength = -1;\r\n    this.k = false;\r\n    this.data = data;\r\n    this.elem = elem;\r\n    this.comp = elem.comp;\r\n    this.finalS = 0;\r\n    this.finalE = 0;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.s = PropertyFactory.getProp(elem, data.s || { k: 0 }, 0, 0, this);\r\n    if ('e' in data) {\r\n      this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\r\n    } else {\r\n      this.e = { v: 100 };\r\n    }\r\n    this.o = PropertyFactory.getProp(elem, data.o || { k: 0 }, 0, 0, this);\r\n    this.xe = PropertyFactory.getProp(elem, data.xe || { k: 0 }, 0, 0, this);\r\n    this.ne = PropertyFactory.getProp(elem, data.ne || { k: 0 }, 0, 0, this);\r\n    this.sm = PropertyFactory.getProp(elem, data.sm || { k: 100 }, 0, 0, this);\r\n    this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\r\n    if (!this.dynamicProperties.length) {\r\n      this.getValue();\r\n    }\r\n  }\r\n\r\n  TextSelectorPropFactory.prototype = {\r\n    getMult: function (ind) {\r\n      if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\r\n        this.getValue();\r\n      }\r\n      // var easer = bez.getEasingCurve(this.ne.v/100,0,1-this.xe.v/100,1);\r\n      var x1 = 0;\r\n      var y1 = 0;\r\n      var x2 = 1;\r\n      var y2 = 1;\r\n      if (this.ne.v > 0) {\r\n        x1 = this.ne.v / 100.0;\r\n      } else {\r\n        y1 = -this.ne.v / 100.0;\r\n      }\r\n      if (this.xe.v > 0) {\r\n        x2 = 1.0 - this.xe.v / 100.0;\r\n      } else {\r\n        y2 = 1.0 + this.xe.v / 100.0;\r\n      }\r\n      var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\r\n\r\n      var mult = 0;\r\n      var s = this.finalS;\r\n      var e = this.finalE;\r\n      var type = this.data.sh;\r\n      if (type === 2) {\r\n        if (e === s) {\r\n          mult = ind >= e ? 1 : 0;\r\n        } else {\r\n          mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 3) {\r\n        if (e === s) {\r\n          mult = ind >= e ? 0 : 1;\r\n        } else {\r\n          mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n        }\r\n\r\n        mult = easer(mult);\r\n      } else if (type === 4) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n          if (mult < 0.5) {\r\n            mult *= 2;\r\n          } else {\r\n            mult = 1 - 2 * (mult - 0.5);\r\n          }\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 5) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          var tot = e - s;\r\n          /* ind += 0.5;\r\n                    mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\r\n          ind = min(max(0, ind + 0.5 - s), e - s);\r\n          var x = -tot / 2 + ind;\r\n          var a = tot / 2;\r\n          mult = Math.sqrt(1 - (x * x) / (a * a));\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 6) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          ind = min(max(0, ind + 0.5 - s), e - s);\r\n          mult = (1 + (Math.cos((Math.PI + Math.PI * 2 * (ind) / (e - s))))) / 2; // eslint-disable-line\r\n        }\r\n        mult = easer(mult);\r\n      } else {\r\n        if (ind >= floor(s)) {\r\n          if (ind - s < 0) {\r\n            mult = max(0, min(min(e, 1) - (s - ind), 1));\r\n          } else {\r\n            mult = max(0, min(e - ind, 1));\r\n          }\r\n        }\r\n        mult = easer(mult);\r\n      }\r\n      // Smoothness implementation.\r\n      // The smoothness represents a reduced range of the original [0; 1] range.\r\n      // if smoothness is 25%, the new range will be [0.375; 0.625]\r\n      // Steps are:\r\n      // - find the lower value of the new range (threshold)\r\n      // - if multiplier is smaller than that value, floor it to 0\r\n      // - if it is larger,\r\n      //     - subtract the threshold\r\n      //     - divide it by the smoothness (this will return the range to [0; 1])\r\n      // Note: If it doesn't work on some scenarios, consider applying it before the easer.\r\n      if (this.sm.v !== 100) {\r\n        var smoothness = this.sm.v * 0.01;\r\n        if (smoothness === 0) {\r\n          smoothness = 0.00000001;\r\n        }\r\n        var threshold = 0.5 - smoothness * 0.5;\r\n        if (mult < threshold) {\r\n          mult = 0;\r\n        } else {\r\n          mult = (mult - threshold) / smoothness;\r\n          if (mult > 1) {\r\n            mult = 1;\r\n          }\r\n        }\r\n      }\r\n      return mult * this.a.v;\r\n    },\r\n    getValue: function (newCharsFlag) {\r\n      this.iterateDynamicProperties();\r\n      this._mdf = newCharsFlag || this._mdf;\r\n      this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\r\n      if (newCharsFlag && this.data.r === 2) {\r\n        this.e.v = this._currentTextLength;\r\n      }\r\n      var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\r\n      var o = this.o.v / divisor;\r\n      var s = this.s.v / divisor + o;\r\n      var e = (this.e.v / divisor) + o;\r\n      if (s > e) {\r\n        var _s = s;\r\n        s = e;\r\n        e = _s;\r\n      }\r\n      this.finalS = s;\r\n      this.finalE = e;\r\n    },\r\n  };\r\n  extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\r\n\r\n  function getTextSelectorProp(elem, data, arr) {\r\n    return new TextSelectorPropFactory(elem, data, arr);\r\n  }\r\n\r\n  return {\r\n    getTextSelectorProp: getTextSelectorProp,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, pooling */\r\n/* exported poolFactory */\r\n\r\nvar poolFactory = (function () {\r\n  return function (initialLength, _create, _release) {\r\n    var _length = 0;\r\n    var _maxLength = initialLength;\r\n    var pool = createSizedArray(_maxLength);\r\n\r\n    var ob = {\r\n      newElement: newElement,\r\n      release: release,\r\n    };\r\n\r\n    function newElement() {\r\n      var element;\r\n      if (_length) {\r\n        _length -= 1;\r\n        element = pool[_length];\r\n      } else {\r\n        element = _create();\r\n      }\r\n      return element;\r\n    }\r\n\r\n    function release(element) {\r\n      if (_length === _maxLength) {\r\n        pool = pooling.double(pool);\r\n        _maxLength *= 2;\r\n      }\r\n      if (_release) {\r\n        _release(element);\r\n      }\r\n      pool[_length] = element;\r\n      _length += 1;\r\n    }\r\n\r\n    return ob;\r\n  };\r\n}());\r\n\r\n/* global createSizedArray */\r\n/* exported pooling */\r\n\r\nvar pooling = (function () {\r\n  function double(arr) {\r\n    return arr.concat(createSizedArray(arr.length));\r\n  }\r\n\r\n  return {\r\n    double: double,\r\n  };\r\n}());\r\n\r\n/* global createTypedArray, poolFactory */\r\n/* exported pointPool */\r\n\r\nvar pointPool = (function () {\r\n  function create() {\r\n    return createTypedArray('float32', 2);\r\n  }\r\n  return poolFactory(8, create);\r\n}());\r\n\r\n/* global ShapePath, pointPool, poolFactory */\r\n/* exported shapePool */\r\n\r\nvar shapePool = (function () {\r\n  function create() {\r\n    return new ShapePath();\r\n  }\r\n\r\n  function release(shapePath) {\r\n    var len = shapePath._length;\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      pointPool.release(shapePath.v[i]);\r\n      pointPool.release(shapePath.i[i]);\r\n      pointPool.release(shapePath.o[i]);\r\n      shapePath.v[i] = null;\r\n      shapePath.i[i] = null;\r\n      shapePath.o[i] = null;\r\n    }\r\n    shapePath._length = 0;\r\n    shapePath.c = false;\r\n  }\r\n\r\n  function clone(shape) {\r\n    var cloned = factory.newElement();\r\n    var i;\r\n    var len = shape._length === undefined ? shape.v.length : shape._length;\r\n    cloned.setLength(len);\r\n    cloned.c = shape.c;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\r\n    }\r\n    return cloned;\r\n  }\r\n\r\n  var factory = poolFactory(4, create, release);\r\n  factory.clone = clone;\r\n\r\n  return factory;\r\n}());\r\n\r\n/* global createSizedArray, ShapeCollection, shapePool, pooling */\r\n/* exported shapeCollectionPool */\r\n\r\nvar shapeCollectionPool = (function () {\r\n  var ob = {\r\n    newShapeCollection: newShapeCollection,\r\n    release: release,\r\n  };\r\n\r\n  var _length = 0;\r\n  var _maxLength = 4;\r\n  var pool = createSizedArray(_maxLength);\r\n\r\n  function newShapeCollection() {\r\n    var shapeCollection;\r\n    if (_length) {\r\n      _length -= 1;\r\n      shapeCollection = pool[_length];\r\n    } else {\r\n      shapeCollection = new ShapeCollection();\r\n    }\r\n    return shapeCollection;\r\n  }\r\n\r\n  function release(shapeCollection) {\r\n    var i;\r\n    var len = shapeCollection._length;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapePool.release(shapeCollection.shapes[i]);\r\n    }\r\n    shapeCollection._length = 0;\r\n\r\n    if (_length === _maxLength) {\r\n      pool = pooling.double(pool);\r\n      _maxLength *= 2;\r\n    }\r\n    pool[_length] = shapeCollection;\r\n    _length += 1;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global poolFactory, bezierLengthPool */\r\n/* exported segmentsLengthPool */\r\n\r\nvar segmentsLengthPool = (function () {\r\n  function create() {\r\n    return {\r\n      lengths: [],\r\n      totalLength: 0,\r\n    };\r\n  }\r\n\r\n  function release(element) {\r\n    var i;\r\n    var len = element.lengths.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      bezierLengthPool.release(element.lengths[i]);\r\n    }\r\n    element.lengths.length = 0;\r\n  }\r\n\r\n  return poolFactory(8, create, release);\r\n}());\r\n\r\n/* global createTypedArray, defaultCurveSegments, poolFactory */\r\n/* exported bezierLengthPool */\r\n\r\nvar bezierLengthPool = (function () {\r\n  function create() {\r\n    return {\r\n      addedLength: 0,\r\n      percents: createTypedArray('float32', defaultCurveSegments),\r\n      lengths: createTypedArray('float32', defaultCurveSegments),\r\n    };\r\n  }\r\n  return poolFactory(8, create);\r\n}());\r\n\r\n/* exported markerParser */\r\n\r\nvar markerParser = (\r\n\r\n  function () {\r\n    function parsePayloadLines(payload) {\r\n      var lines = payload.split('\\r\\n');\r\n      var keys = {};\r\n      var line;\r\n      var keysCount = 0;\r\n      for (var i = 0; i < lines.length; i += 1) {\r\n        line = lines[i].split(':');\r\n        if (line.length === 2) {\r\n          keys[line[0]] = line[1].trim();\r\n          keysCount += 1;\r\n        }\r\n      }\r\n      if (keysCount === 0) {\r\n        throw new Error();\r\n      }\r\n      return keys;\r\n    }\r\n\r\n    return function (_markers) {\r\n      var markers = [];\r\n      for (var i = 0; i < _markers.length; i += 1) {\r\n        var _marker = _markers[i];\r\n        var markerData = {\r\n          time: _marker.tm,\r\n          duration: _marker.dr,\r\n        };\r\n        try {\r\n          markerData.payload = JSON.parse(_markers[i].cm);\r\n        } catch (_) {\r\n          try {\r\n            markerData.payload = parsePayloadLines(_markers[i].cm);\r\n          } catch (__) {\r\n            markerData.payload = {\r\n              name: _markers[i],\r\n            };\r\n          }\r\n        }\r\n        markers.push(markerData);\r\n      }\r\n      return markers;\r\n    };\r\n  }());\r\n\r\n/* global AudioElement, FootageElement, FontManager */\r\n\r\nfunction BaseRenderer() {}\r\nBaseRenderer.prototype.checkLayers = function (num) {\r\n  var i;\r\n  var len = this.layers.length;\r\n  var data;\r\n  this.completeLayers = true;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (!this.elements[i]) {\r\n      data = this.layers[i];\r\n      if (data.ip - data.st <= (num - this.layers[i].st) && data.op - data.st > (num - this.layers[i].st)) {\r\n        this.buildItem(i);\r\n      }\r\n    }\r\n    this.completeLayers = this.elements[i] ? this.completeLayers : false;\r\n  }\r\n  this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.createItem = function (layer) {\r\n  switch (layer.ty) {\r\n    case 2:\r\n      return this.createImage(layer);\r\n    case 0:\r\n      return this.createComp(layer);\r\n    case 1:\r\n      return this.createSolid(layer);\r\n    case 3:\r\n      return this.createNull(layer);\r\n    case 4:\r\n      return this.createShape(layer);\r\n    case 5:\r\n      return this.createText(layer);\r\n    case 6:\r\n      return this.createAudio(layer);\r\n    case 13:\r\n      return this.createCamera(layer);\r\n    case 15:\r\n      return this.createFootage(layer);\r\n    default:\r\n      return this.createNull(layer);\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.createCamera = function () {\r\n  throw new Error('You\\'re using a 3d camera. Try the html renderer.');\r\n};\r\n\r\nBaseRenderer.prototype.createAudio = function (data) {\r\n  return new AudioElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.createFootage = function (data) {\r\n  return new FootageElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.buildAllItems = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.buildItem(i);\r\n  }\r\n  this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.includeLayers = function (newLayers) {\r\n  this.completeLayers = false;\r\n  var i;\r\n  var len = newLayers.length;\r\n  var j;\r\n  var jLen = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    j = 0;\r\n    while (j < jLen) {\r\n      if (this.layers[j].id === newLayers[i].id) {\r\n        this.layers[j] = newLayers[i];\r\n        break;\r\n      }\r\n      j += 1;\r\n    }\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.setProjectInterface = function (pInterface) {\r\n  this.globalData.projectInterface = pInterface;\r\n};\r\n\r\nBaseRenderer.prototype.initItems = function () {\r\n  if (!this.globalData.progressiveLoad) {\r\n    this.buildAllItems();\r\n  }\r\n};\r\nBaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\r\n  var elements = this.elements;\r\n  var layers = this.layers;\r\n  var i = 0;\r\n  var len = layers.length;\r\n  while (i < len) {\r\n    if (layers[i].ind == parentName) { // eslint-disable-line eqeqeq\r\n      if (!elements[i] || elements[i] === true) {\r\n        this.buildItem(i);\r\n        this.addPendingElement(element);\r\n      } else {\r\n        hierarchy.push(elements[i]);\r\n        elements[i].setAsParent();\r\n        if (layers[i].parent !== undefined) {\r\n          this.buildElementParenting(element, layers[i].parent, hierarchy);\r\n        } else {\r\n          element.setHierarchy(hierarchy);\r\n        }\r\n      }\r\n    }\r\n    i += 1;\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.addPendingElement = function (element) {\r\n  this.pendingElements.push(element);\r\n};\r\n\r\nBaseRenderer.prototype.searchExtraCompositions = function (assets) {\r\n  var i;\r\n  var len = assets.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (assets[i].xt) {\r\n      var comp = this.createComp(assets[i]);\r\n      comp.initExpressions();\r\n      this.globalData.projectInterface.registerComposition(comp);\r\n    }\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\r\n  this.globalData.fontManager = new FontManager();\r\n  this.globalData.fontManager.addChars(animData.chars);\r\n  this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\r\n  this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\r\n  this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\r\n  this.globalData.imageLoader = this.animationItem.imagePreloader;\r\n  this.globalData.audioController = this.animationItem.audioController;\r\n  this.globalData.frameId = 0;\r\n  this.globalData.frameRate = animData.fr;\r\n  this.globalData.nm = animData.nm;\r\n  this.globalData.compSize = {\r\n    w: animData.w,\r\n    h: animData.h,\r\n  };\r\n};\r\n\r\n/* global createElementID, extendPrototype, BaseRenderer, NullElement, SVGShapeElement, SVGTextLottieElement,\r\nIImageElement, SVGCompElement, ISolidElement, createNS, locationHref, createSizedArray, expressionsPlugin */\r\n\r\nfunction SVGRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.layers = null;\r\n  this.renderedFrame = -1;\r\n  this.svgElement = createNS('svg');\r\n  var ariaLabel = '';\r\n  if (config && config.title) {\r\n    var titleElement = createNS('title');\r\n    var titleId = createElementID();\r\n    titleElement.setAttribute('id', titleId);\r\n    titleElement.textContent = config.title;\r\n    this.svgElement.appendChild(titleElement);\r\n    ariaLabel += titleId;\r\n  }\r\n  if (config && config.description) {\r\n    var descElement = createNS('desc');\r\n    var descId = createElementID();\r\n    descElement.setAttribute('id', descId);\r\n    descElement.textContent = config.description;\r\n    this.svgElement.appendChild(descElement);\r\n    ariaLabel += ' ' + descId;\r\n  }\r\n  if (ariaLabel) {\r\n    this.svgElement.setAttribute('aria-labelledby', ariaLabel);\r\n  }\r\n  var defs = createNS('defs');\r\n  this.svgElement.appendChild(defs);\r\n  var maskElement = createNS('g');\r\n  this.svgElement.appendChild(maskElement);\r\n  this.layerElement = maskElement;\r\n  this.renderConfig = {\r\n    preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    contentVisibility: (config && config.contentVisibility) || 'visible',\r\n    progressiveLoad: (config && config.progressiveLoad) || false,\r\n    hideOnTransparent: !((config && config.hideOnTransparent === false)),\r\n    viewBoxOnly: (config && config.viewBoxOnly) || false,\r\n    viewBoxSize: (config && config.viewBoxSize) || false,\r\n    className: (config && config.className) || '',\r\n    id: (config && config.id) || '',\r\n    focusable: config && config.focusable,\r\n    filterSize: {\r\n      width: (config && config.filterSize && config.filterSize.width) || '100%',\r\n      height: (config && config.filterSize && config.filterSize.height) || '100%',\r\n      x: (config && config.filterSize && config.filterSize.x) || '0%',\r\n      y: (config && config.filterSize && config.filterSize.y) || '0%',\r\n    },\r\n  };\r\n\r\n  this.globalData = {\r\n    _mdf: false,\r\n    frameNum: -1,\r\n    defs: defs,\r\n    renderConfig: this.renderConfig,\r\n  };\r\n  this.elements = [];\r\n  this.pendingElements = [];\r\n  this.destroyed = false;\r\n  this.rendererType = 'svg';\r\n}\r\n\r\nextendPrototype([BaseRenderer], SVGRenderer);\r\n\r\nSVGRenderer.prototype.createNull = function (data) {\r\n  return new NullElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createShape = function (data) {\r\n  return new SVGShapeElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createText = function (data) {\r\n  return new SVGTextLottieElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createImage = function (data) {\r\n  return new IImageElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createComp = function (data) {\r\n  return new SVGCompElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createSolid = function (data) {\r\n  return new ISolidElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.configAnimation = function (animData) {\r\n  this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\r\n  if (this.renderConfig.viewBoxSize) {\r\n    this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\r\n  } else {\r\n    this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\r\n  }\r\n\r\n  if (!this.renderConfig.viewBoxOnly) {\r\n    this.svgElement.setAttribute('width', animData.w);\r\n    this.svgElement.setAttribute('height', animData.h);\r\n    this.svgElement.style.width = '100%';\r\n    this.svgElement.style.height = '100%';\r\n    this.svgElement.style.transform = 'translate3d(0,0,0)';\r\n    this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;\r\n  }\r\n  if (this.renderConfig.className) {\r\n    this.svgElement.setAttribute('class', this.renderConfig.className);\r\n  }\r\n  if (this.renderConfig.id) {\r\n    this.svgElement.setAttribute('id', this.renderConfig.id);\r\n  }\r\n  if (this.renderConfig.focusable !== undefined) {\r\n    this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\r\n  }\r\n  this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio);\r\n  // this.layerElement.style.transform = 'translate3d(0,0,0)';\r\n  // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\r\n  this.animationItem.wrapper.appendChild(this.svgElement);\r\n  // Mask animation\r\n  var defs = this.globalData.defs;\r\n\r\n  this.setupGlobalData(animData, defs);\r\n  this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n  this.data = animData;\r\n\r\n  var maskElement = createNS('clipPath');\r\n  var rect = createNS('rect');\r\n  rect.setAttribute('width', animData.w);\r\n  rect.setAttribute('height', animData.h);\r\n  rect.setAttribute('x', 0);\r\n  rect.setAttribute('y', 0);\r\n  var maskId = createElementID();\r\n  maskElement.setAttribute('id', maskId);\r\n  maskElement.appendChild(rect);\r\n  this.layerElement.setAttribute('clip-path', 'url(' + locationHref + '#' + maskId + ')');\r\n\r\n  defs.appendChild(maskElement);\r\n  this.layers = animData.layers;\r\n  this.elements = createSizedArray(animData.layers.length);\r\n};\r\n\r\nSVGRenderer.prototype.destroy = function () {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  this.layerElement = null;\r\n  this.globalData.defs = null;\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.elements.length = 0;\r\n  this.destroyed = true;\r\n  this.animationItem = null;\r\n};\r\n\r\nSVGRenderer.prototype.updateContainerSize = function () {\r\n};\r\n\r\nSVGRenderer.prototype.buildItem = function (pos) {\r\n  var elements = this.elements;\r\n  if (elements[pos] || this.layers[pos].ty === 99) {\r\n    return;\r\n  }\r\n  elements[pos] = true;\r\n  var element = this.createItem(this.layers[pos]);\r\n\r\n  elements[pos] = element;\r\n  if (expressionsPlugin) {\r\n    if (this.layers[pos].ty === 0) {\r\n      this.globalData.projectInterface.registerComposition(element);\r\n    }\r\n    element.initExpressions();\r\n  }\r\n  this.appendElementInPos(element, pos);\r\n  if (this.layers[pos].tt) {\r\n    if (!this.elements[pos - 1] || this.elements[pos - 1] === true) {\r\n      this.buildItem(pos - 1);\r\n      this.addPendingElement(element);\r\n    } else {\r\n      element.setMatte(elements[pos - 1].layerId);\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n    if (element.data.tt) {\r\n      var i = 0;\r\n      var len = this.elements.length;\r\n      while (i < len) {\r\n        if (this.elements[i] === element) {\r\n          element.setMatte(this.elements[i - 1].layerId);\r\n          break;\r\n        }\r\n        i += 1;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.renderFrame = function (num) {\r\n  if (this.renderedFrame === num || this.destroyed) {\r\n    return;\r\n  }\r\n  if (num === null) {\r\n    num = this.renderedFrame;\r\n  } else {\r\n    this.renderedFrame = num;\r\n  }\r\n  // console.log('-------');\r\n  // console.log('FRAME ',num);\r\n  this.globalData.frameNum = num;\r\n  this.globalData.frameId += 1;\r\n  this.globalData.projectInterface.currentFrame = num;\r\n  this.globalData._mdf = false;\r\n  var i;\r\n  var len = this.layers.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(num);\r\n  }\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(num - this.layers[i].st);\r\n    }\r\n  }\r\n  if (this.globalData._mdf) {\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].renderFrame();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.appendElementInPos = function (element, pos) {\r\n  var newElement = element.getBaseElement();\r\n  if (!newElement) {\r\n    return;\r\n  }\r\n  var i = 0;\r\n  var nextElement;\r\n  while (i < pos) {\r\n    if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\r\n      nextElement = this.elements[i].getBaseElement();\r\n    }\r\n    i += 1;\r\n  }\r\n  if (nextElement) {\r\n    this.layerElement.insertBefore(newElement, nextElement);\r\n  } else {\r\n    this.layerElement.appendChild(newElement);\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.hide = function () {\r\n  this.layerElement.style.display = 'none';\r\n};\r\n\r\nSVGRenderer.prototype.show = function () {\r\n  this.layerElement.style.display = 'block';\r\n};\r\n\r\n/* global CVContextData, Matrix, extendPrototype, BaseRenderer, CVShapeElement, CVTextElement,\r\nCVImageElement, CVCompElement, CVSolidElement, SVGRenderer, createTag, createSizedArray */\r\n\r\nfunction CanvasRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.renderConfig = {\r\n    clearCanvas: (config && config.clearCanvas !== undefined) ? config.clearCanvas : true,\r\n    context: (config && config.context) || null,\r\n    progressiveLoad: (config && config.progressiveLoad) || false,\r\n    preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    contentVisibility: (config && config.contentVisibility) || 'visible',\r\n    className: (config && config.className) || '',\r\n    id: (config && config.id) || '',\r\n  };\r\n  this.renderConfig.dpr = (config && config.dpr) || 1;\r\n  if (this.animationItem.wrapper) {\r\n    this.renderConfig.dpr = (config && config.dpr) || window.devicePixelRatio || 1;\r\n  }\r\n  this.renderedFrame = -1;\r\n  this.globalData = {\r\n    frameNum: -1,\r\n    _mdf: false,\r\n    renderConfig: this.renderConfig,\r\n    currentGlobalAlpha: -1,\r\n  };\r\n  this.contextData = new CVContextData();\r\n  this.elements = [];\r\n  this.pendingElements = [];\r\n  this.transformMat = new Matrix();\r\n  this.completeLayers = false;\r\n  this.rendererType = 'canvas';\r\n}\r\nextendPrototype([BaseRenderer], CanvasRenderer);\r\n\r\nCanvasRenderer.prototype.createShape = function (data) {\r\n  return new CVShapeElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createText = function (data) {\r\n  return new CVTextElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createImage = function (data) {\r\n  return new CVImageElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createComp = function (data) {\r\n  return new CVCompElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createSolid = function (data) {\r\n  return new CVSolidElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nCanvasRenderer.prototype.ctxTransform = function (props) {\r\n  if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\r\n    return;\r\n  }\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\r\n    return;\r\n  }\r\n  this.transformMat.cloneFromProps(props);\r\n  var cProps = this.contextData.cTr.props;\r\n  this.transformMat.transform(cProps[0], cProps[1], cProps[2], cProps[3], cProps[4], cProps[5], cProps[6], cProps[7], cProps[8], cProps[9], cProps[10], cProps[11], cProps[12], cProps[13], cProps[14], cProps[15]);\r\n  // this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n  this.contextData.cTr.cloneFromProps(this.transformMat.props);\r\n  var trProps = this.contextData.cTr.props;\r\n  this.canvasContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\r\n};\r\n\r\nCanvasRenderer.prototype.ctxOpacity = function (op) {\r\n  /* if(op === 1){\r\n        return;\r\n    } */\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\r\n    this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n    return;\r\n  }\r\n  this.contextData.cO *= op < 0 ? 0 : op;\r\n  if (this.globalData.currentGlobalAlpha !== this.contextData.cO) {\r\n    this.canvasContext.globalAlpha = this.contextData.cO;\r\n    this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.reset = function () {\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.restore();\r\n    return;\r\n  }\r\n  this.contextData.reset();\r\n};\r\n\r\nCanvasRenderer.prototype.save = function (actionFlag) {\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.save();\r\n    return;\r\n  }\r\n  if (actionFlag) {\r\n    this.canvasContext.save();\r\n  }\r\n  var props = this.contextData.cTr.props;\r\n  if (this.contextData._length <= this.contextData.cArrPos) {\r\n    this.contextData.duplicate();\r\n  }\r\n  var i;\r\n  var arr = this.contextData.saved[this.contextData.cArrPos];\r\n  for (i = 0; i < 16; i += 1) {\r\n    arr[i] = props[i];\r\n  }\r\n  this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\r\n  this.contextData.cArrPos += 1;\r\n};\r\n\r\nCanvasRenderer.prototype.restore = function (actionFlag) {\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.restore();\r\n    return;\r\n  }\r\n  if (actionFlag) {\r\n    this.canvasContext.restore();\r\n    this.globalData.blendMode = 'source-over';\r\n  }\r\n  this.contextData.cArrPos -= 1;\r\n  var popped = this.contextData.saved[this.contextData.cArrPos];\r\n  var i;\r\n  var arr = this.contextData.cTr.props;\r\n  for (i = 0; i < 16; i += 1) {\r\n    arr[i] = popped[i];\r\n  }\r\n  this.canvasContext.setTransform(popped[0], popped[1], popped[4], popped[5], popped[12], popped[13]);\r\n  popped = this.contextData.savedOp[this.contextData.cArrPos];\r\n  this.contextData.cO = popped;\r\n  if (this.globalData.currentGlobalAlpha !== popped) {\r\n    this.canvasContext.globalAlpha = popped;\r\n    this.globalData.currentGlobalAlpha = popped;\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.configAnimation = function (animData) {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.container = createTag('canvas');\r\n    var containerStyle = this.animationItem.container.style;\r\n    containerStyle.width = '100%';\r\n    containerStyle.height = '100%';\r\n    var origin = '0px 0px 0px';\r\n    containerStyle.transformOrigin = origin;\r\n    containerStyle.mozTransformOrigin = origin;\r\n    containerStyle.webkitTransformOrigin = origin;\r\n    containerStyle['-webkit-transform'] = origin;\r\n    containerStyle.contentVisibility = this.renderConfig.contentVisibility;\r\n    this.animationItem.wrapper.appendChild(this.animationItem.container);\r\n    this.canvasContext = this.animationItem.container.getContext('2d');\r\n    if (this.renderConfig.className) {\r\n      this.animationItem.container.setAttribute('class', this.renderConfig.className);\r\n    }\r\n    if (this.renderConfig.id) {\r\n      this.animationItem.container.setAttribute('id', this.renderConfig.id);\r\n    }\r\n  } else {\r\n    this.canvasContext = this.renderConfig.context;\r\n  }\r\n  this.data = animData;\r\n  this.layers = animData.layers;\r\n  this.transformCanvas = {\r\n    w: animData.w,\r\n    h: animData.h,\r\n    sx: 0,\r\n    sy: 0,\r\n    tx: 0,\r\n    ty: 0,\r\n  };\r\n  this.setupGlobalData(animData, document.body);\r\n  this.globalData.canvasContext = this.canvasContext;\r\n  this.globalData.renderer = this;\r\n  this.globalData.isDashed = false;\r\n  this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n  this.globalData.transformCanvas = this.transformCanvas;\r\n  this.elements = createSizedArray(animData.layers.length);\r\n\r\n  this.updateContainerSize();\r\n};\r\n\r\nCanvasRenderer.prototype.updateContainerSize = function () {\r\n  this.reset();\r\n  var elementWidth;\r\n  var elementHeight;\r\n  if (this.animationItem.wrapper && this.animationItem.container) {\r\n    elementWidth = this.animationItem.wrapper.offsetWidth;\r\n    elementHeight = this.animationItem.wrapper.offsetHeight;\r\n    this.animationItem.container.setAttribute('width', elementWidth * this.renderConfig.dpr);\r\n    this.animationItem.container.setAttribute('height', elementHeight * this.renderConfig.dpr);\r\n  } else {\r\n    elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\r\n    elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\r\n  }\r\n  var elementRel;\r\n  var animationRel;\r\n  if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\r\n    var par = this.renderConfig.preserveAspectRatio.split(' ');\r\n    var fillType = par[1] || 'meet';\r\n    var pos = par[0] || 'xMidYMid';\r\n    var xPos = pos.substr(0, 4);\r\n    var yPos = pos.substr(4);\r\n    elementRel = elementWidth / elementHeight;\r\n    animationRel = this.transformCanvas.w / this.transformCanvas.h;\r\n    if ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice')) {\r\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n      this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n    } else {\r\n      this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n    }\r\n\r\n    if (xPos === 'xMid' && ((animationRel < elementRel && fillType === 'meet') || (animationRel > elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.tx = ((elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2) * this.renderConfig.dpr;\r\n    } else if (xPos === 'xMax' && ((animationRel < elementRel && fillType === 'meet') || (animationRel > elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\r\n    } else {\r\n      this.transformCanvas.tx = 0;\r\n    }\r\n    if (yPos === 'YMid' && ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.ty = ((elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2) * this.renderConfig.dpr;\r\n    } else if (yPos === 'YMax' && ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.ty = ((elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w))) * this.renderConfig.dpr;\r\n    } else {\r\n      this.transformCanvas.ty = 0;\r\n    }\r\n  } else if (this.renderConfig.preserveAspectRatio === 'none') {\r\n    this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n    this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n    this.transformCanvas.tx = 0;\r\n    this.transformCanvas.ty = 0;\r\n  } else {\r\n    this.transformCanvas.sx = this.renderConfig.dpr;\r\n    this.transformCanvas.sy = this.renderConfig.dpr;\r\n    this.transformCanvas.tx = 0;\r\n    this.transformCanvas.ty = 0;\r\n  }\r\n  this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\r\n  /* var i, len = this.elements.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(this.elements[i] && this.elements[i].data.ty === 0){\r\n            this.elements[i].resize(this.globalData.transformCanvas);\r\n        }\r\n    } */\r\n  this.ctxTransform(this.transformCanvas.props);\r\n  this.canvasContext.beginPath();\r\n  this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n  this.canvasContext.closePath();\r\n  this.canvasContext.clip();\r\n\r\n  this.renderFrame(this.renderedFrame, true);\r\n};\r\n\r\nCanvasRenderer.prototype.destroy = function () {\r\n  if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.elements.length = 0;\r\n  this.globalData.canvasContext = null;\r\n  this.animationItem.container = null;\r\n  this.destroyed = true;\r\n};\r\n\r\nCanvasRenderer.prototype.renderFrame = function (num, forceRender) {\r\n  if ((this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender) || this.destroyed || num === -1) {\r\n    return;\r\n  }\r\n  this.renderedFrame = num;\r\n  this.globalData.frameNum = num - this.animationItem._isFirstFrame;\r\n  this.globalData.frameId += 1;\r\n  this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\r\n  this.globalData.projectInterface.currentFrame = num;\r\n\r\n  // console.log('--------');\r\n  // console.log('NEW: ',num);\r\n  var i;\r\n  var len = this.layers.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(num);\r\n  }\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(num - this.layers[i].st);\r\n    }\r\n  }\r\n  if (this.globalData._mdf) {\r\n    if (this.renderConfig.clearCanvas === true) {\r\n      this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n    } else {\r\n      this.save();\r\n    }\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].renderFrame();\r\n      }\r\n    }\r\n    if (this.renderConfig.clearCanvas !== true) {\r\n      this.restore();\r\n    }\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.buildItem = function (pos) {\r\n  var elements = this.elements;\r\n  if (elements[pos] || this.layers[pos].ty === 99) {\r\n    return;\r\n  }\r\n  var element = this.createItem(this.layers[pos], this, this.globalData);\r\n  elements[pos] = element;\r\n  element.initExpressions();\r\n  /* if(this.layers[pos].ty === 0){\r\n        element.resize(this.globalData.transformCanvas);\r\n    } */\r\n};\r\n\r\nCanvasRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.hide = function () {\r\n  this.animationItem.container.style.display = 'none';\r\n};\r\n\r\nCanvasRenderer.prototype.show = function () {\r\n  this.animationItem.container.style.display = 'block';\r\n};\r\n\r\n/* global extendPrototype, BaseRenderer, SVGRenderer, SVGShapeElement, HShapeElement, SVGTextLottieElement,\r\nHTextElement, HCameraElement, IImageElement, HImageElement, SVGCompElement, HCompElement, ISolidElement,\r\nHSolidElement, styleDiv, createTag, createNS */\r\n\r\nfunction HybridRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.layers = null;\r\n  this.renderedFrame = -1;\r\n  this.renderConfig = {\r\n    className: (config && config.className) || '',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    hideOnTransparent: !(config && config.hideOnTransparent === false),\r\n    filterSize: {\r\n      width: (config && config.filterSize && config.filterSize.width) || '400%',\r\n      height: (config && config.filterSize && config.filterSize.height) || '400%',\r\n      x: (config && config.filterSize && config.filterSize.x) || '-100%',\r\n      y: (config && config.filterSize && config.filterSize.y) || '-100%',\r\n    },\r\n  };\r\n  this.globalData = {\r\n    _mdf: false,\r\n    frameNum: -1,\r\n    renderConfig: this.renderConfig,\r\n  };\r\n  this.pendingElements = [];\r\n  this.elements = [];\r\n  this.threeDElements = [];\r\n  this.destroyed = false;\r\n  this.camera = null;\r\n  this.supports3d = true;\r\n  this.rendererType = 'html';\r\n}\r\n\r\nextendPrototype([BaseRenderer], HybridRenderer);\r\n\r\nHybridRenderer.prototype.buildItem = SVGRenderer.prototype.buildItem;\r\n\r\nHybridRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.appendElementInPos = function (element, pos) {\r\n  var newDOMElement = element.getBaseElement();\r\n  if (!newDOMElement) {\r\n    return;\r\n  }\r\n  var layer = this.layers[pos];\r\n  if (!layer.ddd || !this.supports3d) {\r\n    if (this.threeDElements) {\r\n      this.addTo3dContainer(newDOMElement, pos);\r\n    } else {\r\n      var i = 0;\r\n      var nextDOMElement;\r\n      var nextLayer;\r\n      var tmpDOMElement;\r\n      while (i < pos) {\r\n        if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\r\n          nextLayer = this.elements[i];\r\n          tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\r\n          nextDOMElement = tmpDOMElement || nextDOMElement;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (nextDOMElement) {\r\n        if (!layer.ddd || !this.supports3d) {\r\n          this.layerElement.insertBefore(newDOMElement, nextDOMElement);\r\n        }\r\n      } else if (!layer.ddd || !this.supports3d) {\r\n        this.layerElement.appendChild(newDOMElement);\r\n      }\r\n    }\r\n  } else {\r\n    this.addTo3dContainer(newDOMElement, pos);\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.createShape = function (data) {\r\n  if (!this.supports3d) {\r\n    return new SVGShapeElement(data, this.globalData, this);\r\n  }\r\n  return new HShapeElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createText = function (data) {\r\n  if (!this.supports3d) {\r\n    return new SVGTextLottieElement(data, this.globalData, this);\r\n  }\r\n  return new HTextElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createCamera = function (data) {\r\n  this.camera = new HCameraElement(data, this.globalData, this);\r\n  return this.camera;\r\n};\r\n\r\nHybridRenderer.prototype.createImage = function (data) {\r\n  if (!this.supports3d) {\r\n    return new IImageElement(data, this.globalData, this);\r\n  }\r\n  return new HImageElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createComp = function (data) {\r\n  if (!this.supports3d) {\r\n    return new SVGCompElement(data, this.globalData, this);\r\n  }\r\n  return new HCompElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createSolid = function (data) {\r\n  if (!this.supports3d) {\r\n    return new ISolidElement(data, this.globalData, this);\r\n  }\r\n  return new HSolidElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nHybridRenderer.prototype.getThreeDContainerByPos = function (pos) {\r\n  var i = 0;\r\n  var len = this.threeDElements.length;\r\n  while (i < len) {\r\n    if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\r\n      return this.threeDElements[i].perspectiveElem;\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nHybridRenderer.prototype.createThreeDContainer = function (pos, type) {\r\n  var perspectiveElem = createTag('div');\r\n  var style;\r\n  var containerStyle;\r\n  styleDiv(perspectiveElem);\r\n  var container = createTag('div');\r\n  styleDiv(container);\r\n  if (type === '3d') {\r\n    style = perspectiveElem.style;\r\n    style.width = this.globalData.compSize.w + 'px';\r\n    style.height = this.globalData.compSize.h + 'px';\r\n    var center = '50% 50%';\r\n    style.webkitTransformOrigin = center;\r\n    style.mozTransformOrigin = center;\r\n    style.transformOrigin = center;\r\n    containerStyle = container.style;\r\n    var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n    containerStyle.transform = matrix;\r\n    containerStyle.webkitTransform = matrix;\r\n  }\r\n\r\n  perspectiveElem.appendChild(container);\r\n  // this.resizerElem.appendChild(perspectiveElem);\r\n  var threeDContainerData = {\r\n    container: container,\r\n    perspectiveElem: perspectiveElem,\r\n    startPos: pos,\r\n    endPos: pos,\r\n    type: type,\r\n  };\r\n  this.threeDElements.push(threeDContainerData);\r\n  return threeDContainerData;\r\n};\r\n\r\nHybridRenderer.prototype.build3dContainers = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  var lastThreeDContainerData;\r\n  var currentContainer = '';\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.layers[i].ddd && this.layers[i].ty !== 3) {\r\n      if (currentContainer !== '3d') {\r\n        currentContainer = '3d';\r\n        lastThreeDContainerData = this.createThreeDContainer(i, '3d');\r\n      }\r\n      lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\r\n    } else {\r\n      if (currentContainer !== '2d') {\r\n        currentContainer = '2d';\r\n        lastThreeDContainerData = this.createThreeDContainer(i, '2d');\r\n      }\r\n      lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\r\n    }\r\n  }\r\n  len = this.threeDElements.length;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.addTo3dContainer = function (elem, pos) {\r\n  var i = 0;\r\n  var len = this.threeDElements.length;\r\n  while (i < len) {\r\n    if (pos <= this.threeDElements[i].endPos) {\r\n      var j = this.threeDElements[i].startPos;\r\n      var nextElement;\r\n      while (j < pos) {\r\n        if (this.elements[j] && this.elements[j].getBaseElement) {\r\n          nextElement = this.elements[j].getBaseElement();\r\n        }\r\n        j += 1;\r\n      }\r\n      if (nextElement) {\r\n        this.threeDElements[i].container.insertBefore(elem, nextElement);\r\n      } else {\r\n        this.threeDElements[i].container.appendChild(elem);\r\n      }\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.configAnimation = function (animData) {\r\n  var resizerElem = createTag('div');\r\n  var wrapper = this.animationItem.wrapper;\r\n  var style = resizerElem.style;\r\n  style.width = animData.w + 'px';\r\n  style.height = animData.h + 'px';\r\n  this.resizerElem = resizerElem;\r\n  styleDiv(resizerElem);\r\n  style.transformStyle = 'flat';\r\n  style.mozTransformStyle = 'flat';\r\n  style.webkitTransformStyle = 'flat';\r\n  if (this.renderConfig.className) {\r\n    resizerElem.setAttribute('class', this.renderConfig.className);\r\n  }\r\n  wrapper.appendChild(resizerElem);\r\n\r\n  style.overflow = 'hidden';\r\n  var svg = createNS('svg');\r\n  svg.setAttribute('width', '1');\r\n  svg.setAttribute('height', '1');\r\n  styleDiv(svg);\r\n  this.resizerElem.appendChild(svg);\r\n  var defs = createNS('defs');\r\n  svg.appendChild(defs);\r\n  this.data = animData;\r\n  // Mask animation\r\n  this.setupGlobalData(animData, svg);\r\n  this.globalData.defs = defs;\r\n  this.layers = animData.layers;\r\n  this.layerElement = this.resizerElem;\r\n  this.build3dContainers();\r\n  this.updateContainerSize();\r\n};\r\n\r\nHybridRenderer.prototype.destroy = function () {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  this.animationItem.container = null;\r\n  this.globalData.defs = null;\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.elements[i].destroy();\r\n  }\r\n  this.elements.length = 0;\r\n  this.destroyed = true;\r\n  this.animationItem = null;\r\n};\r\n\r\nHybridRenderer.prototype.updateContainerSize = function () {\r\n  var elementWidth = this.animationItem.wrapper.offsetWidth;\r\n  var elementHeight = this.animationItem.wrapper.offsetHeight;\r\n  var elementRel = elementWidth / elementHeight;\r\n  var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\r\n  var sx;\r\n  var sy;\r\n  var tx;\r\n  var ty;\r\n  if (animationRel > elementRel) {\r\n    sx = elementWidth / (this.globalData.compSize.w);\r\n    sy = elementWidth / (this.globalData.compSize.w);\r\n    tx = 0;\r\n    ty = ((elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2);\r\n  } else {\r\n    sx = elementHeight / (this.globalData.compSize.h);\r\n    sy = elementHeight / (this.globalData.compSize.h);\r\n    tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\r\n    ty = 0;\r\n  }\r\n  var style = this.resizerElem.style;\r\n  style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\r\n  style.transform = style.webkitTransform;\r\n};\r\n\r\nHybridRenderer.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\r\n\r\nHybridRenderer.prototype.hide = function () {\r\n  this.resizerElem.style.display = 'none';\r\n};\r\n\r\nHybridRenderer.prototype.show = function () {\r\n  this.resizerElem.style.display = 'block';\r\n};\r\n\r\nHybridRenderer.prototype.initItems = function () {\r\n  this.buildAllItems();\r\n  if (this.camera) {\r\n    this.camera.setup();\r\n  } else {\r\n    var cWidth = this.globalData.compSize.w;\r\n    var cHeight = this.globalData.compSize.h;\r\n    var i;\r\n    var len = this.threeDElements.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      var style = this.threeDElements[i].perspectiveElem.style;\r\n      style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\r\n      style.perspective = style.webkitPerspective;\r\n    }\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.searchExtraCompositions = function (assets) {\r\n  var i;\r\n  var len = assets.length;\r\n  var floatingContainer = createTag('div');\r\n  for (i = 0; i < len; i += 1) {\r\n    if (assets[i].xt) {\r\n      var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\r\n      comp.initExpressions();\r\n      this.globalData.projectInterface.registerComposition(comp);\r\n    }\r\n  }\r\n};\r\n\r\n/* global createSizedArray, createElementID, PropertyFactory, ShapePropertyFactory, createNS, locationHref */\r\n\r\nfunction MaskElement(data, element, globalData) {\r\n  this.data = data;\r\n  this.element = element;\r\n  this.globalData = globalData;\r\n  this.storedData = [];\r\n  this.masksProperties = this.data.masksProperties || [];\r\n  this.maskElement = null;\r\n  var defs = this.globalData.defs;\r\n  var i;\r\n  var len = this.masksProperties ? this.masksProperties.length : 0;\r\n  this.viewData = createSizedArray(len);\r\n  this.solidPath = '';\r\n\r\n  var path;\r\n  var properties = this.masksProperties;\r\n  var count = 0;\r\n  var currentMasks = [];\r\n  var j;\r\n  var jLen;\r\n  var layerId = createElementID();\r\n  var rect;\r\n  var expansor;\r\n  var feMorph;\r\n  var x;\r\n  var maskType = 'clipPath';\r\n  var maskRef = 'clip-path';\r\n  for (i = 0; i < len; i += 1) {\r\n    if ((properties[i].mode !== 'a' && properties[i].mode !== 'n') || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\r\n      maskType = 'mask';\r\n      maskRef = 'mask';\r\n    }\r\n\r\n    if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\r\n      rect = createNS('rect');\r\n      rect.setAttribute('fill', '#ffffff');\r\n      rect.setAttribute('width', this.element.comp.data.w || 0);\r\n      rect.setAttribute('height', this.element.comp.data.h || 0);\r\n      currentMasks.push(rect);\r\n    } else {\r\n      rect = null;\r\n    }\r\n\r\n    path = createNS('path');\r\n    if (properties[i].mode === 'n') {\r\n      // TODO move this to a factory or to a constructor\r\n      this.viewData[i] = {\r\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n        elem: path,\r\n        lastPath: '',\r\n      };\r\n      defs.appendChild(path);\r\n    } else {\r\n      count += 1;\r\n\r\n      path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n      path.setAttribute('clip-rule', 'nonzero');\r\n      var filterID;\r\n\r\n      if (properties[i].x.k !== 0) {\r\n        maskType = 'mask';\r\n        maskRef = 'mask';\r\n        x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\r\n        filterID = createElementID();\r\n        expansor = createNS('filter');\r\n        expansor.setAttribute('id', filterID);\r\n        feMorph = createNS('feMorphology');\r\n        feMorph.setAttribute('operator', 'erode');\r\n        feMorph.setAttribute('in', 'SourceGraphic');\r\n        feMorph.setAttribute('radius', '0');\r\n        expansor.appendChild(feMorph);\r\n        defs.appendChild(expansor);\r\n        path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n      } else {\r\n        feMorph = null;\r\n        x = null;\r\n      }\r\n\r\n      // TODO move this to a factory or to a constructor\r\n      this.storedData[i] = {\r\n        elem: path,\r\n        x: x,\r\n        expan: feMorph,\r\n        lastPath: '',\r\n        lastOperator: '',\r\n        filterId: filterID,\r\n        lastRadius: 0,\r\n      };\r\n      if (properties[i].mode === 'i') {\r\n        jLen = currentMasks.length;\r\n        var g = createNS('g');\r\n        for (j = 0; j < jLen; j += 1) {\r\n          g.appendChild(currentMasks[j]);\r\n        }\r\n        var mask = createNS('mask');\r\n        mask.setAttribute('mask-type', 'alpha');\r\n        mask.setAttribute('id', layerId + '_' + count);\r\n        mask.appendChild(path);\r\n        defs.appendChild(mask);\r\n        g.setAttribute('mask', 'url(' + locationHref + '#' + layerId + '_' + count + ')');\r\n\r\n        currentMasks.length = 0;\r\n        currentMasks.push(g);\r\n      } else {\r\n        currentMasks.push(path);\r\n      }\r\n      if (properties[i].inv && !this.solidPath) {\r\n        this.solidPath = this.createLayerSolidPath();\r\n      }\r\n      // TODO move this to a factory or to a constructor\r\n      this.viewData[i] = {\r\n        elem: path,\r\n        lastPath: '',\r\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n        invRect: rect,\r\n      };\r\n      if (!this.viewData[i].prop.k) {\r\n        this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  this.maskElement = createNS(maskType);\r\n\r\n  len = currentMasks.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.maskElement.appendChild(currentMasks[i]);\r\n  }\r\n\r\n  if (count > 0) {\r\n    this.maskElement.setAttribute('id', layerId);\r\n    this.element.maskedElement.setAttribute(maskRef, 'url(' + locationHref + '#' + layerId + ')');\r\n    defs.appendChild(this.maskElement);\r\n  }\r\n  if (this.viewData.length) {\r\n    this.element.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nMaskElement.prototype.getMaskProperty = function (pos) {\r\n  return this.viewData[pos].prop;\r\n};\r\n\r\nMaskElement.prototype.renderFrame = function (isFirstFrame) {\r\n  var finalMat = this.element.finalTransform.mat;\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.viewData[i].prop._mdf || isFirstFrame) {\r\n      this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n    }\r\n    if (this.viewData[i].op._mdf || isFirstFrame) {\r\n      this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\r\n    }\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\r\n        this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\r\n      }\r\n      if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\r\n        var feMorph = this.storedData[i].expan;\r\n        if (this.storedData[i].x.v < 0) {\r\n          if (this.storedData[i].lastOperator !== 'erode') {\r\n            this.storedData[i].lastOperator = 'erode';\r\n            this.storedData[i].elem.setAttribute('filter', 'url(' + locationHref + '#' + this.storedData[i].filterId + ')');\r\n          }\r\n          feMorph.setAttribute('radius', -this.storedData[i].x.v);\r\n        } else {\r\n          if (this.storedData[i].lastOperator !== 'dilate') {\r\n            this.storedData[i].lastOperator = 'dilate';\r\n            this.storedData[i].elem.setAttribute('filter', null);\r\n          }\r\n          this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nMaskElement.prototype.getMaskelement = function () {\r\n  return this.maskElement;\r\n};\r\n\r\nMaskElement.prototype.createLayerSolidPath = function () {\r\n  var path = 'M0,0 ';\r\n  path += ' h' + this.globalData.compSize.w;\r\n  path += ' v' + this.globalData.compSize.h;\r\n  path += ' h-' + this.globalData.compSize.w;\r\n  path += ' v-' + this.globalData.compSize.h + ' ';\r\n  return path;\r\n};\r\n\r\nMaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\r\n  var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n  var i;\r\n  var len;\r\n  len = pathNodes._length;\r\n  for (i = 1; i < len; i += 1) {\r\n    // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n    pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\r\n  }\r\n  // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n  if (pathNodes.c && len > 1) {\r\n    pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n  }\r\n  // pathNodes.__renderedString = pathString;\r\n\r\n  if (viewData.lastPath !== pathString) {\r\n    var pathShapeValue = '';\r\n    if (viewData.elem) {\r\n      if (pathNodes.c) {\r\n        pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\r\n      }\r\n      viewData.elem.setAttribute('d', pathShapeValue);\r\n    }\r\n    viewData.lastPath = pathString;\r\n  }\r\n};\r\n\r\nMaskElement.prototype.destroy = function () {\r\n  this.element = null;\r\n  this.globalData = null;\r\n  this.maskElement = null;\r\n  this.data = null;\r\n  this.masksProperties = null;\r\n};\r\n\r\n/**\r\n * @file\r\n * Handles AE's layer parenting property.\r\n *\r\n */\r\n\r\nfunction HierarchyElement() {}\r\n\r\nHierarchyElement.prototype = {\r\n  /**\r\n     * @function\r\n     * Initializes hierarchy properties\r\n     *\r\n     */\r\n  initHierarchy: function () {\r\n    // element's parent list\r\n    this.hierarchy = [];\r\n    // if element is parent of another layer _isParent will be true\r\n    this._isParent = false;\r\n    this.checkParenting();\r\n  },\r\n  /**\r\n     * @function\r\n     * Sets layer's hierarchy.\r\n     * @param {array} hierarch\r\n     * layer's parent list\r\n     *\r\n     */\r\n  setHierarchy: function (hierarchy) {\r\n    this.hierarchy = hierarchy;\r\n  },\r\n  /**\r\n     * @function\r\n     * Sets layer as parent.\r\n     *\r\n     */\r\n  setAsParent: function () {\r\n    this._isParent = true;\r\n  },\r\n  /**\r\n     * @function\r\n     * Searches layer's parenting chain\r\n     *\r\n     */\r\n  checkParenting: function () {\r\n    if (this.data.parent !== undefined) {\r\n      this.comp.buildElementParenting(this, this.data.parent, []);\r\n    }\r\n  },\r\n};\r\n\r\n/**\r\n * @file\r\n * Handles element's layer frame update.\r\n * Checks layer in point and out point\r\n *\r\n */\r\n\r\nfunction FrameElement() {}\r\n\r\nFrameElement.prototype = {\r\n  /**\r\n     * @function\r\n     * Initializes frame related properties.\r\n     *\r\n     */\r\n  initFrame: function () {\r\n    // set to true when inpoint is rendered\r\n    this._isFirstFrame = false;\r\n    // list of animated properties\r\n    this.dynamicProperties = [];\r\n    // If layer has been modified in current tick this will be true\r\n    this._mdf = false;\r\n  },\r\n  /**\r\n     * @function\r\n     * Calculates all dynamic values\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * @param {boolean} isVisible\r\n     * if layers is currently in range\r\n     *\r\n     */\r\n  prepareProperties: function (num, isVisible) {\r\n    var i;\r\n    var len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (isVisible || (this._isParent && this.dynamicProperties[i].propType === 'transform')) {\r\n        this.dynamicProperties[i].getValue();\r\n        if (this.dynamicProperties[i]._mdf) {\r\n          this.globalData._mdf = true;\r\n          this._mdf = true;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  addDynamicProperty: function (prop) {\r\n    if (this.dynamicProperties.indexOf(prop) === -1) {\r\n      this.dynamicProperties.push(prop);\r\n    }\r\n  },\r\n};\r\n\r\n/* global TransformPropertyFactory, Matrix */\r\n\r\nfunction TransformElement() {}\r\n\r\nTransformElement.prototype = {\r\n  initTransform: function () {\r\n    this.finalTransform = {\r\n      mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : { o: 0 },\r\n      _matMdf: false,\r\n      _opMdf: false,\r\n      mat: new Matrix(),\r\n    };\r\n    if (this.data.ao) {\r\n      this.finalTransform.mProp.autoOriented = true;\r\n    }\r\n\r\n    // TODO: check TYPE 11: Guided elements\r\n    if (this.data.ty !== 11) {\r\n      // this.createElements();\r\n    }\r\n  },\r\n  renderTransform: function () {\r\n    this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\r\n    this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\r\n\r\n    if (this.hierarchy) {\r\n      var mat;\r\n      var finalMat = this.finalTransform.mat;\r\n      var i = 0;\r\n      var len = this.hierarchy.length;\r\n      // Checking if any of the transformation matrices in the hierarchy chain has changed.\r\n      if (!this.finalTransform._matMdf) {\r\n        while (i < len) {\r\n          if (this.hierarchy[i].finalTransform.mProp._mdf) {\r\n            this.finalTransform._matMdf = true;\r\n            break;\r\n          }\r\n          i += 1;\r\n        }\r\n      }\r\n\r\n      if (this.finalTransform._matMdf) {\r\n        mat = this.finalTransform.mProp.v.props;\r\n        finalMat.cloneFromProps(mat);\r\n        for (i = 0; i < len; i += 1) {\r\n          mat = this.hierarchy[i].finalTransform.mProp.v.props;\r\n          finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  globalToLocal: function (pt) {\r\n    var transforms = [];\r\n    transforms.push(this.finalTransform);\r\n    var flag = true;\r\n    var comp = this.comp;\r\n    while (flag) {\r\n      if (comp.finalTransform) {\r\n        if (comp.data.hasMask) {\r\n          transforms.splice(0, 0, comp.finalTransform);\r\n        }\r\n        comp = comp.comp;\r\n      } else {\r\n        flag = false;\r\n      }\r\n    }\r\n    var i;\r\n    var len = transforms.length;\r\n    var ptNew;\r\n    for (i = 0; i < len; i += 1) {\r\n      ptNew = transforms[i].mat.applyToPointArray(0, 0, 0);\r\n      // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\r\n      pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\r\n    }\r\n    return pt;\r\n  },\r\n  mHelper: new Matrix(),\r\n};\r\n\r\nfunction RenderableElement() {\r\n\r\n}\r\n\r\nRenderableElement.prototype = {\r\n  initRenderable: function () {\r\n    // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\r\n    this.isInRange = false;\r\n    // layer's display state\r\n    this.hidden = false;\r\n    // If layer's transparency equals 0, it can be hidden\r\n    this.isTransparent = false;\r\n    // list of animated components\r\n    this.renderableComponents = [];\r\n  },\r\n  addRenderableComponent: function (component) {\r\n    if (this.renderableComponents.indexOf(component) === -1) {\r\n      this.renderableComponents.push(component);\r\n    }\r\n  },\r\n  removeRenderableComponent: function (component) {\r\n    if (this.renderableComponents.indexOf(component) !== -1) {\r\n      this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\r\n    }\r\n  },\r\n  prepareRenderableFrame: function (num) {\r\n    this.checkLayerLimits(num);\r\n  },\r\n  checkTransparency: function () {\r\n    if (this.finalTransform.mProp.o.v <= 0) {\r\n      if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\r\n        this.isTransparent = true;\r\n        this.hide();\r\n      }\r\n    } else if (this.isTransparent) {\r\n      this.isTransparent = false;\r\n      this.show();\r\n    }\r\n  },\r\n  /**\r\n     * @function\r\n     * Initializes frame related properties.\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     *\r\n     */\r\n  checkLayerLimits: function (num) {\r\n    if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\r\n      if (this.isInRange !== true) {\r\n        this.globalData._mdf = true;\r\n        this._mdf = true;\r\n        this.isInRange = true;\r\n        this.show();\r\n      }\r\n    } else if (this.isInRange !== false) {\r\n      this.globalData._mdf = true;\r\n      this.isInRange = false;\r\n      this.hide();\r\n    }\r\n  },\r\n  renderRenderable: function () {\r\n    var i;\r\n    var len = this.renderableComponents.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.renderableComponents[i].renderFrame(this._isFirstFrame);\r\n    }\r\n    /* this.maskManager.renderFrame(this.finalTransform.mat);\r\n        this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\r\n  },\r\n  sourceRectAtTime: function () {\r\n    return {\r\n      top: 0,\r\n      left: 0,\r\n      width: 100,\r\n      height: 100,\r\n    };\r\n  },\r\n  getLayerSize: function () {\r\n    if (this.data.ty === 5) {\r\n      return { w: this.data.textData.width, h: this.data.textData.height };\r\n    }\r\n    return { w: this.data.width, h: this.data.height };\r\n  },\r\n};\r\n\r\n/* global extendPrototype, RenderableElement, createProxyFunction */\r\n\r\nfunction RenderableDOMElement() {}\r\n\r\n(function () {\r\n  var _prototype = {\r\n    initElement: function (data, globalData, comp) {\r\n      this.initFrame();\r\n      this.initBaseData(data, globalData, comp);\r\n      this.initTransform(data, globalData, comp);\r\n      this.initHierarchy();\r\n      this.initRenderable();\r\n      this.initRendererElement();\r\n      this.createContainerElements();\r\n      this.createRenderableComponents();\r\n      this.createContent();\r\n      this.hide();\r\n    },\r\n    hide: function () {\r\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n        var elem = this.baseElement || this.layerElement;\r\n        elem.style.display = 'none';\r\n        this.hidden = true;\r\n      }\r\n    },\r\n    show: function () {\r\n      if (this.isInRange && !this.isTransparent) {\r\n        if (!this.data.hd) {\r\n          var elem = this.baseElement || this.layerElement;\r\n          elem.style.display = 'block';\r\n        }\r\n        this.hidden = false;\r\n        this._isFirstFrame = true;\r\n      }\r\n    },\r\n    renderFrame: function () {\r\n      // If it is exported as hidden (data.hd === true) no need to render\r\n      // If it is not visible no need to render\r\n      if (this.data.hd || this.hidden) {\r\n        return;\r\n      }\r\n      this.renderTransform();\r\n      this.renderRenderable();\r\n      this.renderElement();\r\n      this.renderInnerContent();\r\n      if (this._isFirstFrame) {\r\n        this._isFirstFrame = false;\r\n      }\r\n    },\r\n    renderInnerContent: function () {},\r\n    prepareFrame: function (num) {\r\n      this._mdf = false;\r\n      this.prepareRenderableFrame(num);\r\n      this.prepareProperties(num, this.isInRange);\r\n      this.checkTransparency();\r\n    },\r\n    destroy: function () {\r\n      this.innerElem = null;\r\n      this.destroyBaseElement();\r\n    },\r\n  };\r\n  extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\r\n}());\r\n\r\n/* exported ProcessedElement */\r\n\r\nfunction ProcessedElement(element, position) {\r\n  this.elem = element;\r\n  this.pos = position;\r\n}\r\n\r\n/* global createNS */\r\n\r\nfunction SVGStyleData(data, level) {\r\n  this.data = data;\r\n  this.type = data.ty;\r\n  this.d = '';\r\n  this.lvl = level;\r\n  this._mdf = false;\r\n  this.closed = data.hd === true;\r\n  this.pElem = createNS('path');\r\n  this.msElem = null;\r\n}\r\n\r\nSVGStyleData.prototype.reset = function () {\r\n  this.d = '';\r\n  this._mdf = false;\r\n};\r\n\r\nfunction SVGShapeData(transformers, level, shape) {\r\n  this.caches = [];\r\n  this.styles = [];\r\n  this.transformers = transformers;\r\n  this.lStr = '';\r\n  this.sh = shape;\r\n  this.lvl = level;\r\n  // TODO find if there are some cases where _isAnimated can be false.\r\n  // For now, since shapes add up with other shapes. They have to be calculated every time.\r\n  // One way of finding out is checking if all styles associated to this shape depend only of this shape\r\n  this._isAnimated = !!shape.k;\r\n  // TODO: commenting this for now since all shapes are animated\r\n  var i = 0;\r\n  var len = transformers.length;\r\n  while (i < len) {\r\n    if (transformers[i].mProps.dynamicProperties.length) {\r\n      this._isAnimated = true;\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n}\r\n\r\nSVGShapeData.prototype.setAsAnimated = function () {\r\n  this._isAnimated = true;\r\n};\r\n\r\n/* exported SVGTransformData */\r\n\r\nfunction SVGTransformData(mProps, op, container) {\r\n  this.transform = {\r\n    mProps: mProps,\r\n    op: op,\r\n    container: container,\r\n  };\r\n  this.elements = [];\r\n  this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\r\n}\r\n\r\n/* global DashProperty, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction SVGStrokeStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n  this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n  this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n  this.style = styleOb;\r\n  this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\r\n\r\n/* global PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction SVGFillStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n  this.style = styleOb;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGFillStyleData);\r\n\r\n/* global PropertyFactory, degToRads, GradientProperty, createElementID, createNS, locationHref,\r\nextendPrototype, DynamicPropertyContainer, lineCapEnum, lineJoinEnum */\r\n\r\nfunction SVGGradientFillStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.initGradientData(elem, data, styleOb);\r\n}\r\n\r\nSVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\r\n  this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\r\n  this.h = PropertyFactory.getProp(elem, data.h || { k: 0 }, 0, 0.01, this);\r\n  this.a = PropertyFactory.getProp(elem, data.a || { k: 0 }, 0, degToRads, this);\r\n  this.g = new GradientProperty(elem, data.g, this);\r\n  this.style = styleOb;\r\n  this.stops = [];\r\n  this.setGradientData(styleOb.pElem, data);\r\n  this.setGradientOpacity(data, styleOb);\r\n  this._isAnimated = !!this._isAnimated;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\r\n  var gradientId = createElementID();\r\n  var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n  gfill.setAttribute('id', gradientId);\r\n  gfill.setAttribute('spreadMethod', 'pad');\r\n  gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n  var stops = [];\r\n  var stop;\r\n  var j;\r\n  var jLen;\r\n  jLen = data.g.p * 4;\r\n  for (j = 0; j < jLen; j += 4) {\r\n    stop = createNS('stop');\r\n    gfill.appendChild(stop);\r\n    stops.push(stop);\r\n  }\r\n  pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + locationHref + '#' + gradientId + ')');\r\n  this.gf = gfill;\r\n  this.cst = stops;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\r\n  if (this.g._hasOpacity && !this.g._collapsable) {\r\n    var stop;\r\n    var j;\r\n    var jLen;\r\n    var mask = createNS('mask');\r\n    var maskElement = createNS('path');\r\n    mask.appendChild(maskElement);\r\n    var opacityId = createElementID();\r\n    var maskId = createElementID();\r\n    mask.setAttribute('id', maskId);\r\n    var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n    opFill.setAttribute('id', opacityId);\r\n    opFill.setAttribute('spreadMethod', 'pad');\r\n    opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n    jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\r\n    var stops = this.stops;\r\n    for (j = data.g.p * 4; j < jLen; j += 2) {\r\n      stop = createNS('stop');\r\n      stop.setAttribute('stop-color', 'rgb(255,255,255)');\r\n      opFill.appendChild(stop);\r\n      stops.push(stop);\r\n    }\r\n    maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + locationHref + '#' + opacityId + ')');\r\n    if (data.ty === 'gs') {\r\n      maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\r\n      maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\r\n      if (data.lj === 1) {\r\n        maskElement.setAttribute('stroke-miterlimit', data.ml);\r\n      }\r\n    }\r\n    this.of = opFill;\r\n    this.ms = mask;\r\n    this.ost = stops;\r\n    this.maskId = maskId;\r\n    styleOb.msElem = maskElement;\r\n  }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\r\n\r\n/* global PropertyFactory, DashProperty, extendPrototype, SVGGradientFillStyleData, DynamicPropertyContainer */\r\n\r\nfunction SVGGradientStrokeStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n  this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n  this.initGradientData(elem, data, styleOb);\r\n  this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\r\n\r\n/* global createNS */\r\n/* exported ShapeGroupData */\r\n\r\nfunction ShapeGroupData() {\r\n  this.it = [];\r\n  this.prevViewData = [];\r\n  this.gr = createNS('g');\r\n}\r\n\r\n/* global Matrix, buildShapeString, bmFloor */\r\n/* exported SVGElementsRenderer */\r\n\r\nvar SVGElementsRenderer = (function () {\r\n  var _identityMatrix = new Matrix();\r\n  var _matrixHelper = new Matrix();\r\n\r\n  var ob = {\r\n    createRenderFunction: createRenderFunction,\r\n  };\r\n\r\n  function createRenderFunction(data) {\r\n    switch (data.ty) {\r\n      case 'fl':\r\n        return renderFill;\r\n      case 'gf':\r\n        return renderGradient;\r\n      case 'gs':\r\n        return renderGradientStroke;\r\n      case 'st':\r\n        return renderStroke;\r\n      case 'sh':\r\n      case 'el':\r\n      case 'rc':\r\n      case 'sr':\r\n        return renderPath;\r\n      case 'tr':\r\n        return renderContentTransform;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  function renderContentTransform(styleData, itemData, isFirstFrame) {\r\n    if (isFirstFrame || itemData.transform.op._mdf) {\r\n      itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\r\n    }\r\n    if (isFirstFrame || itemData.transform.mProps._mdf) {\r\n      itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\r\n    }\r\n  }\r\n\r\n  function renderPath(styleData, itemData, isFirstFrame) {\r\n    var j;\r\n    var jLen;\r\n    var pathStringTransformed;\r\n    var redraw;\r\n    var pathNodes;\r\n    var l;\r\n    var lLen = itemData.styles.length;\r\n    var lvl = itemData.lvl;\r\n    var paths;\r\n    var mat;\r\n    var props;\r\n    var iterations;\r\n    var k;\r\n    for (l = 0; l < lLen; l += 1) {\r\n      redraw = itemData.sh._mdf || isFirstFrame;\r\n      if (itemData.styles[l].lvl < lvl) {\r\n        mat = _matrixHelper.reset();\r\n        iterations = lvl - itemData.styles[l].lvl;\r\n        k = itemData.transformers.length - 1;\r\n        while (!redraw && iterations > 0) {\r\n          redraw = itemData.transformers[k].mProps._mdf || redraw;\r\n          iterations -= 1;\r\n          k -= 1;\r\n        }\r\n        if (redraw) {\r\n          iterations = lvl - itemData.styles[l].lvl;\r\n          k = itemData.transformers.length - 1;\r\n          while (iterations > 0) {\r\n            props = itemData.transformers[k].mProps.v.props;\r\n            mat.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\r\n            iterations -= 1;\r\n            k -= 1;\r\n          }\r\n        }\r\n      } else {\r\n        mat = _identityMatrix;\r\n      }\r\n      paths = itemData.sh.paths;\r\n      jLen = paths._length;\r\n      if (redraw) {\r\n        pathStringTransformed = '';\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathNodes = paths.shapes[j];\r\n          if (pathNodes && pathNodes._length) {\r\n            pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\r\n          }\r\n        }\r\n        itemData.caches[l] = pathStringTransformed;\r\n      } else {\r\n        pathStringTransformed = itemData.caches[l];\r\n      }\r\n      itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\r\n      itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\r\n    }\r\n  }\r\n\r\n  function renderFill(styleData, itemData, isFirstFrame) {\r\n    var styleElem = itemData.style;\r\n\r\n    if (itemData.c._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n    }\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\r\n    }\r\n  }\r\n\r\n  function renderGradientStroke(styleData, itemData, isFirstFrame) {\r\n    renderGradient(styleData, itemData, isFirstFrame);\r\n    renderStroke(styleData, itemData, isFirstFrame);\r\n  }\r\n\r\n  function renderGradient(styleData, itemData, isFirstFrame) {\r\n    var gfill = itemData.gf;\r\n    var hasOpacity = itemData.g._hasOpacity;\r\n    var pt1 = itemData.s.v;\r\n    var pt2 = itemData.e.v;\r\n\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\r\n      itemData.style.pElem.setAttribute(attr, itemData.o.v);\r\n    }\r\n    if (itemData.s._mdf || isFirstFrame) {\r\n      var attr1 = styleData.t === 1 ? 'x1' : 'cx';\r\n      var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\r\n      gfill.setAttribute(attr1, pt1[0]);\r\n      gfill.setAttribute(attr2, pt1[1]);\r\n      if (hasOpacity && !itemData.g._collapsable) {\r\n        itemData.of.setAttribute(attr1, pt1[0]);\r\n        itemData.of.setAttribute(attr2, pt1[1]);\r\n      }\r\n    }\r\n    var stops;\r\n    var i;\r\n    var len;\r\n    var stop;\r\n    if (itemData.g._cmdf || isFirstFrame) {\r\n      stops = itemData.cst;\r\n      var cValues = itemData.g.c;\r\n      len = stops.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        stop = stops[i];\r\n        stop.setAttribute('offset', cValues[i * 4] + '%');\r\n        stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\r\n      }\r\n    }\r\n    if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\r\n      var oValues = itemData.g.o;\r\n      if (itemData.g._collapsable) {\r\n        stops = itemData.cst;\r\n      } else {\r\n        stops = itemData.ost;\r\n      }\r\n      len = stops.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        stop = stops[i];\r\n        if (!itemData.g._collapsable) {\r\n          stop.setAttribute('offset', oValues[i * 2] + '%');\r\n        }\r\n        stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\r\n      }\r\n    }\r\n    if (styleData.t === 1) {\r\n      if (itemData.e._mdf || isFirstFrame) {\r\n        gfill.setAttribute('x2', pt2[0]);\r\n        gfill.setAttribute('y2', pt2[1]);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('x2', pt2[0]);\r\n          itemData.of.setAttribute('y2', pt2[1]);\r\n        }\r\n      }\r\n    } else {\r\n      var rad;\r\n      if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\r\n        rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n        gfill.setAttribute('r', rad);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('r', rad);\r\n        }\r\n      }\r\n      if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\r\n        if (!rad) {\r\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n        }\r\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n        var percent = itemData.h.v;\r\n        if (percent >= 1) {\r\n          percent = 0.99;\r\n        } else if (percent <= -1) {\r\n          percent = -0.99;\r\n        }\r\n        var dist = rad * percent;\r\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n        gfill.setAttribute('fx', x);\r\n        gfill.setAttribute('fy', y);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('fx', x);\r\n          itemData.of.setAttribute('fy', y);\r\n        }\r\n      }\r\n      // gfill.setAttribute('fy','200');\r\n    }\r\n  }\r\n\r\n  function renderStroke(styleData, itemData, isFirstFrame) {\r\n    var styleElem = itemData.style;\r\n    var d = itemData.d;\r\n    if (d && (d._mdf || isFirstFrame) && d.dashStr) {\r\n      styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\r\n      styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\r\n    }\r\n    if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\r\n      styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n    }\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\r\n    }\r\n    if (itemData.w._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\r\n      if (styleElem.msElem) {\r\n        styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\r\n      }\r\n    }\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global Matrix */\r\n\r\nfunction ShapeTransformManager() {\r\n  this.sequences = {};\r\n  this.sequenceList = [];\r\n  this.transform_key_count = 0;\r\n}\r\n\r\nShapeTransformManager.prototype = {\r\n  addTransformSequence: function (transforms) {\r\n    var i;\r\n    var len = transforms.length;\r\n    var key = '_';\r\n    for (i = 0; i < len; i += 1) {\r\n      key += transforms[i].transform.key + '_';\r\n    }\r\n    var sequence = this.sequences[key];\r\n    if (!sequence) {\r\n      sequence = {\r\n        transforms: [].concat(transforms),\r\n        finalTransform: new Matrix(),\r\n        _mdf: false,\r\n      };\r\n      this.sequences[key] = sequence;\r\n      this.sequenceList.push(sequence);\r\n    }\r\n    return sequence;\r\n  },\r\n  processSequence: function (sequence, isFirstFrame) {\r\n    var i = 0;\r\n    var len = sequence.transforms.length;\r\n    var _mdf = isFirstFrame;\r\n    while (i < len && !isFirstFrame) {\r\n      if (sequence.transforms[i].transform.mProps._mdf) {\r\n        _mdf = true;\r\n        break;\r\n      }\r\n      i += 1;\r\n    }\r\n    if (_mdf) {\r\n      var props;\r\n      sequence.finalTransform.reset();\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        props = sequence.transforms[i].transform.mProps.v.props;\r\n        sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\r\n      }\r\n    }\r\n    sequence._mdf = _mdf;\r\n  },\r\n  processSequences: function (isFirstFrame) {\r\n    var i;\r\n    var len = this.sequenceList.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.processSequence(this.sequenceList[i], isFirstFrame);\r\n    }\r\n  },\r\n  getNewKey: function () {\r\n    this.transform_key_count += 1;\r\n    return '_' + this.transform_key_count;\r\n  },\r\n};\r\n\r\n/* global ShapePropertyFactory, SVGShapeData */\r\n\r\nfunction CVShapeData(element, data, styles, transformsManager) {\r\n  this.styledShapes = [];\r\n  this.tr = [0, 0, 0, 0, 0, 0];\r\n  var ty = 4;\r\n  if (data.ty === 'rc') {\r\n    ty = 5;\r\n  } else if (data.ty === 'el') {\r\n    ty = 6;\r\n  } else if (data.ty === 'sr') {\r\n    ty = 7;\r\n  }\r\n  this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\r\n  var i;\r\n  var len = styles.length;\r\n  var styledShape;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!styles[i].closed) {\r\n      styledShape = {\r\n        transforms: transformsManager.addTransformSequence(styles[i].transforms),\r\n        trNodes: [],\r\n      };\r\n      this.styledShapes.push(styledShape);\r\n      styles[i].elements.push(styledShape);\r\n    }\r\n  }\r\n}\r\n\r\nCVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\r\n\r\n/* global LayerExpressionInterface, EffectsExpressionInterface, CompExpressionInterface, ShapeExpressionInterface,\r\nTextExpressionInterface, getBlendMode,createElementID, EffectsManager */\r\n\r\nfunction BaseElement() {\r\n}\r\n\r\nBaseElement.prototype = {\r\n  checkMasks: function () {\r\n    if (!this.data.hasMask) {\r\n      return false;\r\n    }\r\n    var i = 0;\r\n    var len = this.data.masksProperties.length;\r\n    while (i < len) {\r\n      if ((this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false)) {\r\n        return true;\r\n      }\r\n      i += 1;\r\n    }\r\n    return false;\r\n  },\r\n  initExpressions: function () {\r\n    this.layerInterface = LayerExpressionInterface(this);\r\n    if (this.data.hasMask && this.maskManager) {\r\n      this.layerInterface.registerMaskInterface(this.maskManager);\r\n    }\r\n    var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\r\n    this.layerInterface.registerEffectsInterface(effectsInterface);\r\n\r\n    if (this.data.ty === 0 || this.data.xt) {\r\n      this.compInterface = CompExpressionInterface(this);\r\n    } else if (this.data.ty === 4) {\r\n      this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\r\n      this.layerInterface.content = this.layerInterface.shapeInterface;\r\n    } else if (this.data.ty === 5) {\r\n      this.layerInterface.textInterface = TextExpressionInterface(this);\r\n      this.layerInterface.text = this.layerInterface.textInterface;\r\n    }\r\n  },\r\n  setBlendMode: function () {\r\n    var blendModeValue = getBlendMode(this.data.bm);\r\n    var elem = this.baseElement || this.layerElement;\r\n\r\n    elem.style['mix-blend-mode'] = blendModeValue;\r\n  },\r\n  initBaseData: function (data, globalData, comp) {\r\n    this.globalData = globalData;\r\n    this.comp = comp;\r\n    this.data = data;\r\n    this.layerId = createElementID();\r\n\r\n    // Stretch factor for old animations missing this property.\r\n    if (!this.data.sr) {\r\n      this.data.sr = 1;\r\n    }\r\n    // effects manager\r\n    this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\r\n  },\r\n  getType: function () {\r\n    return this.type;\r\n  },\r\n  sourceRectAtTime: function () {},\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HierarchyElement, FrameElement */\r\n\r\nfunction NullElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initFrame();\r\n  this.initTransform(data, globalData, comp);\r\n  this.initHierarchy();\r\n}\r\n\r\nNullElement.prototype.prepareFrame = function (num) {\r\n  this.prepareProperties(num, true);\r\n};\r\n\r\nNullElement.prototype.renderFrame = function () {\r\n};\r\n\r\nNullElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nNullElement.prototype.destroy = function () {\r\n};\r\n\r\nNullElement.prototype.sourceRectAtTime = function () {\r\n};\r\n\r\nNullElement.prototype.hide = function () {\r\n};\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\r\n\r\n/* global filtersFactory, featureSupport, filtersFactory, createElementID, createNS, MaskElement, SVGEffects, locationHref */\r\n\r\nfunction SVGBaseElement() {\r\n}\r\n\r\nSVGBaseElement.prototype = {\r\n  initRendererElement: function () {\r\n    this.layerElement = createNS('g');\r\n  },\r\n  createContainerElements: function () {\r\n    this.matteElement = createNS('g');\r\n    this.transformedElement = this.layerElement;\r\n    this.maskedElement = this.layerElement;\r\n    this._sizeChanged = false;\r\n    var layerElementParent = null;\r\n    // If this layer acts as a mask for the following layer\r\n    var filId;\r\n    var fil;\r\n    var gg;\r\n    if (this.data.td) {\r\n      if (this.data.td == 3 || this.data.td == 1) { // eslint-disable-line eqeqeq\r\n        var masker = createNS('mask');\r\n        masker.setAttribute('id', this.layerId);\r\n        masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha'); // eslint-disable-line eqeqeq\r\n        masker.appendChild(this.layerElement);\r\n        layerElementParent = masker;\r\n        this.globalData.defs.appendChild(masker);\r\n        // This is only for IE and Edge when mask if of type alpha\r\n        if (!featureSupport.maskType && this.data.td == 1) { // eslint-disable-line eqeqeq\r\n          masker.setAttribute('mask-type', 'luminance');\r\n          filId = createElementID();\r\n          fil = filtersFactory.createFilter(filId);\r\n          this.globalData.defs.appendChild(fil);\r\n          fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n          gg = createNS('g');\r\n          gg.appendChild(this.layerElement);\r\n          layerElementParent = gg;\r\n          masker.appendChild(gg);\r\n          gg.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n        }\r\n      } else if (this.data.td == 2) { // eslint-disable-line eqeqeq\r\n        var maskGroup = createNS('mask');\r\n        maskGroup.setAttribute('id', this.layerId);\r\n        maskGroup.setAttribute('mask-type', 'alpha');\r\n        var maskGrouper = createNS('g');\r\n        maskGroup.appendChild(maskGrouper);\r\n        filId = createElementID();\r\n        fil = filtersFactory.createFilter(filId);\r\n        /// /\r\n\r\n        // This solution doesn't work on Android when meta tag with viewport attribute is set\r\n        /* var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type', 'matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                fil.appendChild(feColorMatrix); */\r\n        /// /\r\n        var feCTr = createNS('feComponentTransfer');\r\n        feCTr.setAttribute('in', 'SourceGraphic');\r\n        fil.appendChild(feCTr);\r\n        var feFunc = createNS('feFuncA');\r\n        feFunc.setAttribute('type', 'table');\r\n        feFunc.setAttribute('tableValues', '1.0 0.0');\r\n        feCTr.appendChild(feFunc);\r\n        /// /\r\n        this.globalData.defs.appendChild(fil);\r\n        var alphaRect = createNS('rect');\r\n        alphaRect.setAttribute('width', this.comp.data.w);\r\n        alphaRect.setAttribute('height', this.comp.data.h);\r\n        alphaRect.setAttribute('x', '0');\r\n        alphaRect.setAttribute('y', '0');\r\n        alphaRect.setAttribute('fill', '#ffffff');\r\n        alphaRect.setAttribute('opacity', '0');\r\n        maskGrouper.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n        maskGrouper.appendChild(alphaRect);\r\n        maskGrouper.appendChild(this.layerElement);\r\n        layerElementParent = maskGrouper;\r\n        if (!featureSupport.maskType) {\r\n          maskGroup.setAttribute('mask-type', 'luminance');\r\n          fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n          gg = createNS('g');\r\n          maskGrouper.appendChild(alphaRect);\r\n          gg.appendChild(this.layerElement);\r\n          layerElementParent = gg;\r\n          maskGrouper.appendChild(gg);\r\n        }\r\n        this.globalData.defs.appendChild(maskGroup);\r\n      }\r\n    } else if (this.data.tt) {\r\n      this.matteElement.appendChild(this.layerElement);\r\n      layerElementParent = this.matteElement;\r\n      this.baseElement = this.matteElement;\r\n    } else {\r\n      this.baseElement = this.layerElement;\r\n    }\r\n    if (this.data.ln) {\r\n      this.layerElement.setAttribute('id', this.data.ln);\r\n    }\r\n    if (this.data.cl) {\r\n      this.layerElement.setAttribute('class', this.data.cl);\r\n    }\r\n    // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\r\n    if (this.data.ty === 0 && !this.data.hd) {\r\n      var cp = createNS('clipPath');\r\n      var pt = createNS('path');\r\n      pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\r\n      var clipId = createElementID();\r\n      cp.setAttribute('id', clipId);\r\n      cp.appendChild(pt);\r\n      this.globalData.defs.appendChild(cp);\r\n\r\n      if (this.checkMasks()) {\r\n        var cpGroup = createNS('g');\r\n        cpGroup.setAttribute('clip-path', 'url(' + locationHref + '#' + clipId + ')');\r\n        cpGroup.appendChild(this.layerElement);\r\n        this.transformedElement = cpGroup;\r\n        if (layerElementParent) {\r\n          layerElementParent.appendChild(this.transformedElement);\r\n        } else {\r\n          this.baseElement = this.transformedElement;\r\n        }\r\n      } else {\r\n        this.layerElement.setAttribute('clip-path', 'url(' + locationHref + '#' + clipId + ')');\r\n      }\r\n    }\r\n    if (this.data.bm !== 0) {\r\n      this.setBlendMode();\r\n    }\r\n  },\r\n  renderElement: function () {\r\n    if (this.finalTransform._matMdf) {\r\n      this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\r\n    }\r\n    if (this.finalTransform._opMdf) {\r\n      this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\r\n    }\r\n  },\r\n  destroyBaseElement: function () {\r\n    this.layerElement = null;\r\n    this.matteElement = null;\r\n    this.maskManager.destroy();\r\n  },\r\n  getBaseElement: function () {\r\n    if (this.data.hd) {\r\n      return null;\r\n    }\r\n    return this.baseElement;\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n    this.renderableEffectsManager = new SVGEffects(this);\r\n  },\r\n  setMatte: function (id) {\r\n    if (!this.matteElement) {\r\n      return;\r\n    }\r\n    this.matteElement.setAttribute('mask', 'url(' + locationHref + '#' + id + ')');\r\n  },\r\n};\r\n\r\n/* global ProcessedElement */\r\n\r\nfunction IShapeElement() {\r\n}\r\n\r\nIShapeElement.prototype = {\r\n  addShapeToModifiers: function (data) {\r\n    var i;\r\n    var len = this.shapeModifiers.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapeModifiers[i].addShape(data);\r\n    }\r\n  },\r\n  isShapeInAnimatedModifiers: function (data) {\r\n    var i = 0;\r\n    var len = this.shapeModifiers.length;\r\n    while (i < len) {\r\n      if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  },\r\n  renderModifiers: function () {\r\n    if (!this.shapeModifiers.length) {\r\n      return;\r\n    }\r\n    var i;\r\n    var len = this.shapes.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapes[i].sh.reset();\r\n    }\r\n\r\n    len = this.shapeModifiers.length;\r\n    var shouldBreakProcess;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame);\r\n      // workaround to fix cases where a repeater resets the shape so the following processes get called twice\r\n      // TODO: find a better solution for this\r\n      if (shouldBreakProcess) {\r\n        break;\r\n      }\r\n    }\r\n  },\r\n\r\n  searchProcessedElement: function (elem) {\r\n    var elements = this.processedElements;\r\n    var i = 0;\r\n    var len = elements.length;\r\n    while (i < len) {\r\n      if (elements[i].elem === elem) {\r\n        return elements[i].pos;\r\n      }\r\n      i += 1;\r\n    }\r\n    return 0;\r\n  },\r\n  addProcessedElement: function (elem, pos) {\r\n    var elements = this.processedElements;\r\n    var i = elements.length;\r\n    while (i) {\r\n      i -= 1;\r\n      if (elements[i].elem === elem) {\r\n        elements[i].pos = pos;\r\n        return;\r\n      }\r\n    }\r\n    elements.push(new ProcessedElement(elem, pos));\r\n  },\r\n  prepareFrame: function (num) {\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n  },\r\n};\r\n\r\n/* global TextProperty, TextAnimatorProperty, buildShapeString, LetterProps */\r\n\r\nfunction ITextElement() {\r\n}\r\n\r\nITextElement.prototype.initElement = function (data, globalData, comp) {\r\n  this.lettersChangedFlag = true;\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\r\n  this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\r\n  this.initTransform(data, globalData, comp);\r\n  this.initHierarchy();\r\n  this.initRenderable();\r\n  this.initRendererElement();\r\n  this.createContainerElements();\r\n  this.createRenderableComponents();\r\n  this.createContent();\r\n  this.hide();\r\n  this.textAnimator.searchProperties(this.dynamicProperties);\r\n};\r\n\r\nITextElement.prototype.prepareFrame = function (num) {\r\n  this._mdf = false;\r\n  this.prepareRenderableFrame(num);\r\n  this.prepareProperties(num, this.isInRange);\r\n  if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\r\n    this.buildNewText();\r\n    this.textProperty._isFirstFrame = false;\r\n    this.textProperty._mdf = false;\r\n  }\r\n};\r\n\r\nITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\r\n  var j;\r\n  var jLen = shapes.length;\r\n  var pathNodes;\r\n  var shapeStr = '';\r\n  for (j = 0; j < jLen; j += 1) {\r\n    pathNodes = shapes[j].ks.k;\r\n    shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\r\n  }\r\n  return shapeStr;\r\n};\r\n\r\nITextElement.prototype.updateDocumentData = function (newData, index) {\r\n  this.textProperty.updateDocumentData(newData, index);\r\n};\r\n\r\nITextElement.prototype.canResizeFont = function (_canResize) {\r\n  this.textProperty.canResizeFont(_canResize);\r\n};\r\n\r\nITextElement.prototype.setMinimumFontSize = function (_fontSize) {\r\n  this.textProperty.setMinimumFontSize(_fontSize);\r\n};\r\n\r\nITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\r\n  if (documentData.ps) {\r\n    matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n  }\r\n  matrixHelper.translate(0, -documentData.ls, 0);\r\n  switch (documentData.j) {\r\n    case 1:\r\n      matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\r\n      break;\r\n    case 2:\r\n      matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  matrixHelper.translate(xPos, yPos, 0);\r\n};\r\n\r\nITextElement.prototype.buildColor = function (colorData) {\r\n  return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\r\n};\r\n\r\nITextElement.prototype.emptyProp = new LetterProps();\r\n\r\nITextElement.prototype.destroy = function () {\r\n\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement */\r\n\r\nfunction ICompElement() {}\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\r\n\r\nICompElement.prototype.initElement = function (data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initTransform(data, globalData, comp);\r\n  this.initRenderable();\r\n  this.initHierarchy();\r\n  this.initRendererElement();\r\n  this.createContainerElements();\r\n  this.createRenderableComponents();\r\n  if (this.data.xt || !globalData.progressiveLoad) {\r\n    this.buildAllItems();\r\n  }\r\n  this.hide();\r\n};\r\n\r\n/* ICompElement.prototype.hide = function(){\r\n    if(!this.hidden){\r\n        this.hideElement();\r\n        var i,len = this.elements.length;\r\n        for( i = 0; i < len; i+=1 ){\r\n            if(this.elements[i]){\r\n                this.elements[i].hide();\r\n            }\r\n        }\r\n    }\r\n}; */\r\n\r\nICompElement.prototype.prepareFrame = function (num) {\r\n  this._mdf = false;\r\n  this.prepareRenderableFrame(num);\r\n  this.prepareProperties(num, this.isInRange);\r\n  if (!this.isInRange && !this.data.xt) {\r\n    return;\r\n  }\r\n\r\n  if (!this.tm._placeholder) {\r\n    var timeRemapped = this.tm.v;\r\n    if (timeRemapped === this.data.op) {\r\n      timeRemapped = this.data.op - 1;\r\n    }\r\n    this.renderedFrame = timeRemapped;\r\n  } else {\r\n    this.renderedFrame = num / this.data.sr;\r\n  }\r\n  var i;\r\n  var len = this.elements.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(this.renderedFrame);\r\n  }\r\n  // This iteration needs to be backwards because of how expressions connect between each other\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\r\n      if (this.elements[i]._mdf) {\r\n        this._mdf = true;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.renderInnerContent = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].renderFrame();\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.setElements = function (elems) {\r\n  this.elements = elems;\r\n};\r\n\r\nICompElement.prototype.getElements = function () {\r\n  return this.elements;\r\n};\r\n\r\nICompElement.prototype.destroyElements = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.destroy = function () {\r\n  this.destroyElements();\r\n  this.destroyBaseElement();\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, createNS */\r\n\r\nfunction IImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initElement(data, globalData, comp);\r\n  this.sourceRect = {\r\n    top: 0, left: 0, width: this.assetData.w, height: this.assetData.h,\r\n  };\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\r\n\r\nIImageElement.prototype.createContent = function () {\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n\r\n  this.innerElem = createNS('image');\r\n  this.innerElem.setAttribute('width', this.assetData.w + 'px');\r\n  this.innerElem.setAttribute('height', this.assetData.h + 'px');\r\n  this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\r\n  this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\r\n\r\n  this.layerElement.appendChild(this.innerElem);\r\n};\r\n\r\nIImageElement.prototype.sourceRectAtTime = function () {\r\n  return this.sourceRect;\r\n};\r\n\r\n/* global extendPrototype, IImageElement, createNS */\r\n\r\nfunction ISolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([IImageElement], ISolidElement);\r\n\r\nISolidElement.prototype.createContent = function () {\r\n  var rect = createNS('rect');\r\n  /// /rect.style.width = this.data.sw;\r\n  /// /rect.style.height = this.data.sh;\r\n  /// /rect.style.fill = this.data.sc;\r\n  rect.setAttribute('width', this.data.sw);\r\n  rect.setAttribute('height', this.data.sh);\r\n  rect.setAttribute('fill', this.data.sc);\r\n  this.layerElement.appendChild(rect);\r\n};\r\n\r\n/* global PropertyFactory, extendPrototype, RenderableElement, BaseElement, FrameElement */\r\n\r\nfunction AudioElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initRenderable();\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initBaseData(data, globalData, comp);\r\n  this._isPlaying = false;\r\n  this._canPlay = false;\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n  this.audio = this.globalData.audioController.createAudio(assetPath);\r\n  this._currentTime = 0;\r\n  this.globalData.audioController.addAudio(this);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nAudioElement.prototype.prepareFrame = function (num) {\r\n  this.prepareRenderableFrame(num, true);\r\n  this.prepareProperties(num, true);\r\n  if (!this.tm._placeholder) {\r\n    var timeRemapped = this.tm.v;\r\n    this._currentTime = timeRemapped;\r\n  } else {\r\n    this._currentTime = num / this.data.sr;\r\n  }\r\n};\r\n\r\nextendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\r\n\r\nAudioElement.prototype.renderFrame = function () {\r\n  if (this.isInRange && this._canPlay) {\r\n    if (!this._isPlaying) {\r\n      this.audio.play();\r\n      this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n      this._isPlaying = true;\r\n    } else if (!this.audio.playing()\r\n      || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1\r\n    ) {\r\n      this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n    }\r\n  }\r\n};\r\n\r\nAudioElement.prototype.show = function () {\r\n  // this.audio.play()\r\n};\r\n\r\nAudioElement.prototype.hide = function () {\r\n  this.audio.pause();\r\n  this._isPlaying = false;\r\n};\r\n\r\nAudioElement.prototype.pause = function () {\r\n  this.audio.pause();\r\n  this._isPlaying = false;\r\n  this._canPlay = false;\r\n};\r\n\r\nAudioElement.prototype.resume = function () {\r\n  this._canPlay = true;\r\n};\r\n\r\nAudioElement.prototype.setRate = function (rateValue) {\r\n  this.audio.rate(rateValue);\r\n};\r\n\r\nAudioElement.prototype.volume = function (volumeValue) {\r\n  this.audio.volume(volumeValue);\r\n};\r\n\r\nAudioElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nAudioElement.prototype.destroy = function () {\r\n};\r\n\r\nAudioElement.prototype.sourceRectAtTime = function () {\r\n};\r\n\r\nAudioElement.prototype.initExpressions = function () {\r\n};\r\n\r\n/* global extendPrototype, RenderableElement, BaseElement, FrameElement, FootageInterface */\r\n\r\nfunction FootageElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initRenderable();\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.footageData = globalData.imageLoader.getAsset(this.assetData);\r\n  this.initBaseData(data, globalData, comp);\r\n}\r\n\r\nFootageElement.prototype.prepareFrame = function () {\r\n};\r\n\r\nextendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);\r\n\r\nFootageElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nFootageElement.prototype.renderFrame = function () {\r\n};\r\n\r\nFootageElement.prototype.destroy = function () {\r\n};\r\n\r\nFootageElement.prototype.initExpressions = function () {\r\n  this.layerInterface = FootageInterface(this);\r\n};\r\n\r\nFootageElement.prototype.getFootageData = function () {\r\n  return this.footageData;\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, SVGRenderer, ICompElement, SVGBaseElement */\r\n\r\nfunction SVGCompElement(data, globalData, comp) {\r\n  this.layers = data.layers;\r\n  this.supports3d = true;\r\n  this.completeLayers = false;\r\n  this.pendingElements = [];\r\n  this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n  // this.layerElement = createNS('g');\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([SVGRenderer, ICompElement, SVGBaseElement], SVGCompElement);\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, ITextElement, createSizedArray, createNS */\r\n\r\nfunction SVGTextLottieElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.renderType = 'svg';\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\r\n\r\nSVGTextLottieElement.prototype.createContent = function () {\r\n  if (this.data.singleShape && !this.globalData.fontManager.chars) {\r\n    this.textContainer = createNS('text');\r\n  }\r\n};\r\n\r\nSVGTextLottieElement.prototype.buildTextContents = function (textArray) {\r\n  var i = 0;\r\n  var len = textArray.length;\r\n  var textContents = [];\r\n  var currentTextContent = '';\r\n  while (i < len) {\r\n    if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\r\n      textContents.push(currentTextContent);\r\n      currentTextContent = '';\r\n    } else {\r\n      currentTextContent += textArray[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  textContents.push(currentTextContent);\r\n  return textContents;\r\n};\r\n\r\nSVGTextLottieElement.prototype.buildNewText = function () {\r\n  var i;\r\n  var len;\r\n\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\r\n  if (documentData.fc) {\r\n    this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\r\n  } else {\r\n    this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\r\n  }\r\n  if (documentData.sc) {\r\n    this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\r\n    this.layerElement.setAttribute('stroke-width', documentData.sw);\r\n  }\r\n  this.layerElement.setAttribute('font-size', documentData.finalSize);\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  if (fontData.fClass) {\r\n    this.layerElement.setAttribute('class', fontData.fClass);\r\n  } else {\r\n    this.layerElement.setAttribute('font-family', fontData.fFamily);\r\n    var fWeight = documentData.fWeight;\r\n    var fStyle = documentData.fStyle;\r\n    this.layerElement.setAttribute('font-style', fStyle);\r\n    this.layerElement.setAttribute('font-weight', fWeight);\r\n  }\r\n  this.layerElement.setAttribute('aria-label', documentData.t);\r\n\r\n  var letters = documentData.l || [];\r\n  var usesGlyphs = !!this.globalData.fontManager.chars;\r\n  len = letters.length;\r\n\r\n  var tSpan;\r\n  var matrixHelper = this.mHelper;\r\n  var shapes;\r\n  var shapeStr = '';\r\n  var singleShape = this.data.singleShape;\r\n  var xPos = 0;\r\n  var yPos = 0;\r\n  var firstLine = true;\r\n  var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\r\n  if (singleShape && !usesGlyphs && !documentData.sz) {\r\n    var tElement = this.textContainer;\r\n    var justify = 'start';\r\n    switch (documentData.j) {\r\n      case 1:\r\n        justify = 'end';\r\n        break;\r\n      case 2:\r\n        justify = 'middle';\r\n        break;\r\n      default:\r\n        justify = 'start';\r\n        break;\r\n    }\r\n    tElement.setAttribute('text-anchor', justify);\r\n    tElement.setAttribute('letter-spacing', trackingOffset);\r\n    var textContent = this.buildTextContents(documentData.finalText);\r\n    len = textContent.length;\r\n    yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      tSpan = this.textSpans[i] || createNS('tspan');\r\n      tSpan.textContent = textContent[i];\r\n      tSpan.setAttribute('x', 0);\r\n      tSpan.setAttribute('y', yPos);\r\n      tSpan.style.display = 'inherit';\r\n      tElement.appendChild(tSpan);\r\n      this.textSpans[i] = tSpan;\r\n      yPos += documentData.finalLineHeight;\r\n    }\r\n\r\n    this.layerElement.appendChild(tElement);\r\n  } else {\r\n    var cachedSpansLength = this.textSpans.length;\r\n    var shapeData;\r\n    var charData;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!usesGlyphs || !singleShape || i === 0) {\r\n        tSpan = cachedSpansLength > i ? this.textSpans[i] : createNS(usesGlyphs ? 'path' : 'text');\r\n        if (cachedSpansLength <= i) {\r\n          tSpan.setAttribute('stroke-linecap', 'butt');\r\n          tSpan.setAttribute('stroke-linejoin', 'round');\r\n          tSpan.setAttribute('stroke-miterlimit', '4');\r\n          this.textSpans[i] = tSpan;\r\n          this.layerElement.appendChild(tSpan);\r\n        }\r\n        tSpan.style.display = 'inherit';\r\n      }\r\n\r\n      matrixHelper.reset();\r\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n      if (singleShape) {\r\n        if (letters[i].n) {\r\n          xPos = -trackingOffset;\r\n          yPos += documentData.yOffset;\r\n          yPos += firstLine ? 1 : 0;\r\n          firstLine = false;\r\n        }\r\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n        xPos += letters[i].l || 0;\r\n        // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\r\n        xPos += trackingOffset;\r\n      }\r\n      if (usesGlyphs) {\r\n        charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n        shapeData = (charData && charData.data) || {};\r\n        shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n        if (!singleShape) {\r\n          tSpan.setAttribute('d', this.createPathShape(matrixHelper, shapes));\r\n        } else {\r\n          shapeStr += this.createPathShape(matrixHelper, shapes);\r\n        }\r\n      } else {\r\n        if (singleShape) {\r\n          tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\r\n        }\r\n        tSpan.textContent = letters[i].val;\r\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n      }\r\n      //\r\n    }\r\n    if (singleShape && tSpan) {\r\n      tSpan.setAttribute('d', shapeStr);\r\n    }\r\n  }\r\n  while (i < this.textSpans.length) {\r\n    this.textSpans[i].style.display = 'none';\r\n    i += 1;\r\n  }\r\n\r\n  this._sizeChanged = true;\r\n};\r\n\r\nSVGTextLottieElement.prototype.sourceRectAtTime = function () {\r\n  this.prepareFrame(this.comp.renderedFrame - this.data.st);\r\n  this.renderInnerContent();\r\n  if (this._sizeChanged) {\r\n    this._sizeChanged = false;\r\n    var textBox = this.layerElement.getBBox();\r\n    this.bbox = {\r\n      top: textBox.y,\r\n      left: textBox.x,\r\n      width: textBox.width,\r\n      height: textBox.height,\r\n    };\r\n  }\r\n  return this.bbox;\r\n};\r\n\r\nSVGTextLottieElement.prototype.renderInnerContent = function () {\r\n  if (!this.data.singleShape) {\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\r\n      this._sizeChanged = true;\r\n      var i;\r\n      var len;\r\n      var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n      var letters = this.textProperty.currentData.l;\r\n\r\n      len = letters.length;\r\n      var renderedLetter;\r\n      var textSpan;\r\n      for (i = 0; i < len; i += 1) {\r\n        if (!letters[i].n) {\r\n          renderedLetter = renderedLetters[i];\r\n          textSpan = this.textSpans[i];\r\n          if (renderedLetter._mdf.m) {\r\n            textSpan.setAttribute('transform', renderedLetter.m);\r\n          }\r\n          if (renderedLetter._mdf.o) {\r\n            textSpan.setAttribute('opacity', renderedLetter.o);\r\n          }\r\n          if (renderedLetter._mdf.sw) {\r\n            textSpan.setAttribute('stroke-width', renderedLetter.sw);\r\n          }\r\n          if (renderedLetter._mdf.sc) {\r\n            textSpan.setAttribute('stroke', renderedLetter.sc);\r\n          }\r\n          if (renderedLetter._mdf.fc) {\r\n            textSpan.setAttribute('fill', renderedLetter.fc);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement,\r\nFrameElement, RenderableDOMElement, Matrix, SVGStyleData, SVGStrokeStyleData, SVGFillStyleData,\r\nSVGGradientFillStyleData, SVGGradientStrokeStyleData, locationHref, getBlendMode, ShapeGroupData,\r\nTransformPropertyFactory, SVGTransformData, ShapePropertyFactory, SVGShapeData, SVGElementsRenderer, ShapeModifiers,\r\nlineCapEnum, lineJoinEnum */\r\n\r\nfunction SVGShapeElement(data, globalData, comp) {\r\n  // List of drawable elements\r\n  this.shapes = [];\r\n  // Full shape data\r\n  this.shapesData = data.shapes;\r\n  // List of styles that will be applied to shapes\r\n  this.stylesList = [];\r\n  // List of modifiers that will be applied to shapes\r\n  this.shapeModifiers = [];\r\n  // List of items in shape tree\r\n  this.itemsData = [];\r\n  // List of items in previous shape tree\r\n  this.processedElements = [];\r\n  // List of animated components\r\n  this.animatedContents = [];\r\n  this.initElement(data, globalData, comp);\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n  // List of elements that have been created\r\n  this.prevViewData = [];\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\r\n\r\nSVGShapeElement.prototype.initSecondaryElement = function () {\r\n};\r\n\r\nSVGShapeElement.prototype.identityMatrix = new Matrix();\r\n\r\nSVGShapeElement.prototype.buildExpressionInterface = function () {};\r\n\r\nSVGShapeElement.prototype.createContent = function () {\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n  this.filterUniqueShapes();\r\n};\r\n\r\n/*\r\nThis method searches for multiple shapes that affect a single element and one of them is animated\r\n*/\r\nSVGShapeElement.prototype.filterUniqueShapes = function () {\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var shape;\r\n  var j;\r\n  var jLen = this.stylesList.length;\r\n  var style;\r\n  var tempShapes = [];\r\n  var areAnimated = false;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    style = this.stylesList[j];\r\n    areAnimated = false;\r\n    tempShapes.length = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      shape = this.shapes[i];\r\n      if (shape.styles.indexOf(style) !== -1) {\r\n        tempShapes.push(shape);\r\n        areAnimated = shape._isAnimated || areAnimated;\r\n      }\r\n    }\r\n    if (tempShapes.length > 1 && areAnimated) {\r\n      this.setShapesAsAnimated(tempShapes);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\r\n  var i;\r\n  var len = shapes.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    shapes[i].setAsAnimated();\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.createStyleElement = function (data, level) {\r\n  // TODO: prevent drawing of hidden styles\r\n  var elementData;\r\n  var styleOb = new SVGStyleData(data, level);\r\n\r\n  var pathElement = styleOb.pElem;\r\n  if (data.ty === 'st') {\r\n    elementData = new SVGStrokeStyleData(this, data, styleOb);\r\n  } else if (data.ty === 'fl') {\r\n    elementData = new SVGFillStyleData(this, data, styleOb);\r\n  } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n    var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\r\n    elementData = new GradientConstructor(this, data, styleOb);\r\n    this.globalData.defs.appendChild(elementData.gf);\r\n    if (elementData.maskId) {\r\n      this.globalData.defs.appendChild(elementData.ms);\r\n      this.globalData.defs.appendChild(elementData.of);\r\n      pathElement.setAttribute('mask', 'url(' + locationHref + '#' + elementData.maskId + ')');\r\n    }\r\n  }\r\n\r\n  if (data.ty === 'st' || data.ty === 'gs') {\r\n    pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\r\n    pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\r\n    pathElement.setAttribute('fill-opacity', '0');\r\n    if (data.lj === 1) {\r\n      pathElement.setAttribute('stroke-miterlimit', data.ml);\r\n    }\r\n  }\r\n\r\n  if (data.r === 2) {\r\n    pathElement.setAttribute('fill-rule', 'evenodd');\r\n  }\r\n\r\n  if (data.ln) {\r\n    pathElement.setAttribute('id', data.ln);\r\n  }\r\n  if (data.cl) {\r\n    pathElement.setAttribute('class', data.cl);\r\n  }\r\n  if (data.bm) {\r\n    pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n  }\r\n  this.stylesList.push(styleOb);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createGroupElement = function (data) {\r\n  var elementData = new ShapeGroupData();\r\n  if (data.ln) {\r\n    elementData.gr.setAttribute('id', data.ln);\r\n  }\r\n  if (data.cl) {\r\n    elementData.gr.setAttribute('class', data.cl);\r\n  }\r\n  if (data.bm) {\r\n    elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n  }\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createTransformElement = function (data, container) {\r\n  var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\r\n  var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\r\n  var ty = 4;\r\n  if (data.ty === 'rc') {\r\n    ty = 5;\r\n  } else if (data.ty === 'el') {\r\n    ty = 6;\r\n  } else if (data.ty === 'sr') {\r\n    ty = 7;\r\n  }\r\n  var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\r\n  var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\r\n  this.shapes.push(elementData);\r\n  this.addShapeToModifiers(elementData);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\r\n  var i = 0;\r\n  var len = this.animatedContents.length;\r\n  while (i < len) {\r\n    if (this.animatedContents[i].element === element) {\r\n      return;\r\n    }\r\n    i += 1;\r\n  }\r\n  this.animatedContents.push({\r\n    fn: SVGElementsRenderer.createRenderFunction(data),\r\n    element: element,\r\n    data: data,\r\n  });\r\n};\r\n\r\nSVGShapeElement.prototype.setElementStyles = function (elementData) {\r\n  var arr = elementData.styles;\r\n  var j;\r\n  var jLen = this.stylesList.length;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    if (!this.stylesList[j].closed) {\r\n      arr.push(this.stylesList[j]);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.reloadShapes = function () {\r\n  this._isFirstFrame = true;\r\n  var i;\r\n  var len = this.itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.prevViewData[i] = this.itemsData[i];\r\n  }\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n  this.filterUniqueShapes();\r\n  len = this.dynamicProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.dynamicProperties[i].getValue();\r\n  }\r\n  this.renderModifiers();\r\n};\r\n\r\nSVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\r\n  var ownTransformers = [].concat(transformers);\r\n  var i;\r\n  var len = arr.length - 1;\r\n  var j;\r\n  var jLen;\r\n  var ownStyles = [];\r\n  var ownModifiers = [];\r\n  var currentTransform;\r\n  var modifier;\r\n  var processedPos;\r\n  for (i = len; i >= 0; i -= 1) {\r\n    processedPos = this.searchProcessedElement(arr[i]);\r\n    if (!processedPos) {\r\n      arr[i]._render = render;\r\n    } else {\r\n      itemsData[i] = prevViewData[processedPos - 1];\r\n    }\r\n    if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createStyleElement(arr[i], level);\r\n      } else {\r\n        itemsData[i].style.closed = false;\r\n      }\r\n      if (arr[i]._render) {\r\n        if (itemsData[i].style.pElem.parentNode !== container) {\r\n          container.appendChild(itemsData[i].style.pElem);\r\n        }\r\n      }\r\n      ownStyles.push(itemsData[i].style);\r\n    } else if (arr[i].ty === 'gr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createGroupElement(arr[i]);\r\n      } else {\r\n        jLen = itemsData[i].it.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n        }\r\n      }\r\n      this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\r\n      if (arr[i]._render) {\r\n        if (itemsData[i].gr.parentNode !== container) {\r\n          container.appendChild(itemsData[i].gr);\r\n        }\r\n      }\r\n    } else if (arr[i].ty === 'tr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createTransformElement(arr[i], container);\r\n      }\r\n      currentTransform = itemsData[i].transform;\r\n      ownTransformers.push(currentTransform);\r\n    } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\r\n      }\r\n      this.setElementStyles(itemsData[i]);\r\n    } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        modifier.init(this, arr[i]);\r\n        itemsData[i] = modifier;\r\n        this.shapeModifiers.push(modifier);\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = false;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    } else if (arr[i].ty === 'rp') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        itemsData[i] = modifier;\r\n        modifier.init(this, arr, i, itemsData);\r\n        this.shapeModifiers.push(modifier);\r\n        render = false;\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = true;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    }\r\n    this.addProcessedElement(arr[i], i + 1);\r\n  }\r\n  len = ownStyles.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownStyles[i].closed = true;\r\n  }\r\n  len = ownModifiers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownModifiers[i].closed = true;\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.renderInnerContent = function () {\r\n  this.renderModifiers();\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.stylesList[i].reset();\r\n  }\r\n  this.renderShape();\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.stylesList[i]._mdf || this._isFirstFrame) {\r\n      if (this.stylesList[i].msElem) {\r\n        this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d);\r\n        // Adding M0 0 fixes same mask bug on all browsers\r\n        this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\r\n      }\r\n      this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.renderShape = function () {\r\n  var i;\r\n  var len = this.animatedContents.length;\r\n  var animatedContent;\r\n  for (i = 0; i < len; i += 1) {\r\n    animatedContent = this.animatedContents[i];\r\n    if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\r\n      animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.destroy = function () {\r\n  this.destroyBaseElement();\r\n  this.shapesData = null;\r\n  this.itemsData = null;\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGTintFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n  feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f1');\r\n  filter.appendChild(feColorMatrix);\r\n  feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n  feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f2');\r\n  filter.appendChild(feColorMatrix);\r\n  this.matrixFilter = feColorMatrix;\r\n  if (filterManager.effectElements[2].p.v !== 100 || filterManager.effectElements[2].p.k) {\r\n    var feMerge = createNS('feMerge');\r\n    filter.appendChild(feMerge);\r\n    var feMergeNode;\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in', 'SourceGraphic');\r\n    feMerge.appendChild(feMergeNode);\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in', 'f2');\r\n    feMerge.appendChild(feMergeNode);\r\n  }\r\n}\r\n\r\nSVGTintFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var colorBlack = this.filterManager.effectElements[0].p.v;\r\n    var colorWhite = this.filterManager.effectElements[1].p.v;\r\n    var opacity = this.filterManager.effectElements[2].p.v / 100;\r\n    this.matrixFilter.setAttribute('values', (colorWhite[0] - colorBlack[0]) + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGFillFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n  feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n  filter.appendChild(feColorMatrix);\r\n  this.matrixFilter = feColorMatrix;\r\n}\r\nSVGFillFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var color = this.filterManager.effectElements[2].p.v;\r\n    var opacity = this.filterManager.effectElements[6].p.v;\r\n    this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGGaussianBlurEffect(filter, filterManager) {\r\n  // Outset the filter region by 100% on all sides to accommodate blur expansion.\r\n  filter.setAttribute('x', '-100%');\r\n  filter.setAttribute('y', '-100%');\r\n  filter.setAttribute('width', '300%');\r\n  filter.setAttribute('height', '300%');\r\n\r\n  this.filterManager = filterManager;\r\n  var feGaussianBlur = createNS('feGaussianBlur');\r\n  filter.appendChild(feGaussianBlur);\r\n  this.feGaussianBlur = feGaussianBlur;\r\n}\r\n\r\nSVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    // Empirical value, matching AE's blur appearance.\r\n    var kBlurrinessToSigma = 0.3;\r\n    var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma;\r\n\r\n    // Dimensions mapping:\r\n    //\r\n    //   1 -> horizontal & vertical\r\n    //   2 -> horizontal only\r\n    //   3 -> vertical only\r\n    //\r\n    var dimensions = this.filterManager.effectElements[1].p.v;\r\n    var sigmaX = (dimensions == 3) ? 0 : sigma; // eslint-disable-line eqeqeq\r\n    var sigmaY = (dimensions == 2) ? 0 : sigma; // eslint-disable-line eqeqeq\r\n\r\n    this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY);\r\n\r\n    // Repeat edges mapping:\r\n    //\r\n    //   0 -> off -> duplicate\r\n    //   1 -> on  -> wrap\r\n    var edgeMode = (this.filterManager.effectElements[2].p.v == 1) ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\r\n    this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\r\n  }\r\n};\r\n\r\n/* global createNS, createElementID, locationHref, bmFloor */\r\n\r\nfunction SVGStrokeEffect(elem, filterManager) {\r\n  this.initialized = false;\r\n  this.filterManager = filterManager;\r\n  this.elem = elem;\r\n  this.paths = [];\r\n}\r\n\r\nSVGStrokeEffect.prototype.initialize = function () {\r\n  var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n  var path;\r\n  var groupPath;\r\n  var i;\r\n  var len;\r\n  if (this.filterManager.effectElements[1].p.v === 1) {\r\n    len = this.elem.maskManager.masksProperties.length;\r\n    i = 0;\r\n  } else {\r\n    i = this.filterManager.effectElements[0].p.v - 1;\r\n    len = i + 1;\r\n  }\r\n  groupPath = createNS('g');\r\n  groupPath.setAttribute('fill', 'none');\r\n  groupPath.setAttribute('stroke-linecap', 'round');\r\n  groupPath.setAttribute('stroke-dashoffset', 1);\r\n  for (i; i < len; i += 1) {\r\n    path = createNS('path');\r\n    groupPath.appendChild(path);\r\n    this.paths.push({ p: path, m: i });\r\n  }\r\n  if (this.filterManager.effectElements[10].p.v === 3) {\r\n    var mask = createNS('mask');\r\n    var id = createElementID();\r\n    mask.setAttribute('id', id);\r\n    mask.setAttribute('mask-type', 'alpha');\r\n    mask.appendChild(groupPath);\r\n    this.elem.globalData.defs.appendChild(mask);\r\n    var g = createNS('g');\r\n    g.setAttribute('mask', 'url(' + locationHref + '#' + id + ')');\r\n    while (elemChildren[0]) {\r\n      g.appendChild(elemChildren[0]);\r\n    }\r\n    this.elem.layerElement.appendChild(g);\r\n    this.masker = mask;\r\n    groupPath.setAttribute('stroke', '#fff');\r\n  } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n    if (this.filterManager.effectElements[10].p.v === 2) {\r\n      elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n      while (elemChildren.length) {\r\n        this.elem.layerElement.removeChild(elemChildren[0]);\r\n      }\r\n    }\r\n    this.elem.layerElement.appendChild(groupPath);\r\n    this.elem.layerElement.removeAttribute('mask');\r\n    groupPath.setAttribute('stroke', '#fff');\r\n  }\r\n  this.initialized = true;\r\n  this.pathMasker = groupPath;\r\n};\r\n\r\nSVGStrokeEffect.prototype.renderFrame = function (forceRender) {\r\n  if (!this.initialized) {\r\n    this.initialize();\r\n  }\r\n  var i;\r\n  var len = this.paths.length;\r\n  var mask;\r\n  var path;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.paths[i].m !== -1) {\r\n      mask = this.elem.maskManager.viewData[this.paths[i].m];\r\n      path = this.paths[i].p;\r\n      if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\r\n        path.setAttribute('d', mask.lastPath);\r\n      }\r\n      if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\r\n        var dasharrayValue;\r\n        if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\r\n          var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n          var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n          var l = path.getTotalLength();\r\n          dasharrayValue = '0 0 0 ' + l * s + ' ';\r\n          var lineLength = l * (e - s);\r\n          var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n          var units = Math.floor(lineLength / segment);\r\n          var j;\r\n          for (j = 0; j < units; j += 1) {\r\n            dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\r\n          }\r\n          dasharrayValue += '0 ' + l * 10 + ' 0 0';\r\n        } else {\r\n          dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n        }\r\n        path.setAttribute('stroke-dasharray', dasharrayValue);\r\n      }\r\n    }\r\n  }\r\n  if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n    this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\r\n  }\r\n\r\n  if (forceRender || this.filterManager.effectElements[6].p._mdf) {\r\n    this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\r\n  }\r\n  if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n    if (forceRender || this.filterManager.effectElements[3].p._mdf) {\r\n      var color = this.filterManager.effectElements[3].p.v;\r\n      this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\r\n    }\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGTritoneFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n  feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f1');\r\n  filter.appendChild(feColorMatrix);\r\n  var feComponentTransfer = createNS('feComponentTransfer');\r\n  feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n  filter.appendChild(feComponentTransfer);\r\n  this.matrixFilter = feComponentTransfer;\r\n  var feFuncR = createNS('feFuncR');\r\n  feFuncR.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncR);\r\n  this.feFuncR = feFuncR;\r\n  var feFuncG = createNS('feFuncG');\r\n  feFuncG.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncG);\r\n  this.feFuncG = feFuncG;\r\n  var feFuncB = createNS('feFuncB');\r\n  feFuncB.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncB);\r\n  this.feFuncB = feFuncB;\r\n}\r\n\r\nSVGTritoneFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var color1 = this.filterManager.effectElements[0].p.v;\r\n    var color2 = this.filterManager.effectElements[1].p.v;\r\n    var color3 = this.filterManager.effectElements[2].p.v;\r\n    var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\r\n    var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\r\n    var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\r\n    this.feFuncR.setAttribute('tableValues', tableR);\r\n    this.feFuncG.setAttribute('tableValues', tableG);\r\n    this.feFuncB.setAttribute('tableValues', tableB);\r\n    // var opacity = this.filterManager.effectElements[2].p.v/100;\r\n    // this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGProLevelsFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var effectElements = this.filterManager.effectElements;\r\n  var feComponentTransfer = createNS('feComponentTransfer');\r\n\r\n  if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\r\n    this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\r\n  }\r\n  if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\r\n    this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\r\n  }\r\n  if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\r\n    this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\r\n  }\r\n  if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\r\n    this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\r\n  }\r\n\r\n  if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\r\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    feComponentTransfer = createNS('feComponentTransfer');\r\n  }\r\n\r\n  if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\r\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\r\n    this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\r\n    this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\r\n  }\r\n}\r\n\r\nSVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\r\n  var feFunc = createNS(type);\r\n  feFunc.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFunc);\r\n  return feFunc;\r\n};\r\n\r\nSVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\r\n  var cnt = 0;\r\n  var segments = 256;\r\n  var perc;\r\n  var min = Math.min(inputBlack, inputWhite);\r\n  var max = Math.max(inputBlack, inputWhite);\r\n  var table = Array.call(null, { length: segments });\r\n  var colorValue;\r\n  var pos = 0;\r\n  var outputDelta = outputWhite - outputBlack;\r\n  var inputDelta = inputWhite - inputBlack;\r\n  while (cnt <= 256) {\r\n    perc = cnt / 256;\r\n    if (perc <= min) {\r\n      colorValue = inputDelta < 0 ? outputWhite : outputBlack;\r\n    } else if (perc >= max) {\r\n      colorValue = inputDelta < 0 ? outputBlack : outputWhite;\r\n    } else {\r\n      colorValue = (outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma));\r\n    }\r\n    table[pos] = colorValue;\r\n    pos += 1;\r\n    cnt += 256 / (segments - 1);\r\n  }\r\n  return table.join(' ');\r\n};\r\n\r\nSVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var val;\r\n    var effectElements = this.filterManager.effectElements;\r\n    if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\r\n      val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\r\n      this.feFuncRComposed.setAttribute('tableValues', val);\r\n      this.feFuncGComposed.setAttribute('tableValues', val);\r\n      this.feFuncBComposed.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\r\n      val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\r\n      this.feFuncR.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\r\n      val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\r\n      this.feFuncG.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\r\n      val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\r\n      this.feFuncB.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\r\n      val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\r\n      this.feFuncA.setAttribute('tableValues', val);\r\n    }\r\n  }\r\n};\r\n\r\n/* global createNS, rgbToHex, degToRads */\r\n\r\nfunction SVGDropShadowEffect(filter, filterManager) {\r\n  var filterSize = filterManager.container.globalData.renderConfig.filterSize;\r\n  filter.setAttribute('x', filterSize.x);\r\n  filter.setAttribute('y', filterSize.y);\r\n  filter.setAttribute('width', filterSize.width);\r\n  filter.setAttribute('height', filterSize.height);\r\n  this.filterManager = filterManager;\r\n\r\n  var feGaussianBlur = createNS('feGaussianBlur');\r\n  feGaussianBlur.setAttribute('in', 'SourceAlpha');\r\n  feGaussianBlur.setAttribute('result', 'drop_shadow_1');\r\n  feGaussianBlur.setAttribute('stdDeviation', '0');\r\n  this.feGaussianBlur = feGaussianBlur;\r\n  filter.appendChild(feGaussianBlur);\r\n\r\n  var feOffset = createNS('feOffset');\r\n  feOffset.setAttribute('dx', '25');\r\n  feOffset.setAttribute('dy', '0');\r\n  feOffset.setAttribute('in', 'drop_shadow_1');\r\n  feOffset.setAttribute('result', 'drop_shadow_2');\r\n  this.feOffset = feOffset;\r\n  filter.appendChild(feOffset);\r\n  var feFlood = createNS('feFlood');\r\n  feFlood.setAttribute('flood-color', '#00ff00');\r\n  feFlood.setAttribute('flood-opacity', '1');\r\n  feFlood.setAttribute('result', 'drop_shadow_3');\r\n  this.feFlood = feFlood;\r\n  filter.appendChild(feFlood);\r\n\r\n  var feComposite = createNS('feComposite');\r\n  feComposite.setAttribute('in', 'drop_shadow_3');\r\n  feComposite.setAttribute('in2', 'drop_shadow_2');\r\n  feComposite.setAttribute('operator', 'in');\r\n  feComposite.setAttribute('result', 'drop_shadow_4');\r\n  filter.appendChild(feComposite);\r\n\r\n  var feMerge = createNS('feMerge');\r\n  filter.appendChild(feMerge);\r\n  var feMergeNode;\r\n  feMergeNode = createNS('feMergeNode');\r\n  feMerge.appendChild(feMergeNode);\r\n  feMergeNode = createNS('feMergeNode');\r\n  feMergeNode.setAttribute('in', 'SourceGraphic');\r\n  this.feMergeNode = feMergeNode;\r\n  this.feMerge = feMerge;\r\n  this.originalNodeAdded = false;\r\n  feMerge.appendChild(feMergeNode);\r\n}\r\n\r\nSVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n      this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[0].p._mdf) {\r\n      var col = this.filterManager.effectElements[0].p.v;\r\n      this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[1].p._mdf) {\r\n      this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\r\n      var distance = this.filterManager.effectElements[3].p.v;\r\n      var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\r\n      var x = distance * Math.cos(angle);\r\n      var y = distance * Math.sin(angle);\r\n      this.feOffset.setAttribute('dx', x);\r\n      this.feOffset.setAttribute('dy', y);\r\n    }\r\n    /* if(forceRender || this.filterManager.effectElements[5].p._mdf){\r\n            if(this.filterManager.effectElements[5].p.v === 1 && this.originalNodeAdded) {\r\n                this.feMerge.removeChild(this.feMergeNode);\r\n                this.originalNodeAdded = false;\r\n            } else if(this.filterManager.effectElements[5].p.v === 0 && !this.originalNodeAdded) {\r\n                this.feMerge.appendChild(this.feMergeNode);\r\n                this.originalNodeAdded = true;\r\n            }\r\n        } */\r\n  }\r\n};\r\n\r\n/* global createElementID, createNS */\r\n\r\nvar _svgMatteSymbols = [];\r\n\r\nfunction SVGMatte3Effect(filterElem, filterManager, elem) {\r\n  this.initialized = false;\r\n  this.filterManager = filterManager;\r\n  this.filterElem = filterElem;\r\n  this.elem = elem;\r\n  elem.matteElement = createNS('g');\r\n  elem.matteElement.appendChild(elem.layerElement);\r\n  elem.matteElement.appendChild(elem.transformedElement);\r\n  elem.baseElement = elem.matteElement;\r\n}\r\n\r\nSVGMatte3Effect.prototype.findSymbol = function (mask) {\r\n  var i = 0;\r\n  var len = _svgMatteSymbols.length;\r\n  while (i < len) {\r\n    if (_svgMatteSymbols[i] === mask) {\r\n      return _svgMatteSymbols[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nSVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\r\n  var parentNode = mask.layerElement.parentNode;\r\n  if (!parentNode) {\r\n    return;\r\n  }\r\n  var children = parentNode.children;\r\n  var i = 0;\r\n  var len = children.length;\r\n  while (i < len) {\r\n    if (children[i] === mask.layerElement) {\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n  var nextChild;\r\n  if (i <= len - 2) {\r\n    nextChild = children[i + 1];\r\n  }\r\n  var useElem = createNS('use');\r\n  useElem.setAttribute('href', '#' + symbolId);\r\n  if (nextChild) {\r\n    parentNode.insertBefore(useElem, nextChild);\r\n  } else {\r\n    parentNode.appendChild(useElem);\r\n  }\r\n};\r\n\r\nSVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\r\n  if (!this.findSymbol(mask)) {\r\n    var symbolId = createElementID();\r\n    var masker = createNS('mask');\r\n    masker.setAttribute('id', mask.layerId);\r\n    masker.setAttribute('mask-type', 'alpha');\r\n    _svgMatteSymbols.push(mask);\r\n    var defs = elem.globalData.defs;\r\n    defs.appendChild(masker);\r\n    var symbol = createNS('symbol');\r\n    symbol.setAttribute('id', symbolId);\r\n    this.replaceInParent(mask, symbolId);\r\n    symbol.appendChild(mask.layerElement);\r\n    defs.appendChild(symbol);\r\n    var useElem = createNS('use');\r\n    useElem.setAttribute('href', '#' + symbolId);\r\n    masker.appendChild(useElem);\r\n    mask.data.hd = false;\r\n    mask.show();\r\n  }\r\n  elem.setMatte(mask.layerId);\r\n};\r\n\r\nSVGMatte3Effect.prototype.initialize = function () {\r\n  var ind = this.filterManager.effectElements[0].p.v;\r\n  var elements = this.elem.comp.elements;\r\n  var i = 0;\r\n  var len = elements.length;\r\n  while (i < len) {\r\n    if (elements[i] && elements[i].data.ind === ind) {\r\n      this.setElementAsMask(this.elem, elements[i]);\r\n    }\r\n    i += 1;\r\n  }\r\n  this.initialized = true;\r\n};\r\n\r\nSVGMatte3Effect.prototype.renderFrame = function () {\r\n  if (!this.initialized) {\r\n    this.initialize();\r\n  }\r\n};\r\n\r\n/* global createElementID, filtersFactory, SVGTintFilter, SVGFillFilter, SVGStrokeEffect, SVGTritoneFilter,\r\nSVGProLevelsFilter, SVGDropShadowEffect, SVGMatte3Effect, SVGGaussianBlurEffect, locationHref */\r\n\r\nfunction SVGEffects(elem) {\r\n  var i;\r\n  var len = elem.data.ef ? elem.data.ef.length : 0;\r\n  var filId = createElementID();\r\n  var fil = filtersFactory.createFilter(filId, true);\r\n  var count = 0;\r\n  this.filters = [];\r\n  var filterManager;\r\n  for (i = 0; i < len; i += 1) {\r\n    filterManager = null;\r\n    if (elem.data.ef[i].ty === 20) {\r\n      count += 1;\r\n      filterManager = new SVGTintFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 21) {\r\n      count += 1;\r\n      filterManager = new SVGFillFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 22) {\r\n      filterManager = new SVGStrokeEffect(elem, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 23) {\r\n      count += 1;\r\n      filterManager = new SVGTritoneFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 24) {\r\n      count += 1;\r\n      filterManager = new SVGProLevelsFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 25) {\r\n      count += 1;\r\n      filterManager = new SVGDropShadowEffect(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 28) {\r\n      // count += 1;\r\n      filterManager = new SVGMatte3Effect(fil, elem.effectsManager.effectElements[i], elem);\r\n    } else if (elem.data.ef[i].ty === 29) {\r\n      count += 1;\r\n      filterManager = new SVGGaussianBlurEffect(fil, elem.effectsManager.effectElements[i]);\r\n    }\r\n    if (filterManager) {\r\n      this.filters.push(filterManager);\r\n    }\r\n  }\r\n  if (count) {\r\n    elem.globalData.defs.appendChild(fil);\r\n    elem.layerElement.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n  }\r\n  if (this.filters.length) {\r\n    elem.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nSVGEffects.prototype.renderFrame = function (_isFirstFrame) {\r\n  var i;\r\n  var len = this.filters.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.filters[i].renderFrame(_isFirstFrame);\r\n  }\r\n};\r\n\r\n/* global Matrix, createTypedArray */\r\n\r\nfunction CVContextData() {\r\n  this.saved = [];\r\n  this.cArrPos = 0;\r\n  this.cTr = new Matrix();\r\n  this.cO = 1;\r\n  var i;\r\n  var len = 15;\r\n  this.savedOp = createTypedArray('float32', len);\r\n  for (i = 0; i < len; i += 1) {\r\n    this.saved[i] = createTypedArray('float32', 16);\r\n  }\r\n  this._length = len;\r\n}\r\n\r\nCVContextData.prototype.duplicate = function () {\r\n  var newLength = this._length * 2;\r\n  var currentSavedOp = this.savedOp;\r\n  this.savedOp = createTypedArray('float32', newLength);\r\n  this.savedOp.set(currentSavedOp);\r\n  var i = 0;\r\n  for (i = this._length; i < newLength; i += 1) {\r\n    this.saved[i] = createTypedArray('float32', 16);\r\n  }\r\n  this._length = newLength;\r\n};\r\n\r\nCVContextData.prototype.reset = function () {\r\n  this.cArrPos = 0;\r\n  this.cTr.reset();\r\n  this.cO = 1;\r\n};\r\n\r\n/* global CVEffects, getBlendMode, CVMaskElement, Matrix */\r\n\r\nfunction CVBaseElement() {\r\n}\r\n\r\nCVBaseElement.prototype = {\r\n  createElements: function () {},\r\n  initRendererElement: function () {},\r\n  createContainerElements: function () {\r\n    this.canvasContext = this.globalData.canvasContext;\r\n    this.renderableEffectsManager = new CVEffects(this);\r\n  },\r\n  createContent: function () {},\r\n  setBlendMode: function () {\r\n    var globalData = this.globalData;\r\n    if (globalData.blendMode !== this.data.bm) {\r\n      globalData.blendMode = this.data.bm;\r\n      var blendModeValue = getBlendMode(this.data.bm);\r\n      globalData.canvasContext.globalCompositeOperation = blendModeValue;\r\n    }\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new CVMaskElement(this.data, this);\r\n  },\r\n  hideElement: function () {\r\n    if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n      this.hidden = true;\r\n    }\r\n  },\r\n  showElement: function () {\r\n    if (this.isInRange && !this.isTransparent) {\r\n      this.hidden = false;\r\n      this._isFirstFrame = true;\r\n      this.maskManager._isFirstFrame = true;\r\n    }\r\n  },\r\n  renderFrame: function () {\r\n    if (this.hidden || this.data.hd) {\r\n      return;\r\n    }\r\n    this.renderTransform();\r\n    this.renderRenderable();\r\n    this.setBlendMode();\r\n    var forceRealStack = this.data.ty === 0;\r\n    this.globalData.renderer.save(forceRealStack);\r\n    this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\r\n    this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\r\n    this.renderInnerContent();\r\n    this.globalData.renderer.restore(forceRealStack);\r\n    if (this.maskManager.hasMasks) {\r\n      this.globalData.renderer.restore(true);\r\n    }\r\n    if (this._isFirstFrame) {\r\n      this._isFirstFrame = false;\r\n    }\r\n  },\r\n  destroy: function () {\r\n    this.canvasContext = null;\r\n    this.data = null;\r\n    this.globalData = null;\r\n    this.maskManager.destroy();\r\n  },\r\n  mHelper: new Matrix(),\r\n};\r\nCVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\r\nCVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, CVBaseElement,HierarchyElement, FrameElement,\r\nRenderableElement, SVGShapeElement, IImageElement, createTag */\r\n\r\nfunction CVImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.img = globalData.imageLoader.getAsset(this.assetData);\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\r\n\r\nCVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVImageElement.prototype.createContent = function () {\r\n  if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\r\n    var canvas = createTag('canvas');\r\n    canvas.width = this.assetData.w;\r\n    canvas.height = this.assetData.h;\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    var imgW = this.img.width;\r\n    var imgH = this.img.height;\r\n    var imgRel = imgW / imgH;\r\n    var canvasRel = this.assetData.w / this.assetData.h;\r\n    var widthCrop;\r\n    var heightCrop;\r\n    var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\r\n    if ((imgRel > canvasRel && par === 'xMidYMid slice') || (imgRel < canvasRel && par !== 'xMidYMid slice')) {\r\n      heightCrop = imgH;\r\n      widthCrop = heightCrop * canvasRel;\r\n    } else {\r\n      widthCrop = imgW;\r\n      heightCrop = widthCrop / canvasRel;\r\n    }\r\n    ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\r\n    this.img = canvas;\r\n  }\r\n};\r\n\r\nCVImageElement.prototype.renderInnerContent = function () {\r\n  this.canvasContext.drawImage(this.img, 0, 0);\r\n};\r\n\r\nCVImageElement.prototype.destroy = function () {\r\n  this.img = null;\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, CanvasRenderer, ICompElement, CVBaseElement */\r\n\r\nfunction CVCompElement(data, globalData, comp) {\r\n  this.completeLayers = false;\r\n  this.layers = data.layers;\r\n  this.pendingElements = [];\r\n  this.elements = createSizedArray(this.layers.length);\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([CanvasRenderer, ICompElement, CVBaseElement], CVCompElement);\r\n\r\nCVCompElement.prototype.renderInnerContent = function () {\r\n  var ctx = this.canvasContext;\r\n  ctx.beginPath();\r\n  ctx.moveTo(0, 0);\r\n  ctx.lineTo(this.data.w, 0);\r\n  ctx.lineTo(this.data.w, this.data.h);\r\n  ctx.lineTo(0, this.data.h);\r\n  ctx.lineTo(0, 0);\r\n  ctx.clip();\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].renderFrame();\r\n    }\r\n  }\r\n};\r\n\r\nCVCompElement.prototype.destroy = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.layers = null;\r\n  this.elements = null;\r\n};\r\n\r\n/* global createSizedArray, ShapePropertyFactory, MaskElement */\r\n\r\nfunction CVMaskElement(data, element) {\r\n  this.data = data;\r\n  this.element = element;\r\n  this.masksProperties = this.data.masksProperties || [];\r\n  this.viewData = createSizedArray(this.masksProperties.length);\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  var hasMasks = false;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      hasMasks = true;\r\n    }\r\n    this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\r\n  }\r\n  this.hasMasks = hasMasks;\r\n  if (hasMasks) {\r\n    this.element.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nCVMaskElement.prototype.renderFrame = function () {\r\n  if (!this.hasMasks) {\r\n    return;\r\n  }\r\n  var transform = this.element.finalTransform.mat;\r\n  var ctx = this.element.canvasContext;\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  var pt;\r\n  var pts;\r\n  var data;\r\n  ctx.beginPath();\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      if (this.masksProperties[i].inv) {\r\n        ctx.moveTo(0, 0);\r\n        ctx.lineTo(this.element.globalData.compSize.w, 0);\r\n        ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\r\n        ctx.lineTo(0, this.element.globalData.compSize.h);\r\n        ctx.lineTo(0, 0);\r\n      }\r\n      data = this.viewData[i].v;\r\n      pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\r\n      ctx.moveTo(pt[0], pt[1]);\r\n      var j;\r\n      var jLen = data._length;\r\n      for (j = 1; j < jLen; j += 1) {\r\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\r\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n      }\r\n      pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\r\n      ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n    }\r\n  }\r\n  this.element.globalData.renderer.save(true);\r\n  ctx.clip();\r\n};\r\n\r\nCVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\r\n\r\nCVMaskElement.prototype.destroy = function () {\r\n  this.element = null;\r\n};\r\n\r\n/* global ShapeTransformManager, extendPrototype, BaseElement, TransformElement, CVBaseElement, IShapeElement,\r\nHierarchyElement, FrameElement, RenderableElement, RenderableDOMElement, PropertyFactory, degToRads, GradientProperty,\r\nDashProperty, TransformPropertyFactory, CVShapeData, ShapeModifiers, bmFloor, lineCapEnum, lineJoinEnum */\r\n\r\nfunction CVShapeElement(data, globalData, comp) {\r\n  this.shapes = [];\r\n  this.shapesData = data.shapes;\r\n  this.stylesList = [];\r\n  this.itemsData = [];\r\n  this.prevViewData = [];\r\n  this.shapeModifiers = [];\r\n  this.processedElements = [];\r\n  this.transformsManager = new ShapeTransformManager();\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\r\n\r\nCVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\r\n\r\nCVShapeElement.prototype.transformHelper = { opacity: 1, _opMdf: false };\r\n\r\nCVShapeElement.prototype.dashResetter = [];\r\n\r\nCVShapeElement.prototype.createContent = function () {\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\r\n};\r\n\r\nCVShapeElement.prototype.createStyleElement = function (data, transforms) {\r\n  var styleElem = {\r\n    data: data,\r\n    type: data.ty,\r\n    preTransforms: this.transformsManager.addTransformSequence(transforms),\r\n    transforms: [],\r\n    elements: [],\r\n    closed: data.hd === true,\r\n  };\r\n  var elementData = {};\r\n  if (data.ty === 'fl' || data.ty === 'st') {\r\n    elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\r\n    if (!elementData.c.k) {\r\n      styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\r\n    }\r\n  } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n    elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\r\n    elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\r\n    elementData.h = PropertyFactory.getProp(this, data.h || { k: 0 }, 0, 0.01, this);\r\n    elementData.a = PropertyFactory.getProp(this, data.a || { k: 0 }, 0, degToRads, this);\r\n    elementData.g = new GradientProperty(this, data.g, this);\r\n  }\r\n  elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\r\n  if (data.ty === 'st' || data.ty === 'gs') {\r\n    styleElem.lc = lineCapEnum[data.lc || 2];\r\n    styleElem.lj = lineJoinEnum[data.lj || 2];\r\n    if (data.lj == 1) { // eslint-disable-line eqeqeq\r\n      styleElem.ml = data.ml;\r\n    }\r\n    elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\r\n    if (!elementData.w.k) {\r\n      styleElem.wi = elementData.w.v;\r\n    }\r\n    if (data.d) {\r\n      var d = new DashProperty(this, data.d, 'canvas', this);\r\n      elementData.d = d;\r\n      if (!elementData.d.k) {\r\n        styleElem.da = elementData.d.dashArray;\r\n        styleElem.do = elementData.d.dashoffset[0];\r\n      }\r\n    }\r\n  } else {\r\n    styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\r\n  }\r\n  this.stylesList.push(styleElem);\r\n  elementData.style = styleElem;\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createGroupElement = function () {\r\n  var elementData = {\r\n    it: [],\r\n    prevViewData: [],\r\n  };\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createTransformElement = function (data) {\r\n  var elementData = {\r\n    transform: {\r\n      opacity: 1,\r\n      _opMdf: false,\r\n      key: this.transformsManager.getNewKey(),\r\n      op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\r\n      mProps: TransformPropertyFactory.getTransformProperty(this, data, this),\r\n    },\r\n  };\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createShapeElement = function (data) {\r\n  var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\r\n\r\n  this.shapes.push(elementData);\r\n  this.addShapeToModifiers(elementData);\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.reloadShapes = function () {\r\n  this._isFirstFrame = true;\r\n  var i;\r\n  var len = this.itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.prevViewData[i] = this.itemsData[i];\r\n  }\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\r\n  len = this.dynamicProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.dynamicProperties[i].getValue();\r\n  }\r\n  this.renderModifiers();\r\n  this.transformsManager.processSequences(this._isFirstFrame);\r\n};\r\n\r\nCVShapeElement.prototype.addTransformToStyleList = function (transform) {\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!this.stylesList[i].closed) {\r\n      this.stylesList[i].transforms.push(transform);\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.removeTransformFromStyleList = function () {\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!this.stylesList[i].closed) {\r\n      this.stylesList[i].transforms.pop();\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.closeStyles = function (styles) {\r\n  var i;\r\n  var len = styles.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    styles[i].closed = true;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\r\n  var i;\r\n  var len = arr.length - 1;\r\n  var j;\r\n  var jLen;\r\n  var ownStyles = [];\r\n  var ownModifiers = [];\r\n  var processedPos;\r\n  var modifier;\r\n  var currentTransform;\r\n  var ownTransforms = [].concat(transforms);\r\n  for (i = len; i >= 0; i -= 1) {\r\n    processedPos = this.searchProcessedElement(arr[i]);\r\n    if (!processedPos) {\r\n      arr[i]._shouldRender = shouldRender;\r\n    } else {\r\n      itemsData[i] = prevViewData[processedPos - 1];\r\n    }\r\n    if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\r\n      } else {\r\n        itemsData[i].style.closed = false;\r\n      }\r\n\r\n      ownStyles.push(itemsData[i].style);\r\n    } else if (arr[i].ty === 'gr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createGroupElement(arr[i]);\r\n      } else {\r\n        jLen = itemsData[i].it.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n        }\r\n      }\r\n      this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\r\n    } else if (arr[i].ty === 'tr') {\r\n      if (!processedPos) {\r\n        currentTransform = this.createTransformElement(arr[i]);\r\n        itemsData[i] = currentTransform;\r\n      }\r\n      ownTransforms.push(itemsData[i]);\r\n      this.addTransformToStyleList(itemsData[i]);\r\n    } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createShapeElement(arr[i]);\r\n      }\r\n    } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        modifier.init(this, arr[i]);\r\n        itemsData[i] = modifier;\r\n        this.shapeModifiers.push(modifier);\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = false;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    } else if (arr[i].ty === 'rp') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        itemsData[i] = modifier;\r\n        modifier.init(this, arr, i, itemsData);\r\n        this.shapeModifiers.push(modifier);\r\n        shouldRender = false;\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = true;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    }\r\n    this.addProcessedElement(arr[i], i + 1);\r\n  }\r\n  this.removeTransformFromStyleList();\r\n  this.closeStyles(ownStyles);\r\n  len = ownModifiers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownModifiers[i].closed = true;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderInnerContent = function () {\r\n  this.transformHelper.opacity = 1;\r\n  this.transformHelper._opMdf = false;\r\n  this.renderModifiers();\r\n  this.transformsManager.processSequences(this._isFirstFrame);\r\n  this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\r\n};\r\n\r\nCVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\r\n  if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\r\n    groupTransform.opacity = parentTransform.opacity;\r\n    groupTransform.opacity *= groupTransform.op.v;\r\n    groupTransform._opMdf = true;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.drawLayer = function () {\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  var j;\r\n  var jLen;\r\n  var k;\r\n  var kLen;\r\n  var elems;\r\n  var nodes;\r\n  var renderer = this.globalData.renderer;\r\n  var ctx = this.globalData.canvasContext;\r\n  var type;\r\n  var currentStyle;\r\n  for (i = 0; i < len; i += 1) {\r\n    currentStyle = this.stylesList[i];\r\n    type = currentStyle.type;\r\n\r\n    // Skipping style when\r\n    // Stroke width equals 0\r\n    // style should not be rendered (extra unused repeaters)\r\n    // current opacity equals 0\r\n    // global opacity equals 0\r\n    if (!(((type === 'st' || type === 'gs') && currentStyle.wi === 0) || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\r\n      renderer.save();\r\n      elems = currentStyle.elements;\r\n      if (type === 'st' || type === 'gs') {\r\n        ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\r\n        ctx.lineWidth = currentStyle.wi;\r\n        ctx.lineCap = currentStyle.lc;\r\n        ctx.lineJoin = currentStyle.lj;\r\n        ctx.miterLimit = currentStyle.ml || 0;\r\n      } else {\r\n        ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\r\n      }\r\n      renderer.ctxOpacity(currentStyle.coOp);\r\n      if (type !== 'st' && type !== 'gs') {\r\n        ctx.beginPath();\r\n      }\r\n      renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\r\n      jLen = elems.length;\r\n      for (j = 0; j < jLen; j += 1) {\r\n        if (type === 'st' || type === 'gs') {\r\n          ctx.beginPath();\r\n          if (currentStyle.da) {\r\n            ctx.setLineDash(currentStyle.da);\r\n            ctx.lineDashOffset = currentStyle.do;\r\n          }\r\n        }\r\n        nodes = elems[j].trNodes;\r\n        kLen = nodes.length;\r\n\r\n        for (k = 0; k < kLen; k += 1) {\r\n          if (nodes[k].t === 'm') {\r\n            ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\r\n          } else if (nodes[k].t === 'c') {\r\n            ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\r\n          } else {\r\n            ctx.closePath();\r\n          }\r\n        }\r\n        if (type === 'st' || type === 'gs') {\r\n          ctx.stroke();\r\n          if (currentStyle.da) {\r\n            ctx.setLineDash(this.dashResetter);\r\n          }\r\n        }\r\n      }\r\n      if (type !== 'st' && type !== 'gs') {\r\n        ctx.fill(currentStyle.r);\r\n      }\r\n      renderer.restore();\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\r\n  var i;\r\n  var len = items.length - 1;\r\n  var groupTransform;\r\n  groupTransform = parentTransform;\r\n  for (i = len; i >= 0; i -= 1) {\r\n    if (items[i].ty === 'tr') {\r\n      groupTransform = data[i].transform;\r\n      this.renderShapeTransform(parentTransform, groupTransform);\r\n    } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\r\n      this.renderPath(items[i], data[i]);\r\n    } else if (items[i].ty === 'fl') {\r\n      this.renderFill(items[i], data[i], groupTransform);\r\n    } else if (items[i].ty === 'st') {\r\n      this.renderStroke(items[i], data[i], groupTransform);\r\n    } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\r\n      this.renderGradientFill(items[i], data[i], groupTransform);\r\n    } else if (items[i].ty === 'gr') {\r\n      this.renderShape(groupTransform, items[i].it, data[i].it);\r\n    } else if (items[i].ty === 'tm') {\r\n      //\r\n    }\r\n  }\r\n  if (isMain) {\r\n    this.drawLayer();\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\r\n  if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\r\n    var shapeNodes = styledShape.trNodes;\r\n    var paths = shape.paths;\r\n    var i;\r\n    var len;\r\n    var j;\r\n    var jLen = paths._length;\r\n    shapeNodes.length = 0;\r\n    var groupTransformMat = styledShape.transforms.finalTransform;\r\n    for (j = 0; j < jLen; j += 1) {\r\n      var pathNodes = paths.shapes[j];\r\n      if (pathNodes && pathNodes.v) {\r\n        len = pathNodes._length;\r\n        for (i = 1; i < len; i += 1) {\r\n          if (i === 1) {\r\n            shapeNodes.push({\r\n              t: 'm',\r\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0),\r\n            });\r\n          }\r\n          shapeNodes.push({\r\n            t: 'c',\r\n            pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i]),\r\n          });\r\n        }\r\n        if (len === 1) {\r\n          shapeNodes.push({\r\n            t: 'm',\r\n            p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0),\r\n          });\r\n        }\r\n        if (pathNodes.c && len) {\r\n          shapeNodes.push({\r\n            t: 'c',\r\n            pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0]),\r\n          });\r\n          shapeNodes.push({\r\n            t: 'z',\r\n          });\r\n        }\r\n      }\r\n    }\r\n    styledShape.trNodes = shapeNodes;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderPath = function (pathData, itemData) {\r\n  if (pathData.hd !== true && pathData._shouldRender) {\r\n    var i;\r\n    var len = itemData.styledShapes.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\r\n  var styleElem = itemData.style;\r\n\r\n  if (itemData.c._mdf || this._isFirstFrame) {\r\n    styleElem.co = 'rgb('\r\n        + bmFloor(itemData.c.v[0]) + ','\r\n        + bmFloor(itemData.c.v[1]) + ','\r\n        + bmFloor(itemData.c.v[2]) + ')';\r\n  }\r\n  if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\r\n  var styleElem = itemData.style;\r\n  var grd;\r\n  if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || (styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf))) {\r\n    var ctx = this.globalData.canvasContext;\r\n    var pt1 = itemData.s.v;\r\n    var pt2 = itemData.e.v;\r\n    if (styleData.t === 1) {\r\n      grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\r\n    } else {\r\n      var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n      var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n      var percent = itemData.h.v;\r\n      if (percent >= 1) {\r\n        percent = 0.99;\r\n      } else if (percent <= -1) {\r\n        percent = -0.99;\r\n      }\r\n      var dist = rad * percent;\r\n      var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n      var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n      grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\r\n    }\r\n\r\n    var i;\r\n    var len = styleData.g.p;\r\n    var cValues = itemData.g.c;\r\n    var opacity = 1;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (itemData.g._hasOpacity && itemData.g._collapsable) {\r\n        opacity = itemData.g.o[i * 2 + 1];\r\n      }\r\n      grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\r\n    }\r\n    styleElem.grd = grd;\r\n  }\r\n  styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n};\r\n\r\nCVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\r\n  var styleElem = itemData.style;\r\n  var d = itemData.d;\r\n  if (d && (d._mdf || this._isFirstFrame)) {\r\n    styleElem.da = d.dashArray;\r\n    styleElem.do = d.dashoffset[0];\r\n  }\r\n  if (itemData.c._mdf || this._isFirstFrame) {\r\n    styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\r\n  }\r\n  if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n  }\r\n  if (itemData.w._mdf || this._isFirstFrame) {\r\n    styleElem.wi = itemData.w.v;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.destroy = function () {\r\n  this.shapesData = null;\r\n  this.globalData = null;\r\n  this.canvasContext = null;\r\n  this.stylesList.length = 0;\r\n  this.itemsData.length = 0;\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement,\r\nSVGShapeElement, IImageElement */\r\n\r\nfunction CVSolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\r\n\r\nCVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVSolidElement.prototype.renderInnerContent = function () {\r\n  var ctx = this.canvasContext;\r\n  ctx.fillStyle = this.data.sc;\r\n  ctx.fillRect(0, 0, this.data.sw, this.data.sh);\r\n  //\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement,\r\nRenderableElement, ITextElement, createTag, createSizedArray */\r\n\r\nfunction CVTextElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.yOffset = 0;\r\n  this.fillColorAnim = false;\r\n  this.strokeColorAnim = false;\r\n  this.strokeWidthAnim = false;\r\n  this.stroke = false;\r\n  this.fill = false;\r\n  this.justifyOffset = 0;\r\n  this.currentRender = null;\r\n  this.renderType = 'canvas';\r\n  this.values = {\r\n    fill: 'rgba(0,0,0,0)',\r\n    stroke: 'rgba(0,0,0,0)',\r\n    sWidth: 0,\r\n    fValue: '',\r\n  };\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\r\n\r\nCVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\r\n\r\nCVTextElement.prototype.buildNewText = function () {\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n\r\n  var hasFill = false;\r\n  if (documentData.fc) {\r\n    hasFill = true;\r\n    this.values.fill = this.buildColor(documentData.fc);\r\n  } else {\r\n    this.values.fill = 'rgba(0,0,0,0)';\r\n  }\r\n  this.fill = hasFill;\r\n  var hasStroke = false;\r\n  if (documentData.sc) {\r\n    hasStroke = true;\r\n    this.values.stroke = this.buildColor(documentData.sc);\r\n    this.values.sWidth = documentData.sw;\r\n  }\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  var i;\r\n  var len;\r\n  var letters = documentData.l;\r\n  var matrixHelper = this.mHelper;\r\n  this.stroke = hasStroke;\r\n  this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\r\n  len = documentData.finalText.length;\r\n  // this.tHelper.font = this.values.fValue;\r\n  var charData;\r\n  var shapeData;\r\n  var k;\r\n  var kLen;\r\n  var shapes;\r\n  var j;\r\n  var jLen;\r\n  var pathNodes;\r\n  var commands;\r\n  var pathArr;\r\n  var singleShape = this.data.singleShape;\r\n  var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\r\n  var xPos = 0;\r\n  var yPos = 0;\r\n  var firstLine = true;\r\n  var cnt = 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n    shapeData = (charData && charData.data) || {};\r\n    matrixHelper.reset();\r\n    if (singleShape && letters[i].n) {\r\n      xPos = -trackingOffset;\r\n      yPos += documentData.yOffset;\r\n      yPos += firstLine ? 1 : 0;\r\n      firstLine = false;\r\n    }\r\n\r\n    shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n    jLen = shapes.length;\r\n    matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n    if (singleShape) {\r\n      this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n    }\r\n    commands = createSizedArray(jLen);\r\n    for (j = 0; j < jLen; j += 1) {\r\n      kLen = shapes[j].ks.k.i.length;\r\n      pathNodes = shapes[j].ks.k;\r\n      pathArr = [];\r\n      for (k = 1; k < kLen; k += 1) {\r\n        if (k === 1) {\r\n          pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\r\n        }\r\n        pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\r\n      }\r\n      pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\r\n      commands[j] = pathArr;\r\n    }\r\n    if (singleShape) {\r\n      xPos += letters[i].l;\r\n      xPos += trackingOffset;\r\n    }\r\n    if (this.textSpans[cnt]) {\r\n      this.textSpans[cnt].elem = commands;\r\n    } else {\r\n      this.textSpans[cnt] = { elem: commands };\r\n    }\r\n    cnt += 1;\r\n  }\r\n};\r\n\r\nCVTextElement.prototype.renderInnerContent = function () {\r\n  var ctx = this.canvasContext;\r\n  ctx.font = this.values.fValue;\r\n  ctx.lineCap = 'butt';\r\n  ctx.lineJoin = 'miter';\r\n  ctx.miterLimit = 4;\r\n\r\n  if (!this.data.singleShape) {\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n  }\r\n\r\n  var i;\r\n  var len;\r\n  var j;\r\n  var jLen;\r\n  var k;\r\n  var kLen;\r\n  var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n  var letters = this.textProperty.currentData.l;\r\n\r\n  len = letters.length;\r\n  var renderedLetter;\r\n  var lastFill = null;\r\n  var lastStroke = null;\r\n  var lastStrokeW = null;\r\n  var commands;\r\n  var pathArr;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!letters[i].n) {\r\n      renderedLetter = renderedLetters[i];\r\n      if (renderedLetter) {\r\n        this.globalData.renderer.save();\r\n        this.globalData.renderer.ctxTransform(renderedLetter.p);\r\n        this.globalData.renderer.ctxOpacity(renderedLetter.o);\r\n      }\r\n      if (this.fill) {\r\n        if (renderedLetter && renderedLetter.fc) {\r\n          if (lastFill !== renderedLetter.fc) {\r\n            lastFill = renderedLetter.fc;\r\n            ctx.fillStyle = renderedLetter.fc;\r\n          }\r\n        } else if (lastFill !== this.values.fill) {\r\n          lastFill = this.values.fill;\r\n          ctx.fillStyle = this.values.fill;\r\n        }\r\n        commands = this.textSpans[i].elem;\r\n        jLen = commands.length;\r\n        this.globalData.canvasContext.beginPath();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathArr = commands[j];\r\n          kLen = pathArr.length;\r\n          this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n          for (k = 2; k < kLen; k += 6) {\r\n            this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n          }\r\n        }\r\n        this.globalData.canvasContext.closePath();\r\n        this.globalData.canvasContext.fill();\r\n        /// ctx.fillText(this.textSpans[i].val,0,0);\r\n      }\r\n      if (this.stroke) {\r\n        if (renderedLetter && renderedLetter.sw) {\r\n          if (lastStrokeW !== renderedLetter.sw) {\r\n            lastStrokeW = renderedLetter.sw;\r\n            ctx.lineWidth = renderedLetter.sw;\r\n          }\r\n        } else if (lastStrokeW !== this.values.sWidth) {\r\n          lastStrokeW = this.values.sWidth;\r\n          ctx.lineWidth = this.values.sWidth;\r\n        }\r\n        if (renderedLetter && renderedLetter.sc) {\r\n          if (lastStroke !== renderedLetter.sc) {\r\n            lastStroke = renderedLetter.sc;\r\n            ctx.strokeStyle = renderedLetter.sc;\r\n          }\r\n        } else if (lastStroke !== this.values.stroke) {\r\n          lastStroke = this.values.stroke;\r\n          ctx.strokeStyle = this.values.stroke;\r\n        }\r\n        commands = this.textSpans[i].elem;\r\n        jLen = commands.length;\r\n        this.globalData.canvasContext.beginPath();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathArr = commands[j];\r\n          kLen = pathArr.length;\r\n          this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n          for (k = 2; k < kLen; k += 6) {\r\n            this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n          }\r\n        }\r\n        this.globalData.canvasContext.closePath();\r\n        this.globalData.canvasContext.stroke();\r\n        /// ctx.strokeText(letters[i].val,0,0);\r\n      }\r\n      if (renderedLetter) {\r\n        this.globalData.renderer.restore();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nfunction CVEffects() {\r\n\r\n}\r\nCVEffects.prototype.renderFrame = function () {};\r\n\r\n/* global createTag, createNS, styleDiv, CVEffects, MaskElement, SVGBaseElement, HybridRenderer */\r\n\r\nfunction HBaseElement() {}\r\nHBaseElement.prototype = {\r\n  checkBlendMode: function () {},\r\n  initRendererElement: function () {\r\n    this.baseElement = createTag(this.data.tg || 'div');\r\n    if (this.data.hasMask) {\r\n      this.svgElement = createNS('svg');\r\n      this.layerElement = createNS('g');\r\n      this.maskedElement = this.layerElement;\r\n      this.svgElement.appendChild(this.layerElement);\r\n      this.baseElement.appendChild(this.svgElement);\r\n    } else {\r\n      this.layerElement = this.baseElement;\r\n    }\r\n    styleDiv(this.baseElement);\r\n  },\r\n  createContainerElements: function () {\r\n    this.renderableEffectsManager = new CVEffects(this);\r\n    this.transformedElement = this.baseElement;\r\n    this.maskedElement = this.layerElement;\r\n    if (this.data.ln) {\r\n      this.layerElement.setAttribute('id', this.data.ln);\r\n    }\r\n    if (this.data.cl) {\r\n      this.layerElement.setAttribute('class', this.data.cl);\r\n    }\r\n    if (this.data.bm !== 0) {\r\n      this.setBlendMode();\r\n    }\r\n  },\r\n  renderElement: function () {\r\n    var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};\r\n    if (this.finalTransform._matMdf) {\r\n      var matrixValue = this.finalTransform.mat.toCSS();\r\n      transformedElementStyle.transform = matrixValue;\r\n      transformedElementStyle.webkitTransform = matrixValue;\r\n    }\r\n    if (this.finalTransform._opMdf) {\r\n      transformedElementStyle.opacity = this.finalTransform.mProp.o.v;\r\n    }\r\n  },\r\n  renderFrame: function () {\r\n    // If it is exported as hidden (data.hd === true) no need to render\r\n    // If it is not visible no need to render\r\n    if (this.data.hd || this.hidden) {\r\n      return;\r\n    }\r\n    this.renderTransform();\r\n    this.renderRenderable();\r\n    this.renderElement();\r\n    this.renderInnerContent();\r\n    if (this._isFirstFrame) {\r\n      this._isFirstFrame = false;\r\n    }\r\n  },\r\n  destroy: function () {\r\n    this.layerElement = null;\r\n    this.transformedElement = null;\r\n    if (this.matteElement) {\r\n      this.matteElement = null;\r\n    }\r\n    if (this.maskManager) {\r\n      this.maskManager.destroy();\r\n      this.maskManager = null;\r\n    }\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n  },\r\n  addEffects: function () {\r\n  },\r\n  setMatte: function () {},\r\n};\r\nHBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\r\nHBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\r\nHBaseElement.prototype.buildElementParenting = HybridRenderer.prototype.buildElementParenting;\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, createNS, createTag */\r\n\r\nfunction HSolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\r\n\r\nHSolidElement.prototype.createContent = function () {\r\n  var rect;\r\n  if (this.data.hasMask) {\r\n    rect = createNS('rect');\r\n    rect.setAttribute('width', this.data.sw);\r\n    rect.setAttribute('height', this.data.sh);\r\n    rect.setAttribute('fill', this.data.sc);\r\n    this.svgElement.setAttribute('width', this.data.sw);\r\n    this.svgElement.setAttribute('height', this.data.sh);\r\n  } else {\r\n    rect = createTag('div');\r\n    rect.style.width = this.data.sw + 'px';\r\n    rect.style.height = this.data.sh + 'px';\r\n    rect.style.backgroundColor = this.data.sc;\r\n  }\r\n  this.layerElement.appendChild(rect);\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, HybridRenderer, ICompElement, HBaseElement */\r\n\r\nfunction HCompElement(data, globalData, comp) {\r\n  this.layers = data.layers;\r\n  this.supports3d = !data.hasMask;\r\n  this.completeLayers = false;\r\n  this.pendingElements = [];\r\n  this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([HybridRenderer, ICompElement, HBaseElement], HCompElement);\r\nHCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\r\n\r\nHCompElement.prototype.createContainerElements = function () {\r\n  this._createBaseContainerElements();\r\n  // divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\r\n  if (this.data.hasMask) {\r\n    this.svgElement.setAttribute('width', this.data.w);\r\n    this.svgElement.setAttribute('height', this.data.h);\r\n    this.transformedElement = this.baseElement;\r\n  } else {\r\n    this.transformedElement = this.layerElement;\r\n  }\r\n};\r\n\r\nHCompElement.prototype.addTo3dContainer = function (elem, pos) {\r\n  var j = 0;\r\n  var nextElement;\r\n  while (j < pos) {\r\n    if (this.elements[j] && this.elements[j].getBaseElement) {\r\n      nextElement = this.elements[j].getBaseElement();\r\n    }\r\n    j += 1;\r\n  }\r\n  if (nextElement) {\r\n    this.layerElement.insertBefore(elem, nextElement);\r\n  } else {\r\n    this.layerElement.appendChild(elem);\r\n  }\r\n};\r\n\r\n/* global createNS, extendPrototype, BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement,\r\nHierarchyElement, FrameElement, RenderableElement, createNS, bmMin, bmSqrt, bmMin, bmMax, bmPow */\r\n\r\nfunction HShapeElement(data, globalData, comp) {\r\n  // List of drawable elements\r\n  this.shapes = [];\r\n  // Full shape data\r\n  this.shapesData = data.shapes;\r\n  // List of styles that will be applied to shapes\r\n  this.stylesList = [];\r\n  // List of modifiers that will be applied to shapes\r\n  this.shapeModifiers = [];\r\n  // List of items in shape tree\r\n  this.itemsData = [];\r\n  // List of items in previous shape tree\r\n  this.processedElements = [];\r\n  // List of animated components\r\n  this.animatedContents = [];\r\n  this.shapesContainer = createNS('g');\r\n  this.initElement(data, globalData, comp);\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n  // List of elements that have been created\r\n  this.prevViewData = [];\r\n  this.currentBBox = {\r\n    x: 999999,\r\n    y: -999999,\r\n    h: 0,\r\n    w: 0,\r\n  };\r\n}\r\nextendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\r\nHShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\r\n\r\nHShapeElement.prototype.createContent = function () {\r\n  var cont;\r\n  this.baseElement.style.fontSize = 0;\r\n  if (this.data.hasMask) {\r\n    this.layerElement.appendChild(this.shapesContainer);\r\n    cont = this.svgElement;\r\n  } else {\r\n    cont = createNS('svg');\r\n    var size = this.comp.data ? this.comp.data : this.globalData.compSize;\r\n    cont.setAttribute('width', size.w);\r\n    cont.setAttribute('height', size.h);\r\n    cont.appendChild(this.shapesContainer);\r\n    this.layerElement.appendChild(cont);\r\n  }\r\n\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\r\n  this.filterUniqueShapes();\r\n  this.shapeCont = cont;\r\n};\r\n\r\nHShapeElement.prototype.getTransformedPoint = function (transformers, point) {\r\n  var i;\r\n  var len = transformers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\r\n  }\r\n  return point;\r\n};\r\n\r\nHShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\r\n  var shape = item.sh.v;\r\n  var transformers = item.transformers;\r\n  var i;\r\n  var len = shape._length;\r\n  var vPoint;\r\n  var oPoint;\r\n  var nextIPoint;\r\n  var nextVPoint;\r\n  if (len <= 1) {\r\n    return;\r\n  }\r\n  for (i = 0; i < len - 1; i += 1) {\r\n    vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n    oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n    nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\r\n    nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\r\n    this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n  }\r\n  if (shape.c) {\r\n    vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n    oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n    nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\r\n    nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\r\n    this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n  }\r\n};\r\n\r\nHShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\r\n  this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\r\n  var bounds = this.shapeBoundingBox;\r\n  boundingBox.x = bmMin(bounds.left, boundingBox.x);\r\n  boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);\r\n  boundingBox.y = bmMin(bounds.top, boundingBox.y);\r\n  boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);\r\n};\r\n\r\nHShapeElement.prototype.shapeBoundingBox = {\r\n  left: 0,\r\n  right: 0,\r\n  top: 0,\r\n  bottom: 0,\r\n};\r\n\r\nHShapeElement.prototype.tempBoundingBox = {\r\n  x: 0,\r\n  xMax: 0,\r\n  y: 0,\r\n  yMax: 0,\r\n  width: 0,\r\n  height: 0,\r\n};\r\n\r\nHShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\r\n  var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\r\n\r\n  for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) { // eslint-disable-line no-plusplus\r\n    b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\r\n    a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\r\n    c = 3 * p1[i] - 3 * p0[i];\r\n\r\n    b |= 0; // eslint-disable-line no-bitwise\r\n    a |= 0; // eslint-disable-line no-bitwise\r\n    c |= 0; // eslint-disable-line no-bitwise\r\n\r\n    if (a === 0 && b === 0) {\r\n      //\r\n    } else if (a === 0) {\r\n      t = -c / b;\r\n\r\n      if (t > 0 && t < 1) {\r\n        bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\r\n      }\r\n    } else {\r\n      b2ac = b * b - 4 * c * a;\r\n\r\n      if (b2ac >= 0) {\r\n        t1 = (-b + bmSqrt(b2ac)) / (2 * a);\r\n        if (t1 > 0 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\r\n        t2 = (-b - bmSqrt(b2ac)) / (2 * a);\r\n        if (t2 > 0 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\r\n      }\r\n    }\r\n  }\r\n\r\n  this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);\r\n  this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);\r\n  this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);\r\n  this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);\r\n};\r\n\r\nHShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\r\n  return bmPow(1 - t, 3) * p0[i]\r\n        + 3 * bmPow(1 - t, 2) * t * p1[i]\r\n        + 3 * (1 - t) * bmPow(t, 2) * p2[i]\r\n        + bmPow(t, 3) * p3[i];\r\n};\r\n\r\nHShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\r\n  var i;\r\n  var len = itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (itemsData[i] && itemsData[i].sh) {\r\n      this.calculateShapeBoundingBox(itemsData[i], boundingBox);\r\n    } else if (itemsData[i] && itemsData[i].it) {\r\n      this.calculateBoundingBox(itemsData[i].it, boundingBox);\r\n    }\r\n  }\r\n};\r\n\r\nHShapeElement.prototype.currentBoxContains = function (box) {\r\n  return this.currentBBox.x <= box.x\r\n    && this.currentBBox.y <= box.y\r\n    && this.currentBBox.width + this.currentBBox.x >= box.x + box.width\r\n    && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\r\n};\r\n\r\nHShapeElement.prototype.renderInnerContent = function () {\r\n  this._renderShapeFrame();\r\n\r\n  if (!this.hidden && (this._isFirstFrame || this._mdf)) {\r\n    var tempBoundingBox = this.tempBoundingBox;\r\n    var max = 999999;\r\n    tempBoundingBox.x = max;\r\n    tempBoundingBox.xMax = -max;\r\n    tempBoundingBox.y = max;\r\n    tempBoundingBox.yMax = -max;\r\n    this.calculateBoundingBox(this.itemsData, tempBoundingBox);\r\n    tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\r\n    tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y;\r\n    // var tempBoundingBox = this.shapeCont.getBBox();\r\n    if (this.currentBoxContains(tempBoundingBox)) {\r\n      return;\r\n    }\r\n    var changed = false;\r\n    if (this.currentBBox.w !== tempBoundingBox.width) {\r\n      this.currentBBox.w = tempBoundingBox.width;\r\n      this.shapeCont.setAttribute('width', tempBoundingBox.width);\r\n      changed = true;\r\n    }\r\n    if (this.currentBBox.h !== tempBoundingBox.height) {\r\n      this.currentBBox.h = tempBoundingBox.height;\r\n      this.shapeCont.setAttribute('height', tempBoundingBox.height);\r\n      changed = true;\r\n    }\r\n    if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\r\n      this.currentBBox.w = tempBoundingBox.width;\r\n      this.currentBBox.h = tempBoundingBox.height;\r\n      this.currentBBox.x = tempBoundingBox.x;\r\n      this.currentBBox.y = tempBoundingBox.y;\r\n\r\n      this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\r\n      var shapeStyle = this.shapeCont.style;\r\n      var shapeTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n      shapeStyle.transform = shapeTransform;\r\n      shapeStyle.webkitTransform = shapeTransform;\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, ITextElement, createSizedArray, createTag, styleDiv, createNS, lineJoinEnum, lineCapEnum */\r\n\r\nfunction HTextElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.textPaths = [];\r\n  this.currentBBox = {\r\n    x: 999999,\r\n    y: -999999,\r\n    h: 0,\r\n    w: 0,\r\n  };\r\n  this.renderType = 'svg';\r\n  this.isMasked = false;\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\r\n\r\nHTextElement.prototype.createContent = function () {\r\n  this.isMasked = this.checkMasks();\r\n  if (this.isMasked) {\r\n    this.renderType = 'svg';\r\n    this.compW = this.comp.data.w;\r\n    this.compH = this.comp.data.h;\r\n    this.svgElement.setAttribute('width', this.compW);\r\n    this.svgElement.setAttribute('height', this.compH);\r\n    var g = createNS('g');\r\n    this.maskedElement.appendChild(g);\r\n    this.innerElem = g;\r\n  } else {\r\n    this.renderType = 'html';\r\n    this.innerElem = this.layerElement;\r\n  }\r\n\r\n  this.checkParenting();\r\n};\r\n\r\nHTextElement.prototype.buildNewText = function () {\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n  var innerElemStyle = this.innerElem.style;\r\n  var textColor = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\r\n  innerElemStyle.fill = textColor;\r\n  innerElemStyle.color = textColor;\r\n  if (documentData.sc) {\r\n    innerElemStyle.stroke = this.buildColor(documentData.sc);\r\n    innerElemStyle.strokeWidth = documentData.sw + 'px';\r\n  }\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  if (!this.globalData.fontManager.chars) {\r\n    innerElemStyle.fontSize = documentData.finalSize + 'px';\r\n    innerElemStyle.lineHeight = documentData.finalSize + 'px';\r\n    if (fontData.fClass) {\r\n      this.innerElem.className = fontData.fClass;\r\n    } else {\r\n      innerElemStyle.fontFamily = fontData.fFamily;\r\n      var fWeight = documentData.fWeight;\r\n      var fStyle = documentData.fStyle;\r\n      innerElemStyle.fontStyle = fStyle;\r\n      innerElemStyle.fontWeight = fWeight;\r\n    }\r\n  }\r\n  var i;\r\n  var len;\r\n\r\n  var letters = documentData.l;\r\n  len = letters.length;\r\n  var tSpan;\r\n  var tParent;\r\n  var tCont;\r\n  var matrixHelper = this.mHelper;\r\n  var shapes;\r\n  var shapeStr = '';\r\n  var cnt = 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.globalData.fontManager.chars) {\r\n      if (!this.textPaths[cnt]) {\r\n        tSpan = createNS('path');\r\n        tSpan.setAttribute('stroke-linecap', lineCapEnum[1]);\r\n        tSpan.setAttribute('stroke-linejoin', lineJoinEnum[2]);\r\n        tSpan.setAttribute('stroke-miterlimit', '4');\r\n      } else {\r\n        tSpan = this.textPaths[cnt];\r\n      }\r\n      if (!this.isMasked) {\r\n        if (this.textSpans[cnt]) {\r\n          tParent = this.textSpans[cnt];\r\n          tCont = tParent.children[0];\r\n        } else {\r\n          tParent = createTag('div');\r\n          tParent.style.lineHeight = 0;\r\n          tCont = createNS('svg');\r\n          tCont.appendChild(tSpan);\r\n          styleDiv(tParent);\r\n        }\r\n      }\r\n    } else if (!this.isMasked) {\r\n      if (this.textSpans[cnt]) {\r\n        tParent = this.textSpans[cnt];\r\n        tSpan = this.textPaths[cnt];\r\n      } else {\r\n        tParent = createTag('span');\r\n        styleDiv(tParent);\r\n        tSpan = createTag('span');\r\n        styleDiv(tSpan);\r\n        tParent.appendChild(tSpan);\r\n      }\r\n    } else {\r\n      tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\r\n    }\r\n    // tSpan.setAttribute('visibility', 'hidden');\r\n    if (this.globalData.fontManager.chars) {\r\n      var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n      var shapeData;\r\n      if (charData) {\r\n        shapeData = charData.data;\r\n      } else {\r\n        shapeData = null;\r\n      }\r\n      matrixHelper.reset();\r\n      if (shapeData && shapeData.shapes) {\r\n        shapes = shapeData.shapes[0].it;\r\n        matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n        shapeStr = this.createPathShape(matrixHelper, shapes);\r\n        tSpan.setAttribute('d', shapeStr);\r\n      }\r\n      if (!this.isMasked) {\r\n        this.innerElem.appendChild(tParent);\r\n        if (shapeData && shapeData.shapes) {\r\n          // document.body.appendChild is needed to get exact measure of shape\r\n          document.body.appendChild(tCont);\r\n          var boundingBox = tCont.getBBox();\r\n          tCont.setAttribute('width', boundingBox.width + 2);\r\n          tCont.setAttribute('height', boundingBox.height + 2);\r\n          tCont.setAttribute('viewBox', (boundingBox.x - 1) + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\r\n          var tContStyle = tCont.style;\r\n          var tContTranslation = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\r\n          tContStyle.transform = tContTranslation;\r\n          tContStyle.webkitTransform = tContTranslation;\r\n\r\n          letters[i].yOffset = boundingBox.y - 1;\r\n        } else {\r\n          tCont.setAttribute('width', 1);\r\n          tCont.setAttribute('height', 1);\r\n        }\r\n        tParent.appendChild(tCont);\r\n      } else {\r\n        this.innerElem.appendChild(tSpan);\r\n      }\r\n    } else {\r\n      tSpan.textContent = letters[i].val;\r\n      tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n      if (!this.isMasked) {\r\n        this.innerElem.appendChild(tParent);\r\n        //\r\n        var tStyle = tSpan.style;\r\n        var tSpanTranslation = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\r\n        tStyle.transform = tSpanTranslation;\r\n        tStyle.webkitTransform = tSpanTranslation;\r\n      } else {\r\n        this.innerElem.appendChild(tSpan);\r\n      }\r\n    }\r\n    //\r\n    if (!this.isMasked) {\r\n      this.textSpans[cnt] = tParent;\r\n    } else {\r\n      this.textSpans[cnt] = tSpan;\r\n    }\r\n    this.textSpans[cnt].style.display = 'block';\r\n    this.textPaths[cnt] = tSpan;\r\n    cnt += 1;\r\n  }\r\n  while (cnt < this.textSpans.length) {\r\n    this.textSpans[cnt].style.display = 'none';\r\n    cnt += 1;\r\n  }\r\n};\r\n\r\nHTextElement.prototype.renderInnerContent = function () {\r\n  var svgStyle;\r\n  if (this.data.singleShape) {\r\n    if (!this._isFirstFrame && !this.lettersChangedFlag) {\r\n      return;\r\n    } if (this.isMasked && this.finalTransform._matMdf) {\r\n      // Todo Benchmark if using this is better than getBBox\r\n      this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\r\n      svgStyle = this.svgElement.style;\r\n      var translation = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\r\n      svgStyle.transform = translation;\r\n      svgStyle.webkitTransform = translation;\r\n    }\r\n  }\r\n\r\n  this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n  if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\r\n    return;\r\n  }\r\n  var i;\r\n  var len;\r\n  var count = 0;\r\n  var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n  var letters = this.textProperty.currentData.l;\r\n\r\n  len = letters.length;\r\n  var renderedLetter;\r\n  var textSpan;\r\n  var textPath;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (letters[i].n) {\r\n      count += 1;\r\n    } else {\r\n      textSpan = this.textSpans[i];\r\n      textPath = this.textPaths[i];\r\n      renderedLetter = renderedLetters[count];\r\n      count += 1;\r\n      if (renderedLetter._mdf.m) {\r\n        if (!this.isMasked) {\r\n          textSpan.style.webkitTransform = renderedLetter.m;\r\n          textSpan.style.transform = renderedLetter.m;\r\n        } else {\r\n          textSpan.setAttribute('transform', renderedLetter.m);\r\n        }\r\n      }\r\n      /// /textSpan.setAttribute('opacity',renderedLetter.o);\r\n      textSpan.style.opacity = renderedLetter.o;\r\n      if (renderedLetter.sw && renderedLetter._mdf.sw) {\r\n        textPath.setAttribute('stroke-width', renderedLetter.sw);\r\n      }\r\n      if (renderedLetter.sc && renderedLetter._mdf.sc) {\r\n        textPath.setAttribute('stroke', renderedLetter.sc);\r\n      }\r\n      if (renderedLetter.fc && renderedLetter._mdf.fc) {\r\n        textPath.setAttribute('fill', renderedLetter.fc);\r\n        textPath.style.color = renderedLetter.fc;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\r\n    var boundingBox = this.innerElem.getBBox();\r\n\r\n    if (this.currentBBox.w !== boundingBox.width) {\r\n      this.currentBBox.w = boundingBox.width;\r\n      this.svgElement.setAttribute('width', boundingBox.width);\r\n    }\r\n    if (this.currentBBox.h !== boundingBox.height) {\r\n      this.currentBBox.h = boundingBox.height;\r\n      this.svgElement.setAttribute('height', boundingBox.height);\r\n    }\r\n\r\n    var margin = 1;\r\n    if (this.currentBBox.w !== (boundingBox.width + margin * 2) || this.currentBBox.h !== (boundingBox.height + margin * 2) || this.currentBBox.x !== (boundingBox.x - margin) || this.currentBBox.y !== (boundingBox.y - margin)) {\r\n      this.currentBBox.w = boundingBox.width + margin * 2;\r\n      this.currentBBox.h = boundingBox.height + margin * 2;\r\n      this.currentBBox.x = boundingBox.x - margin;\r\n      this.currentBBox.y = boundingBox.y - margin;\r\n\r\n      this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\r\n      svgStyle = this.svgElement.style;\r\n      var svgTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n      svgStyle.transform = svgTransform;\r\n      svgStyle.webkitTransform = svgTransform;\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement,\r\nFrameElement, RenderableElement, createNS */\r\n\r\nfunction HImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\r\n\r\nHImageElement.prototype.createContent = function () {\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n  var img = new Image();\r\n\r\n  if (this.data.hasMask) {\r\n    this.imageElem = createNS('image');\r\n    this.imageElem.setAttribute('width', this.assetData.w + 'px');\r\n    this.imageElem.setAttribute('height', this.assetData.h + 'px');\r\n    this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\r\n    this.layerElement.appendChild(this.imageElem);\r\n    this.baseElement.setAttribute('width', this.assetData.w);\r\n    this.baseElement.setAttribute('height', this.assetData.h);\r\n  } else {\r\n    this.layerElement.appendChild(img);\r\n  }\r\n  img.crossOrigin = 'anonymous';\r\n  img.src = assetPath;\r\n  if (this.data.ln) {\r\n    this.baseElement.setAttribute('id', this.data.ln);\r\n  }\r\n};\r\n\r\n/* global PropertyFactory, degToRads, Matrix, extendPrototype, BaseElement, FrameElement, HierarchyElement */\r\n\r\nfunction HCameraElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initHierarchy();\r\n  var getProp = PropertyFactory.getProp;\r\n  this.pe = getProp(this, data.pe, 0, 0, this);\r\n  if (data.ks.p.s) {\r\n    this.px = getProp(this, data.ks.p.x, 1, 0, this);\r\n    this.py = getProp(this, data.ks.p.y, 1, 0, this);\r\n    this.pz = getProp(this, data.ks.p.z, 1, 0, this);\r\n  } else {\r\n    this.p = getProp(this, data.ks.p, 1, 0, this);\r\n  }\r\n  if (data.ks.a) {\r\n    this.a = getProp(this, data.ks.a, 1, 0, this);\r\n  }\r\n  if (data.ks.or.k.length && data.ks.or.k[0].to) {\r\n    var i;\r\n    var len = data.ks.or.k.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      data.ks.or.k[i].to = null;\r\n      data.ks.or.k[i].ti = null;\r\n    }\r\n  }\r\n  this.or = getProp(this, data.ks.or, 1, degToRads, this);\r\n  this.or.sh = true;\r\n  this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\r\n  this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\r\n  this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\r\n  this.mat = new Matrix();\r\n  this._prevMat = new Matrix();\r\n  this._isFirstFrame = true;\r\n\r\n  // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\r\n  this.finalTransform = {\r\n    mProp: this,\r\n  };\r\n}\r\nextendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\r\n\r\nHCameraElement.prototype.setup = function () {\r\n  var i;\r\n  var len = this.comp.threeDElements.length;\r\n  var comp;\r\n  var perspectiveStyle;\r\n  var containerStyle;\r\n  for (i = 0; i < len; i += 1) {\r\n    // [perspectiveElem,container]\r\n    comp = this.comp.threeDElements[i];\r\n    if (comp.type === '3d') {\r\n      perspectiveStyle = comp.perspectiveElem.style;\r\n      containerStyle = comp.container.style;\r\n      var perspective = this.pe.v + 'px';\r\n      var origin = '0px 0px 0px';\r\n      var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n      perspectiveStyle.perspective = perspective;\r\n      perspectiveStyle.webkitPerspective = perspective;\r\n      containerStyle.transformOrigin = origin;\r\n      containerStyle.mozTransformOrigin = origin;\r\n      containerStyle.webkitTransformOrigin = origin;\r\n      perspectiveStyle.transform = matrix;\r\n      perspectiveStyle.webkitTransform = matrix;\r\n    }\r\n  }\r\n};\r\n\r\nHCameraElement.prototype.createElements = function () {\r\n};\r\n\r\nHCameraElement.prototype.hide = function () {\r\n};\r\n\r\nHCameraElement.prototype.renderFrame = function () {\r\n  var _mdf = this._isFirstFrame;\r\n  var i;\r\n  var len;\r\n  if (this.hierarchy) {\r\n    len = this.hierarchy.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\r\n    }\r\n  }\r\n  if (_mdf || this.pe._mdf || (this.p && this.p._mdf) || (this.px && (this.px._mdf || this.py._mdf || this.pz._mdf)) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || (this.a && this.a._mdf)) {\r\n    this.mat.reset();\r\n\r\n    if (this.hierarchy) {\r\n      len = this.hierarchy.length - 1;\r\n      for (i = len; i >= 0; i -= 1) {\r\n        var mTransf = this.hierarchy[i].finalTransform.mProp;\r\n        this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\r\n        this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\r\n        this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\r\n        this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\r\n        this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\r\n      }\r\n    }\r\n    if (this.p) {\r\n      this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\r\n    } else {\r\n      this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\r\n    }\r\n    if (this.a) {\r\n      var diffVector;\r\n      if (this.p) {\r\n        diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\r\n      } else {\r\n        diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\r\n      }\r\n      var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2));\r\n      // var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\r\n      var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\r\n      var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\r\n      var mRotationX = (Math.atan2(lookDir[1], lookLengthOnXZ));\r\n      var mRotationY = (Math.atan2(lookDir[0], -lookDir[2]));\r\n      this.mat.rotateY(mRotationY).rotateX(-mRotationX);\r\n    }\r\n    this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\r\n    this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\r\n    this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\r\n    this.mat.translate(0, 0, this.pe.v);\r\n\r\n    var hasMatrixChanged = !this._prevMat.equals(this.mat);\r\n    if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\r\n      len = this.comp.threeDElements.length;\r\n      var comp;\r\n      var perspectiveStyle;\r\n      var containerStyle;\r\n      for (i = 0; i < len; i += 1) {\r\n        comp = this.comp.threeDElements[i];\r\n        if (comp.type === '3d') {\r\n          if (hasMatrixChanged) {\r\n            var matValue = this.mat.toCSS();\r\n            containerStyle = comp.container.style;\r\n            containerStyle.transform = matValue;\r\n            containerStyle.webkitTransform = matValue;\r\n          }\r\n          if (this.pe._mdf) {\r\n            perspectiveStyle = comp.perspectiveElem.style;\r\n            perspectiveStyle.perspective = this.pe.v + 'px';\r\n            perspectiveStyle.webkitPerspective = this.pe.v + 'px';\r\n          }\r\n        }\r\n      }\r\n      this.mat.clone(this._prevMat);\r\n    }\r\n  }\r\n  this._isFirstFrame = false;\r\n};\r\n\r\nHCameraElement.prototype.prepareFrame = function (num) {\r\n  this.prepareProperties(num, true);\r\n};\r\n\r\nHCameraElement.prototype.destroy = function () {\r\n};\r\nHCameraElement.prototype.getBaseElement = function () { return null; };\r\n\r\nfunction HEffects() {\r\n}\r\nHEffects.prototype.renderFrame = function () {};\r\n\r\n/* global createTag, AnimationItem */\r\n/* exported animationManager */\r\n\r\nvar animationManager = (function () {\r\n  var moduleOb = {};\r\n  var registeredAnimations = [];\r\n  var initTime = 0;\r\n  var len = 0;\r\n  var playingAnimationsNum = 0;\r\n  var _stopped = true;\r\n  var _isFrozen = false;\r\n\r\n  function removeElement(ev) {\r\n    var i = 0;\r\n    var animItem = ev.target;\r\n    while (i < len) {\r\n      if (registeredAnimations[i].animation === animItem) {\r\n        registeredAnimations.splice(i, 1);\r\n        i -= 1;\r\n        len -= 1;\r\n        if (!animItem.isPaused) {\r\n          subtractPlayingCount();\r\n        }\r\n      }\r\n      i += 1;\r\n    }\r\n  }\r\n\r\n  function registerAnimation(element, animationData) {\r\n    if (!element) {\r\n      return null;\r\n    }\r\n    var i = 0;\r\n    while (i < len) {\r\n      if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\r\n        return registeredAnimations[i].animation;\r\n      }\r\n      i += 1;\r\n    }\r\n    var animItem = new AnimationItem();\r\n    setupAnimation(animItem, element);\r\n    animItem.setData(element, animationData);\r\n    return animItem;\r\n  }\r\n\r\n  function getRegisteredAnimations() {\r\n    var i;\r\n    var lenAnims = registeredAnimations.length;\r\n    var animations = [];\r\n    for (i = 0; i < lenAnims; i += 1) {\r\n      animations.push(registeredAnimations[i].animation);\r\n    }\r\n    return animations;\r\n  }\r\n\r\n  function addPlayingCount() {\r\n    playingAnimationsNum += 1;\r\n    activate();\r\n  }\r\n\r\n  function subtractPlayingCount() {\r\n    playingAnimationsNum -= 1;\r\n  }\r\n\r\n  function setupAnimation(animItem, element) {\r\n    animItem.addEventListener('destroy', removeElement);\r\n    animItem.addEventListener('_active', addPlayingCount);\r\n    animItem.addEventListener('_idle', subtractPlayingCount);\r\n    registeredAnimations.push({ elem: element, animation: animItem });\r\n    len += 1;\r\n  }\r\n\r\n  function loadAnimation(params) {\r\n    var animItem = new AnimationItem();\r\n    setupAnimation(animItem, null);\r\n    animItem.setParams(params);\r\n    return animItem;\r\n  }\r\n\r\n  function setSpeed(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setSpeed(val, animation);\r\n    }\r\n  }\r\n\r\n  function setDirection(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setDirection(val, animation);\r\n    }\r\n  }\r\n\r\n  function play(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.play(animation);\r\n    }\r\n  }\r\n  function resume(nowTime) {\r\n    var elapsedTime = nowTime - initTime;\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.advanceTime(elapsedTime);\r\n    }\r\n    initTime = nowTime;\r\n    if (playingAnimationsNum && !_isFrozen) {\r\n      window.requestAnimationFrame(resume);\r\n    } else {\r\n      _stopped = true;\r\n    }\r\n  }\r\n\r\n  function first(nowTime) {\r\n    initTime = nowTime;\r\n    window.requestAnimationFrame(resume);\r\n  }\r\n\r\n  function pause(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.pause(animation);\r\n    }\r\n  }\r\n\r\n  function goToAndStop(value, isFrame, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\r\n    }\r\n  }\r\n\r\n  function stop(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.stop(animation);\r\n    }\r\n  }\r\n\r\n  function togglePause(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.togglePause(animation);\r\n    }\r\n  }\r\n\r\n  function destroy(animation) {\r\n    var i;\r\n    for (i = (len - 1); i >= 0; i -= 1) {\r\n      registeredAnimations[i].animation.destroy(animation);\r\n    }\r\n  }\r\n\r\n  function searchAnimations(animationData, standalone, renderer) {\r\n    var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')),\r\n      [].slice.call(document.getElementsByClassName('bodymovin')));\r\n    var i;\r\n    var lenAnims = animElements.length;\r\n    for (i = 0; i < lenAnims; i += 1) {\r\n      if (renderer) {\r\n        animElements[i].setAttribute('data-bm-type', renderer);\r\n      }\r\n      registerAnimation(animElements[i], animationData);\r\n    }\r\n    if (standalone && lenAnims === 0) {\r\n      if (!renderer) {\r\n        renderer = 'svg';\r\n      }\r\n      var body = document.getElementsByTagName('body')[0];\r\n      body.innerText = '';\r\n      var div = createTag('div');\r\n      div.style.width = '100%';\r\n      div.style.height = '100%';\r\n      div.setAttribute('data-bm-type', renderer);\r\n      body.appendChild(div);\r\n      registerAnimation(div, animationData);\r\n    }\r\n  }\r\n\r\n  function resize() {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.resize();\r\n    }\r\n  }\r\n\r\n  function activate() {\r\n    if (!_isFrozen && playingAnimationsNum) {\r\n      if (_stopped) {\r\n        window.requestAnimationFrame(first);\r\n        _stopped = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  function freeze() {\r\n    _isFrozen = true;\r\n  }\r\n\r\n  function unfreeze() {\r\n    _isFrozen = false;\r\n    activate();\r\n  }\r\n\r\n  function setVolume(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setVolume(val, animation);\r\n    }\r\n  }\r\n\r\n  function mute(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.mute(animation);\r\n    }\r\n  }\r\n\r\n  function unmute(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.unmute(animation);\r\n    }\r\n  }\r\n\r\n  moduleOb.registerAnimation = registerAnimation;\r\n  moduleOb.loadAnimation = loadAnimation;\r\n  moduleOb.setSpeed = setSpeed;\r\n  moduleOb.setDirection = setDirection;\r\n  moduleOb.play = play;\r\n  moduleOb.pause = pause;\r\n  moduleOb.stop = stop;\r\n  moduleOb.togglePause = togglePause;\r\n  moduleOb.searchAnimations = searchAnimations;\r\n  moduleOb.resize = resize;\r\n  // moduleOb.start = start;\r\n  moduleOb.goToAndStop = goToAndStop;\r\n  moduleOb.destroy = destroy;\r\n  moduleOb.freeze = freeze;\r\n  moduleOb.unfreeze = unfreeze;\r\n  moduleOb.setVolume = setVolume;\r\n  moduleOb.mute = mute;\r\n  moduleOb.unmute = unmute;\r\n  moduleOb.getRegisteredAnimations = getRegisteredAnimations;\r\n  return moduleOb;\r\n}());\r\n\r\n/* global createElementID, subframeEnabled, ProjectInterface, ImagePreloader, audioControllerFactory, extendPrototype, BaseEvent,\r\nCanvasRenderer, SVGRenderer, HybridRenderer, dataManager, expressionsPlugin, BMEnterFrameEvent, BMCompleteLoopEvent,\r\nBMCompleteEvent, BMSegmentStartEvent, BMDestroyEvent, BMEnterFrameEvent, BMCompleteLoopEvent, BMCompleteEvent, BMSegmentStartEvent,\r\nBMDestroyEvent, BMRenderFrameErrorEvent, BMConfigErrorEvent, markerParser */\r\n\r\nvar AnimationItem = function () {\r\n  this._cbs = [];\r\n  this.name = '';\r\n  this.path = '';\r\n  this.isLoaded = false;\r\n  this.currentFrame = 0;\r\n  this.currentRawFrame = 0;\r\n  this.firstFrame = 0;\r\n  this.totalFrames = 0;\r\n  this.frameRate = 0;\r\n  this.frameMult = 0;\r\n  this.playSpeed = 1;\r\n  this.playDirection = 1;\r\n  this.playCount = 0;\r\n  this.animationData = {};\r\n  this.assets = [];\r\n  this.isPaused = true;\r\n  this.autoplay = false;\r\n  this.loop = true;\r\n  this.renderer = null;\r\n  this.animationID = createElementID();\r\n  this.assetsPath = '';\r\n  this.timeCompleted = 0;\r\n  this.segmentPos = 0;\r\n  this.isSubframeEnabled = subframeEnabled;\r\n  this.segments = [];\r\n  this._idle = true;\r\n  this._completedLoop = false;\r\n  this.projectInterface = ProjectInterface();\r\n  this.imagePreloader = new ImagePreloader();\r\n  this.audioController = audioControllerFactory();\r\n  this.markers = [];\r\n  this.configAnimation = this.configAnimation.bind(this);\r\n  this.onSetupError = this.onSetupError.bind(this);\r\n  this.onSegmentComplete = this.onSegmentComplete.bind(this);\r\n};\r\n\r\nextendPrototype([BaseEvent], AnimationItem);\r\n\r\nAnimationItem.prototype.setParams = function (params) {\r\n  if (params.wrapper || params.container) {\r\n    this.wrapper = params.wrapper || params.container;\r\n  }\r\n  var animType = 'svg';\r\n  if (params.animType) {\r\n    animType = params.animType;\r\n  } else if (params.renderer) {\r\n    animType = params.renderer;\r\n  }\r\n  switch (animType) {\r\n    case 'canvas':\r\n      this.renderer = new CanvasRenderer(this, params.rendererSettings);\r\n      break;\r\n    case 'svg':\r\n      this.renderer = new SVGRenderer(this, params.rendererSettings);\r\n      break;\r\n    default:\r\n      this.renderer = new HybridRenderer(this, params.rendererSettings);\r\n      break;\r\n  }\r\n  this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\r\n  this.renderer.setProjectInterface(this.projectInterface);\r\n  this.animType = animType;\r\n  if (params.loop === ''\r\n        || params.loop === null\r\n        || params.loop === undefined\r\n        || params.loop === true) {\r\n    this.loop = true;\r\n  } else if (params.loop === false) {\r\n    this.loop = false;\r\n  } else {\r\n    this.loop = parseInt(params.loop, 10);\r\n  }\r\n  this.autoplay = 'autoplay' in params ? params.autoplay : true;\r\n  this.name = params.name ? params.name : '';\r\n  this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\r\n  this.assetsPath = params.assetsPath;\r\n  this.initialSegment = params.initialSegment;\r\n  if (params.audioFactory) {\r\n    this.audioController.setAudioFactory(params.audioFactory);\r\n  }\r\n  if (params.animationData) {\r\n    this.setupAnimation(params.animationData);\r\n  } else if (params.path) {\r\n    if (params.path.lastIndexOf('\\\\') !== -1) {\r\n      this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\r\n    } else {\r\n      this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\r\n    }\r\n    this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\r\n    this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\r\n    dataManager.loadAnimation(\r\n      params.path,\r\n      this.configAnimation,\r\n      this.onSetupError\r\n    );\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.onSetupError = function () {\r\n  this.trigger('data_failed');\r\n};\r\n\r\nAnimationItem.prototype.setupAnimation = function (data) {\r\n  dataManager.completeAnimation(\r\n    data,\r\n    this.configAnimation\r\n  );\r\n};\r\n\r\nAnimationItem.prototype.setData = function (wrapper, animationData) {\r\n  if (animationData) {\r\n    if (typeof animationData !== 'object') {\r\n      animationData = JSON.parse(animationData);\r\n    }\r\n  }\r\n  var params = {\r\n    wrapper: wrapper,\r\n    animationData: animationData,\r\n  };\r\n  var wrapperAttributes = wrapper.attributes;\r\n\r\n  params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-animation-path').value\r\n    : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-path').value\r\n      : wrapperAttributes.getNamedItem('bm-path')\r\n        ? wrapperAttributes.getNamedItem('bm-path').value\r\n        : '';\r\n  params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-type').value\r\n    : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-type').value\r\n      : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\r\n        ? wrapperAttributes.getNamedItem('bm-type').value\r\n        : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\r\n          ? wrapperAttributes.getNamedItem('data-bm-renderer').value\r\n          : wrapperAttributes.getNamedItem('bm-renderer')\r\n            ? wrapperAttributes.getNamedItem('bm-renderer').value\r\n            : 'canvas';\r\n\r\n  var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value\r\n    : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-loop').value\r\n      : wrapperAttributes.getNamedItem('bm-loop')\r\n        ? wrapperAttributes.getNamedItem('bm-loop').value\r\n        : '';\r\n  if (loop === 'false') {\r\n    params.loop = false;\r\n  } else if (loop === 'true') {\r\n    params.loop = true;\r\n  } else if (loop !== '') {\r\n    params.loop = parseInt(loop, 10);\r\n  }\r\n  var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value\r\n    : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-autoplay').value\r\n      : wrapperAttributes.getNamedItem('bm-autoplay')\r\n        ? wrapperAttributes.getNamedItem('bm-autoplay').value\r\n        : true;\r\n  params.autoplay = autoplay !== 'false';\r\n\r\n  params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-name').value\r\n    : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-name').value\r\n      : wrapperAttributes.getNamedItem('bm-name')\r\n        ? wrapperAttributes.getNamedItem('bm-name').value\r\n        : '';\r\n  var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value\r\n    : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-prerender').value\r\n      : wrapperAttributes.getNamedItem('bm-prerender')\r\n        ? wrapperAttributes.getNamedItem('bm-prerender').value\r\n        : '';\r\n\r\n  if (prerender === 'false') {\r\n    params.prerender = false;\r\n  }\r\n  this.setParams(params);\r\n};\r\n\r\nAnimationItem.prototype.includeLayers = function (data) {\r\n  if (data.op > this.animationData.op) {\r\n    this.animationData.op = data.op;\r\n    this.totalFrames = Math.floor(data.op - this.animationData.ip);\r\n  }\r\n  var layers = this.animationData.layers;\r\n  var i;\r\n  var len = layers.length;\r\n  var newLayers = data.layers;\r\n  var j;\r\n  var jLen = newLayers.length;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    i = 0;\r\n    while (i < len) {\r\n      if (layers[i].id === newLayers[j].id) {\r\n        layers[i] = newLayers[j];\r\n        break;\r\n      }\r\n      i += 1;\r\n    }\r\n  }\r\n  if (data.chars || data.fonts) {\r\n    this.renderer.globalData.fontManager.addChars(data.chars);\r\n    this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\r\n  }\r\n  if (data.assets) {\r\n    len = data.assets.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.animationData.assets.push(data.assets[i]);\r\n    }\r\n  }\r\n  this.animationData.__complete = false;\r\n  dataManager.completeAnimation(\r\n    this.animationData,\r\n    this.onSegmentComplete\r\n  );\r\n};\r\n\r\nAnimationItem.prototype.onSegmentComplete = function (data) {\r\n  this.animationData = data;\r\n  if (expressionsPlugin) {\r\n    expressionsPlugin.initExpressions(this);\r\n  }\r\n  this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.loadNextSegment = function () {\r\n  var segments = this.animationData.segments;\r\n  if (!segments || segments.length === 0 || !this.autoloadSegments) {\r\n    this.trigger('data_ready');\r\n    this.timeCompleted = this.totalFrames;\r\n    return;\r\n  }\r\n  var segment = segments.shift();\r\n  this.timeCompleted = segment.time * this.frameRate;\r\n  var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\r\n  this.segmentPos += 1;\r\n  dataManager.loadData(segmentPath, this.includeLayers.bind(this), function () {\r\n    this.trigger('data_failed');\r\n  }.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.loadSegments = function () {\r\n  var segments = this.animationData.segments;\r\n  if (!segments) {\r\n    this.timeCompleted = this.totalFrames;\r\n  }\r\n  this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.imagesLoaded = function () {\r\n  this.trigger('loaded_images');\r\n  this.checkLoaded();\r\n};\r\n\r\nAnimationItem.prototype.preloadImages = function () {\r\n  this.imagePreloader.setAssetsPath(this.assetsPath);\r\n  this.imagePreloader.setPath(this.path);\r\n  this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.configAnimation = function (animData) {\r\n  if (!this.renderer) {\r\n    return;\r\n  }\r\n  try {\r\n    this.animationData = animData;\r\n    if (this.initialSegment) {\r\n      this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\r\n      this.firstFrame = Math.round(this.initialSegment[0]);\r\n    } else {\r\n      this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\r\n      this.firstFrame = Math.round(this.animationData.ip);\r\n    }\r\n    this.renderer.configAnimation(animData);\r\n    if (!animData.assets) {\r\n      animData.assets = [];\r\n    }\r\n\r\n    this.assets = this.animationData.assets;\r\n    this.frameRate = this.animationData.fr;\r\n    this.frameMult = this.animationData.fr / 1000;\r\n    this.renderer.searchExtraCompositions(animData.assets);\r\n    this.markers = markerParser(animData.markers || []);\r\n    this.trigger('config_ready');\r\n    this.preloadImages();\r\n    this.loadSegments();\r\n    this.updaFrameModifier();\r\n    this.waitForFontsLoaded();\r\n    if (this.isPaused) {\r\n      this.audioController.pause();\r\n    }\r\n  } catch (error) {\r\n    this.triggerConfigError(error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.waitForFontsLoaded = function () {\r\n  if (!this.renderer) {\r\n    return;\r\n  }\r\n  if (this.renderer.globalData.fontManager.isLoaded) {\r\n    this.checkLoaded();\r\n  } else {\r\n    setTimeout(this.waitForFontsLoaded.bind(this), 20);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.checkLoaded = function () {\r\n  if (!this.isLoaded\r\n        && this.renderer.globalData.fontManager.isLoaded\r\n        && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas')\r\n        && (this.imagePreloader.loadedFootages())\r\n  ) {\r\n    this.isLoaded = true;\r\n    if (expressionsPlugin) {\r\n      expressionsPlugin.initExpressions(this);\r\n    }\r\n    this.renderer.initItems();\r\n    setTimeout(function () {\r\n      this.trigger('DOMLoaded');\r\n    }.bind(this), 0);\r\n    this.gotoFrame();\r\n    if (this.autoplay) {\r\n      this.play();\r\n    }\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.resize = function () {\r\n  this.renderer.updateContainerSize();\r\n};\r\n\r\nAnimationItem.prototype.setSubframe = function (flag) {\r\n  this.isSubframeEnabled = !!flag;\r\n};\r\n\r\nAnimationItem.prototype.gotoFrame = function () {\r\n  this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\r\n\r\n  if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\r\n    this.currentFrame = this.timeCompleted;\r\n  }\r\n  this.trigger('enterFrame');\r\n  this.renderFrame();\r\n  this.trigger('drawnFrame');\r\n};\r\n\r\nAnimationItem.prototype.renderFrame = function () {\r\n  if (this.isLoaded === false || !this.renderer) {\r\n    return;\r\n  }\r\n  try {\r\n    this.renderer.renderFrame(this.currentFrame + this.firstFrame);\r\n  } catch (error) {\r\n    this.triggerRenderFrameError(error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.play = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === true) {\r\n    this.isPaused = false;\r\n    this.audioController.resume();\r\n    if (this._idle) {\r\n      this._idle = false;\r\n      this.trigger('_active');\r\n    }\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.pause = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === false) {\r\n    this.isPaused = true;\r\n    this._idle = true;\r\n    this.trigger('_idle');\r\n    this.audioController.pause();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.togglePause = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === true) {\r\n    this.play();\r\n  } else {\r\n    this.pause();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.stop = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.pause();\r\n  this.playCount = 0;\r\n  this._completedLoop = false;\r\n  this.setCurrentRawFrameValue(0);\r\n};\r\n\r\nAnimationItem.prototype.getMarkerData = function (markerName) {\r\n  var marker;\r\n  for (var i = 0; i < this.markers.length; i += 1) {\r\n    marker = this.markers[i];\r\n    if (marker.payload && marker.payload.name === markerName) {\r\n      return marker;\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nAnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  var numValue = Number(value);\r\n  if (isNaN(numValue)) {\r\n    var marker = this.getMarkerData(value);\r\n    if (marker) {\r\n      this.goToAndStop(marker.time, true);\r\n    }\r\n  } else if (isFrame) {\r\n    this.setCurrentRawFrameValue(value);\r\n  } else {\r\n    this.setCurrentRawFrameValue(value * this.frameModifier);\r\n  }\r\n  this.pause();\r\n};\r\n\r\nAnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  var numValue = Number(value);\r\n  if (isNaN(numValue)) {\r\n    var marker = this.getMarkerData(value);\r\n    if (marker) {\r\n      if (!marker.duration) {\r\n        this.goToAndStop(marker.time, true);\r\n      } else {\r\n        this.playSegments([marker.time, marker.time + marker.duration], true);\r\n      }\r\n    }\r\n  } else {\r\n    this.goToAndStop(numValue, isFrame, name);\r\n  }\r\n  this.play();\r\n};\r\n\r\nAnimationItem.prototype.advanceTime = function (value) {\r\n  if (this.isPaused === true || this.isLoaded === false) {\r\n    return;\r\n  }\r\n  var nextValue = this.currentRawFrame + value * this.frameModifier;\r\n  var _isComplete = false;\r\n  // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\r\n  // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\r\n  if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\r\n    if (!this.loop || this.playCount === this.loop) {\r\n      if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\r\n        _isComplete = true;\r\n        nextValue = this.totalFrames - 1;\r\n      }\r\n    } else if (nextValue >= this.totalFrames) {\r\n      this.playCount += 1;\r\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n        this.setCurrentRawFrameValue(nextValue % this.totalFrames);\r\n        this._completedLoop = true;\r\n        this.trigger('loopComplete');\r\n      }\r\n    } else {\r\n      this.setCurrentRawFrameValue(nextValue);\r\n    }\r\n  } else if (nextValue < 0) {\r\n    if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n      if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) { // eslint-disable-line no-plusplus\r\n        this.setCurrentRawFrameValue(this.totalFrames + (nextValue % this.totalFrames));\r\n        if (!this._completedLoop) {\r\n          this._completedLoop = true;\r\n        } else {\r\n          this.trigger('loopComplete');\r\n        }\r\n      } else {\r\n        _isComplete = true;\r\n        nextValue = 0;\r\n      }\r\n    }\r\n  } else {\r\n    this.setCurrentRawFrameValue(nextValue);\r\n  }\r\n  if (_isComplete) {\r\n    this.setCurrentRawFrameValue(nextValue);\r\n    this.pause();\r\n    this.trigger('complete');\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.adjustSegment = function (arr, offset) {\r\n  this.playCount = 0;\r\n  if (arr[1] < arr[0]) {\r\n    if (this.frameModifier > 0) {\r\n      if (this.playSpeed < 0) {\r\n        this.setSpeed(-this.playSpeed);\r\n      } else {\r\n        this.setDirection(-1);\r\n      }\r\n    }\r\n    this.totalFrames = arr[0] - arr[1];\r\n    this.timeCompleted = this.totalFrames;\r\n    this.firstFrame = arr[1];\r\n    this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\r\n  } else if (arr[1] > arr[0]) {\r\n    if (this.frameModifier < 0) {\r\n      if (this.playSpeed < 0) {\r\n        this.setSpeed(-this.playSpeed);\r\n      } else {\r\n        this.setDirection(1);\r\n      }\r\n    }\r\n    this.totalFrames = arr[1] - arr[0];\r\n    this.timeCompleted = this.totalFrames;\r\n    this.firstFrame = arr[0];\r\n    this.setCurrentRawFrameValue(0.001 + offset);\r\n  }\r\n  this.trigger('segmentStart');\r\n};\r\nAnimationItem.prototype.setSegment = function (init, end) {\r\n  var pendingFrame = -1;\r\n  if (this.isPaused) {\r\n    if (this.currentRawFrame + this.firstFrame < init) {\r\n      pendingFrame = init;\r\n    } else if (this.currentRawFrame + this.firstFrame > end) {\r\n      pendingFrame = end - init;\r\n    }\r\n  }\r\n\r\n  this.firstFrame = init;\r\n  this.totalFrames = end - init;\r\n  this.timeCompleted = this.totalFrames;\r\n  if (pendingFrame !== -1) {\r\n    this.goToAndStop(pendingFrame, true);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.playSegments = function (arr, forceFlag) {\r\n  if (forceFlag) {\r\n    this.segments.length = 0;\r\n  }\r\n  if (typeof arr[0] === 'object') {\r\n    var i;\r\n    var len = arr.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.segments.push(arr[i]);\r\n    }\r\n  } else {\r\n    this.segments.push(arr);\r\n  }\r\n  if (this.segments.length && forceFlag) {\r\n    this.adjustSegment(this.segments.shift(), 0);\r\n  }\r\n  if (this.isPaused) {\r\n    this.play();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.resetSegments = function (forceFlag) {\r\n  this.segments.length = 0;\r\n  this.segments.push([this.animationData.ip, this.animationData.op]);\r\n  if (forceFlag) {\r\n    this.checkSegments(0);\r\n  }\r\n};\r\nAnimationItem.prototype.checkSegments = function (offset) {\r\n  if (this.segments.length) {\r\n    this.adjustSegment(this.segments.shift(), offset);\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nAnimationItem.prototype.destroy = function (name) {\r\n  if ((name && this.name !== name) || !this.renderer) {\r\n    return;\r\n  }\r\n  this.renderer.destroy();\r\n  this.imagePreloader.destroy();\r\n  this.trigger('destroy');\r\n  this._cbs = null;\r\n  this.onEnterFrame = null;\r\n  this.onLoopComplete = null;\r\n  this.onComplete = null;\r\n  this.onSegmentStart = null;\r\n  this.onDestroy = null;\r\n  this.renderer = null;\r\n  this.renderer = null;\r\n  this.imagePreloader = null;\r\n  this.projectInterface = null;\r\n};\r\n\r\nAnimationItem.prototype.setCurrentRawFrameValue = function (value) {\r\n  this.currentRawFrame = value;\r\n  this.gotoFrame();\r\n};\r\n\r\nAnimationItem.prototype.setSpeed = function (val) {\r\n  this.playSpeed = val;\r\n  this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setDirection = function (val) {\r\n  this.playDirection = val < 0 ? -1 : 1;\r\n  this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setVolume = function (val, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.setVolume(val);\r\n};\r\n\r\nAnimationItem.prototype.getVolume = function () {\r\n  return this.audioController.getVolume();\r\n};\r\n\r\nAnimationItem.prototype.mute = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.mute();\r\n};\r\n\r\nAnimationItem.prototype.unmute = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.unmute();\r\n};\r\n\r\nAnimationItem.prototype.updaFrameModifier = function () {\r\n  this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\r\n  this.audioController.setRate(this.playSpeed * this.playDirection);\r\n};\r\n\r\nAnimationItem.prototype.getPath = function () {\r\n  return this.path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetsPath = function (assetData) {\r\n  var path = '';\r\n  if (assetData.e) {\r\n    path = assetData.p;\r\n  } else if (this.assetsPath) {\r\n    var imagePath = assetData.p;\r\n    if (imagePath.indexOf('images/') !== -1) {\r\n      imagePath = imagePath.split('/')[1];\r\n    }\r\n    path = this.assetsPath + imagePath;\r\n  } else {\r\n    path = this.path;\r\n    path += assetData.u ? assetData.u : '';\r\n    path += assetData.p;\r\n  }\r\n  return path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetData = function (id) {\r\n  var i = 0;\r\n  var len = this.assets.length;\r\n  while (i < len) {\r\n    if (id === this.assets[i].id) {\r\n      return this.assets[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nAnimationItem.prototype.hide = function () {\r\n  this.renderer.hide();\r\n};\r\n\r\nAnimationItem.prototype.show = function () {\r\n  this.renderer.show();\r\n};\r\n\r\nAnimationItem.prototype.getDuration = function (isFrame) {\r\n  return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\r\n};\r\n\r\nAnimationItem.prototype.trigger = function (name) {\r\n  if (this._cbs && this._cbs[name]) {\r\n    switch (name) {\r\n      case 'enterFrame':\r\n      case 'drawnFrame':\r\n        this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\r\n        break;\r\n      case 'loopComplete':\r\n        this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n        break;\r\n      case 'complete':\r\n        this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\r\n        break;\r\n      case 'segmentStart':\r\n        this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n        break;\r\n      case 'destroy':\r\n        this.triggerEvent(name, new BMDestroyEvent(name, this));\r\n        break;\r\n      default:\r\n        this.triggerEvent(name);\r\n    }\r\n  }\r\n  if (name === 'enterFrame' && this.onEnterFrame) {\r\n    this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\r\n  }\r\n  if (name === 'loopComplete' && this.onLoopComplete) {\r\n    this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n  }\r\n  if (name === 'complete' && this.onComplete) {\r\n    this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\r\n  }\r\n  if (name === 'segmentStart' && this.onSegmentStart) {\r\n    this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n  }\r\n  if (name === 'destroy' && this.onDestroy) {\r\n    this.onDestroy.call(this, new BMDestroyEvent(name, this));\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\r\n  var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\r\n  this.triggerEvent('error', error);\r\n\r\n  if (this.onError) {\r\n    this.onError.call(this, error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.triggerConfigError = function (nativeError) {\r\n  var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\r\n  this.triggerEvent('error', error);\r\n\r\n  if (this.onError) {\r\n    this.onError.call(this, error);\r\n  }\r\n};\r\n\r\n/* global CompExpressionInterface, expressionsPlugin: writable */\r\n/* exported expressionsPlugin */\r\n\r\nvar Expressions = (function () {\r\n  var ob = {};\r\n  ob.initExpressions = initExpressions;\r\n\r\n  function initExpressions(animation) {\r\n    var stackCount = 0;\r\n    var registers = [];\r\n\r\n    function pushExpression() {\r\n      stackCount += 1;\r\n    }\r\n\r\n    function popExpression() {\r\n      stackCount -= 1;\r\n      if (stackCount === 0) {\r\n        releaseInstances();\r\n      }\r\n    }\r\n\r\n    function registerExpressionProperty(expression) {\r\n      if (registers.indexOf(expression) === -1) {\r\n        registers.push(expression);\r\n      }\r\n    }\r\n\r\n    function releaseInstances() {\r\n      var i;\r\n      var len = registers.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        registers[i].release();\r\n      }\r\n      registers.length = 0;\r\n    }\r\n\r\n    animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\r\n    animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\r\n    animation.renderer.globalData.pushExpression = pushExpression;\r\n    animation.renderer.globalData.popExpression = popExpression;\r\n    animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\r\n  }\r\n  return ob;\r\n}());\r\n\r\nexpressionsPlugin = Expressions;\r\n\r\n/* eslint-disable camelcase, no-unused-vars */\r\n/* global BMMath, BezierFactory, createTypedArray, degToRads, shapePool */\r\n\r\nvar ExpressionManager = (function () {\r\n  'use strict';\r\n\r\n  var ob = {};\r\n  var Math = BMMath;\r\n  var window = null;\r\n  var document = null;\r\n  var XMLHttpRequest = null;\r\n  var fetch = null;\r\n  var frames = null;\r\n\r\n  function $bm_isInstanceOfArray(arr) {\r\n    return arr.constructor === Array || arr.constructor === Float32Array;\r\n  }\r\n\r\n  function isNumerable(tOfV, v) {\r\n    return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\r\n  }\r\n\r\n  function $bm_neg(a) {\r\n    var tOfA = typeof a;\r\n    if (tOfA === 'number' || tOfA === 'boolean' || a instanceof Number) {\r\n      return -a;\r\n    }\r\n    if ($bm_isInstanceOfArray(a)) {\r\n      var i;\r\n      var lenA = a.length;\r\n      var retArr = [];\r\n      for (i = 0; i < lenA; i += 1) {\r\n        retArr[i] = -a[i];\r\n      }\r\n      return retArr;\r\n    }\r\n    if (a.propType) {\r\n      return a.v;\r\n    }\r\n    return -a;\r\n  }\r\n\r\n  var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\r\n  var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\r\n  var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\r\n\r\n  function sum(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    if (tOfA === 'string' || tOfB === 'string') {\r\n      return a + b;\r\n    }\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      return a + b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      a = a.slice(0);\r\n      a[0] += b;\r\n      return a;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      b = b.slice(0);\r\n      b[0] = a + b[0];\r\n      return b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\r\n      var i = 0;\r\n      var lenA = a.length;\r\n      var lenB = b.length;\r\n      var retArr = [];\r\n      while (i < lenA || i < lenB) {\r\n        if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\r\n          retArr[i] = a[i] + b[i];\r\n        } else {\r\n          retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return retArr;\r\n    }\r\n    return 0;\r\n  }\r\n  var add = sum;\r\n\r\n  function sub(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      if (tOfA === 'string') {\r\n        a = parseInt(a, 10);\r\n      }\r\n      if (tOfB === 'string') {\r\n        b = parseInt(b, 10);\r\n      }\r\n      return a - b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      a = a.slice(0);\r\n      a[0] -= b;\r\n      return a;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      b = b.slice(0);\r\n      b[0] = a - b[0];\r\n      return b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\r\n      var i = 0;\r\n      var lenA = a.length;\r\n      var lenB = b.length;\r\n      var retArr = [];\r\n      while (i < lenA || i < lenB) {\r\n        if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\r\n          retArr[i] = a[i] - b[i];\r\n        } else {\r\n          retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return retArr;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function mul(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    var arr;\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      return a * b;\r\n    }\r\n\r\n    var i;\r\n    var len;\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      len = a.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a[i] * b;\r\n      }\r\n      return arr;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      len = b.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a * b[i];\r\n      }\r\n      return arr;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function div(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    var arr;\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      return a / b;\r\n    }\r\n    var i;\r\n    var len;\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      len = a.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a[i] / b;\r\n      }\r\n      return arr;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      len = b.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a / b[i];\r\n      }\r\n      return arr;\r\n    }\r\n    return 0;\r\n  }\r\n  function mod(a, b) {\r\n    if (typeof a === 'string') {\r\n      a = parseInt(a, 10);\r\n    }\r\n    if (typeof b === 'string') {\r\n      b = parseInt(b, 10);\r\n    }\r\n    return a % b;\r\n  }\r\n  var $bm_sum = sum;\r\n  var $bm_sub = sub;\r\n  var $bm_mul = mul;\r\n  var $bm_div = div;\r\n  var $bm_mod = mod;\r\n\r\n  function clamp(num, min, max) {\r\n    if (min > max) {\r\n      var mm = max;\r\n      max = min;\r\n      min = mm;\r\n    }\r\n    return Math.min(Math.max(num, min), max);\r\n  }\r\n\r\n  function radiansToDegrees(val) {\r\n    return val / degToRads;\r\n  }\r\n  var radians_to_degrees = radiansToDegrees;\r\n\r\n  function degreesToRadians(val) {\r\n    return val * degToRads;\r\n  }\r\n  var degrees_to_radians = radiansToDegrees;\r\n\r\n  var helperLengthArray = [0, 0, 0, 0, 0, 0];\r\n\r\n  function length(arr1, arr2) {\r\n    if (typeof arr1 === 'number' || arr1 instanceof Number) {\r\n      arr2 = arr2 || 0;\r\n      return Math.abs(arr1 - arr2);\r\n    }\r\n    if (!arr2) {\r\n      arr2 = helperLengthArray;\r\n    }\r\n    var i;\r\n    var len = Math.min(arr1.length, arr2.length);\r\n    var addedLength = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      addedLength += Math.pow(arr2[i] - arr1[i], 2);\r\n    }\r\n    return Math.sqrt(addedLength);\r\n  }\r\n\r\n  function normalize(vec) {\r\n    return div(vec, length(vec));\r\n  }\r\n\r\n  function rgbToHsl(val) {\r\n    var r = val[0]; var g = val[1]; var b = val[2];\r\n    var max = Math.max(r, g, b);\r\n    var min = Math.min(r, g, b);\r\n    var h;\r\n    var s;\r\n    var l = (max + min) / 2;\r\n\r\n    if (max === min) {\r\n      h = 0; // achromatic\r\n      s = 0; // achromatic\r\n    } else {\r\n      var d = max - min;\r\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n      switch (max) {\r\n        case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n        case g: h = (b - r) / d + 2; break;\r\n        case b: h = (r - g) / d + 4; break;\r\n        default: break;\r\n      }\r\n      h /= 6;\r\n    }\r\n\r\n    return [h, s, l, val[3]];\r\n  }\r\n\r\n  function hue2rgb(p, q, t) {\r\n    if (t < 0) t += 1;\r\n    if (t > 1) t -= 1;\r\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\r\n    if (t < 1 / 2) return q;\r\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\r\n    return p;\r\n  }\r\n\r\n  function hslToRgb(val) {\r\n    var h = val[0];\r\n    var s = val[1];\r\n    var l = val[2];\r\n\r\n    var r;\r\n    var g;\r\n    var b;\r\n\r\n    if (s === 0) {\r\n      r = l; // achromatic\r\n      b = l; // achromatic\r\n      g = l; // achromatic\r\n    } else {\r\n      var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n      var p = 2 * l - q;\r\n      r = hue2rgb(p, q, h + 1 / 3);\r\n      g = hue2rgb(p, q, h);\r\n      b = hue2rgb(p, q, h - 1 / 3);\r\n    }\r\n\r\n    return [r, g, b, val[3]];\r\n  }\r\n\r\n  function linear(t, tMin, tMax, value1, value2) {\r\n    if (value1 === undefined || value2 === undefined) {\r\n      value1 = tMin;\r\n      value2 = tMax;\r\n      tMin = 0;\r\n      tMax = 1;\r\n    }\r\n    if (tMax < tMin) {\r\n      var _tMin = tMax;\r\n      tMax = tMin;\r\n      tMin = _tMin;\r\n    }\r\n    if (t <= tMin) {\r\n      return value1;\r\n    } if (t >= tMax) {\r\n      return value2;\r\n    }\r\n    var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\r\n    if (!value1.length) {\r\n      return value1 + (value2 - value1) * perc;\r\n    }\r\n    var i;\r\n    var len = value1.length;\r\n    var arr = createTypedArray('float32', len);\r\n    for (i = 0; i < len; i += 1) {\r\n      arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\r\n    }\r\n    return arr;\r\n  }\r\n  function random(min, max) {\r\n    if (max === undefined) {\r\n      if (min === undefined) {\r\n        min = 0;\r\n        max = 1;\r\n      } else {\r\n        max = min;\r\n        min = undefined;\r\n      }\r\n    }\r\n    if (max.length) {\r\n      var i;\r\n      var len = max.length;\r\n      if (!min) {\r\n        min = createTypedArray('float32', len);\r\n      }\r\n      var arr = createTypedArray('float32', len);\r\n      var rnd = BMMath.random();\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = min[i] + rnd * (max[i] - min[i]);\r\n      }\r\n      return arr;\r\n    }\r\n    if (min === undefined) {\r\n      min = 0;\r\n    }\r\n    var rndm = BMMath.random();\r\n    return min + rndm * (max - min);\r\n  }\r\n\r\n  function createPath(points, inTangents, outTangents, closed) {\r\n    var i;\r\n    var len = points.length;\r\n    var path = shapePool.newElement();\r\n    path.setPathData(!!closed, len);\r\n    var arrPlaceholder = [0, 0];\r\n    var inVertexPoint;\r\n    var outVertexPoint;\r\n    for (i = 0; i < len; i += 1) {\r\n      inVertexPoint = (inTangents && inTangents[i]) ? inTangents[i] : arrPlaceholder;\r\n      outVertexPoint = (outTangents && outTangents[i]) ? outTangents[i] : arrPlaceholder;\r\n      path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\r\n    }\r\n    return path;\r\n  }\r\n\r\n  function initiateExpression(elem, data, property) {\r\n    var val = data.x;\r\n    var needsVelocity = /velocity(?![\\w\\d])/.test(val);\r\n    var _needsRandom = val.indexOf('random') !== -1;\r\n    var elemType = elem.data.ty;\r\n    var transform;\r\n    var $bm_transform;\r\n    var content;\r\n    var effect;\r\n    var thisProperty = property;\r\n    thisProperty.valueAtTime = thisProperty.getValueAtTime;\r\n    Object.defineProperty(thisProperty, 'value', {\r\n      get: function () {\r\n        return thisProperty.v;\r\n      },\r\n    });\r\n    elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\r\n    elem.comp.displayStartTime = 0;\r\n    var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\r\n    var outPoint = elem.data.op / elem.comp.globalData.frameRate;\r\n    var width = elem.data.sw ? elem.data.sw : 0;\r\n    var height = elem.data.sh ? elem.data.sh : 0;\r\n    var name = elem.data.nm;\r\n    var loopIn;\r\n    var loop_in;\r\n    var loopOut;\r\n    var loop_out;\r\n    var smooth;\r\n    var toWorld;\r\n    var fromWorld;\r\n    var fromComp;\r\n    var toComp;\r\n    var fromCompToSurface;\r\n    var position;\r\n    var rotation;\r\n    var anchorPoint;\r\n    var scale;\r\n    var thisLayer;\r\n    var thisComp;\r\n    var mask;\r\n    var valueAtTime;\r\n    var velocityAtTime;\r\n\r\n    var scoped_bm_rt;\r\n    // val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\r\n    var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\r\n    var numKeys = property.kf ? data.k.length : 0;\r\n\r\n    var active = !this.data || this.data.hd !== true;\r\n\r\n    var wiggle = function wiggle(freq, amp) {\r\n      var iWiggle;\r\n      var j;\r\n      var lenWiggle = this.pv.length ? this.pv.length : 1;\r\n      var addedAmps = createTypedArray('float32', lenWiggle);\r\n      freq = 5;\r\n      var iterations = Math.floor(time * freq);\r\n      iWiggle = 0;\r\n      j = 0;\r\n      while (iWiggle < iterations) {\r\n        // var rnd = BMMath.random();\r\n        for (j = 0; j < lenWiggle; j += 1) {\r\n          addedAmps[j] += -amp + amp * 2 * BMMath.random();\r\n          // addedAmps[j] += -amp + amp*2*rnd;\r\n        }\r\n        iWiggle += 1;\r\n      }\r\n      // var rnd2 = BMMath.random();\r\n      var periods = time * freq;\r\n      var perc = periods - Math.floor(periods);\r\n      var arr = createTypedArray('float32', lenWiggle);\r\n      if (lenWiggle > 1) {\r\n        for (j = 0; j < lenWiggle; j += 1) {\r\n          arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc;\r\n          // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\r\n          // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\r\n        }\r\n        return arr;\r\n      }\r\n      return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\r\n    }.bind(this);\r\n\r\n    if (thisProperty.loopIn) {\r\n      loopIn = thisProperty.loopIn.bind(thisProperty);\r\n      loop_in = loopIn;\r\n    }\r\n\r\n    if (thisProperty.loopOut) {\r\n      loopOut = thisProperty.loopOut.bind(thisProperty);\r\n      loop_out = loopOut;\r\n    }\r\n\r\n    if (thisProperty.smooth) {\r\n      smooth = thisProperty.smooth.bind(thisProperty);\r\n    }\r\n\r\n    function loopInDuration(type, duration) {\r\n      return loopIn(type, duration, true);\r\n    }\r\n\r\n    function loopOutDuration(type, duration) {\r\n      return loopOut(type, duration, true);\r\n    }\r\n\r\n    if (this.getValueAtTime) {\r\n      valueAtTime = this.getValueAtTime.bind(this);\r\n    }\r\n\r\n    if (this.getVelocityAtTime) {\r\n      velocityAtTime = this.getVelocityAtTime.bind(this);\r\n    }\r\n\r\n    var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\r\n\r\n    function lookAt(elem1, elem2) {\r\n      var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\r\n      var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\r\n      var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\r\n      return [yaw, pitch, 0];\r\n    }\r\n\r\n    function easeOut(t, tMin, tMax, val1, val2) {\r\n      return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\r\n    }\r\n\r\n    function easeIn(t, tMin, tMax, val1, val2) {\r\n      return applyEase(easeInBez, t, tMin, tMax, val1, val2);\r\n    }\r\n\r\n    function ease(t, tMin, tMax, val1, val2) {\r\n      return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\r\n    }\r\n\r\n    function applyEase(fn, t, tMin, tMax, val1, val2) {\r\n      if (val1 === undefined) {\r\n        val1 = tMin;\r\n        val2 = tMax;\r\n      } else {\r\n        t = (t - tMin) / (tMax - tMin);\r\n      }\r\n      if (t > 1) {\r\n        t = 1;\r\n      } else if (t < 0) {\r\n        t = 0;\r\n      }\r\n      var mult = fn(t);\r\n      if ($bm_isInstanceOfArray(val1)) {\r\n        var iKey;\r\n        var lenKey = val1.length;\r\n        var arr = createTypedArray('float32', lenKey);\r\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\r\n          arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\r\n        }\r\n        return arr;\r\n      }\r\n      return (val2 - val1) * mult + val1;\r\n    }\r\n\r\n    function nearestKey(time) {\r\n      var iKey;\r\n      var lenKey = data.k.length;\r\n      var index;\r\n      var keyTime;\r\n      if (!data.k.length || typeof (data.k[0]) === 'number') {\r\n        index = 0;\r\n        keyTime = 0;\r\n      } else {\r\n        index = -1;\r\n        time *= elem.comp.globalData.frameRate;\r\n        if (time < data.k[0].t) {\r\n          index = 1;\r\n          keyTime = data.k[0].t;\r\n        } else {\r\n          for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\r\n            if (time === data.k[iKey].t) {\r\n              index = iKey + 1;\r\n              keyTime = data.k[iKey].t;\r\n              break;\r\n            } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\r\n              if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\r\n                index = iKey + 2;\r\n                keyTime = data.k[iKey + 1].t;\r\n              } else {\r\n                index = iKey + 1;\r\n                keyTime = data.k[iKey].t;\r\n              }\r\n              break;\r\n            }\r\n          }\r\n          if (index === -1) {\r\n            index = iKey + 1;\r\n            keyTime = data.k[iKey].t;\r\n          }\r\n        }\r\n      }\r\n      var obKey = {};\r\n      obKey.index = index;\r\n      obKey.time = keyTime / elem.comp.globalData.frameRate;\r\n      return obKey;\r\n    }\r\n\r\n    function key(ind) {\r\n      var obKey;\r\n      var iKey;\r\n      var lenKey;\r\n      if (!data.k.length || typeof (data.k[0]) === 'number') {\r\n        throw new Error('The property has no keyframe at index ' + ind);\r\n      }\r\n      ind -= 1;\r\n      obKey = {\r\n        time: data.k[ind].t / elem.comp.globalData.frameRate,\r\n        value: [],\r\n      };\r\n      var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\r\n\r\n      lenKey = arr.length;\r\n      for (iKey = 0; iKey < lenKey; iKey += 1) {\r\n        obKey[iKey] = arr[iKey];\r\n        obKey.value[iKey] = arr[iKey];\r\n      }\r\n      return obKey;\r\n    }\r\n\r\n    function framesToTime(fr, fps) {\r\n      if (!fps) {\r\n        fps = elem.comp.globalData.frameRate;\r\n      }\r\n      return fr / fps;\r\n    }\r\n\r\n    function timeToFrames(t, fps) {\r\n      if (!t && t !== 0) {\r\n        t = time;\r\n      }\r\n      if (!fps) {\r\n        fps = elem.comp.globalData.frameRate;\r\n      }\r\n      return t * fps;\r\n    }\r\n\r\n    function seedRandom(seed) {\r\n      BMMath.seedrandom(randSeed + seed);\r\n    }\r\n\r\n    function sourceRectAtTime() {\r\n      return elem.sourceRectAtTime();\r\n    }\r\n\r\n    function substring(init, end) {\r\n      if (typeof value === 'string') {\r\n        if (end === undefined) {\r\n          return value.substring(init);\r\n        }\r\n        return value.substring(init, end);\r\n      }\r\n      return '';\r\n    }\r\n\r\n    function substr(init, end) {\r\n      if (typeof value === 'string') {\r\n        if (end === undefined) {\r\n          return value.substr(init);\r\n        }\r\n        return value.substr(init, end);\r\n      }\r\n      return '';\r\n    }\r\n\r\n    function posterizeTime(framesPerSecond) {\r\n      time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\r\n      value = valueAtTime(time);\r\n    }\r\n\r\n    var time;\r\n    var velocity;\r\n    var value;\r\n    var text;\r\n    var textIndex;\r\n    var textTotal;\r\n    var selectorValue;\r\n    var index = elem.data.ind;\r\n    var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n    var parent;\r\n    var randSeed = Math.floor(Math.random() * 1000000);\r\n    var globalData = elem.globalData;\r\n    function executeExpression(_value) {\r\n      // globalData.pushExpression();\r\n      value = _value;\r\n      if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\r\n        return value;\r\n      }\r\n      if (this.propType === 'textSelector') {\r\n        textIndex = this.textIndex;\r\n        textTotal = this.textTotal;\r\n        selectorValue = this.selectorValue;\r\n      }\r\n      if (!thisLayer) {\r\n        text = elem.layerInterface.text;\r\n        thisLayer = elem.layerInterface;\r\n        thisComp = elem.comp.compInterface;\r\n        toWorld = thisLayer.toWorld.bind(thisLayer);\r\n        fromWorld = thisLayer.fromWorld.bind(thisLayer);\r\n        fromComp = thisLayer.fromComp.bind(thisLayer);\r\n        toComp = thisLayer.toComp.bind(thisLayer);\r\n        mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\r\n        fromCompToSurface = fromComp;\r\n      }\r\n      if (!transform) {\r\n        transform = elem.layerInterface('ADBE Transform Group');\r\n        $bm_transform = transform;\r\n        if (transform) {\r\n          anchorPoint = transform.anchorPoint;\r\n          /* position = transform.position;\r\n                    rotation = transform.rotation;\r\n                    scale = transform.scale; */\r\n        }\r\n      }\r\n\r\n      if (elemType === 4 && !content) {\r\n        content = thisLayer('ADBE Root Vectors Group');\r\n      }\r\n      if (!effect) {\r\n        effect = thisLayer(4);\r\n      }\r\n      hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n      if (hasParent && !parent) {\r\n        parent = elem.hierarchy[0].layerInterface;\r\n      }\r\n      time = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n      if (_needsRandom) {\r\n        seedRandom(randSeed + time);\r\n      }\r\n      if (needsVelocity) {\r\n        velocity = velocityAtTime(time);\r\n      }\r\n      expression_function();\r\n      this.frameExpressionId = elem.globalData.frameId;\r\n\r\n      // TODO: Check if it's possible to return on ShapeInterface the .v value\r\n      if (scoped_bm_rt.propType === 'shape') {\r\n        scoped_bm_rt = scoped_bm_rt.v;\r\n      }\r\n      // globalData.popExpression();\r\n      return scoped_bm_rt;\r\n    }\r\n    return executeExpression;\r\n  }\r\n\r\n  ob.initiateExpression = initiateExpression;\r\n  return ob;\r\n}());\r\n\r\n/* global ExpressionManager, createTypedArray */\r\n/* exported expressionHelpers */\r\n\r\nvar expressionHelpers = (function () {\r\n  function searchExpressions(elem, data, prop) {\r\n    if (data.x) {\r\n      prop.k = true;\r\n      prop.x = true;\r\n      prop.initiateExpression = ExpressionManager.initiateExpression;\r\n      prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\r\n    }\r\n  }\r\n\r\n  function getValueAtTime(frameNum) {\r\n    frameNum *= this.elem.globalData.frameRate;\r\n    frameNum -= this.offsetTime;\r\n    if (frameNum !== this._cachingAtTime.lastFrame) {\r\n      this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n      this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\r\n      this._cachingAtTime.lastFrame = frameNum;\r\n    }\r\n    return this._cachingAtTime.value;\r\n  }\r\n\r\n  function getSpeedAtTime(frameNum) {\r\n    var delta = -0.01;\r\n    var v1 = this.getValueAtTime(frameNum);\r\n    var v2 = this.getValueAtTime(frameNum + delta);\r\n    var speed = 0;\r\n    if (v1.length) {\r\n      var i;\r\n      for (i = 0; i < v1.length; i += 1) {\r\n        speed += Math.pow(v2[i] - v1[i], 2);\r\n      }\r\n      speed = Math.sqrt(speed) * 100;\r\n    } else {\r\n      speed = 0;\r\n    }\r\n    return speed;\r\n  }\r\n\r\n  function getVelocityAtTime(frameNum) {\r\n    if (this.vel !== undefined) {\r\n      return this.vel;\r\n    }\r\n    var delta = -0.001;\r\n    // frameNum += this.elem.data.st;\r\n    var v1 = this.getValueAtTime(frameNum);\r\n    var v2 = this.getValueAtTime(frameNum + delta);\r\n    var velocity;\r\n    if (v1.length) {\r\n      velocity = createTypedArray('float32', v1.length);\r\n      var i;\r\n      for (i = 0; i < v1.length; i += 1) {\r\n        // removing frameRate\r\n        // if needed, don't add it here\r\n        // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\r\n        velocity[i] = (v2[i] - v1[i]) / delta;\r\n      }\r\n    } else {\r\n      velocity = (v2 - v1) / delta;\r\n    }\r\n    return velocity;\r\n  }\r\n\r\n  function getStaticValueAtTime() {\r\n    return this.pv;\r\n  }\r\n\r\n  function setGroupProperty(propertyGroup) {\r\n    this.propertyGroup = propertyGroup;\r\n  }\r\n\r\n  return {\r\n    searchExpressions: searchExpressions,\r\n    getSpeedAtTime: getSpeedAtTime,\r\n    getVelocityAtTime: getVelocityAtTime,\r\n    getValueAtTime: getValueAtTime,\r\n    getStaticValueAtTime: getStaticValueAtTime,\r\n    setGroupProperty: setGroupProperty,\r\n  };\r\n}());\r\n\r\n/* global createTypedArray, Matrix, TransformPropertyFactory, expressionHelpers, PropertyFactory, expressionHelpers,\r\ninitialDefaultFrame, shapePool, ShapePropertyFactory, bez, extendPrototype, ExpressionManager, createSizedArray */\r\n\r\n(function addPropertyDecorator() {\r\n  function loopOut(type, duration, durationFlag) {\r\n    if (!this.k || !this.keyframes) {\r\n      return this.pv;\r\n    }\r\n    type = type ? type.toLowerCase() : '';\r\n    var currentFrame = this.comp.renderedFrame;\r\n    var keyframes = this.keyframes;\r\n    var lastKeyFrame = keyframes[keyframes.length - 1].t;\r\n    if (currentFrame <= lastKeyFrame) {\r\n      return this.pv;\r\n    }\r\n    var cycleDuration;\r\n    var firstKeyFrame;\r\n    if (!durationFlag) {\r\n      if (!duration || duration > keyframes.length - 1) {\r\n        duration = keyframes.length - 1;\r\n      }\r\n      firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\r\n      cycleDuration = lastKeyFrame - firstKeyFrame;\r\n    } else {\r\n      if (!duration) {\r\n        cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\r\n      } else {\r\n        cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\r\n      }\r\n      firstKeyFrame = lastKeyFrame - cycleDuration;\r\n    }\r\n    var i;\r\n    var len;\r\n    var ret;\r\n    if (type === 'pingpong') {\r\n      var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\r\n      if (iterations % 2 !== 0) {\r\n          return this.getValueAtTime(((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n      }\r\n    } else if (type === 'offset') {\r\n      var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n      var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\r\n      if (this.pv.length) {\r\n        ret = new Array(initV.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          ret[i] = (endV[i] - initV[i]) * repeats + current[i];\r\n        }\r\n        return ret;\r\n      }\r\n      return (endV - initV) * repeats + current;\r\n    } else if (type === 'continue') {\r\n      var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\r\n      if (this.pv.length) {\r\n        ret = new Array(lastValue.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\r\n        }\r\n        return ret;\r\n      }\r\n      return lastValue + (lastValue - nextLastValue) * (((currentFrame - lastKeyFrame)) / 0.001);\r\n    }\r\n      return this.getValueAtTime((((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n\r\n  }\r\n\r\n  function loopIn(type, duration, durationFlag) {\r\n    if (!this.k) {\r\n      return this.pv;\r\n    }\r\n    type = type ? type.toLowerCase() : '';\r\n    var currentFrame = this.comp.renderedFrame;\r\n    var keyframes = this.keyframes;\r\n    var firstKeyFrame = keyframes[0].t;\r\n    if (currentFrame >= firstKeyFrame) {\r\n      return this.pv;\r\n    }\r\n    var cycleDuration;\r\n    var lastKeyFrame;\r\n    if (!durationFlag) {\r\n      if (!duration || duration > keyframes.length - 1) {\r\n        duration = keyframes.length - 1;\r\n      }\r\n      lastKeyFrame = keyframes[duration].t;\r\n      cycleDuration = lastKeyFrame - firstKeyFrame;\r\n    } else {\r\n      if (!duration) {\r\n        cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\r\n      } else {\r\n        cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\r\n      }\r\n      lastKeyFrame = firstKeyFrame + cycleDuration;\r\n    }\r\n    var i;\r\n    var len;\r\n    var ret;\r\n    if (type === 'pingpong') {\r\n      var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\r\n      if (iterations % 2 === 0) {\r\n          return this.getValueAtTime((((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n      }\r\n    } else if (type === 'offset') {\r\n      var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var current = this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration) + firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n      var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\r\n      if (this.pv.length) {\r\n        ret = new Array(initV.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\r\n        }\r\n        return ret;\r\n      }\r\n      return current - (endV - initV) * repeats;\r\n    } else if (type === 'continue') {\r\n      var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\r\n      if (this.pv.length) {\r\n        ret = new Array(firstValue.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          ret[i] = firstValue[i] + ((firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame)) / 0.001;\r\n        }\r\n        return ret;\r\n      }\r\n      return firstValue + ((firstValue - nextFirstValue) * (firstKeyFrame - currentFrame)) / 0.001;\r\n    }\r\n      return this.getValueAtTime(((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame))) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n\r\n  }\r\n\r\n  function smooth(width, samples) {\r\n    if (!this.k) {\r\n      return this.pv;\r\n    }\r\n    width = (width || 0.4) * 0.5;\r\n    samples = Math.floor(samples || 5);\r\n    if (samples <= 1) {\r\n      return this.pv;\r\n    }\r\n    var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n    var initFrame = currentTime - width;\r\n    var endFrame = currentTime + width;\r\n    var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\r\n    var i = 0;\r\n    var j = 0;\r\n    var value;\r\n    if (this.pv.length) {\r\n      value = createTypedArray('float32', this.pv.length);\r\n    } else {\r\n      value = 0;\r\n    }\r\n    var sampleValue;\r\n    while (i < samples) {\r\n      sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\r\n      if (this.pv.length) {\r\n        for (j = 0; j < this.pv.length; j += 1) {\r\n          value[j] += sampleValue[j];\r\n        }\r\n      } else {\r\n        value += sampleValue;\r\n      }\r\n      i += 1;\r\n    }\r\n    if (this.pv.length) {\r\n      for (j = 0; j < this.pv.length; j += 1) {\r\n        value[j] /= samples;\r\n      }\r\n    } else {\r\n      value /= samples;\r\n    }\r\n    return value;\r\n  }\r\n\r\n  function getTransformValueAtTime(time) {\r\n    if (!this._transformCachingAtTime) {\r\n      this._transformCachingAtTime = {\r\n        v: new Matrix(),\r\n      };\r\n    }\r\n    /// /\r\n    var matrix = this._transformCachingAtTime.v;\r\n    matrix.cloneFromProps(this.pre.props);\r\n    if (this.appliedTransformations < 1) {\r\n      var anchor = this.a.getValueAtTime(time);\r\n      matrix.translate(\r\n        -anchor[0] * this.a.mult,\r\n        -anchor[1] * this.a.mult,\r\n        anchor[2] * this.a.mult\r\n      );\r\n    }\r\n    if (this.appliedTransformations < 2) {\r\n      var scale = this.s.getValueAtTime(time);\r\n      matrix.scale(\r\n        scale[0] * this.s.mult,\r\n        scale[1] * this.s.mult,\r\n        scale[2] * this.s.mult\r\n      );\r\n    }\r\n    if (this.sk && this.appliedTransformations < 3) {\r\n      var skew = this.sk.getValueAtTime(time);\r\n      var skewAxis = this.sa.getValueAtTime(time);\r\n      matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\r\n    }\r\n    if (this.r && this.appliedTransformations < 4) {\r\n      var rotation = this.r.getValueAtTime(time);\r\n      matrix.rotate(-rotation * this.r.mult);\r\n    } else if (!this.r && this.appliedTransformations < 4) {\r\n      var rotationZ = this.rz.getValueAtTime(time);\r\n      var rotationY = this.ry.getValueAtTime(time);\r\n      var rotationX = this.rx.getValueAtTime(time);\r\n      var orientation = this.or.getValueAtTime(time);\r\n      matrix.rotateZ(-rotationZ * this.rz.mult)\r\n        .rotateY(rotationY * this.ry.mult)\r\n        .rotateX(rotationX * this.rx.mult)\r\n        .rotateZ(-orientation[2] * this.or.mult)\r\n        .rotateY(orientation[1] * this.or.mult)\r\n        .rotateX(orientation[0] * this.or.mult);\r\n    }\r\n    if (this.data.p && this.data.p.s) {\r\n      var positionX = this.px.getValueAtTime(time);\r\n      var positionY = this.py.getValueAtTime(time);\r\n      if (this.data.p.z) {\r\n        var positionZ = this.pz.getValueAtTime(time);\r\n        matrix.translate(\r\n          positionX * this.px.mult,\r\n          positionY * this.py.mult,\r\n          -positionZ * this.pz.mult\r\n        );\r\n      } else {\r\n        matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\r\n      }\r\n    } else {\r\n      var position = this.p.getValueAtTime(time);\r\n      matrix.translate(\r\n        position[0] * this.p.mult,\r\n        position[1] * this.p.mult,\r\n        -position[2] * this.p.mult\r\n      );\r\n    }\r\n    return matrix;\r\n    /// /\r\n  }\r\n\r\n  function getTransformStaticValueAtTime() {\r\n    return this.v.clone(new Matrix());\r\n  }\r\n\r\n  var getTransformProperty = TransformPropertyFactory.getTransformProperty;\r\n  TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\r\n    var prop = getTransformProperty(elem, data, container);\r\n    if (prop.dynamicProperties.length) {\r\n      prop.getValueAtTime = getTransformValueAtTime.bind(prop);\r\n    } else {\r\n      prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\r\n    }\r\n    prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n    return prop;\r\n  };\r\n\r\n  var propertyGetProp = PropertyFactory.getProp;\r\n  PropertyFactory.getProp = function (elem, data, type, mult, container) {\r\n    var prop = propertyGetProp(elem, data, type, mult, container);\r\n    // prop.getVelocityAtTime = getVelocityAtTime;\r\n    // prop.loopOut = loopOut;\r\n    // prop.loopIn = loopIn;\r\n    if (prop.kf) {\r\n      prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\r\n    } else {\r\n      prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\r\n    }\r\n    prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n    prop.loopOut = loopOut;\r\n    prop.loopIn = loopIn;\r\n    prop.smooth = smooth;\r\n    prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\r\n    prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\r\n    prop.numKeys = data.a === 1 ? data.k.length : 0;\r\n    prop.propertyIndex = data.ix;\r\n    var value = 0;\r\n    if (type !== 0) {\r\n      value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\r\n    }\r\n    prop._cachingAtTime = {\r\n      lastFrame: initialDefaultFrame,\r\n      lastIndex: 0,\r\n      value: value,\r\n    };\r\n    expressionHelpers.searchExpressions(elem, data, prop);\r\n    if (prop.k) {\r\n      container.addDynamicProperty(prop);\r\n    }\r\n\r\n    return prop;\r\n  };\r\n\r\n  function getShapeValueAtTime(frameNum) {\r\n    // For now this caching object is created only when needed instead of creating it when the shape is initialized.\r\n    if (!this._cachingAtTime) {\r\n      this._cachingAtTime = {\r\n        shapeValue: shapePool.clone(this.pv),\r\n        lastIndex: 0,\r\n        lastTime: initialDefaultFrame,\r\n      };\r\n    }\r\n\r\n    frameNum *= this.elem.globalData.frameRate;\r\n    frameNum -= this.offsetTime;\r\n    if (frameNum !== this._cachingAtTime.lastTime) {\r\n      this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\r\n      this._cachingAtTime.lastTime = frameNum;\r\n      this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\r\n    }\r\n    return this._cachingAtTime.shapeValue;\r\n  }\r\n\r\n  var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\r\n  var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\r\n\r\n  function ShapeExpressions() {}\r\n  ShapeExpressions.prototype = {\r\n    vertices: function (prop, time) {\r\n      if (this.k) {\r\n        this.getValue();\r\n      }\r\n      var shapePath = this.v;\r\n      if (time !== undefined) {\r\n        shapePath = this.getValueAtTime(time, 0);\r\n      }\r\n      var i;\r\n      var len = shapePath._length;\r\n      var vertices = shapePath[prop];\r\n      var points = shapePath.v;\r\n      var arr = createSizedArray(len);\r\n      for (i = 0; i < len; i += 1) {\r\n        if (prop === 'i' || prop === 'o') {\r\n          arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\r\n        } else {\r\n          arr[i] = [vertices[i][0], vertices[i][1]];\r\n        }\r\n      }\r\n      return arr;\r\n    },\r\n    points: function (time) {\r\n      return this.vertices('v', time);\r\n    },\r\n    inTangents: function (time) {\r\n      return this.vertices('i', time);\r\n    },\r\n    outTangents: function (time) {\r\n      return this.vertices('o', time);\r\n    },\r\n    isClosed: function () {\r\n      return this.v.c;\r\n    },\r\n    pointOnPath: function (perc, time) {\r\n      var shapePath = this.v;\r\n      if (time !== undefined) {\r\n        shapePath = this.getValueAtTime(time, 0);\r\n      }\r\n      if (!this._segmentsLength) {\r\n        this._segmentsLength = bez.getSegmentsLength(shapePath);\r\n      }\r\n\r\n      var segmentsLength = this._segmentsLength;\r\n      var lengths = segmentsLength.lengths;\r\n      var lengthPos = segmentsLength.totalLength * perc;\r\n      var i = 0;\r\n      var len = lengths.length;\r\n      var accumulatedLength = 0;\r\n      var pt;\r\n      while (i < len) {\r\n        if (accumulatedLength + lengths[i].addedLength > lengthPos) {\r\n          var initIndex = i;\r\n          var endIndex = (shapePath.c && i === len - 1) ? 0 : i + 1;\r\n          var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\r\n          pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\r\n          break;\r\n        } else {\r\n          accumulatedLength += lengths[i].addedLength;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (!pt) {\r\n        pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\r\n      }\r\n      return pt;\r\n    },\r\n    vectorOnPath: function (perc, time, vectorType) {\r\n      // perc doesn't use triple equality because it can be a Number object as well as a primitive.\r\n      if (perc == 1) { // eslint-disable-line eqeqeq\r\n        perc = this.v.c;\r\n      } else if (perc == 0) { // eslint-disable-line eqeqeq\r\n        perc = 0.999;\r\n      }\r\n      var pt1 = this.pointOnPath(perc, time);\r\n      var pt2 = this.pointOnPath(perc + 0.001, time);\r\n      var xLength = pt2[0] - pt1[0];\r\n      var yLength = pt2[1] - pt1[1];\r\n      var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\r\n      if (magnitude === 0) {\r\n        return [0, 0];\r\n      }\r\n      var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\r\n      return unitVector;\r\n    },\r\n    tangentOnPath: function (perc, time) {\r\n      return this.vectorOnPath(perc, time, 'tangent');\r\n    },\r\n    normalOnPath: function (perc, time) {\r\n      return this.vectorOnPath(perc, time, 'normal');\r\n    },\r\n    setGroupProperty: expressionHelpers.setGroupProperty,\r\n    getValueAtTime: expressionHelpers.getStaticValueAtTime,\r\n  };\r\n  extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\r\n  extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\r\n  KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\r\n  KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\r\n\r\n  var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\r\n  ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\r\n    var prop = propertyGetShapeProp(elem, data, type, arr, trims);\r\n    prop.propertyIndex = data.ix;\r\n    prop.lock = false;\r\n    if (type === 3) {\r\n      expressionHelpers.searchExpressions(elem, data.pt, prop);\r\n    } else if (type === 4) {\r\n      expressionHelpers.searchExpressions(elem, data.ks, prop);\r\n    }\r\n    if (prop.k) {\r\n      elem.addDynamicProperty(prop);\r\n    }\r\n    return prop;\r\n  };\r\n}());\r\n\r\n/* global ExpressionManager, TextProperty */\r\n\r\n(function addDecorator() {\r\n  function searchExpressions() {\r\n    if (this.data.d.x) {\r\n      this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\r\n      this.addEffect(this.getExpressionValue.bind(this));\r\n      return true;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  TextProperty.prototype.getExpressionValue = function (currentValue, text) {\r\n    var newValue = this.calculateExpression(text);\r\n    if (currentValue.t !== newValue) {\r\n      var newData = {};\r\n      this.copyData(newData, currentValue);\r\n      newData.t = newValue.toString();\r\n      newData.__complete = false;\r\n      return newData;\r\n    }\r\n    return currentValue;\r\n  };\r\n\r\n  TextProperty.prototype.searchProperty = function () {\r\n    var isKeyframed = this.searchKeyframes();\r\n    var hasExpressions = this.searchExpressions();\r\n    this.kf = isKeyframed || hasExpressions;\r\n    return this.kf;\r\n  };\r\n\r\n  TextProperty.prototype.searchExpressions = searchExpressions;\r\n}());\r\n\r\n/* global propertyGroupFactory, PropertyInterface */\r\n/* exported ShapePathInterface */\r\n\r\nvar ShapePathInterface = (\r\n\r\n  function () {\r\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\r\n      var prop = view.sh;\r\n\r\n      function interfaceFunction(val) {\r\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\r\n          return interfaceFunction.path;\r\n        }\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\r\n      Object.defineProperties(interfaceFunction, {\r\n        path: {\r\n          get: function () {\r\n            if (prop.k) {\r\n              prop.getValue();\r\n            }\r\n            return prop;\r\n          },\r\n        },\r\n        shape: {\r\n          get: function () {\r\n            if (prop.k) {\r\n              prop.getValue();\r\n            }\r\n            return prop;\r\n          },\r\n        },\r\n        _name: { value: shape.nm },\r\n        ix: { value: shape.ix },\r\n        propertyIndex: { value: shape.ix },\r\n        mn: { value: shape.mn },\r\n        propertyGroup: { value: propertyGroup },\r\n      });\r\n      return interfaceFunction;\r\n    };\r\n  }()\r\n);\r\n\r\n/* exported propertyGroupFactory */\r\n\r\nvar propertyGroupFactory = (function () {\r\n  return function (interfaceFunction, parentPropertyGroup) {\r\n    return function (val) {\r\n      val = val === undefined ? 1 : val;\r\n      if (val <= 0) {\r\n        return interfaceFunction;\r\n      }\r\n      return parentPropertyGroup(val - 1);\r\n    };\r\n  };\r\n}());\r\n\r\n/* exported PropertyInterface */\r\n\r\nvar PropertyInterface = (function () {\r\n  return function (propertyName, propertyGroup) {\r\n    var interfaceFunction = {\r\n      _name: propertyName,\r\n    };\r\n\r\n    function _propertyGroup(val) {\r\n      val = val === undefined ? 1 : val;\r\n      if (val <= 0) {\r\n        return interfaceFunction;\r\n      }\r\n      return propertyGroup(val - 1);\r\n    }\r\n\r\n    return _propertyGroup;\r\n  };\r\n}());\r\n\r\n/* global ExpressionPropertyInterface, PropertyInterface, propertyGroupFactory, ShapePathInterface */\r\n/* exported ShapeExpressionInterface */\r\n\r\nvar ShapeExpressionInterface = (function () {\r\n  function iterateElements(shapes, view, propertyGroup) {\r\n    var arr = [];\r\n    var i;\r\n    var len = shapes ? shapes.length : 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (shapes[i].ty === 'gr') {\r\n        arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'fl') {\r\n        arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'st') {\r\n        arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'tm') {\r\n        arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'tr') {\r\n        // arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n      } else if (shapes[i].ty === 'el') {\r\n        arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'sr') {\r\n        arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'sh') {\r\n        arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'rc') {\r\n        arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'rd') {\r\n        arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'rp') {\r\n        arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'gf') {\r\n        arr.push(gradientFillInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else {\r\n        arr.push(defaultInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      }\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function contentsInterfaceFactory(shape, view, propertyGroup) {\r\n    var interfaces;\r\n    var interfaceFunction = function _interfaceFunction(value) {\r\n      var i = 0;\r\n      var len = interfaces.length;\r\n      while (i < len) {\r\n        if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\r\n          return interfaces[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      if (typeof value === 'number') {\r\n        return interfaces[value - 1];\r\n      }\r\n      return null;\r\n    };\r\n\r\n    interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\r\n    interfaceFunction.numProperties = interfaces.length;\r\n    var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\r\n    interfaceFunction.transform = transformInterface;\r\n    interfaceFunction.propertyIndex = shape.cix;\r\n    interfaceFunction._name = shape.nm;\r\n\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function groupInterfaceFactory(shape, view, propertyGroup) {\r\n    var interfaceFunction = function _interfaceFunction(value) {\r\n      switch (value) {\r\n        case 'ADBE Vectors Group':\r\n        case 'Contents':\r\n        case 2:\r\n          return interfaceFunction.content;\r\n          // Not necessary for now. Keeping them here in case a new case appears\r\n          // case 'ADBE Vector Transform Group':\r\n          // case 3:\r\n        default:\r\n          return interfaceFunction.transform;\r\n      }\r\n    };\r\n    interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\r\n    var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\r\n    interfaceFunction.content = content;\r\n    interfaceFunction.transform = transformInterface;\r\n    Object.defineProperty(interfaceFunction, '_name', {\r\n      get: function () {\r\n        return shape.nm;\r\n      },\r\n    });\r\n    // interfaceFunction.content = interfaceFunction;\r\n    interfaceFunction.numProperties = shape.np;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    interfaceFunction.nm = shape.nm;\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function fillInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(val) {\r\n      if (val === 'Color' || val === 'color') {\r\n        return interfaceFunction.color;\r\n      } if (val === 'Opacity' || val === 'opacity') {\r\n        return interfaceFunction.opacity;\r\n      }\r\n      return null;\r\n    }\r\n    Object.defineProperties(interfaceFunction, {\r\n      color: {\r\n        get: ExpressionPropertyInterface(view.c),\r\n      },\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      _name: { value: shape.nm },\r\n      mn: { value: shape.mn },\r\n    });\r\n\r\n    view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function gradientFillInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(val) {\r\n      if (val === 'Start Point' || val === 'start point') {\r\n        return interfaceFunction.startPoint;\r\n      }\r\n      if (val === 'End Point' || val === 'end point') {\r\n        return interfaceFunction.endPoint;\r\n      }\r\n      if (val === 'Opacity' || val === 'opacity') {\r\n        return interfaceFunction.opacity;\r\n      }\r\n      return null;\r\n    }\r\n    Object.defineProperties(interfaceFunction, {\r\n      startPoint: {\r\n        get: ExpressionPropertyInterface(view.s),\r\n      },\r\n      endPoint: {\r\n        get: ExpressionPropertyInterface(view.e),\r\n      },\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      type: {\r\n        get: function () {\r\n          return 'a';\r\n        },\r\n      },\r\n      _name: { value: shape.nm },\r\n      mn: { value: shape.mn },\r\n    });\r\n\r\n    view.s.setGroupProperty(PropertyInterface('Start Point', propertyGroup));\r\n    view.e.setGroupProperty(PropertyInterface('End Point', propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n    return interfaceFunction;\r\n  }\r\n  function defaultInterfaceFactory() {\r\n    function interfaceFunction() {\r\n      return null;\r\n    }\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function strokeInterfaceFactory(shape, view, propertyGroup) {\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\r\n    function addPropertyToDashOb(i) {\r\n      Object.defineProperty(dashOb, shape.d[i].nm, {\r\n        get: ExpressionPropertyInterface(view.d.dataProps[i].p),\r\n      });\r\n    }\r\n    var i;\r\n    var len = shape.d ? shape.d.length : 0;\r\n    var dashOb = {};\r\n    for (i = 0; i < len; i += 1) {\r\n      addPropertyToDashOb(i);\r\n      view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\r\n    }\r\n\r\n    function interfaceFunction(val) {\r\n      if (val === 'Color' || val === 'color') {\r\n        return interfaceFunction.color;\r\n      } if (val === 'Opacity' || val === 'opacity') {\r\n        return interfaceFunction.opacity;\r\n      } if (val === 'Stroke Width' || val === 'stroke width') {\r\n        return interfaceFunction.strokeWidth;\r\n      }\r\n      return null;\r\n    }\r\n    Object.defineProperties(interfaceFunction, {\r\n      color: {\r\n        get: ExpressionPropertyInterface(view.c),\r\n      },\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      strokeWidth: {\r\n        get: ExpressionPropertyInterface(view.w),\r\n      },\r\n      dash: {\r\n        get: function () {\r\n          return dashOb;\r\n        },\r\n      },\r\n      _name: { value: shape.nm },\r\n      mn: { value: shape.mn },\r\n    });\r\n\r\n    view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n    view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function trimInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(val) {\r\n      if (val === shape.e.ix || val === 'End' || val === 'end') {\r\n        return interfaceFunction.end;\r\n      }\r\n      if (val === shape.s.ix) {\r\n        return interfaceFunction.start;\r\n      }\r\n      if (val === shape.o.ix) {\r\n        return interfaceFunction.offset;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n\r\n    view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\r\n    view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    interfaceFunction.propertyGroup = propertyGroup;\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      start: {\r\n        get: ExpressionPropertyInterface(view.s),\r\n      },\r\n      end: {\r\n        get: ExpressionPropertyInterface(view.e),\r\n      },\r\n      offset: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function transformInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.a.ix === value || value === 'Anchor Point') {\r\n        return interfaceFunction.anchorPoint;\r\n      }\r\n      if (shape.o.ix === value || value === 'Opacity') {\r\n        return interfaceFunction.opacity;\r\n      }\r\n      if (shape.p.ix === value || value === 'Position') {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\r\n        return interfaceFunction.rotation;\r\n      }\r\n      if (shape.s.ix === value || value === 'Scale') {\r\n        return interfaceFunction.scale;\r\n      }\r\n      if ((shape.sk && shape.sk.ix === value) || value === 'Skew') {\r\n        return interfaceFunction.skew;\r\n      }\r\n      if ((shape.sa && shape.sa.ix === value) || value === 'Skew Axis') {\r\n        return interfaceFunction.skewAxis;\r\n      }\r\n      return null;\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n    view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n    view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\r\n    view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\r\n    view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n    if (view.transform.mProps.sk) {\r\n      view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\r\n      view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\r\n    }\r\n    view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n    Object.defineProperties(interfaceFunction, {\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.o),\r\n      },\r\n      position: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.p),\r\n      },\r\n      anchorPoint: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.a),\r\n      },\r\n      scale: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.s),\r\n      },\r\n      rotation: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.r),\r\n      },\r\n      skew: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.sk),\r\n      },\r\n      skewAxis: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.sa),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.ty = 'tr';\r\n    interfaceFunction.mn = shape.mn;\r\n    interfaceFunction.propertyGroup = propertyGroup;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function ellipseInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.p.ix === value) {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.s.ix === value) {\r\n        return interfaceFunction.size;\r\n      }\r\n      return null;\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n    prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      size: {\r\n        get: ExpressionPropertyInterface(prop.s),\r\n      },\r\n      position: {\r\n        get: ExpressionPropertyInterface(prop.p),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function starInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.p.ix === value) {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.r.ix === value) {\r\n        return interfaceFunction.rotation;\r\n      }\r\n      if (shape.pt.ix === value) {\r\n        return interfaceFunction.points;\r\n      }\r\n      if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\r\n        return interfaceFunction.outerRadius;\r\n      }\r\n      if (shape.os.ix === value) {\r\n        return interfaceFunction.outerRoundness;\r\n      }\r\n      if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\r\n        return interfaceFunction.innerRadius;\r\n      }\r\n      if (shape.is && shape.is.ix === value) {\r\n        return interfaceFunction.innerRoundness;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\r\n    prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\r\n    prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\r\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n    prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n    if (shape.ir) {\r\n      prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\r\n      prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\r\n    }\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      position: {\r\n        get: ExpressionPropertyInterface(prop.p),\r\n      },\r\n      rotation: {\r\n        get: ExpressionPropertyInterface(prop.r),\r\n      },\r\n      points: {\r\n        get: ExpressionPropertyInterface(prop.pt),\r\n      },\r\n      outerRadius: {\r\n        get: ExpressionPropertyInterface(prop.or),\r\n      },\r\n      outerRoundness: {\r\n        get: ExpressionPropertyInterface(prop.os),\r\n      },\r\n      innerRadius: {\r\n        get: ExpressionPropertyInterface(prop.ir),\r\n      },\r\n      innerRoundness: {\r\n        get: ExpressionPropertyInterface(prop.is),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function rectInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.p.ix === value) {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.r.ix === value) {\r\n        return interfaceFunction.roundness;\r\n      }\r\n      if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\r\n        return interfaceFunction.size;\r\n      }\r\n      return null;\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n    prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n    prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      position: {\r\n        get: ExpressionPropertyInterface(prop.p),\r\n      },\r\n      roundness: {\r\n        get: ExpressionPropertyInterface(prop.r),\r\n      },\r\n      size: {\r\n        get: ExpressionPropertyInterface(prop.s),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function roundedInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.r.ix === value || value === 'Round Corners 1') {\r\n        return interfaceFunction.radius;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var prop = view;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      radius: {\r\n        get: ExpressionPropertyInterface(prop.rd),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function repeaterInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.c.ix === value || value === 'Copies') {\r\n        return interfaceFunction.copies;\r\n      } if (shape.o.ix === value || value === 'Offset') {\r\n        return interfaceFunction.offset;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var prop = view;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\r\n    prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n    Object.defineProperties(interfaceFunction, {\r\n      copies: {\r\n        get: ExpressionPropertyInterface(prop.c),\r\n      },\r\n      offset: {\r\n        get: ExpressionPropertyInterface(prop.o),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  return function (shapes, view, propertyGroup) {\r\n    var interfaces;\r\n    function _interfaceFunction(value) {\r\n      if (typeof value === 'number') {\r\n        value = value === undefined ? 1 : value;\r\n        if (value === 0) {\r\n          return propertyGroup;\r\n        }\r\n        return interfaces[value - 1];\r\n      }\r\n      var i = 0;\r\n      var len = interfaces.length;\r\n      while (i < len) {\r\n        if (interfaces[i]._name === value) {\r\n          return interfaces[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n    }\r\n    function parentGroupWrapper() {\r\n      return propertyGroup;\r\n    }\r\n    _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\r\n    interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\r\n    _interfaceFunction.numProperties = interfaces.length;\r\n    _interfaceFunction._name = 'Contents';\r\n    return _interfaceFunction;\r\n  };\r\n}());\r\n\r\n/* exported TextExpressionInterface */\r\n\r\nvar TextExpressionInterface = (function () {\r\n  return function (elem) {\r\n    var _prevValue;\r\n    var _sourceText;\r\n    function _thisLayerFunction(name) {\r\n      switch (name) {\r\n        case 'ADBE Text Document':\r\n          return _thisLayerFunction.sourceText;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n    Object.defineProperty(_thisLayerFunction, 'sourceText', {\r\n      get: function () {\r\n        elem.textProperty.getValue();\r\n        var stringValue = elem.textProperty.currentData.t;\r\n        if (stringValue !== _prevValue) {\r\n          elem.textProperty.currentData.t = _prevValue;\r\n          _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\r\n          // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\r\n          _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\r\n        }\r\n        return _sourceText;\r\n      },\r\n    });\r\n    return _thisLayerFunction;\r\n  };\r\n}());\r\n\r\n/* global Matrix, MaskManagerInterface, TransformExpressionInterface, getDescriptor */\r\n/* exported LayerExpressionInterface */\r\n\r\nvar LayerExpressionInterface = (function () {\r\n  function getMatrix(time) {\r\n    var toWorldMat = new Matrix();\r\n    if (time !== undefined) {\r\n      var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n      propMatrix.clone(toWorldMat);\r\n    } else {\r\n      var transformMat = this._elem.finalTransform.mProp;\r\n      transformMat.applyToMatrix(toWorldMat);\r\n    }\r\n    return toWorldMat;\r\n  }\r\n\r\n  function toWorldVec(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    toWorldMat.props[12] = 0;\r\n    toWorldMat.props[13] = 0;\r\n    toWorldMat.props[14] = 0;\r\n    return this.applyPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function toWorld(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    return this.applyPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function fromWorldVec(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    toWorldMat.props[12] = 0;\r\n    toWorldMat.props[13] = 0;\r\n    toWorldMat.props[14] = 0;\r\n    return this.invertPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function fromWorld(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    return this.invertPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function applyPoint(matrix, arr) {\r\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n      var i;\r\n      var len = this._elem.hierarchy.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\r\n      }\r\n    }\r\n    return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\r\n  }\r\n\r\n  function invertPoint(matrix, arr) {\r\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n      var i;\r\n      var len = this._elem.hierarchy.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\r\n      }\r\n    }\r\n    return matrix.inversePoint(arr);\r\n  }\r\n\r\n  function fromComp(arr) {\r\n    var toWorldMat = new Matrix();\r\n    toWorldMat.reset();\r\n    this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\r\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n      var i;\r\n      var len = this._elem.hierarchy.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n      }\r\n      return toWorldMat.inversePoint(arr);\r\n    }\r\n    return toWorldMat.inversePoint(arr);\r\n  }\r\n\r\n  function sampleImage() {\r\n    return [1, 1, 1, 1];\r\n  }\r\n\r\n  return function (elem) {\r\n    var transformInterface;\r\n\r\n    function _registerMaskInterface(maskManager) {\r\n      _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\r\n    }\r\n    function _registerEffectsInterface(effects) {\r\n      _thisLayerFunction.effect = effects;\r\n    }\r\n\r\n    function _thisLayerFunction(name) {\r\n      switch (name) {\r\n        case 'ADBE Root Vectors Group':\r\n        case 'Contents':\r\n        case 2:\r\n          return _thisLayerFunction.shapeInterface;\r\n        case 1:\r\n        case 6:\r\n        case 'Transform':\r\n        case 'transform':\r\n        case 'ADBE Transform Group':\r\n          return transformInterface;\r\n        case 4:\r\n        case 'ADBE Effect Parade':\r\n        case 'effects':\r\n        case 'Effects':\r\n          return _thisLayerFunction.effect;\r\n        case 'ADBE Text Properties':\r\n          return _thisLayerFunction.textInterface;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n    _thisLayerFunction.getMatrix = getMatrix;\r\n    _thisLayerFunction.invertPoint = invertPoint;\r\n    _thisLayerFunction.applyPoint = applyPoint;\r\n    _thisLayerFunction.toWorld = toWorld;\r\n    _thisLayerFunction.toWorldVec = toWorldVec;\r\n    _thisLayerFunction.fromWorld = fromWorld;\r\n    _thisLayerFunction.fromWorldVec = fromWorldVec;\r\n    _thisLayerFunction.toComp = toWorld;\r\n    _thisLayerFunction.fromComp = fromComp;\r\n    _thisLayerFunction.sampleImage = sampleImage;\r\n    _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\r\n    _thisLayerFunction._elem = elem;\r\n    transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\r\n    var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\r\n    Object.defineProperties(_thisLayerFunction, {\r\n      hasParent: {\r\n        get: function () {\r\n          return elem.hierarchy.length;\r\n        },\r\n      },\r\n      parent: {\r\n        get: function () {\r\n          return elem.hierarchy[0].layerInterface;\r\n        },\r\n      },\r\n      rotation: getDescriptor(transformInterface, 'rotation'),\r\n      scale: getDescriptor(transformInterface, 'scale'),\r\n      position: getDescriptor(transformInterface, 'position'),\r\n      opacity: getDescriptor(transformInterface, 'opacity'),\r\n      anchorPoint: anchorPointDescriptor,\r\n      anchor_point: anchorPointDescriptor,\r\n      transform: {\r\n        get: function () {\r\n          return transformInterface;\r\n        },\r\n      },\r\n      active: {\r\n        get: function () {\r\n          return elem.isInRange;\r\n        },\r\n      },\r\n    });\r\n\r\n    _thisLayerFunction.startTime = elem.data.st;\r\n    _thisLayerFunction.index = elem.data.ind;\r\n    _thisLayerFunction.source = elem.data.refId;\r\n    _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\r\n    _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\r\n    _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\r\n    _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\r\n    _thisLayerFunction._name = elem.data.nm;\r\n\r\n    _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\r\n    _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\r\n    return _thisLayerFunction;\r\n  };\r\n}());\r\n\r\n/* global */\r\n/* exported FootageInterface */\r\n\r\nvar FootageInterface = (function () {\r\n  var outlineInterfaceFactory = (function (elem) {\r\n    var currentPropertyName = '';\r\n    var currentProperty = elem.getFootageData();\r\n    function init() {\r\n      currentPropertyName = '';\r\n      currentProperty = elem.getFootageData();\r\n      return searchProperty;\r\n    }\r\n    function searchProperty(value) {\r\n      if (currentProperty[value]) {\r\n        currentPropertyName = value;\r\n        currentProperty = currentProperty[value];\r\n        if (typeof currentProperty === 'object') {\r\n          return searchProperty;\r\n        }\r\n        return currentProperty;\r\n      }\r\n      var propertyNameIndex = value.indexOf(currentPropertyName);\r\n      if (propertyNameIndex !== -1) {\r\n        var index = parseInt(value.substr(propertyNameIndex + currentPropertyName.length), 10);\r\n        currentProperty = currentProperty[index];\r\n        if (typeof currentProperty === 'object') {\r\n          return searchProperty;\r\n        }\r\n        return currentProperty;\r\n      }\r\n      return '';\r\n    }\r\n    return init;\r\n  });\r\n\r\n  var dataInterfaceFactory = function (elem) {\r\n    function interfaceFunction(value) {\r\n      if (value === 'Outline') {\r\n        return interfaceFunction.outlineInterface();\r\n      }\r\n      return null;\r\n    }\r\n\r\n    interfaceFunction._name = 'Outline';\r\n    interfaceFunction.outlineInterface = outlineInterfaceFactory(elem);\r\n    return interfaceFunction;\r\n  };\r\n\r\n  return function (elem) {\r\n    function _interfaceFunction(value) {\r\n      if (value === 'Data') {\r\n        return _interfaceFunction.dataInterface;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    _interfaceFunction._name = 'Data';\r\n    _interfaceFunction.dataInterface = dataInterfaceFactory(elem);\r\n    return _interfaceFunction;\r\n  };\r\n}());\r\n\r\n/* exported CompExpressionInterface */\r\n\r\nvar CompExpressionInterface = (function () {\r\n  return function (comp) {\r\n    function _thisLayerFunction(name) {\r\n      var i = 0;\r\n      var len = comp.layers.length;\r\n      while (i < len) {\r\n        if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\r\n          return comp.elements[i].layerInterface;\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n      // return {active:false};\r\n    }\r\n    Object.defineProperty(_thisLayerFunction, '_name', { value: comp.data.nm });\r\n    _thisLayerFunction.layer = _thisLayerFunction;\r\n    _thisLayerFunction.pixelAspect = 1;\r\n    _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\r\n    _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\r\n    _thisLayerFunction.pixelAspect = 1;\r\n    _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\r\n    _thisLayerFunction.displayStartTime = 0;\r\n    _thisLayerFunction.numLayers = comp.layers.length;\r\n    return _thisLayerFunction;\r\n  };\r\n}());\r\n\r\n/* global ExpressionPropertyInterface */\r\n/* exported TransformExpressionInterface */\r\n\r\nvar TransformExpressionInterface = (function () {\r\n  return function (transform) {\r\n    function _thisFunction(name) {\r\n      switch (name) {\r\n        case 'scale':\r\n        case 'Scale':\r\n        case 'ADBE Scale':\r\n        case 6:\r\n          return _thisFunction.scale;\r\n        case 'rotation':\r\n        case 'Rotation':\r\n        case 'ADBE Rotation':\r\n        case 'ADBE Rotate Z':\r\n        case 10:\r\n          return _thisFunction.rotation;\r\n        case 'ADBE Rotate X':\r\n          return _thisFunction.xRotation;\r\n        case 'ADBE Rotate Y':\r\n          return _thisFunction.yRotation;\r\n        case 'position':\r\n        case 'Position':\r\n        case 'ADBE Position':\r\n        case 2:\r\n          return _thisFunction.position;\r\n        case 'ADBE Position_0':\r\n          return _thisFunction.xPosition;\r\n        case 'ADBE Position_1':\r\n          return _thisFunction.yPosition;\r\n        case 'ADBE Position_2':\r\n          return _thisFunction.zPosition;\r\n        case 'anchorPoint':\r\n        case 'AnchorPoint':\r\n        case 'Anchor Point':\r\n        case 'ADBE AnchorPoint':\r\n        case 1:\r\n          return _thisFunction.anchorPoint;\r\n        case 'opacity':\r\n        case 'Opacity':\r\n        case 11:\r\n          return _thisFunction.opacity;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n    Object.defineProperty(_thisFunction, 'rotation', {\r\n      get: ExpressionPropertyInterface(transform.r || transform.rz),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'zRotation', {\r\n      get: ExpressionPropertyInterface(transform.rz || transform.r),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'xRotation', {\r\n      get: ExpressionPropertyInterface(transform.rx),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'yRotation', {\r\n      get: ExpressionPropertyInterface(transform.ry),\r\n    });\r\n    Object.defineProperty(_thisFunction, 'scale', {\r\n      get: ExpressionPropertyInterface(transform.s),\r\n    });\r\n    var _px;\r\n    var _py;\r\n    var _pz;\r\n    var _transformFactory;\r\n    if (transform.p) {\r\n      _transformFactory = ExpressionPropertyInterface(transform.p);\r\n    } else {\r\n      _px = ExpressionPropertyInterface(transform.px);\r\n      _py = ExpressionPropertyInterface(transform.py);\r\n      if (transform.pz) {\r\n        _pz = ExpressionPropertyInterface(transform.pz);\r\n      }\r\n    }\r\n    Object.defineProperty(_thisFunction, 'position', {\r\n      get: function () {\r\n        if (transform.p) {\r\n          return _transformFactory();\r\n        }\r\n        return [\r\n          _px(),\r\n          _py(),\r\n          _pz ? _pz() : 0];\r\n      },\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'xPosition', {\r\n      get: ExpressionPropertyInterface(transform.px),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'yPosition', {\r\n      get: ExpressionPropertyInterface(transform.py),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'zPosition', {\r\n      get: ExpressionPropertyInterface(transform.pz),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'anchorPoint', {\r\n      get: ExpressionPropertyInterface(transform.a),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'opacity', {\r\n      get: ExpressionPropertyInterface(transform.o),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'skew', {\r\n      get: ExpressionPropertyInterface(transform.sk),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'skewAxis', {\r\n      get: ExpressionPropertyInterface(transform.sa),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'orientation', {\r\n      get: ExpressionPropertyInterface(transform.or),\r\n    });\r\n\r\n    return _thisFunction;\r\n  };\r\n}());\r\n\r\n/* exported ProjectInterface */\r\n\r\nvar ProjectInterface = (function () {\r\n  function registerComposition(comp) {\r\n    this.compositions.push(comp);\r\n  }\r\n\r\n  return function () {\r\n    function _thisProjectFunction(name) {\r\n      var i = 0;\r\n      var len = this.compositions.length;\r\n      while (i < len) {\r\n        if (this.compositions[i].data && this.compositions[i].data.nm === name) {\r\n          if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\r\n            this.compositions[i].prepareFrame(this.currentFrame);\r\n          }\r\n          return this.compositions[i].compInterface;\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    _thisProjectFunction.compositions = [];\r\n    _thisProjectFunction.currentFrame = 0;\r\n\r\n    _thisProjectFunction.registerComposition = registerComposition;\r\n\r\n    return _thisProjectFunction;\r\n  };\r\n}());\r\n\r\n/* global propertyGroupFactory, ExpressionPropertyInterface, PropertyInterface */\r\n/* exported EffectsExpressionInterface */\r\n\r\nvar EffectsExpressionInterface = (function () {\r\n  var ob = {\r\n    createEffectsInterface: createEffectsInterface,\r\n  };\r\n\r\n  function createEffectsInterface(elem, propertyGroup) {\r\n    if (elem.effectsManager) {\r\n      var effectElements = [];\r\n      var effectsData = elem.data.ef;\r\n      var i;\r\n      var len = elem.effectsManager.effectElements.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\r\n      }\r\n\r\n      var effects = elem.data.ef || [];\r\n      var groupInterface = function (name) {\r\n        i = 0;\r\n        len = effects.length;\r\n        while (i < len) {\r\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\r\n            return effectElements[i];\r\n          }\r\n          i += 1;\r\n        }\r\n        return null;\r\n      };\r\n      Object.defineProperty(groupInterface, 'numProperties', {\r\n        get: function () {\r\n          return effects.length;\r\n        },\r\n      });\r\n      return groupInterface;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function createGroupInterface(data, elements, propertyGroup, elem) {\r\n    function groupInterface(name) {\r\n      var effects = data.ef;\r\n      var i = 0;\r\n      var len = effects.length;\r\n      while (i < len) {\r\n        if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\r\n          if (effects[i].ty === 5) {\r\n            return effectElements[i];\r\n          }\r\n          return effectElements[i]();\r\n        }\r\n        i += 1;\r\n      }\r\n      throw new Error();\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\r\n\r\n    var effectElements = [];\r\n    var i;\r\n    var len = data.ef.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (data.ef[i].ty === 5) {\r\n        effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\r\n      } else {\r\n        effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\r\n      }\r\n    }\r\n\r\n    if (data.mn === 'ADBE Color Control') {\r\n      Object.defineProperty(groupInterface, 'color', {\r\n        get: function () {\r\n          return effectElements[0]();\r\n        },\r\n      });\r\n    }\r\n    Object.defineProperties(groupInterface, {\r\n      numProperties: {\r\n        get: function () {\r\n          return data.np;\r\n        },\r\n      },\r\n      _name: { value: data.nm },\r\n      propertyGroup: { value: _propertyGroup },\r\n    });\r\n    groupInterface.enabled = data.en !== 0;\r\n    groupInterface.active = groupInterface.enabled;\r\n    return groupInterface;\r\n  }\r\n\r\n  function createValueInterface(element, type, elem, propertyGroup) {\r\n    var expressionProperty = ExpressionPropertyInterface(element.p);\r\n    function interfaceFunction() {\r\n      if (type === 10) {\r\n        return elem.comp.compInterface(element.p.v);\r\n      }\r\n      return expressionProperty();\r\n    }\r\n\r\n    if (element.p.setGroupProperty) {\r\n      element.p.setGroupProperty(PropertyInterface('', propertyGroup));\r\n    }\r\n\r\n    return interfaceFunction;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global createSizedArray */\r\n/* exported MaskManagerInterface */\r\n\r\nvar MaskManagerInterface = (function () {\r\n  function MaskInterface(mask, data) {\r\n    this._mask = mask;\r\n    this._data = data;\r\n  }\r\n  Object.defineProperty(MaskInterface.prototype, 'maskPath', {\r\n    get: function () {\r\n      if (this._mask.prop.k) {\r\n        this._mask.prop.getValue();\r\n      }\r\n      return this._mask.prop;\r\n    },\r\n  });\r\n  Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\r\n    get: function () {\r\n      if (this._mask.op.k) {\r\n        this._mask.op.getValue();\r\n      }\r\n      return this._mask.op.v * 100;\r\n    },\r\n  });\r\n\r\n  var MaskManager = function (maskManager) {\r\n    var _masksInterfaces = createSizedArray(maskManager.viewData.length);\r\n    var i;\r\n    var len = maskManager.viewData.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\r\n    }\r\n\r\n    var maskFunction = function (name) {\r\n      i = 0;\r\n      while (i < len) {\r\n        if (maskManager.masksProperties[i].nm === name) {\r\n          return _masksInterfaces[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n    };\r\n    return maskFunction;\r\n  };\r\n  return MaskManager;\r\n}());\r\n\r\n/* global createTypedArray */\r\n/* exported ExpressionPropertyInterface */\r\n\r\nvar ExpressionPropertyInterface = (function () {\r\n  var defaultUnidimensionalValue = { pv: 0, v: 0, mult: 1 };\r\n  var defaultMultidimensionalValue = { pv: [0, 0, 0], v: [0, 0, 0], mult: 1 };\r\n\r\n  function completeProperty(expressionValue, property, type) {\r\n    Object.defineProperty(expressionValue, 'velocity', {\r\n      get: function () {\r\n        return property.getVelocityAtTime(property.comp.currentFrame);\r\n      },\r\n    });\r\n    expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\r\n    expressionValue.key = function (pos) {\r\n      if (!expressionValue.numKeys) {\r\n        return 0;\r\n      }\r\n      var value = '';\r\n      if ('s' in property.keyframes[pos - 1]) {\r\n        value = property.keyframes[pos - 1].s;\r\n      } else if ('e' in property.keyframes[pos - 2]) {\r\n        value = property.keyframes[pos - 2].e;\r\n      } else {\r\n        value = property.keyframes[pos - 2].s;\r\n      }\r\n      var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\r\n      valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\r\n      valueProp.value = type === 'unidimensional' ? value[0] : value;\r\n      return valueProp;\r\n    };\r\n    expressionValue.valueAtTime = property.getValueAtTime;\r\n    expressionValue.speedAtTime = property.getSpeedAtTime;\r\n    expressionValue.velocityAtTime = property.getVelocityAtTime;\r\n    expressionValue.propertyGroup = property.propertyGroup;\r\n  }\r\n\r\n  function UnidimensionalPropertyInterface(property) {\r\n    if (!property || !('pv' in property)) {\r\n      property = defaultUnidimensionalValue;\r\n    }\r\n    var mult = 1 / property.mult;\r\n    var val = property.pv * mult;\r\n    var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\r\n    expressionValue.value = val;\r\n    completeProperty(expressionValue, property, 'unidimensional');\r\n\r\n    return function () {\r\n      if (property.k) {\r\n        property.getValue();\r\n      }\r\n      val = property.v * mult;\r\n      if (expressionValue.value !== val) {\r\n        expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\r\n        expressionValue.value = val;\r\n        completeProperty(expressionValue, property, 'unidimensional');\r\n      }\r\n      return expressionValue;\r\n    };\r\n  }\r\n\r\n  function MultidimensionalPropertyInterface(property) {\r\n    if (!property || !('pv' in property)) {\r\n      property = defaultMultidimensionalValue;\r\n    }\r\n    var mult = 1 / property.mult;\r\n    var len = (property.data && property.data.l) || property.pv.length;\r\n    var expressionValue = createTypedArray('float32', len);\r\n    var arrValue = createTypedArray('float32', len);\r\n    expressionValue.value = arrValue;\r\n    completeProperty(expressionValue, property, 'multidimensional');\r\n\r\n    return function () {\r\n      if (property.k) {\r\n        property.getValue();\r\n      }\r\n      for (var i = 0; i < len; i += 1) {\r\n        arrValue[i] = property.v[i] * mult;\r\n        expressionValue[i] = arrValue[i];\r\n      }\r\n      return expressionValue;\r\n    };\r\n  }\r\n\r\n  // TODO: try to avoid using this getter\r\n  function defaultGetter() {\r\n    return defaultUnidimensionalValue;\r\n  }\r\n\r\n  return function (property) {\r\n    if (!property) {\r\n      return defaultGetter;\r\n    } if (property.propType === 'unidimensional') {\r\n      return UnidimensionalPropertyInterface(property);\r\n    }\r\n    return MultidimensionalPropertyInterface(property);\r\n  };\r\n}());\r\n\r\n/* global expressionHelpers, TextSelectorProp, ExpressionManager */\r\n/* exported TextExpressionSelectorPropFactory */\r\n\r\nvar TextExpressionSelectorPropFactory = (function () { // eslint-disable-line no-unused-vars\r\n  function getValueProxy(index, total) {\r\n    this.textIndex = index + 1;\r\n    this.textTotal = total;\r\n    this.v = this.getValue() * this.mult;\r\n    return this.v;\r\n  }\r\n\r\n  return function (elem, data) {\r\n    this.pv = 1;\r\n    this.comp = elem.comp;\r\n    this.elem = elem;\r\n    this.mult = 0.01;\r\n    this.propType = 'textSelector';\r\n    this.textTotal = data.totalChars;\r\n    this.selectorValue = 100;\r\n    this.lastValue = [1, 1, 1];\r\n    this.k = true;\r\n    this.x = true;\r\n    this.getValue = ExpressionManager.initiateExpression.bind(this)(elem, data, this);\r\n    this.getMult = getValueProxy;\r\n    this.getVelocityAtTime = expressionHelpers.getVelocityAtTime;\r\n    if (this.kf) {\r\n      this.getValueAtTime = expressionHelpers.getValueAtTime.bind(this);\r\n    } else {\r\n      this.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(this);\r\n    }\r\n    this.setGroupProperty = expressionHelpers.setGroupProperty;\r\n  };\r\n}());\r\n\r\nvar propertyGetTextProp = TextSelectorProp.getTextSelectorProp;\r\nTextSelectorProp.getTextSelectorProp = function (elem, data, arr) {\r\n  if (data.t === 1) {\r\n    return new TextExpressionSelectorPropFactory(elem, data, arr); // eslint-disable-line no-undef\r\n  }\r\n  return propertyGetTextProp(elem, data, arr);\r\n};\r\n\r\n/* global PropertyFactory */\r\n/* exported SliderEffect, AngleEffect, ColorEffect, PointEffect, LayerIndexEffect, MaskIndexEffect, CheckboxEffect, NoValueEffect */\r\n\r\nfunction SliderEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction AngleEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction ColorEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\r\n}\r\nfunction PointEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\r\n}\r\nfunction LayerIndexEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction MaskIndexEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction CheckboxEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction NoValueEffect() {\r\n  this.p = {};\r\n}\r\n\r\n/* global extendPrototype, SliderEffect, AngleEffect, ColorEffect, PointEffect, CheckboxEffect, LayerIndexEffect,\r\nMaskIndexEffect, NoValueEffect, DynamicPropertyContainer */\r\n\r\nfunction EffectsManager(data, element) {\r\n  var effects = data.ef || [];\r\n  this.effectElements = [];\r\n  var i;\r\n  var len = effects.length;\r\n  var effectItem;\r\n  for (i = 0; i < len; i += 1) {\r\n    effectItem = new GroupEffect(effects[i], element);\r\n    this.effectElements.push(effectItem);\r\n  }\r\n}\r\n\r\nfunction GroupEffect(data, element) {\r\n  this.init(data, element);\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], GroupEffect);\r\n\r\nGroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\r\n\r\nGroupEffect.prototype.init = function (data, element) {\r\n  this.data = data;\r\n  this.effectElements = [];\r\n  this.initDynamicPropertyContainer(element);\r\n  var i;\r\n  var len = this.data.ef.length;\r\n  var eff;\r\n  var effects = this.data.ef;\r\n  for (i = 0; i < len; i += 1) {\r\n    eff = null;\r\n    switch (effects[i].ty) {\r\n      case 0:\r\n        eff = new SliderEffect(effects[i], element, this);\r\n        break;\r\n      case 1:\r\n        eff = new AngleEffect(effects[i], element, this);\r\n        break;\r\n      case 2:\r\n        eff = new ColorEffect(effects[i], element, this);\r\n        break;\r\n      case 3:\r\n        eff = new PointEffect(effects[i], element, this);\r\n        break;\r\n      case 4:\r\n      case 7:\r\n        eff = new CheckboxEffect(effects[i], element, this);\r\n        break;\r\n      case 10:\r\n        eff = new LayerIndexEffect(effects[i], element, this);\r\n        break;\r\n      case 11:\r\n        eff = new MaskIndexEffect(effects[i], element, this);\r\n        break;\r\n      case 5:\r\n        eff = new EffectsManager(effects[i], element, this);\r\n        break;\r\n        // case 6:\r\n      default:\r\n        eff = new NoValueEffect(effects[i], element, this);\r\n        break;\r\n    }\r\n    if (eff) {\r\n      this.effectElements.push(eff);\r\n    }\r\n  }\r\n};\r\n\r\n\r\nvar lottie = {};\r\n\r\nfunction setLocationHref(href) {\r\n  locationHref = href;\r\n}\r\n\r\nfunction searchAnimations() {\r\n  if (standalone === true) {\r\n    animationManager.searchAnimations(animationData, standalone, renderer);\r\n  } else {\r\n    animationManager.searchAnimations();\r\n  }\r\n}\r\n\r\nfunction setSubframeRendering(flag) {\r\n  subframeEnabled = flag;\r\n}\r\n\r\nfunction setIDPrefix(prefix) {\r\n  idPrefix = prefix;\r\n}\r\n\r\nfunction loadAnimation(params) {\r\n  if (standalone === true) {\r\n    params.animationData = JSON.parse(animationData);\r\n  }\r\n  return animationManager.loadAnimation(params);\r\n}\r\n\r\nfunction setQuality(value) {\r\n  if (typeof value === 'string') {\r\n    switch (value) {\r\n      case 'high':\r\n        defaultCurveSegments = 200;\r\n        break;\r\n      default:\r\n      case 'medium':\r\n        defaultCurveSegments = 50;\r\n        break;\r\n      case 'low':\r\n        defaultCurveSegments = 10;\r\n        break;\r\n    }\r\n  } else if (!isNaN(value) && value > 1) {\r\n    defaultCurveSegments = value;\r\n  }\r\n  if (defaultCurveSegments >= 50) {\r\n    roundValues(false);\r\n  } else {\r\n    roundValues(true);\r\n  }\r\n}\r\n\r\nfunction inBrowser() {\r\n  return typeof navigator !== 'undefined';\r\n}\r\n\r\nfunction installPlugin(type, plugin) {\r\n  if (type === 'expressions') {\r\n    expressionsPlugin = plugin;\r\n  }\r\n}\r\n\r\nfunction getFactory(name) {\r\n  switch (name) {\r\n    case 'propertyFactory':\r\n      return PropertyFactory;\r\n    case 'shapePropertyFactory':\r\n      return ShapePropertyFactory;\r\n    case 'matrix':\r\n      return Matrix;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nlottie.play = animationManager.play;\r\nlottie.pause = animationManager.pause;\r\nlottie.setLocationHref = setLocationHref;\r\nlottie.togglePause = animationManager.togglePause;\r\nlottie.setSpeed = animationManager.setSpeed;\r\nlottie.setDirection = animationManager.setDirection;\r\nlottie.stop = animationManager.stop;\r\nlottie.searchAnimations = searchAnimations;\r\nlottie.registerAnimation = animationManager.registerAnimation;\r\nlottie.loadAnimation = loadAnimation;\r\nlottie.setSubframeRendering = setSubframeRendering;\r\nlottie.resize = animationManager.resize;\r\n// lottie.start = start;\r\nlottie.goToAndStop = animationManager.goToAndStop;\r\nlottie.destroy = animationManager.destroy;\r\nlottie.setQuality = setQuality;\r\nlottie.inBrowser = inBrowser;\r\nlottie.installPlugin = installPlugin;\r\nlottie.freeze = animationManager.freeze;\r\nlottie.unfreeze = animationManager.unfreeze;\r\nlottie.setVolume = animationManager.setVolume;\r\nlottie.mute = animationManager.mute;\r\nlottie.unmute = animationManager.unmute;\r\nlottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\r\nlottie.useWebWorker = function (flag) {\r\n  _useWebWorker = flag;\r\n};\r\nlottie.setIDPrefix = setIDPrefix;\r\nlottie.__getFactory = getFactory;\r\nlottie.version = '5.8.1';\r\n\r\nfunction checkReady() {\r\n  if (document.readyState === 'complete') {\r\n    clearInterval(readyStateCheckInterval);\r\n    searchAnimations();\r\n  }\r\n}\r\n\r\nfunction getQueryVariable(variable) {\r\n  var vars = queryString.split('&');\r\n  for (var i = 0; i < vars.length; i += 1) {\r\n    var pair = vars[i].split('=');\r\n    if (decodeURIComponent(pair[0]) == variable) { // eslint-disable-line eqeqeq\r\n      return decodeURIComponent(pair[1]);\r\n    }\r\n  }\r\n  return null;\r\n}\r\nvar standalone = '__[STANDALONE]__';\r\nvar animationData = '__[ANIMATIONDATA]__';\r\nvar renderer = '';\r\nvar queryString;\r\nif (standalone) {\r\n  var scripts = document.getElementsByTagName('script');\r\n  var index = scripts.length - 1;\r\n  var myScript = scripts[index] || {\r\n    src: '',\r\n  };\r\n  queryString = myScript.src.replace(/^[^\\?]+\\??/, ''); // eslint-disable-line no-useless-escape\r\n  renderer = getQueryVariable('renderer');\r\n}\r\nvar readyStateCheckInterval = setInterval(checkReady, 100);\r\n\nreturn lottie;\n}));","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/**\n * @license\n * Copyright 2010-2021 Three.js Authors\n * SPDX-License-Identifier: MIT\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.THREE = {}));\n})(this, (function (exports) { 'use strict';\n\n\tconst REVISION = '136';\n\tconst MOUSE = {\n\t\tLEFT: 0,\n\t\tMIDDLE: 1,\n\t\tRIGHT: 2,\n\t\tROTATE: 0,\n\t\tDOLLY: 1,\n\t\tPAN: 2\n\t};\n\tconst TOUCH = {\n\t\tROTATE: 0,\n\t\tPAN: 1,\n\t\tDOLLY_PAN: 2,\n\t\tDOLLY_ROTATE: 3\n\t};\n\tconst CullFaceNone = 0;\n\tconst CullFaceBack = 1;\n\tconst CullFaceFront = 2;\n\tconst CullFaceFrontBack = 3;\n\tconst BasicShadowMap = 0;\n\tconst PCFShadowMap = 1;\n\tconst PCFSoftShadowMap = 2;\n\tconst VSMShadowMap = 3;\n\tconst FrontSide = 0;\n\tconst BackSide = 1;\n\tconst DoubleSide = 2;\n\tconst FlatShading = 1;\n\tconst SmoothShading = 2;\n\tconst NoBlending = 0;\n\tconst NormalBlending = 1;\n\tconst AdditiveBlending = 2;\n\tconst SubtractiveBlending = 3;\n\tconst MultiplyBlending = 4;\n\tconst CustomBlending = 5;\n\tconst AddEquation = 100;\n\tconst SubtractEquation = 101;\n\tconst ReverseSubtractEquation = 102;\n\tconst MinEquation = 103;\n\tconst MaxEquation = 104;\n\tconst ZeroFactor = 200;\n\tconst OneFactor = 201;\n\tconst SrcColorFactor = 202;\n\tconst OneMinusSrcColorFactor = 203;\n\tconst SrcAlphaFactor = 204;\n\tconst OneMinusSrcAlphaFactor = 205;\n\tconst DstAlphaFactor = 206;\n\tconst OneMinusDstAlphaFactor = 207;\n\tconst DstColorFactor = 208;\n\tconst OneMinusDstColorFactor = 209;\n\tconst SrcAlphaSaturateFactor = 210;\n\tconst NeverDepth = 0;\n\tconst AlwaysDepth = 1;\n\tconst LessDepth = 2;\n\tconst LessEqualDepth = 3;\n\tconst EqualDepth = 4;\n\tconst GreaterEqualDepth = 5;\n\tconst GreaterDepth = 6;\n\tconst NotEqualDepth = 7;\n\tconst MultiplyOperation = 0;\n\tconst MixOperation = 1;\n\tconst AddOperation = 2;\n\tconst NoToneMapping = 0;\n\tconst LinearToneMapping = 1;\n\tconst ReinhardToneMapping = 2;\n\tconst CineonToneMapping = 3;\n\tconst ACESFilmicToneMapping = 4;\n\tconst CustomToneMapping = 5;\n\tconst UVMapping = 300;\n\tconst CubeReflectionMapping = 301;\n\tconst CubeRefractionMapping = 302;\n\tconst EquirectangularReflectionMapping = 303;\n\tconst EquirectangularRefractionMapping = 304;\n\tconst CubeUVReflectionMapping = 306;\n\tconst CubeUVRefractionMapping = 307;\n\tconst RepeatWrapping = 1000;\n\tconst ClampToEdgeWrapping = 1001;\n\tconst MirroredRepeatWrapping = 1002;\n\tconst NearestFilter = 1003;\n\tconst NearestMipmapNearestFilter = 1004;\n\tconst NearestMipMapNearestFilter = 1004;\n\tconst NearestMipmapLinearFilter = 1005;\n\tconst NearestMipMapLinearFilter = 1005;\n\tconst LinearFilter = 1006;\n\tconst LinearMipmapNearestFilter = 1007;\n\tconst LinearMipMapNearestFilter = 1007;\n\tconst LinearMipmapLinearFilter = 1008;\n\tconst LinearMipMapLinearFilter = 1008;\n\tconst UnsignedByteType = 1009;\n\tconst ByteType = 1010;\n\tconst ShortType = 1011;\n\tconst UnsignedShortType = 1012;\n\tconst IntType = 1013;\n\tconst UnsignedIntType = 1014;\n\tconst FloatType = 1015;\n\tconst HalfFloatType = 1016;\n\tconst UnsignedShort4444Type = 1017;\n\tconst UnsignedShort5551Type = 1018;\n\tconst UnsignedShort565Type = 1019;\n\tconst UnsignedInt248Type = 1020;\n\tconst AlphaFormat = 1021;\n\tconst RGBFormat = 1022;\n\tconst RGBAFormat = 1023;\n\tconst LuminanceFormat = 1024;\n\tconst LuminanceAlphaFormat = 1025;\n\tconst DepthFormat = 1026;\n\tconst DepthStencilFormat = 1027;\n\tconst RedFormat = 1028;\n\tconst RedIntegerFormat = 1029;\n\tconst RGFormat = 1030;\n\tconst RGIntegerFormat = 1031;\n\tconst RGBIntegerFormat = 1032;\n\tconst RGBAIntegerFormat = 1033;\n\tconst RGB_S3TC_DXT1_Format = 33776;\n\tconst RGBA_S3TC_DXT1_Format = 33777;\n\tconst RGBA_S3TC_DXT3_Format = 33778;\n\tconst RGBA_S3TC_DXT5_Format = 33779;\n\tconst RGB_PVRTC_4BPPV1_Format = 35840;\n\tconst RGB_PVRTC_2BPPV1_Format = 35841;\n\tconst RGBA_PVRTC_4BPPV1_Format = 35842;\n\tconst RGBA_PVRTC_2BPPV1_Format = 35843;\n\tconst RGB_ETC1_Format = 36196;\n\tconst RGB_ETC2_Format = 37492;\n\tconst RGBA_ETC2_EAC_Format = 37496;\n\tconst RGBA_ASTC_4x4_Format = 37808;\n\tconst RGBA_ASTC_5x4_Format = 37809;\n\tconst RGBA_ASTC_5x5_Format = 37810;\n\tconst RGBA_ASTC_6x5_Format = 37811;\n\tconst RGBA_ASTC_6x6_Format = 37812;\n\tconst RGBA_ASTC_8x5_Format = 37813;\n\tconst RGBA_ASTC_8x6_Format = 37814;\n\tconst RGBA_ASTC_8x8_Format = 37815;\n\tconst RGBA_ASTC_10x5_Format = 37816;\n\tconst RGBA_ASTC_10x6_Format = 37817;\n\tconst RGBA_ASTC_10x8_Format = 37818;\n\tconst RGBA_ASTC_10x10_Format = 37819;\n\tconst RGBA_ASTC_12x10_Format = 37820;\n\tconst RGBA_ASTC_12x12_Format = 37821;\n\tconst RGBA_BPTC_Format = 36492;\n\tconst SRGB8_ALPHA8_ASTC_4x4_Format = 37840;\n\tconst SRGB8_ALPHA8_ASTC_5x4_Format = 37841;\n\tconst SRGB8_ALPHA8_ASTC_5x5_Format = 37842;\n\tconst SRGB8_ALPHA8_ASTC_6x5_Format = 37843;\n\tconst SRGB8_ALPHA8_ASTC_6x6_Format = 37844;\n\tconst SRGB8_ALPHA8_ASTC_8x5_Format = 37845;\n\tconst SRGB8_ALPHA8_ASTC_8x6_Format = 37846;\n\tconst SRGB8_ALPHA8_ASTC_8x8_Format = 37847;\n\tconst SRGB8_ALPHA8_ASTC_10x5_Format = 37848;\n\tconst SRGB8_ALPHA8_ASTC_10x6_Format = 37849;\n\tconst SRGB8_ALPHA8_ASTC_10x8_Format = 37850;\n\tconst SRGB8_ALPHA8_ASTC_10x10_Format = 37851;\n\tconst SRGB8_ALPHA8_ASTC_12x10_Format = 37852;\n\tconst SRGB8_ALPHA8_ASTC_12x12_Format = 37853;\n\tconst LoopOnce = 2200;\n\tconst LoopRepeat = 2201;\n\tconst LoopPingPong = 2202;\n\tconst InterpolateDiscrete = 2300;\n\tconst InterpolateLinear = 2301;\n\tconst InterpolateSmooth = 2302;\n\tconst ZeroCurvatureEnding = 2400;\n\tconst ZeroSlopeEnding = 2401;\n\tconst WrapAroundEnding = 2402;\n\tconst NormalAnimationBlendMode = 2500;\n\tconst AdditiveAnimationBlendMode = 2501;\n\tconst TrianglesDrawMode = 0;\n\tconst TriangleStripDrawMode = 1;\n\tconst TriangleFanDrawMode = 2;\n\tconst LinearEncoding = 3000;\n\tconst sRGBEncoding = 3001;\n\tconst BasicDepthPacking = 3200;\n\tconst RGBADepthPacking = 3201;\n\tconst TangentSpaceNormalMap = 0;\n\tconst ObjectSpaceNormalMap = 1;\n\tconst ZeroStencilOp = 0;\n\tconst KeepStencilOp = 7680;\n\tconst ReplaceStencilOp = 7681;\n\tconst IncrementStencilOp = 7682;\n\tconst DecrementStencilOp = 7683;\n\tconst IncrementWrapStencilOp = 34055;\n\tconst DecrementWrapStencilOp = 34056;\n\tconst InvertStencilOp = 5386;\n\tconst NeverStencilFunc = 512;\n\tconst LessStencilFunc = 513;\n\tconst EqualStencilFunc = 514;\n\tconst LessEqualStencilFunc = 515;\n\tconst GreaterStencilFunc = 516;\n\tconst NotEqualStencilFunc = 517;\n\tconst GreaterEqualStencilFunc = 518;\n\tconst AlwaysStencilFunc = 519;\n\tconst StaticDrawUsage = 35044;\n\tconst DynamicDrawUsage = 35048;\n\tconst StreamDrawUsage = 35040;\n\tconst StaticReadUsage = 35045;\n\tconst DynamicReadUsage = 35049;\n\tconst StreamReadUsage = 35041;\n\tconst StaticCopyUsage = 35046;\n\tconst DynamicCopyUsage = 35050;\n\tconst StreamCopyUsage = 35042;\n\tconst GLSL1 = '100';\n\tconst GLSL3 = '300 es';\n\n\t/**\n\t * https://github.com/mrdoob/eventdispatcher.js/\n\t */\n\tclass EventDispatcher {\n\t\taddEventListener(type, listener) {\n\t\t\tif (this._listeners === undefined) this._listeners = {};\n\t\t\tconst listeners = this._listeners;\n\n\t\t\tif (listeners[type] === undefined) {\n\t\t\t\tlisteners[type] = [];\n\t\t\t}\n\n\t\t\tif (listeners[type].indexOf(listener) === -1) {\n\t\t\t\tlisteners[type].push(listener);\n\t\t\t}\n\t\t}\n\n\t\thasEventListener(type, listener) {\n\t\t\tif (this._listeners === undefined) return false;\n\t\t\tconst listeners = this._listeners;\n\t\t\treturn listeners[type] !== undefined && listeners[type].indexOf(listener) !== -1;\n\t\t}\n\n\t\tremoveEventListener(type, listener) {\n\t\t\tif (this._listeners === undefined) return;\n\t\t\tconst listeners = this._listeners;\n\t\t\tconst listenerArray = listeners[type];\n\n\t\t\tif (listenerArray !== undefined) {\n\t\t\t\tconst index = listenerArray.indexOf(listener);\n\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tlistenerArray.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdispatchEvent(event) {\n\t\t\tif (this._listeners === undefined) return;\n\t\t\tconst listeners = this._listeners;\n\t\t\tconst listenerArray = listeners[event.type];\n\n\t\t\tif (listenerArray !== undefined) {\n\t\t\t\tevent.target = this; // Make a copy, in case listeners are removed while iterating.\n\n\t\t\t\tconst array = listenerArray.slice(0);\n\n\t\t\t\tfor (let i = 0, l = array.length; i < l; i++) {\n\t\t\t\t\tarray[i].call(this, event);\n\t\t\t\t}\n\n\t\t\t\tevent.target = null;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tconst _lut = [];\n\n\tfor (let i = 0; i < 256; i++) {\n\t\t_lut[i] = (i < 16 ? '0' : '') + i.toString(16);\n\t}\n\n\tlet _seed = 1234567;\n\tconst DEG2RAD = Math.PI / 180;\n\tconst RAD2DEG = 180 / Math.PI; // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n\tfunction generateUUID() {\n\t\tconst d0 = Math.random() * 0xffffffff | 0;\n\t\tconst d1 = Math.random() * 0xffffffff | 0;\n\t\tconst d2 = Math.random() * 0xffffffff | 0;\n\t\tconst d3 = Math.random() * 0xffffffff | 0;\n\t\tconst uuid = _lut[d0 & 0xff] + _lut[d0 >> 8 & 0xff] + _lut[d0 >> 16 & 0xff] + _lut[d0 >> 24 & 0xff] + '-' + _lut[d1 & 0xff] + _lut[d1 >> 8 & 0xff] + '-' + _lut[d1 >> 16 & 0x0f | 0x40] + _lut[d1 >> 24 & 0xff] + '-' + _lut[d2 & 0x3f | 0x80] + _lut[d2 >> 8 & 0xff] + '-' + _lut[d2 >> 16 & 0xff] + _lut[d2 >> 24 & 0xff] + _lut[d3 & 0xff] + _lut[d3 >> 8 & 0xff] + _lut[d3 >> 16 & 0xff] + _lut[d3 >> 24 & 0xff]; // .toUpperCase() here flattens concatenated strings to save heap memory space.\n\n\t\treturn uuid.toUpperCase();\n\t}\n\n\tfunction clamp(value, min, max) {\n\t\treturn Math.max(min, Math.min(max, value));\n\t} // compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\n\tfunction euclideanModulo(n, m) {\n\t\treturn (n % m + m) % m;\n\t} // Linear mapping from range <a1, a2> to range <b1, b2>\n\n\n\tfunction mapLinear(x, a1, a2, b1, b2) {\n\t\treturn b1 + (x - a1) * (b2 - b1) / (a2 - a1);\n\t} // https://www.gamedev.net/tutorials/programming/general-and-gameplay-programming/inverse-lerp-a-super-useful-yet-often-overlooked-function-r5230/\n\n\n\tfunction inverseLerp(x, y, value) {\n\t\tif (x !== y) {\n\t\t\treturn (value - x) / (y - x);\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t} // https://en.wikipedia.org/wiki/Linear_interpolation\n\n\n\tfunction lerp(x, y, t) {\n\t\treturn (1 - t) * x + t * y;\n\t} // http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\n\n\n\tfunction damp(x, y, lambda, dt) {\n\t\treturn lerp(x, y, 1 - Math.exp(-lambda * dt));\n\t} // https://www.desmos.com/calculator/vcsjnyz7x4\n\n\n\tfunction pingpong(x, length = 1) {\n\t\treturn length - Math.abs(euclideanModulo(x, length * 2) - length);\n\t} // http://en.wikipedia.org/wiki/Smoothstep\n\n\n\tfunction smoothstep(x, min, max) {\n\t\tif (x <= min) return 0;\n\t\tif (x >= max) return 1;\n\t\tx = (x - min) / (max - min);\n\t\treturn x * x * (3 - 2 * x);\n\t}\n\n\tfunction smootherstep(x, min, max) {\n\t\tif (x <= min) return 0;\n\t\tif (x >= max) return 1;\n\t\tx = (x - min) / (max - min);\n\t\treturn x * x * x * (x * (x * 6 - 15) + 10);\n\t} // Random integer from <low, high> interval\n\n\n\tfunction randInt(low, high) {\n\t\treturn low + Math.floor(Math.random() * (high - low + 1));\n\t} // Random float from <low, high> interval\n\n\n\tfunction randFloat(low, high) {\n\t\treturn low + Math.random() * (high - low);\n\t} // Random float from <-range/2, range/2> interval\n\n\n\tfunction randFloatSpread(range) {\n\t\treturn range * (0.5 - Math.random());\n\t} // Deterministic pseudo-random float in the interval [ 0, 1 ]\n\n\n\tfunction seededRandom(s) {\n\t\tif (s !== undefined) _seed = s % 2147483647; // Park-Miller algorithm\n\n\t\t_seed = _seed * 16807 % 2147483647;\n\t\treturn (_seed - 1) / 2147483646;\n\t}\n\n\tfunction degToRad(degrees) {\n\t\treturn degrees * DEG2RAD;\n\t}\n\n\tfunction radToDeg(radians) {\n\t\treturn radians * RAD2DEG;\n\t}\n\n\tfunction isPowerOfTwo(value) {\n\t\treturn (value & value - 1) === 0 && value !== 0;\n\t}\n\n\tfunction ceilPowerOfTwo(value) {\n\t\treturn Math.pow(2, Math.ceil(Math.log(value) / Math.LN2));\n\t}\n\n\tfunction floorPowerOfTwo(value) {\n\t\treturn Math.pow(2, Math.floor(Math.log(value) / Math.LN2));\n\t}\n\n\tfunction setQuaternionFromProperEuler(q, a, b, c, order) {\n\t\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\t\t// rotations are applied to the axes in the order specified by 'order'\n\t\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t\t// angles are in radians\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\t\tconst c2 = cos(b / 2);\n\t\tconst s2 = sin(b / 2);\n\t\tconst c13 = cos((a + c) / 2);\n\t\tconst s13 = sin((a + c) / 2);\n\t\tconst c1_3 = cos((a - c) / 2);\n\t\tconst s1_3 = sin((a - c) / 2);\n\t\tconst c3_1 = cos((c - a) / 2);\n\t\tconst s3_1 = sin((c - a) / 2);\n\n\t\tswitch (order) {\n\t\t\tcase 'XYX':\n\t\t\t\tq.set(c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13);\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZY':\n\t\t\t\tq.set(s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13);\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXZ':\n\t\t\t\tq.set(s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13);\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZX':\n\t\t\t\tq.set(c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13);\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXY':\n\t\t\t\tq.set(s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13);\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYZ':\n\t\t\t\tq.set(s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn('THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order);\n\t\t}\n\t}\n\n\tvar MathUtils = /*#__PURE__*/Object.freeze({\n\t\t__proto__: null,\n\t\tDEG2RAD: DEG2RAD,\n\t\tRAD2DEG: RAD2DEG,\n\t\tgenerateUUID: generateUUID,\n\t\tclamp: clamp,\n\t\teuclideanModulo: euclideanModulo,\n\t\tmapLinear: mapLinear,\n\t\tinverseLerp: inverseLerp,\n\t\tlerp: lerp,\n\t\tdamp: damp,\n\t\tpingpong: pingpong,\n\t\tsmoothstep: smoothstep,\n\t\tsmootherstep: smootherstep,\n\t\trandInt: randInt,\n\t\trandFloat: randFloat,\n\t\trandFloatSpread: randFloatSpread,\n\t\tseededRandom: seededRandom,\n\t\tdegToRad: degToRad,\n\t\tradToDeg: radToDeg,\n\t\tisPowerOfTwo: isPowerOfTwo,\n\t\tceilPowerOfTwo: ceilPowerOfTwo,\n\t\tfloorPowerOfTwo: floorPowerOfTwo,\n\t\tsetQuaternionFromProperEuler: setQuaternionFromProperEuler\n\t});\n\n\tclass Vector2 {\n\t\tconstructor(x = 0, y = 0) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t}\n\n\t\tget width() {\n\t\t\treturn this.x;\n\t\t}\n\n\t\tset width(value) {\n\t\t\tthis.x = value;\n\t\t}\n\n\t\tget height() {\n\t\t\treturn this.y;\n\t\t}\n\n\t\tset height(value) {\n\t\t\tthis.y = value;\n\t\t}\n\n\t\tset(x, y) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetScalar(scalar) {\n\t\t\tthis.x = scalar;\n\t\t\tthis.y = scalar;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetX(x) {\n\t\t\tthis.x = x;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetY(y) {\n\t\t\tthis.y = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetComponent(index, value) {\n\t\t\tswitch (index) {\n\t\t\t\tcase 0:\n\t\t\t\t\tthis.x = value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\t\t\t\t\tthis.y = value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error('index is out of range: ' + index);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tgetComponent(index) {\n\t\t\tswitch (index) {\n\t\t\t\tcase 0:\n\t\t\t\t\treturn this.x;\n\n\t\t\t\tcase 1:\n\t\t\t\t\treturn this.y;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error('index is out of range: ' + index);\n\t\t\t}\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor(this.x, this.y);\n\t\t}\n\n\t\tcopy(v) {\n\t\t\tthis.x = v.x;\n\t\t\tthis.y = v.y;\n\t\t\treturn this;\n\t\t}\n\n\t\tadd(v, w) {\n\t\t\tif (w !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n\t\t\t\treturn this.addVectors(v, w);\n\t\t\t}\n\n\t\t\tthis.x += v.x;\n\t\t\tthis.y += v.y;\n\t\t\treturn this;\n\t\t}\n\n\t\taddScalar(s) {\n\t\t\tthis.x += s;\n\t\t\tthis.y += s;\n\t\t\treturn this;\n\t\t}\n\n\t\taddVectors(a, b) {\n\t\t\tthis.x = a.x + b.x;\n\t\t\tthis.y = a.y + b.y;\n\t\t\treturn this;\n\t\t}\n\n\t\taddScaledVector(v, s) {\n\t\t\tthis.x += v.x * s;\n\t\t\tthis.y += v.y * s;\n\t\t\treturn this;\n\t\t}\n\n\t\tsub(v, w) {\n\t\t\tif (w !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n\t\t\t\treturn this.subVectors(v, w);\n\t\t\t}\n\n\t\t\tthis.x -= v.x;\n\t\t\tthis.y -= v.y;\n\t\t\treturn this;\n\t\t}\n\n\t\tsubScalar(s) {\n\t\t\tthis.x -= s;\n\t\t\tthis.y -= s;\n\t\t\treturn this;\n\t\t}\n\n\t\tsubVectors(a, b) {\n\t\t\tthis.x = a.x - b.x;\n\t\t\tthis.y = a.y - b.y;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiply(v) {\n\t\t\tthis.x *= v.x;\n\t\t\tthis.y *= v.y;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiplyScalar(scalar) {\n\t\t\tthis.x *= scalar;\n\t\t\tthis.y *= scalar;\n\t\t\treturn this;\n\t\t}\n\n\t\tdivide(v) {\n\t\t\tthis.x /= v.x;\n\t\t\tthis.y /= v.y;\n\t\t\treturn this;\n\t\t}\n\n\t\tdivideScalar(scalar) {\n\t\t\treturn this.multiplyScalar(1 / scalar);\n\t\t}\n\n\t\tapplyMatrix3(m) {\n\t\t\tconst x = this.x,\n\t\t\t\t\t\ty = this.y;\n\t\t\tconst e = m.elements;\n\t\t\tthis.x = e[0] * x + e[3] * y + e[6];\n\t\t\tthis.y = e[1] * x + e[4] * y + e[7];\n\t\t\treturn this;\n\t\t}\n\n\t\tmin(v) {\n\t\t\tthis.x = Math.min(this.x, v.x);\n\t\t\tthis.y = Math.min(this.y, v.y);\n\t\t\treturn this;\n\t\t}\n\n\t\tmax(v) {\n\t\t\tthis.x = Math.max(this.x, v.x);\n\t\t\tthis.y = Math.max(this.y, v.y);\n\t\t\treturn this;\n\t\t}\n\n\t\tclamp(min, max) {\n\t\t\t// assumes min < max, componentwise\n\t\t\tthis.x = Math.max(min.x, Math.min(max.x, this.x));\n\t\t\tthis.y = Math.max(min.y, Math.min(max.y, this.y));\n\t\t\treturn this;\n\t\t}\n\n\t\tclampScalar(minVal, maxVal) {\n\t\t\tthis.x = Math.max(minVal, Math.min(maxVal, this.x));\n\t\t\tthis.y = Math.max(minVal, Math.min(maxVal, this.y));\n\t\t\treturn this;\n\t\t}\n\n\t\tclampLength(min, max) {\n\t\t\tconst length = this.length();\n\t\t\treturn this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n\t\t}\n\n\t\tfloor() {\n\t\t\tthis.x = Math.floor(this.x);\n\t\t\tthis.y = Math.floor(this.y);\n\t\t\treturn this;\n\t\t}\n\n\t\tceil() {\n\t\t\tthis.x = Math.ceil(this.x);\n\t\t\tthis.y = Math.ceil(this.y);\n\t\t\treturn this;\n\t\t}\n\n\t\tround() {\n\t\t\tthis.x = Math.round(this.x);\n\t\t\tthis.y = Math.round(this.y);\n\t\t\treturn this;\n\t\t}\n\n\t\troundToZero() {\n\t\t\tthis.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n\t\t\tthis.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n\t\t\treturn this;\n\t\t}\n\n\t\tnegate() {\n\t\t\tthis.x = -this.x;\n\t\t\tthis.y = -this.y;\n\t\t\treturn this;\n\t\t}\n\n\t\tdot(v) {\n\t\t\treturn this.x * v.x + this.y * v.y;\n\t\t}\n\n\t\tcross(v) {\n\t\t\treturn this.x * v.y - this.y * v.x;\n\t\t}\n\n\t\tlengthSq() {\n\t\t\treturn this.x * this.x + this.y * this.y;\n\t\t}\n\n\t\tlength() {\n\t\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t\t}\n\n\t\tmanhattanLength() {\n\t\t\treturn Math.abs(this.x) + Math.abs(this.y);\n\t\t}\n\n\t\tnormalize() {\n\t\t\treturn this.divideScalar(this.length() || 1);\n\t\t}\n\n\t\tangle() {\n\t\t\t// computes the angle in radians with respect to the positive x-axis\n\t\t\tconst angle = Math.atan2(-this.y, -this.x) + Math.PI;\n\t\t\treturn angle;\n\t\t}\n\n\t\tdistanceTo(v) {\n\t\t\treturn Math.sqrt(this.distanceToSquared(v));\n\t\t}\n\n\t\tdistanceToSquared(v) {\n\t\t\tconst dx = this.x - v.x,\n\t\t\t\t\t\tdy = this.y - v.y;\n\t\t\treturn dx * dx + dy * dy;\n\t\t}\n\n\t\tmanhattanDistanceTo(v) {\n\t\t\treturn Math.abs(this.x - v.x) + Math.abs(this.y - v.y);\n\t\t}\n\n\t\tsetLength(length) {\n\t\t\treturn this.normalize().multiplyScalar(length);\n\t\t}\n\n\t\tlerp(v, alpha) {\n\t\t\tthis.x += (v.x - this.x) * alpha;\n\t\t\tthis.y += (v.y - this.y) * alpha;\n\t\t\treturn this;\n\t\t}\n\n\t\tlerpVectors(v1, v2, alpha) {\n\t\t\tthis.x = v1.x + (v2.x - v1.x) * alpha;\n\t\t\tthis.y = v1.y + (v2.y - v1.y) * alpha;\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(v) {\n\t\t\treturn v.x === this.x && v.y === this.y;\n\t\t}\n\n\t\tfromArray(array, offset = 0) {\n\t\t\tthis.x = array[offset];\n\t\t\tthis.y = array[offset + 1];\n\t\t\treturn this;\n\t\t}\n\n\t\ttoArray(array = [], offset = 0) {\n\t\t\tarray[offset] = this.x;\n\t\t\tarray[offset + 1] = this.y;\n\t\t\treturn array;\n\t\t}\n\n\t\tfromBufferAttribute(attribute, index, offset) {\n\t\t\tif (offset !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector2: offset has been removed from .fromBufferAttribute().');\n\t\t\t}\n\n\t\t\tthis.x = attribute.getX(index);\n\t\t\tthis.y = attribute.getY(index);\n\t\t\treturn this;\n\t\t}\n\n\t\trotateAround(center, angle) {\n\t\t\tconst c = Math.cos(angle),\n\t\t\t\t\t\ts = Math.sin(angle);\n\t\t\tconst x = this.x - center.x;\n\t\t\tconst y = this.y - center.y;\n\t\t\tthis.x = x * c - y * s + center.x;\n\t\t\tthis.y = x * s + y * c + center.y;\n\t\t\treturn this;\n\t\t}\n\n\t\trandom() {\n\t\t\tthis.x = Math.random();\n\t\t\tthis.y = Math.random();\n\t\t\treturn this;\n\t\t}\n\n\t\t*[Symbol.iterator]() {\n\t\t\tyield this.x;\n\t\t\tyield this.y;\n\t\t}\n\n\t}\n\n\tVector2.prototype.isVector2 = true;\n\n\tclass Matrix3 {\n\t\tconstructor() {\n\t\t\tthis.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n\t\t\tif (arguments.length > 0) {\n\t\t\t\tconsole.error('THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.');\n\t\t\t}\n\t\t}\n\n\t\tset(n11, n12, n13, n21, n22, n23, n31, n32, n33) {\n\t\t\tconst te = this.elements;\n\t\t\tte[0] = n11;\n\t\t\tte[1] = n21;\n\t\t\tte[2] = n31;\n\t\t\tte[3] = n12;\n\t\t\tte[4] = n22;\n\t\t\tte[5] = n32;\n\t\t\tte[6] = n13;\n\t\t\tte[7] = n23;\n\t\t\tte[8] = n33;\n\t\t\treturn this;\n\t\t}\n\n\t\tidentity() {\n\t\t\tthis.set(1, 0, 0, 0, 1, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(m) {\n\t\t\tconst te = this.elements;\n\t\t\tconst me = m.elements;\n\t\t\tte[0] = me[0];\n\t\t\tte[1] = me[1];\n\t\t\tte[2] = me[2];\n\t\t\tte[3] = me[3];\n\t\t\tte[4] = me[4];\n\t\t\tte[5] = me[5];\n\t\t\tte[6] = me[6];\n\t\t\tte[7] = me[7];\n\t\t\tte[8] = me[8];\n\t\t\treturn this;\n\t\t}\n\n\t\textractBasis(xAxis, yAxis, zAxis) {\n\t\t\txAxis.setFromMatrix3Column(this, 0);\n\t\t\tyAxis.setFromMatrix3Column(this, 1);\n\t\t\tzAxis.setFromMatrix3Column(this, 2);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromMatrix4(m) {\n\t\t\tconst me = m.elements;\n\t\t\tthis.set(me[0], me[4], me[8], me[1], me[5], me[9], me[2], me[6], me[10]);\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiply(m) {\n\t\t\treturn this.multiplyMatrices(this, m);\n\t\t}\n\n\t\tpremultiply(m) {\n\t\t\treturn this.multiplyMatrices(m, this);\n\t\t}\n\n\t\tmultiplyMatrices(a, b) {\n\t\t\tconst ae = a.elements;\n\t\t\tconst be = b.elements;\n\t\t\tconst te = this.elements;\n\t\t\tconst a11 = ae[0],\n\t\t\t\t\t\ta12 = ae[3],\n\t\t\t\t\t\ta13 = ae[6];\n\t\t\tconst a21 = ae[1],\n\t\t\t\t\t\ta22 = ae[4],\n\t\t\t\t\t\ta23 = ae[7];\n\t\t\tconst a31 = ae[2],\n\t\t\t\t\t\ta32 = ae[5],\n\t\t\t\t\t\ta33 = ae[8];\n\t\t\tconst b11 = be[0],\n\t\t\t\t\t\tb12 = be[3],\n\t\t\t\t\t\tb13 = be[6];\n\t\t\tconst b21 = be[1],\n\t\t\t\t\t\tb22 = be[4],\n\t\t\t\t\t\tb23 = be[7];\n\t\t\tconst b31 = be[2],\n\t\t\t\t\t\tb32 = be[5],\n\t\t\t\t\t\tb33 = be[8];\n\t\t\tte[0] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\t\tte[3] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\t\tte[6] = a11 * b13 + a12 * b23 + a13 * b33;\n\t\t\tte[1] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\t\tte[4] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\t\tte[7] = a21 * b13 + a22 * b23 + a23 * b33;\n\t\t\tte[2] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\t\tte[5] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\t\tte[8] = a31 * b13 + a32 * b23 + a33 * b33;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiplyScalar(s) {\n\t\t\tconst te = this.elements;\n\t\t\tte[0] *= s;\n\t\t\tte[3] *= s;\n\t\t\tte[6] *= s;\n\t\t\tte[1] *= s;\n\t\t\tte[4] *= s;\n\t\t\tte[7] *= s;\n\t\t\tte[2] *= s;\n\t\t\tte[5] *= s;\n\t\t\tte[8] *= s;\n\t\t\treturn this;\n\t\t}\n\n\t\tdeterminant() {\n\t\t\tconst te = this.elements;\n\t\t\tconst a = te[0],\n\t\t\t\t\t\tb = te[1],\n\t\t\t\t\t\tc = te[2],\n\t\t\t\t\t\td = te[3],\n\t\t\t\t\t\te = te[4],\n\t\t\t\t\t\tf = te[5],\n\t\t\t\t\t\tg = te[6],\n\t\t\t\t\t\th = te[7],\n\t\t\t\t\t\ti = te[8];\n\t\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\t\t}\n\n\t\tinvert() {\n\t\t\tconst te = this.elements,\n\t\t\t\t\t\tn11 = te[0],\n\t\t\t\t\t\tn21 = te[1],\n\t\t\t\t\t\tn31 = te[2],\n\t\t\t\t\t\tn12 = te[3],\n\t\t\t\t\t\tn22 = te[4],\n\t\t\t\t\t\tn32 = te[5],\n\t\t\t\t\t\tn13 = te[6],\n\t\t\t\t\t\tn23 = te[7],\n\t\t\t\t\t\tn33 = te[8],\n\t\t\t\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\t\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\t\t\t\tt13 = n23 * n12 - n22 * n13,\n\t\t\t\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\t\t\tif (det === 0) return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0);\n\t\t\tconst detInv = 1 / det;\n\t\t\tte[0] = t11 * detInv;\n\t\t\tte[1] = (n31 * n23 - n33 * n21) * detInv;\n\t\t\tte[2] = (n32 * n21 - n31 * n22) * detInv;\n\t\t\tte[3] = t12 * detInv;\n\t\t\tte[4] = (n33 * n11 - n31 * n13) * detInv;\n\t\t\tte[5] = (n31 * n12 - n32 * n11) * detInv;\n\t\t\tte[6] = t13 * detInv;\n\t\t\tte[7] = (n21 * n13 - n23 * n11) * detInv;\n\t\t\tte[8] = (n22 * n11 - n21 * n12) * detInv;\n\t\t\treturn this;\n\t\t}\n\n\t\ttranspose() {\n\t\t\tlet tmp;\n\t\t\tconst m = this.elements;\n\t\t\ttmp = m[1];\n\t\t\tm[1] = m[3];\n\t\t\tm[3] = tmp;\n\t\t\ttmp = m[2];\n\t\t\tm[2] = m[6];\n\t\t\tm[6] = tmp;\n\t\t\ttmp = m[5];\n\t\t\tm[5] = m[7];\n\t\t\tm[7] = tmp;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetNormalMatrix(matrix4) {\n\t\t\treturn this.setFromMatrix4(matrix4).invert().transpose();\n\t\t}\n\n\t\ttransposeIntoArray(r) {\n\t\t\tconst m = this.elements;\n\t\t\tr[0] = m[0];\n\t\t\tr[1] = m[3];\n\t\t\tr[2] = m[6];\n\t\t\tr[3] = m[1];\n\t\t\tr[4] = m[4];\n\t\t\tr[5] = m[7];\n\t\t\tr[6] = m[2];\n\t\t\tr[7] = m[5];\n\t\t\tr[8] = m[8];\n\t\t\treturn this;\n\t\t}\n\n\t\tsetUvTransform(tx, ty, sx, sy, rotation, cx, cy) {\n\t\t\tconst c = Math.cos(rotation);\n\t\t\tconst s = Math.sin(rotation);\n\t\t\tthis.set(sx * c, sx * s, -sx * (c * cx + s * cy) + cx + tx, -sy * s, sy * c, -sy * (-s * cx + c * cy) + cy + ty, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tscale(sx, sy) {\n\t\t\tconst te = this.elements;\n\t\t\tte[0] *= sx;\n\t\t\tte[3] *= sx;\n\t\t\tte[6] *= sx;\n\t\t\tte[1] *= sy;\n\t\t\tte[4] *= sy;\n\t\t\tte[7] *= sy;\n\t\t\treturn this;\n\t\t}\n\n\t\trotate(theta) {\n\t\t\tconst c = Math.cos(theta);\n\t\t\tconst s = Math.sin(theta);\n\t\t\tconst te = this.elements;\n\t\t\tconst a11 = te[0],\n\t\t\t\t\t\ta12 = te[3],\n\t\t\t\t\t\ta13 = te[6];\n\t\t\tconst a21 = te[1],\n\t\t\t\t\t\ta22 = te[4],\n\t\t\t\t\t\ta23 = te[7];\n\t\t\tte[0] = c * a11 + s * a21;\n\t\t\tte[3] = c * a12 + s * a22;\n\t\t\tte[6] = c * a13 + s * a23;\n\t\t\tte[1] = -s * a11 + c * a21;\n\t\t\tte[4] = -s * a12 + c * a22;\n\t\t\tte[7] = -s * a13 + c * a23;\n\t\t\treturn this;\n\t\t}\n\n\t\ttranslate(tx, ty) {\n\t\t\tconst te = this.elements;\n\t\t\tte[0] += tx * te[2];\n\t\t\tte[3] += tx * te[5];\n\t\t\tte[6] += tx * te[8];\n\t\t\tte[1] += ty * te[2];\n\t\t\tte[4] += ty * te[5];\n\t\t\tte[7] += ty * te[8];\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(matrix) {\n\t\t\tconst te = this.elements;\n\t\t\tconst me = matrix.elements;\n\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tif (te[i] !== me[i]) return false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tfromArray(array, offset = 0) {\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tthis.elements[i] = array[i + offset];\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttoArray(array = [], offset = 0) {\n\t\t\tconst te = this.elements;\n\t\t\tarray[offset] = te[0];\n\t\t\tarray[offset + 1] = te[1];\n\t\t\tarray[offset + 2] = te[2];\n\t\t\tarray[offset + 3] = te[3];\n\t\t\tarray[offset + 4] = te[4];\n\t\t\tarray[offset + 5] = te[5];\n\t\t\tarray[offset + 6] = te[6];\n\t\t\tarray[offset + 7] = te[7];\n\t\t\tarray[offset + 8] = te[8];\n\t\t\treturn array;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().fromArray(this.elements);\n\t\t}\n\n\t}\n\n\tMatrix3.prototype.isMatrix3 = true;\n\n\tfunction arrayMax(array) {\n\t\tif (array.length === 0) return -Infinity;\n\t\tlet max = array[0];\n\n\t\tfor (let i = 1, l = array.length; i < l; ++i) {\n\t\t\tif (array[i] > max) max = array[i];\n\t\t}\n\n\t\treturn max;\n\t}\n\n\tconst TYPED_ARRAYS = {\n\t\tInt8Array: Int8Array,\n\t\tUint8Array: Uint8Array,\n\t\tUint8ClampedArray: Uint8ClampedArray,\n\t\tInt16Array: Int16Array,\n\t\tUint16Array: Uint16Array,\n\t\tInt32Array: Int32Array,\n\t\tUint32Array: Uint32Array,\n\t\tFloat32Array: Float32Array,\n\t\tFloat64Array: Float64Array\n\t};\n\n\tfunction getTypedArray(type, buffer) {\n\t\treturn new TYPED_ARRAYS[type](buffer);\n\t}\n\n\tfunction createElementNS(name) {\n\t\treturn document.createElementNS('http://www.w3.org/1999/xhtml', name);\n\t}\n\n\tlet _canvas;\n\n\tclass ImageUtils {\n\t\tstatic getDataURL(image) {\n\t\t\tif (/^data:/i.test(image.src)) {\n\t\t\t\treturn image.src;\n\t\t\t}\n\n\t\t\tif (typeof HTMLCanvasElement == 'undefined') {\n\t\t\t\treturn image.src;\n\t\t\t}\n\n\t\t\tlet canvas;\n\n\t\t\tif (image instanceof HTMLCanvasElement) {\n\t\t\t\tcanvas = image;\n\t\t\t} else {\n\t\t\t\tif (_canvas === undefined) _canvas = createElementNS('canvas');\n\t\t\t\t_canvas.width = image.width;\n\t\t\t\t_canvas.height = image.height;\n\n\t\t\t\tconst context = _canvas.getContext('2d');\n\n\t\t\t\tif (image instanceof ImageData) {\n\t\t\t\t\tcontext.putImageData(image, 0, 0);\n\t\t\t\t} else {\n\t\t\t\t\tcontext.drawImage(image, 0, 0, image.width, image.height);\n\t\t\t\t}\n\n\t\t\t\tcanvas = _canvas;\n\t\t\t}\n\n\t\t\tif (canvas.width > 2048 || canvas.height > 2048) {\n\t\t\t\tconsole.warn('THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons', image);\n\t\t\t\treturn canvas.toDataURL('image/jpeg', 0.6);\n\t\t\t} else {\n\t\t\t\treturn canvas.toDataURL('image/png');\n\t\t\t}\n\t\t}\n\n\t}\n\n\tlet textureId = 0;\n\n\tclass Texture extends EventDispatcher {\n\t\tconstructor(image = Texture.DEFAULT_IMAGE, mapping = Texture.DEFAULT_MAPPING, wrapS = ClampToEdgeWrapping, wrapT = ClampToEdgeWrapping, magFilter = LinearFilter, minFilter = LinearMipmapLinearFilter, format = RGBAFormat, type = UnsignedByteType, anisotropy = 1, encoding = LinearEncoding) {\n\t\t\tsuper();\n\t\t\tObject.defineProperty(this, 'id', {\n\t\t\t\tvalue: textureId++\n\t\t\t});\n\t\t\tthis.uuid = generateUUID();\n\t\t\tthis.name = '';\n\t\t\tthis.image = image;\n\t\t\tthis.mipmaps = [];\n\t\t\tthis.mapping = mapping;\n\t\t\tthis.wrapS = wrapS;\n\t\t\tthis.wrapT = wrapT;\n\t\t\tthis.magFilter = magFilter;\n\t\t\tthis.minFilter = minFilter;\n\t\t\tthis.anisotropy = anisotropy;\n\t\t\tthis.format = format;\n\t\t\tthis.internalFormat = null;\n\t\t\tthis.type = type;\n\t\t\tthis.offset = new Vector2(0, 0);\n\t\t\tthis.repeat = new Vector2(1, 1);\n\t\t\tthis.center = new Vector2(0, 0);\n\t\t\tthis.rotation = 0;\n\t\t\tthis.matrixAutoUpdate = true;\n\t\t\tthis.matrix = new Matrix3();\n\t\t\tthis.generateMipmaps = true;\n\t\t\tthis.premultiplyAlpha = false;\n\t\t\tthis.flipY = true;\n\t\t\tthis.unpackAlignment = 4; // valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\t\t\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t\t\t//\n\t\t\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t\t\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\n\t\t\tthis.encoding = encoding;\n\t\t\tthis.userData = {};\n\t\t\tthis.version = 0;\n\t\t\tthis.onUpdate = null;\n\t\t\tthis.isRenderTargetTexture = false;\n\t\t}\n\n\t\tupdateMatrix() {\n\t\t\tthis.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y);\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tthis.name = source.name;\n\t\t\tthis.image = source.image;\n\t\t\tthis.mipmaps = source.mipmaps.slice(0);\n\t\t\tthis.mapping = source.mapping;\n\t\t\tthis.wrapS = source.wrapS;\n\t\t\tthis.wrapT = source.wrapT;\n\t\t\tthis.magFilter = source.magFilter;\n\t\t\tthis.minFilter = source.minFilter;\n\t\t\tthis.anisotropy = source.anisotropy;\n\t\t\tthis.format = source.format;\n\t\t\tthis.internalFormat = source.internalFormat;\n\t\t\tthis.type = source.type;\n\t\t\tthis.offset.copy(source.offset);\n\t\t\tthis.repeat.copy(source.repeat);\n\t\t\tthis.center.copy(source.center);\n\t\t\tthis.rotation = source.rotation;\n\t\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\t\tthis.matrix.copy(source.matrix);\n\t\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\t\tthis.flipY = source.flipY;\n\t\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\t\tthis.encoding = source.encoding;\n\t\t\tthis.userData = JSON.parse(JSON.stringify(source.userData));\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst isRootObject = meta === undefined || typeof meta === 'string';\n\n\t\t\tif (!isRootObject && meta.textures[this.uuid] !== undefined) {\n\t\t\t\treturn meta.textures[this.uuid];\n\t\t\t}\n\n\t\t\tconst output = {\n\t\t\t\tmetadata: {\n\t\t\t\t\tversion: 4.5,\n\t\t\t\t\ttype: 'Texture',\n\t\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t\t},\n\t\t\t\tuuid: this.uuid,\n\t\t\t\tname: this.name,\n\t\t\t\tmapping: this.mapping,\n\t\t\t\trepeat: [this.repeat.x, this.repeat.y],\n\t\t\t\toffset: [this.offset.x, this.offset.y],\n\t\t\t\tcenter: [this.center.x, this.center.y],\n\t\t\t\trotation: this.rotation,\n\t\t\t\twrap: [this.wrapS, this.wrapT],\n\t\t\t\tformat: this.format,\n\t\t\t\ttype: this.type,\n\t\t\t\tencoding: this.encoding,\n\t\t\t\tminFilter: this.minFilter,\n\t\t\t\tmagFilter: this.magFilter,\n\t\t\t\tanisotropy: this.anisotropy,\n\t\t\t\tflipY: this.flipY,\n\t\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\t\tunpackAlignment: this.unpackAlignment\n\t\t\t};\n\n\t\t\tif (this.image !== undefined) {\n\t\t\t\t// TODO: Move to THREE.Image\n\t\t\t\tconst image = this.image;\n\n\t\t\t\tif (image.uuid === undefined) {\n\t\t\t\t\timage.uuid = generateUUID(); // UGH\n\t\t\t\t}\n\n\t\t\t\tif (!isRootObject && meta.images[image.uuid] === undefined) {\n\t\t\t\t\tlet url;\n\n\t\t\t\t\tif (Array.isArray(image)) {\n\t\t\t\t\t\t// process array of images e.g. CubeTexture\n\t\t\t\t\t\turl = [];\n\n\t\t\t\t\t\tfor (let i = 0, l = image.length; i < l; i++) {\n\t\t\t\t\t\t\t// check cube texture with data textures\n\t\t\t\t\t\t\tif (image[i].isDataTexture) {\n\t\t\t\t\t\t\t\turl.push(serializeImage(image[i].image));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\turl.push(serializeImage(image[i]));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// process single image\n\t\t\t\t\t\turl = serializeImage(image);\n\t\t\t\t\t}\n\n\t\t\t\t\tmeta.images[image.uuid] = {\n\t\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\t\turl: url\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\toutput.image = image.uuid;\n\t\t\t}\n\n\t\t\tif (JSON.stringify(this.userData) !== '{}') output.userData = this.userData;\n\n\t\t\tif (!isRootObject) {\n\t\t\t\tmeta.textures[this.uuid] = output;\n\t\t\t}\n\n\t\t\treturn output;\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.dispatchEvent({\n\t\t\t\ttype: 'dispose'\n\t\t\t});\n\t\t}\n\n\t\ttransformUv(uv) {\n\t\t\tif (this.mapping !== UVMapping) return uv;\n\t\t\tuv.applyMatrix3(this.matrix);\n\n\t\t\tif (uv.x < 0 || uv.x > 1) {\n\t\t\t\tswitch (this.wrapS) {\n\t\t\t\t\tcase RepeatWrapping:\n\t\t\t\t\t\tuv.x = uv.x - Math.floor(uv.x);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase ClampToEdgeWrapping:\n\t\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase MirroredRepeatWrapping:\n\t\t\t\t\t\tif (Math.abs(Math.floor(uv.x) % 2) === 1) {\n\t\t\t\t\t\t\tuv.x = Math.ceil(uv.x) - uv.x;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuv.x = uv.x - Math.floor(uv.x);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (uv.y < 0 || uv.y > 1) {\n\t\t\t\tswitch (this.wrapT) {\n\t\t\t\t\tcase RepeatWrapping:\n\t\t\t\t\t\tuv.y = uv.y - Math.floor(uv.y);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase ClampToEdgeWrapping:\n\t\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase MirroredRepeatWrapping:\n\t\t\t\t\t\tif (Math.abs(Math.floor(uv.y) % 2) === 1) {\n\t\t\t\t\t\t\tuv.y = Math.ceil(uv.y) - uv.y;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuv.y = uv.y - Math.floor(uv.y);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.flipY) {\n\t\t\t\tuv.y = 1 - uv.y;\n\t\t\t}\n\n\t\t\treturn uv;\n\t\t}\n\n\t\tset needsUpdate(value) {\n\t\t\tif (value === true) this.version++;\n\t\t}\n\n\t}\n\n\tTexture.DEFAULT_IMAGE = undefined;\n\tTexture.DEFAULT_MAPPING = UVMapping;\n\tTexture.prototype.isTexture = true;\n\n\tfunction serializeImage(image) {\n\t\tif (typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement || typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement || typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap) {\n\t\t\t// default images\n\t\t\treturn ImageUtils.getDataURL(image);\n\t\t} else {\n\t\t\tif (image.data) {\n\t\t\t\t// images of DataTexture\n\t\t\t\treturn {\n\t\t\t\t\tdata: Array.prototype.slice.call(image.data),\n\t\t\t\t\twidth: image.width,\n\t\t\t\t\theight: image.height,\n\t\t\t\t\ttype: image.data.constructor.name\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconsole.warn('THREE.Texture: Unable to serialize Texture.');\n\t\t\t\treturn {};\n\t\t\t}\n\t\t}\n\t}\n\n\tclass Vector4 {\n\t\tconstructor(x = 0, y = 0, z = 0, w = 1) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.z = z;\n\t\t\tthis.w = w;\n\t\t}\n\n\t\tget width() {\n\t\t\treturn this.z;\n\t\t}\n\n\t\tset width(value) {\n\t\t\tthis.z = value;\n\t\t}\n\n\t\tget height() {\n\t\t\treturn this.w;\n\t\t}\n\n\t\tset height(value) {\n\t\t\tthis.w = value;\n\t\t}\n\n\t\tset(x, y, z, w) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.z = z;\n\t\t\tthis.w = w;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetScalar(scalar) {\n\t\t\tthis.x = scalar;\n\t\t\tthis.y = scalar;\n\t\t\tthis.z = scalar;\n\t\t\tthis.w = scalar;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetX(x) {\n\t\t\tthis.x = x;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetY(y) {\n\t\t\tthis.y = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetZ(z) {\n\t\t\tthis.z = z;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetW(w) {\n\t\t\tthis.w = w;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetComponent(index, value) {\n\t\t\tswitch (index) {\n\t\t\t\tcase 0:\n\t\t\t\t\tthis.x = value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\t\t\t\t\tthis.y = value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\t\t\t\t\tthis.z = value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 3:\n\t\t\t\t\tthis.w = value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error('index is out of range: ' + index);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tgetComponent(index) {\n\t\t\tswitch (index) {\n\t\t\t\tcase 0:\n\t\t\t\t\treturn this.x;\n\n\t\t\t\tcase 1:\n\t\t\t\t\treturn this.y;\n\n\t\t\t\tcase 2:\n\t\t\t\t\treturn this.z;\n\n\t\t\t\tcase 3:\n\t\t\t\t\treturn this.w;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error('index is out of range: ' + index);\n\t\t\t}\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor(this.x, this.y, this.z, this.w);\n\t\t}\n\n\t\tcopy(v) {\n\t\t\tthis.x = v.x;\n\t\t\tthis.y = v.y;\n\t\t\tthis.z = v.z;\n\t\t\tthis.w = v.w !== undefined ? v.w : 1;\n\t\t\treturn this;\n\t\t}\n\n\t\tadd(v, w) {\n\t\t\tif (w !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n\t\t\t\treturn this.addVectors(v, w);\n\t\t\t}\n\n\t\t\tthis.x += v.x;\n\t\t\tthis.y += v.y;\n\t\t\tthis.z += v.z;\n\t\t\tthis.w += v.w;\n\t\t\treturn this;\n\t\t}\n\n\t\taddScalar(s) {\n\t\t\tthis.x += s;\n\t\t\tthis.y += s;\n\t\t\tthis.z += s;\n\t\t\tthis.w += s;\n\t\t\treturn this;\n\t\t}\n\n\t\taddVectors(a, b) {\n\t\t\tthis.x = a.x + b.x;\n\t\t\tthis.y = a.y + b.y;\n\t\t\tthis.z = a.z + b.z;\n\t\t\tthis.w = a.w + b.w;\n\t\t\treturn this;\n\t\t}\n\n\t\taddScaledVector(v, s) {\n\t\t\tthis.x += v.x * s;\n\t\t\tthis.y += v.y * s;\n\t\t\tthis.z += v.z * s;\n\t\t\tthis.w += v.w * s;\n\t\t\treturn this;\n\t\t}\n\n\t\tsub(v, w) {\n\t\t\tif (w !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n\t\t\t\treturn this.subVectors(v, w);\n\t\t\t}\n\n\t\t\tthis.x -= v.x;\n\t\t\tthis.y -= v.y;\n\t\t\tthis.z -= v.z;\n\t\t\tthis.w -= v.w;\n\t\t\treturn this;\n\t\t}\n\n\t\tsubScalar(s) {\n\t\t\tthis.x -= s;\n\t\t\tthis.y -= s;\n\t\t\tthis.z -= s;\n\t\t\tthis.w -= s;\n\t\t\treturn this;\n\t\t}\n\n\t\tsubVectors(a, b) {\n\t\t\tthis.x = a.x - b.x;\n\t\t\tthis.y = a.y - b.y;\n\t\t\tthis.z = a.z - b.z;\n\t\t\tthis.w = a.w - b.w;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiply(v) {\n\t\t\tthis.x *= v.x;\n\t\t\tthis.y *= v.y;\n\t\t\tthis.z *= v.z;\n\t\t\tthis.w *= v.w;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiplyScalar(scalar) {\n\t\t\tthis.x *= scalar;\n\t\t\tthis.y *= scalar;\n\t\t\tthis.z *= scalar;\n\t\t\tthis.w *= scalar;\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyMatrix4(m) {\n\t\t\tconst x = this.x,\n\t\t\t\t\t\ty = this.y,\n\t\t\t\t\t\tz = this.z,\n\t\t\t\t\t\tw = this.w;\n\t\t\tconst e = m.elements;\n\t\t\tthis.x = e[0] * x + e[4] * y + e[8] * z + e[12] * w;\n\t\t\tthis.y = e[1] * x + e[5] * y + e[9] * z + e[13] * w;\n\t\t\tthis.z = e[2] * x + e[6] * y + e[10] * z + e[14] * w;\n\t\t\tthis.w = e[3] * x + e[7] * y + e[11] * z + e[15] * w;\n\t\t\treturn this;\n\t\t}\n\n\t\tdivideScalar(scalar) {\n\t\t\treturn this.multiplyScalar(1 / scalar);\n\t\t}\n\n\t\tsetAxisAngleFromQuaternion(q) {\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\t\t\t// q is assumed to be normalized\n\t\t\tthis.w = 2 * Math.acos(q.w);\n\t\t\tconst s = Math.sqrt(1 - q.w * q.w);\n\n\t\t\tif (s < 0.0001) {\n\t\t\t\tthis.x = 1;\n\t\t\t\tthis.y = 0;\n\t\t\t\tthis.z = 0;\n\t\t\t} else {\n\t\t\t\tthis.x = q.x / s;\n\t\t\t\tthis.y = q.y / s;\n\t\t\t\tthis.z = q.z / s;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetAxisAngleFromRotationMatrix(m) {\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\t\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\t\t\tlet angle, x, y, z; // variables for result\n\n\t\t\tconst epsilon = 0.01,\n\t\t\t\t\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\n\t\t\t\t\t\t// margin to distinguish between 0 and 180 degrees\n\t\t\tte = m.elements,\n\t\t\t\t\t\tm11 = te[0],\n\t\t\t\t\t\tm12 = te[4],\n\t\t\t\t\t\tm13 = te[8],\n\t\t\t\t\t\tm21 = te[1],\n\t\t\t\t\t\tm22 = te[5],\n\t\t\t\t\t\tm23 = te[9],\n\t\t\t\t\t\tm31 = te[2],\n\t\t\t\t\t\tm32 = te[6],\n\t\t\t\t\t\tm33 = te[10];\n\n\t\t\tif (Math.abs(m12 - m21) < epsilon && Math.abs(m13 - m31) < epsilon && Math.abs(m23 - m32) < epsilon) {\n\t\t\t\t// singularity found\n\t\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t\t// in leading diagonal and zero in other terms\n\t\t\t\tif (Math.abs(m12 + m21) < epsilon2 && Math.abs(m13 + m31) < epsilon2 && Math.abs(m23 + m32) < epsilon2 && Math.abs(m11 + m22 + m33 - 3) < epsilon2) {\n\t\t\t\t\t// this singularity is identity matrix so angle = 0\n\t\t\t\t\tthis.set(1, 0, 0, 0);\n\t\t\t\t\treturn this; // zero angle, arbitrary axis\n\t\t\t\t} // otherwise this singularity is angle = 180\n\n\n\t\t\t\tangle = Math.PI;\n\t\t\t\tconst xx = (m11 + 1) / 2;\n\t\t\t\tconst yy = (m22 + 1) / 2;\n\t\t\t\tconst zz = (m33 + 1) / 2;\n\t\t\t\tconst xy = (m12 + m21) / 4;\n\t\t\t\tconst xz = (m13 + m31) / 4;\n\t\t\t\tconst yz = (m23 + m32) / 4;\n\n\t\t\t\tif (xx > yy && xx > zz) {\n\t\t\t\t\t// m11 is the largest diagonal term\n\t\t\t\t\tif (xx < epsilon) {\n\t\t\t\t\t\tx = 0;\n\t\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\t\tz = 0.707106781;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tx = Math.sqrt(xx);\n\t\t\t\t\t\ty = xy / x;\n\t\t\t\t\t\tz = xz / x;\n\t\t\t\t\t}\n\t\t\t\t} else if (yy > zz) {\n\t\t\t\t\t// m22 is the largest diagonal term\n\t\t\t\t\tif (yy < epsilon) {\n\t\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\t\ty = 0;\n\t\t\t\t\t\tz = 0.707106781;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ty = Math.sqrt(yy);\n\t\t\t\t\t\tx = xy / y;\n\t\t\t\t\t\tz = yz / y;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// m33 is the largest diagonal term so base result on this\n\t\t\t\t\tif (zz < epsilon) {\n\t\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\t\tz = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tz = Math.sqrt(zz);\n\t\t\t\t\t\tx = xz / z;\n\t\t\t\t\t\ty = yz / z;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.set(x, y, z, angle);\n\t\t\t\treturn this; // return 180 deg rotation\n\t\t\t} // as we have reached here there are no singularities so we can handle normally\n\n\n\t\t\tlet s = Math.sqrt((m32 - m23) * (m32 - m23) + (m13 - m31) * (m13 - m31) + (m21 - m12) * (m21 - m12)); // used to normalize\n\n\t\t\tif (Math.abs(s) < 0.001) s = 1; // prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\t\tthis.x = (m32 - m23) / s;\n\t\t\tthis.y = (m13 - m31) / s;\n\t\t\tthis.z = (m21 - m12) / s;\n\t\t\tthis.w = Math.acos((m11 + m22 + m33 - 1) / 2);\n\t\t\treturn this;\n\t\t}\n\n\t\tmin(v) {\n\t\t\tthis.x = Math.min(this.x, v.x);\n\t\t\tthis.y = Math.min(this.y, v.y);\n\t\t\tthis.z = Math.min(this.z, v.z);\n\t\t\tthis.w = Math.min(this.w, v.w);\n\t\t\treturn this;\n\t\t}\n\n\t\tmax(v) {\n\t\t\tthis.x = Math.max(this.x, v.x);\n\t\t\tthis.y = Math.max(this.y, v.y);\n\t\t\tthis.z = Math.max(this.z, v.z);\n\t\t\tthis.w = Math.max(this.w, v.w);\n\t\t\treturn this;\n\t\t}\n\n\t\tclamp(min, max) {\n\t\t\t// assumes min < max, componentwise\n\t\t\tthis.x = Math.max(min.x, Math.min(max.x, this.x));\n\t\t\tthis.y = Math.max(min.y, Math.min(max.y, this.y));\n\t\t\tthis.z = Math.max(min.z, Math.min(max.z, this.z));\n\t\t\tthis.w = Math.max(min.w, Math.min(max.w, this.w));\n\t\t\treturn this;\n\t\t}\n\n\t\tclampScalar(minVal, maxVal) {\n\t\t\tthis.x = Math.max(minVal, Math.min(maxVal, this.x));\n\t\t\tthis.y = Math.max(minVal, Math.min(maxVal, this.y));\n\t\t\tthis.z = Math.max(minVal, Math.min(maxVal, this.z));\n\t\t\tthis.w = Math.max(minVal, Math.min(maxVal, this.w));\n\t\t\treturn this;\n\t\t}\n\n\t\tclampLength(min, max) {\n\t\t\tconst length = this.length();\n\t\t\treturn this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n\t\t}\n\n\t\tfloor() {\n\t\t\tthis.x = Math.floor(this.x);\n\t\t\tthis.y = Math.floor(this.y);\n\t\t\tthis.z = Math.floor(this.z);\n\t\t\tthis.w = Math.floor(this.w);\n\t\t\treturn this;\n\t\t}\n\n\t\tceil() {\n\t\t\tthis.x = Math.ceil(this.x);\n\t\t\tthis.y = Math.ceil(this.y);\n\t\t\tthis.z = Math.ceil(this.z);\n\t\t\tthis.w = Math.ceil(this.w);\n\t\t\treturn this;\n\t\t}\n\n\t\tround() {\n\t\t\tthis.x = Math.round(this.x);\n\t\t\tthis.y = Math.round(this.y);\n\t\t\tthis.z = Math.round(this.z);\n\t\t\tthis.w = Math.round(this.w);\n\t\t\treturn this;\n\t\t}\n\n\t\troundToZero() {\n\t\t\tthis.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n\t\t\tthis.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n\t\t\tthis.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z);\n\t\t\tthis.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w);\n\t\t\treturn this;\n\t\t}\n\n\t\tnegate() {\n\t\t\tthis.x = -this.x;\n\t\t\tthis.y = -this.y;\n\t\t\tthis.z = -this.z;\n\t\t\tthis.w = -this.w;\n\t\t\treturn this;\n\t\t}\n\n\t\tdot(v) {\n\t\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\t\t}\n\n\t\tlengthSq() {\n\t\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\t\t}\n\n\t\tlength() {\n\t\t\treturn Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n\t\t}\n\n\t\tmanhattanLength() {\n\t\t\treturn Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w);\n\t\t}\n\n\t\tnormalize() {\n\t\t\treturn this.divideScalar(this.length() || 1);\n\t\t}\n\n\t\tsetLength(length) {\n\t\t\treturn this.normalize().multiplyScalar(length);\n\t\t}\n\n\t\tlerp(v, alpha) {\n\t\t\tthis.x += (v.x - this.x) * alpha;\n\t\t\tthis.y += (v.y - this.y) * alpha;\n\t\t\tthis.z += (v.z - this.z) * alpha;\n\t\t\tthis.w += (v.w - this.w) * alpha;\n\t\t\treturn this;\n\t\t}\n\n\t\tlerpVectors(v1, v2, alpha) {\n\t\t\tthis.x = v1.x + (v2.x - v1.x) * alpha;\n\t\t\tthis.y = v1.y + (v2.y - v1.y) * alpha;\n\t\t\tthis.z = v1.z + (v2.z - v1.z) * alpha;\n\t\t\tthis.w = v1.w + (v2.w - v1.w) * alpha;\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(v) {\n\t\t\treturn v.x === this.x && v.y === this.y && v.z === this.z && v.w === this.w;\n\t\t}\n\n\t\tfromArray(array, offset = 0) {\n\t\t\tthis.x = array[offset];\n\t\t\tthis.y = array[offset + 1];\n\t\t\tthis.z = array[offset + 2];\n\t\t\tthis.w = array[offset + 3];\n\t\t\treturn this;\n\t\t}\n\n\t\ttoArray(array = [], offset = 0) {\n\t\t\tarray[offset] = this.x;\n\t\t\tarray[offset + 1] = this.y;\n\t\t\tarray[offset + 2] = this.z;\n\t\t\tarray[offset + 3] = this.w;\n\t\t\treturn array;\n\t\t}\n\n\t\tfromBufferAttribute(attribute, index, offset) {\n\t\t\tif (offset !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector4: offset has been removed from .fromBufferAttribute().');\n\t\t\t}\n\n\t\t\tthis.x = attribute.getX(index);\n\t\t\tthis.y = attribute.getY(index);\n\t\t\tthis.z = attribute.getZ(index);\n\t\t\tthis.w = attribute.getW(index);\n\t\t\treturn this;\n\t\t}\n\n\t\trandom() {\n\t\t\tthis.x = Math.random();\n\t\t\tthis.y = Math.random();\n\t\t\tthis.z = Math.random();\n\t\t\tthis.w = Math.random();\n\t\t\treturn this;\n\t\t}\n\n\t\t*[Symbol.iterator]() {\n\t\t\tyield this.x;\n\t\t\tyield this.y;\n\t\t\tyield this.z;\n\t\t\tyield this.w;\n\t\t}\n\n\t}\n\n\tVector4.prototype.isVector4 = true;\n\n\t/*\n\t In options, we can specify:\n\t * Texture parameters for an auto-generated target texture\n\t * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n\t*/\n\n\tclass WebGLRenderTarget extends EventDispatcher {\n\t\tconstructor(width, height, options = {}) {\n\t\t\tsuper();\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = 1;\n\t\t\tthis.scissor = new Vector4(0, 0, width, height);\n\t\t\tthis.scissorTest = false;\n\t\t\tthis.viewport = new Vector4(0, 0, width, height);\n\t\t\tthis.texture = new Texture(undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding);\n\t\t\tthis.texture.isRenderTargetTexture = true;\n\t\t\tthis.texture.image = {\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\tdepth: 1\n\t\t\t};\n\t\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\t\tthis.texture.internalFormat = options.internalFormat !== undefined ? options.internalFormat : null;\n\t\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\t\t\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\t\t\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n\t\t\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\t\t}\n\n\t\tsetTexture(texture) {\n\t\t\ttexture.image = {\n\t\t\t\twidth: this.width,\n\t\t\t\theight: this.height,\n\t\t\t\tdepth: this.depth\n\t\t\t};\n\t\t\tthis.texture = texture;\n\t\t}\n\n\t\tsetSize(width, height, depth = 1) {\n\t\t\tif (this.width !== width || this.height !== height || this.depth !== depth) {\n\t\t\t\tthis.width = width;\n\t\t\t\tthis.height = height;\n\t\t\t\tthis.depth = depth;\n\t\t\t\tthis.texture.image.width = width;\n\t\t\t\tthis.texture.image.height = height;\n\t\t\t\tthis.texture.image.depth = depth;\n\t\t\t\tthis.dispose();\n\t\t\t}\n\n\t\t\tthis.viewport.set(0, 0, width, height);\n\t\t\tthis.scissor.set(0, 0, width, height);\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tthis.width = source.width;\n\t\t\tthis.height = source.height;\n\t\t\tthis.depth = source.depth;\n\t\t\tthis.viewport.copy(source.viewport);\n\t\t\tthis.texture = source.texture.clone();\n\t\t\tthis.texture.image = { ...this.texture.image\n\t\t\t}; // See #20328.\n\n\t\t\tthis.depthBuffer = source.depthBuffer;\n\t\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\t\tthis.depthTexture = source.depthTexture;\n\t\t\treturn this;\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.dispatchEvent({\n\t\t\t\ttype: 'dispose'\n\t\t\t});\n\t\t}\n\n\t}\n\n\tWebGLRenderTarget.prototype.isWebGLRenderTarget = true;\n\n\tclass WebGLMultipleRenderTargets extends WebGLRenderTarget {\n\t\tconstructor(width, height, count) {\n\t\t\tsuper(width, height);\n\t\t\tconst texture = this.texture;\n\t\t\tthis.texture = [];\n\n\t\t\tfor (let i = 0; i < count; i++) {\n\t\t\t\tthis.texture[i] = texture.clone();\n\t\t\t}\n\t\t}\n\n\t\tsetSize(width, height, depth = 1) {\n\t\t\tif (this.width !== width || this.height !== height || this.depth !== depth) {\n\t\t\t\tthis.width = width;\n\t\t\t\tthis.height = height;\n\t\t\t\tthis.depth = depth;\n\n\t\t\t\tfor (let i = 0, il = this.texture.length; i < il; i++) {\n\t\t\t\t\tthis.texture[i].image.width = width;\n\t\t\t\t\tthis.texture[i].image.height = height;\n\t\t\t\t\tthis.texture[i].image.depth = depth;\n\t\t\t\t}\n\n\t\t\t\tthis.dispose();\n\t\t\t}\n\n\t\t\tthis.viewport.set(0, 0, width, height);\n\t\t\tthis.scissor.set(0, 0, width, height);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tthis.dispose();\n\t\t\tthis.width = source.width;\n\t\t\tthis.height = source.height;\n\t\t\tthis.depth = source.depth;\n\t\t\tthis.viewport.set(0, 0, this.width, this.height);\n\t\t\tthis.scissor.set(0, 0, this.width, this.height);\n\t\t\tthis.depthBuffer = source.depthBuffer;\n\t\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\t\tthis.depthTexture = source.depthTexture;\n\t\t\tthis.texture.length = 0;\n\n\t\t\tfor (let i = 0, il = source.texture.length; i < il; i++) {\n\t\t\t\tthis.texture[i] = source.texture[i].clone();\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tWebGLMultipleRenderTargets.prototype.isWebGLMultipleRenderTargets = true;\n\n\tclass WebGLMultisampleRenderTarget extends WebGLRenderTarget {\n\t\tconstructor(width, height, options = {}) {\n\t\t\tsuper(width, height, options);\n\t\t\tthis.samples = 4;\n\t\t\tthis.ignoreDepthForMultisampleCopy = options.ignoreDepth !== undefined ? options.ignoreDepth : true;\n\t\t\tthis.useRenderToTexture = options.useRenderToTexture !== undefined ? options.useRenderToTexture : false;\n\t\t\tthis.useRenderbuffer = this.useRenderToTexture === false;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy.call(this, source);\n\t\t\tthis.samples = source.samples;\n\t\t\tthis.useRenderToTexture = source.useRenderToTexture;\n\t\t\tthis.useRenderbuffer = source.useRenderbuffer;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tWebGLMultisampleRenderTarget.prototype.isWebGLMultisampleRenderTarget = true;\n\n\tclass Quaternion {\n\t\tconstructor(x = 0, y = 0, z = 0, w = 1) {\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\t\t\tthis._w = w;\n\t\t}\n\n\t\tstatic slerp(qa, qb, qm, t) {\n\t\t\tconsole.warn('THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead.');\n\t\t\treturn qm.slerpQuaternions(qa, qb, t);\n\t\t}\n\n\t\tstatic slerpFlat(dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t) {\n\t\t\t// fuzz-free, array-based Quaternion SLERP operation\n\t\t\tlet x0 = src0[srcOffset0 + 0],\n\t\t\t\t\ty0 = src0[srcOffset0 + 1],\n\t\t\t\t\tz0 = src0[srcOffset0 + 2],\n\t\t\t\t\tw0 = src0[srcOffset0 + 3];\n\t\t\tconst x1 = src1[srcOffset1 + 0],\n\t\t\t\t\t\ty1 = src1[srcOffset1 + 1],\n\t\t\t\t\t\tz1 = src1[srcOffset1 + 2],\n\t\t\t\t\t\tw1 = src1[srcOffset1 + 3];\n\n\t\t\tif (t === 0) {\n\t\t\t\tdst[dstOffset + 0] = x0;\n\t\t\t\tdst[dstOffset + 1] = y0;\n\t\t\t\tdst[dstOffset + 2] = z0;\n\t\t\t\tdst[dstOffset + 3] = w0;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (t === 1) {\n\t\t\t\tdst[dstOffset + 0] = x1;\n\t\t\t\tdst[dstOffset + 1] = y1;\n\t\t\t\tdst[dstOffset + 2] = z1;\n\t\t\t\tdst[dstOffset + 3] = w1;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1) {\n\t\t\t\tlet s = 1 - t;\n\t\t\t\tconst cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\t\t\t\t\t\t\tdir = cos >= 0 ? 1 : -1,\n\t\t\t\t\t\t\tsqrSin = 1 - cos * cos; // Skip the Slerp for tiny steps to avoid numeric problems:\n\n\t\t\t\tif (sqrSin > Number.EPSILON) {\n\t\t\t\t\tconst sin = Math.sqrt(sqrSin),\n\t\t\t\t\t\t\t\tlen = Math.atan2(sin, cos * dir);\n\t\t\t\t\ts = Math.sin(s * len) / sin;\n\t\t\t\t\tt = Math.sin(t * len) / sin;\n\t\t\t\t}\n\n\t\t\t\tconst tDir = t * dir;\n\t\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\t\tw0 = w0 * s + w1 * tDir; // Normalize in case we just did a lerp:\n\n\t\t\t\tif (s === 1 - t) {\n\t\t\t\t\tconst f = 1 / Math.sqrt(x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0);\n\t\t\t\t\tx0 *= f;\n\t\t\t\t\ty0 *= f;\n\t\t\t\t\tz0 *= f;\n\t\t\t\t\tw0 *= f;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdst[dstOffset] = x0;\n\t\t\tdst[dstOffset + 1] = y0;\n\t\t\tdst[dstOffset + 2] = z0;\n\t\t\tdst[dstOffset + 3] = w0;\n\t\t}\n\n\t\tstatic multiplyQuaternionsFlat(dst, dstOffset, src0, srcOffset0, src1, srcOffset1) {\n\t\t\tconst x0 = src0[srcOffset0];\n\t\t\tconst y0 = src0[srcOffset0 + 1];\n\t\t\tconst z0 = src0[srcOffset0 + 2];\n\t\t\tconst w0 = src0[srcOffset0 + 3];\n\t\t\tconst x1 = src1[srcOffset1];\n\t\t\tconst y1 = src1[srcOffset1 + 1];\n\t\t\tconst z1 = src1[srcOffset1 + 2];\n\t\t\tconst w1 = src1[srcOffset1 + 3];\n\t\t\tdst[dstOffset] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n\t\t\tdst[dstOffset + 1] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n\t\t\tdst[dstOffset + 2] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n\t\t\tdst[dstOffset + 3] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\t\t\treturn dst;\n\t\t}\n\n\t\tget x() {\n\t\t\treturn this._x;\n\t\t}\n\n\t\tset x(value) {\n\t\t\tthis._x = value;\n\n\t\t\tthis._onChangeCallback();\n\t\t}\n\n\t\tget y() {\n\t\t\treturn this._y;\n\t\t}\n\n\t\tset y(value) {\n\t\t\tthis._y = value;\n\n\t\t\tthis._onChangeCallback();\n\t\t}\n\n\t\tget z() {\n\t\t\treturn this._z;\n\t\t}\n\n\t\tset z(value) {\n\t\t\tthis._z = value;\n\n\t\t\tthis._onChangeCallback();\n\t\t}\n\n\t\tget w() {\n\t\t\treturn this._w;\n\t\t}\n\n\t\tset w(value) {\n\t\t\tthis._w = value;\n\n\t\t\tthis._onChangeCallback();\n\t\t}\n\n\t\tset(x, y, z, w) {\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\t\t\tthis._w = w;\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor(this._x, this._y, this._z, this._w);\n\t\t}\n\n\t\tcopy(quaternion) {\n\t\t\tthis._x = quaternion.x;\n\t\t\tthis._y = quaternion.y;\n\t\t\tthis._z = quaternion.z;\n\t\t\tthis._w = quaternion.w;\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromEuler(euler, update) {\n\t\t\tif (!(euler && euler.isEuler)) {\n\t\t\t\tthrow new Error('THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.');\n\t\t\t}\n\n\t\t\tconst x = euler._x,\n\t\t\t\t\t\ty = euler._y,\n\t\t\t\t\t\tz = euler._z,\n\t\t\t\t\t\torder = euler._order; // http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t\t//\tcontent/SpinCalc.m\n\n\t\t\tconst cos = Math.cos;\n\t\t\tconst sin = Math.sin;\n\t\t\tconst c1 = cos(x / 2);\n\t\t\tconst c2 = cos(y / 2);\n\t\t\tconst c3 = cos(z / 2);\n\t\t\tconst s1 = sin(x / 2);\n\t\t\tconst s2 = sin(y / 2);\n\t\t\tconst s3 = sin(z / 2);\n\n\t\t\tswitch (order) {\n\t\t\t\tcase 'XYZ':\n\t\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'YXZ':\n\t\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ZXY':\n\t\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ZYX':\n\t\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'YZX':\n\t\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'XZY':\n\t\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn('THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order);\n\t\t\t}\n\n\t\t\tif (update !== false) this._onChangeCallback();\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromAxisAngle(axis, angle) {\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\t\t\t// assumes axis is normalized\n\t\t\tconst halfAngle = angle / 2,\n\t\t\t\t\t\ts = Math.sin(halfAngle);\n\t\t\tthis._x = axis.x * s;\n\t\t\tthis._y = axis.y * s;\n\t\t\tthis._z = axis.z * s;\n\t\t\tthis._w = Math.cos(halfAngle);\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromRotationMatrix(m) {\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\t\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\t\t\tconst te = m.elements,\n\t\t\t\t\t\tm11 = te[0],\n\t\t\t\t\t\tm12 = te[4],\n\t\t\t\t\t\tm13 = te[8],\n\t\t\t\t\t\tm21 = te[1],\n\t\t\t\t\t\tm22 = te[5],\n\t\t\t\t\t\tm23 = te[9],\n\t\t\t\t\t\tm31 = te[2],\n\t\t\t\t\t\tm32 = te[6],\n\t\t\t\t\t\tm33 = te[10],\n\t\t\t\t\t\ttrace = m11 + m22 + m33;\n\n\t\t\tif (trace > 0) {\n\t\t\t\tconst s = 0.5 / Math.sqrt(trace + 1.0);\n\t\t\t\tthis._w = 0.25 / s;\n\t\t\t\tthis._x = (m32 - m23) * s;\n\t\t\t\tthis._y = (m13 - m31) * s;\n\t\t\t\tthis._z = (m21 - m12) * s;\n\t\t\t} else if (m11 > m22 && m11 > m33) {\n\t\t\t\tconst s = 2.0 * Math.sqrt(1.0 + m11 - m22 - m33);\n\t\t\t\tthis._w = (m32 - m23) / s;\n\t\t\t\tthis._x = 0.25 * s;\n\t\t\t\tthis._y = (m12 + m21) / s;\n\t\t\t\tthis._z = (m13 + m31) / s;\n\t\t\t} else if (m22 > m33) {\n\t\t\t\tconst s = 2.0 * Math.sqrt(1.0 + m22 - m11 - m33);\n\t\t\t\tthis._w = (m13 - m31) / s;\n\t\t\t\tthis._x = (m12 + m21) / s;\n\t\t\t\tthis._y = 0.25 * s;\n\t\t\t\tthis._z = (m23 + m32) / s;\n\t\t\t} else {\n\t\t\t\tconst s = 2.0 * Math.sqrt(1.0 + m33 - m11 - m22);\n\t\t\t\tthis._w = (m21 - m12) / s;\n\t\t\t\tthis._x = (m13 + m31) / s;\n\t\t\t\tthis._y = (m23 + m32) / s;\n\t\t\t\tthis._z = 0.25 * s;\n\t\t\t}\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromUnitVectors(vFrom, vTo) {\n\t\t\t// assumes direction vectors vFrom and vTo are normalized\n\t\t\tlet r = vFrom.dot(vTo) + 1;\n\n\t\t\tif (r < Number.EPSILON) {\n\t\t\t\t// vFrom and vTo point in opposite directions\n\t\t\t\tr = 0;\n\n\t\t\t\tif (Math.abs(vFrom.x) > Math.abs(vFrom.z)) {\n\t\t\t\t\tthis._x = -vFrom.y;\n\t\t\t\t\tthis._y = vFrom.x;\n\t\t\t\t\tthis._z = 0;\n\t\t\t\t\tthis._w = r;\n\t\t\t\t} else {\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._y = -vFrom.z;\n\t\t\t\t\tthis._z = vFrom.y;\n\t\t\t\t\tthis._w = r;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\t\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\t\tthis._w = r;\n\t\t\t}\n\n\t\t\treturn this.normalize();\n\t\t}\n\n\t\tangleTo(q) {\n\t\t\treturn 2 * Math.acos(Math.abs(clamp(this.dot(q), -1, 1)));\n\t\t}\n\n\t\trotateTowards(q, step) {\n\t\t\tconst angle = this.angleTo(q);\n\t\t\tif (angle === 0) return this;\n\t\t\tconst t = Math.min(1, step / angle);\n\t\t\tthis.slerp(q, t);\n\t\t\treturn this;\n\t\t}\n\n\t\tidentity() {\n\t\t\treturn this.set(0, 0, 0, 1);\n\t\t}\n\n\t\tinvert() {\n\t\t\t// quaternion is assumed to have unit length\n\t\t\treturn this.conjugate();\n\t\t}\n\n\t\tconjugate() {\n\t\t\tthis._x *= -1;\n\t\t\tthis._y *= -1;\n\t\t\tthis._z *= -1;\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tdot(v) {\n\t\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\t\t}\n\n\t\tlengthSq() {\n\t\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\t\t}\n\n\t\tlength() {\n\t\t\treturn Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w);\n\t\t}\n\n\t\tnormalize() {\n\t\t\tlet l = this.length();\n\n\t\t\tif (l === 0) {\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = 1;\n\t\t\t} else {\n\t\t\t\tl = 1 / l;\n\t\t\t\tthis._x = this._x * l;\n\t\t\t\tthis._y = this._y * l;\n\t\t\t\tthis._z = this._z * l;\n\t\t\t\tthis._w = this._w * l;\n\t\t\t}\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiply(q, p) {\n\t\t\tif (p !== undefined) {\n\t\t\t\tconsole.warn('THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.');\n\t\t\t\treturn this.multiplyQuaternions(q, p);\n\t\t\t}\n\n\t\t\treturn this.multiplyQuaternions(this, q);\n\t\t}\n\n\t\tpremultiply(q) {\n\t\t\treturn this.multiplyQuaternions(q, this);\n\t\t}\n\n\t\tmultiplyQuaternions(a, b) {\n\t\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\t\t\tconst qax = a._x,\n\t\t\t\t\t\tqay = a._y,\n\t\t\t\t\t\tqaz = a._z,\n\t\t\t\t\t\tqaw = a._w;\n\t\t\tconst qbx = b._x,\n\t\t\t\t\t\tqby = b._y,\n\t\t\t\t\t\tqbz = b._z,\n\t\t\t\t\t\tqbw = b._w;\n\t\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tslerp(qb, t) {\n\t\t\tif (t === 0) return this;\n\t\t\tif (t === 1) return this.copy(qb);\n\t\t\tconst x = this._x,\n\t\t\t\t\t\ty = this._y,\n\t\t\t\t\t\tz = this._z,\n\t\t\t\t\t\tw = this._w; // http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\t\tif (cosHalfTheta < 0) {\n\t\t\t\tthis._w = -qb._w;\n\t\t\t\tthis._x = -qb._x;\n\t\t\t\tthis._y = -qb._y;\n\t\t\t\tthis._z = -qb._z;\n\t\t\t\tcosHalfTheta = -cosHalfTheta;\n\t\t\t} else {\n\t\t\t\tthis.copy(qb);\n\t\t\t}\n\n\t\t\tif (cosHalfTheta >= 1.0) {\n\t\t\t\tthis._w = w;\n\t\t\t\tthis._x = x;\n\t\t\t\tthis._y = y;\n\t\t\t\tthis._z = z;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\t\tif (sqrSinHalfTheta <= Number.EPSILON) {\n\t\t\t\tconst s = 1 - t;\n\t\t\t\tthis._w = s * w + t * this._w;\n\t\t\t\tthis._x = s * x + t * this._x;\n\t\t\t\tthis._y = s * y + t * this._y;\n\t\t\t\tthis._z = s * z + t * this._z;\n\t\t\t\tthis.normalize();\n\n\t\t\t\tthis._onChangeCallback();\n\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tconst sinHalfTheta = Math.sqrt(sqrSinHalfTheta);\n\t\t\tconst halfTheta = Math.atan2(sinHalfTheta, cosHalfTheta);\n\t\t\tconst ratioA = Math.sin((1 - t) * halfTheta) / sinHalfTheta,\n\t\t\t\t\t\tratioB = Math.sin(t * halfTheta) / sinHalfTheta;\n\t\t\tthis._w = w * ratioA + this._w * ratioB;\n\t\t\tthis._x = x * ratioA + this._x * ratioB;\n\t\t\tthis._y = y * ratioA + this._y * ratioB;\n\t\t\tthis._z = z * ratioA + this._z * ratioB;\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tslerpQuaternions(qa, qb, t) {\n\t\t\tthis.copy(qa).slerp(qb, t);\n\t\t}\n\n\t\trandom() {\n\t\t\t// Derived from http://planning.cs.uiuc.edu/node198.html\n\t\t\t// Note, this source uses w, x, y, z ordering,\n\t\t\t// so we swap the order below.\n\t\t\tconst u1 = Math.random();\n\t\t\tconst sqrt1u1 = Math.sqrt(1 - u1);\n\t\t\tconst sqrtu1 = Math.sqrt(u1);\n\t\t\tconst u2 = 2 * Math.PI * Math.random();\n\t\t\tconst u3 = 2 * Math.PI * Math.random();\n\t\t\treturn this.set(sqrt1u1 * Math.cos(u2), sqrtu1 * Math.sin(u3), sqrtu1 * Math.cos(u3), sqrt1u1 * Math.sin(u2));\n\t\t}\n\n\t\tequals(quaternion) {\n\t\t\treturn quaternion._x === this._x && quaternion._y === this._y && quaternion._z === this._z && quaternion._w === this._w;\n\t\t}\n\n\t\tfromArray(array, offset = 0) {\n\t\t\tthis._x = array[offset];\n\t\t\tthis._y = array[offset + 1];\n\t\t\tthis._z = array[offset + 2];\n\t\t\tthis._w = array[offset + 3];\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttoArray(array = [], offset = 0) {\n\t\t\tarray[offset] = this._x;\n\t\t\tarray[offset + 1] = this._y;\n\t\t\tarray[offset + 2] = this._z;\n\t\t\tarray[offset + 3] = this._w;\n\t\t\treturn array;\n\t\t}\n\n\t\tfromBufferAttribute(attribute, index) {\n\t\t\tthis._x = attribute.getX(index);\n\t\t\tthis._y = attribute.getY(index);\n\t\t\tthis._z = attribute.getZ(index);\n\t\t\tthis._w = attribute.getW(index);\n\t\t\treturn this;\n\t\t}\n\n\t\t_onChange(callback) {\n\t\t\tthis._onChangeCallback = callback;\n\t\t\treturn this;\n\t\t}\n\n\t\t_onChangeCallback() {}\n\n\t}\n\n\tQuaternion.prototype.isQuaternion = true;\n\n\tclass Vector3 {\n\t\tconstructor(x = 0, y = 0, z = 0) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.z = z;\n\t\t}\n\n\t\tset(x, y, z) {\n\t\t\tif (z === undefined) z = this.z; // sprite.scale.set(x,y)\n\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.z = z;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetScalar(scalar) {\n\t\t\tthis.x = scalar;\n\t\t\tthis.y = scalar;\n\t\t\tthis.z = scalar;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetX(x) {\n\t\t\tthis.x = x;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetY(y) {\n\t\t\tthis.y = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetZ(z) {\n\t\t\tthis.z = z;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetComponent(index, value) {\n\t\t\tswitch (index) {\n\t\t\t\tcase 0:\n\t\t\t\t\tthis.x = value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\t\t\t\t\tthis.y = value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\t\t\t\t\tthis.z = value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error('index is out of range: ' + index);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tgetComponent(index) {\n\t\t\tswitch (index) {\n\t\t\t\tcase 0:\n\t\t\t\t\treturn this.x;\n\n\t\t\t\tcase 1:\n\t\t\t\t\treturn this.y;\n\n\t\t\t\tcase 2:\n\t\t\t\t\treturn this.z;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error('index is out of range: ' + index);\n\t\t\t}\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor(this.x, this.y, this.z);\n\t\t}\n\n\t\tcopy(v) {\n\t\t\tthis.x = v.x;\n\t\t\tthis.y = v.y;\n\t\t\tthis.z = v.z;\n\t\t\treturn this;\n\t\t}\n\n\t\tadd(v, w) {\n\t\t\tif (w !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n\t\t\t\treturn this.addVectors(v, w);\n\t\t\t}\n\n\t\t\tthis.x += v.x;\n\t\t\tthis.y += v.y;\n\t\t\tthis.z += v.z;\n\t\t\treturn this;\n\t\t}\n\n\t\taddScalar(s) {\n\t\t\tthis.x += s;\n\t\t\tthis.y += s;\n\t\t\tthis.z += s;\n\t\t\treturn this;\n\t\t}\n\n\t\taddVectors(a, b) {\n\t\t\tthis.x = a.x + b.x;\n\t\t\tthis.y = a.y + b.y;\n\t\t\tthis.z = a.z + b.z;\n\t\t\treturn this;\n\t\t}\n\n\t\taddScaledVector(v, s) {\n\t\t\tthis.x += v.x * s;\n\t\t\tthis.y += v.y * s;\n\t\t\tthis.z += v.z * s;\n\t\t\treturn this;\n\t\t}\n\n\t\tsub(v, w) {\n\t\t\tif (w !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n\t\t\t\treturn this.subVectors(v, w);\n\t\t\t}\n\n\t\t\tthis.x -= v.x;\n\t\t\tthis.y -= v.y;\n\t\t\tthis.z -= v.z;\n\t\t\treturn this;\n\t\t}\n\n\t\tsubScalar(s) {\n\t\t\tthis.x -= s;\n\t\t\tthis.y -= s;\n\t\t\tthis.z -= s;\n\t\t\treturn this;\n\t\t}\n\n\t\tsubVectors(a, b) {\n\t\t\tthis.x = a.x - b.x;\n\t\t\tthis.y = a.y - b.y;\n\t\t\tthis.z = a.z - b.z;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiply(v, w) {\n\t\t\tif (w !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.');\n\t\t\t\treturn this.multiplyVectors(v, w);\n\t\t\t}\n\n\t\t\tthis.x *= v.x;\n\t\t\tthis.y *= v.y;\n\t\t\tthis.z *= v.z;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiplyScalar(scalar) {\n\t\t\tthis.x *= scalar;\n\t\t\tthis.y *= scalar;\n\t\t\tthis.z *= scalar;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiplyVectors(a, b) {\n\t\t\tthis.x = a.x * b.x;\n\t\t\tthis.y = a.y * b.y;\n\t\t\tthis.z = a.z * b.z;\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyEuler(euler) {\n\t\t\tif (!(euler && euler.isEuler)) {\n\t\t\t\tconsole.error('THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.');\n\t\t\t}\n\n\t\t\treturn this.applyQuaternion(_quaternion$4.setFromEuler(euler));\n\t\t}\n\n\t\tapplyAxisAngle(axis, angle) {\n\t\t\treturn this.applyQuaternion(_quaternion$4.setFromAxisAngle(axis, angle));\n\t\t}\n\n\t\tapplyMatrix3(m) {\n\t\t\tconst x = this.x,\n\t\t\t\t\t\ty = this.y,\n\t\t\t\t\t\tz = this.z;\n\t\t\tconst e = m.elements;\n\t\t\tthis.x = e[0] * x + e[3] * y + e[6] * z;\n\t\t\tthis.y = e[1] * x + e[4] * y + e[7] * z;\n\t\t\tthis.z = e[2] * x + e[5] * y + e[8] * z;\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyNormalMatrix(m) {\n\t\t\treturn this.applyMatrix3(m).normalize();\n\t\t}\n\n\t\tapplyMatrix4(m) {\n\t\t\tconst x = this.x,\n\t\t\t\t\t\ty = this.y,\n\t\t\t\t\t\tz = this.z;\n\t\t\tconst e = m.elements;\n\t\t\tconst w = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15]);\n\t\t\tthis.x = (e[0] * x + e[4] * y + e[8] * z + e[12]) * w;\n\t\t\tthis.y = (e[1] * x + e[5] * y + e[9] * z + e[13]) * w;\n\t\t\tthis.z = (e[2] * x + e[6] * y + e[10] * z + e[14]) * w;\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyQuaternion(q) {\n\t\t\tconst x = this.x,\n\t\t\t\t\t\ty = this.y,\n\t\t\t\t\t\tz = this.z;\n\t\t\tconst qx = q.x,\n\t\t\t\t\t\tqy = q.y,\n\t\t\t\t\t\tqz = q.z,\n\t\t\t\t\t\tqw = q.w; // calculate quat * vector\n\n\t\t\tconst ix = qw * x + qy * z - qz * y;\n\t\t\tconst iy = qw * y + qz * x - qx * z;\n\t\t\tconst iz = qw * z + qx * y - qy * x;\n\t\t\tconst iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n\t\t\tthis.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n\t\t\tthis.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n\t\t\tthis.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n\t\t\treturn this;\n\t\t}\n\n\t\tproject(camera) {\n\t\t\treturn this.applyMatrix4(camera.matrixWorldInverse).applyMatrix4(camera.projectionMatrix);\n\t\t}\n\n\t\tunproject(camera) {\n\t\t\treturn this.applyMatrix4(camera.projectionMatrixInverse).applyMatrix4(camera.matrixWorld);\n\t\t}\n\n\t\ttransformDirection(m) {\n\t\t\t// input: THREE.Matrix4 affine matrix\n\t\t\t// vector interpreted as a direction\n\t\t\tconst x = this.x,\n\t\t\t\t\t\ty = this.y,\n\t\t\t\t\t\tz = this.z;\n\t\t\tconst e = m.elements;\n\t\t\tthis.x = e[0] * x + e[4] * y + e[8] * z;\n\t\t\tthis.y = e[1] * x + e[5] * y + e[9] * z;\n\t\t\tthis.z = e[2] * x + e[6] * y + e[10] * z;\n\t\t\treturn this.normalize();\n\t\t}\n\n\t\tdivide(v) {\n\t\t\tthis.x /= v.x;\n\t\t\tthis.y /= v.y;\n\t\t\tthis.z /= v.z;\n\t\t\treturn this;\n\t\t}\n\n\t\tdivideScalar(scalar) {\n\t\t\treturn this.multiplyScalar(1 / scalar);\n\t\t}\n\n\t\tmin(v) {\n\t\t\tthis.x = Math.min(this.x, v.x);\n\t\t\tthis.y = Math.min(this.y, v.y);\n\t\t\tthis.z = Math.min(this.z, v.z);\n\t\t\treturn this;\n\t\t}\n\n\t\tmax(v) {\n\t\t\tthis.x = Math.max(this.x, v.x);\n\t\t\tthis.y = Math.max(this.y, v.y);\n\t\t\tthis.z = Math.max(this.z, v.z);\n\t\t\treturn this;\n\t\t}\n\n\t\tclamp(min, max) {\n\t\t\t// assumes min < max, componentwise\n\t\t\tthis.x = Math.max(min.x, Math.min(max.x, this.x));\n\t\t\tthis.y = Math.max(min.y, Math.min(max.y, this.y));\n\t\t\tthis.z = Math.max(min.z, Math.min(max.z, this.z));\n\t\t\treturn this;\n\t\t}\n\n\t\tclampScalar(minVal, maxVal) {\n\t\t\tthis.x = Math.max(minVal, Math.min(maxVal, this.x));\n\t\t\tthis.y = Math.max(minVal, Math.min(maxVal, this.y));\n\t\t\tthis.z = Math.max(minVal, Math.min(maxVal, this.z));\n\t\t\treturn this;\n\t\t}\n\n\t\tclampLength(min, max) {\n\t\t\tconst length = this.length();\n\t\t\treturn this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n\t\t}\n\n\t\tfloor() {\n\t\t\tthis.x = Math.floor(this.x);\n\t\t\tthis.y = Math.floor(this.y);\n\t\t\tthis.z = Math.floor(this.z);\n\t\t\treturn this;\n\t\t}\n\n\t\tceil() {\n\t\t\tthis.x = Math.ceil(this.x);\n\t\t\tthis.y = Math.ceil(this.y);\n\t\t\tthis.z = Math.ceil(this.z);\n\t\t\treturn this;\n\t\t}\n\n\t\tround() {\n\t\t\tthis.x = Math.round(this.x);\n\t\t\tthis.y = Math.round(this.y);\n\t\t\tthis.z = Math.round(this.z);\n\t\t\treturn this;\n\t\t}\n\n\t\troundToZero() {\n\t\t\tthis.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n\t\t\tthis.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n\t\t\tthis.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z);\n\t\t\treturn this;\n\t\t}\n\n\t\tnegate() {\n\t\t\tthis.x = -this.x;\n\t\t\tthis.y = -this.y;\n\t\t\tthis.z = -this.z;\n\t\t\treturn this;\n\t\t}\n\n\t\tdot(v) {\n\t\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\t\t} // TODO lengthSquared?\n\n\n\t\tlengthSq() {\n\t\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\t\t}\n\n\t\tlength() {\n\t\t\treturn Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n\t\t}\n\n\t\tmanhattanLength() {\n\t\t\treturn Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);\n\t\t}\n\n\t\tnormalize() {\n\t\t\treturn this.divideScalar(this.length() || 1);\n\t\t}\n\n\t\tsetLength(length) {\n\t\t\treturn this.normalize().multiplyScalar(length);\n\t\t}\n\n\t\tlerp(v, alpha) {\n\t\t\tthis.x += (v.x - this.x) * alpha;\n\t\t\tthis.y += (v.y - this.y) * alpha;\n\t\t\tthis.z += (v.z - this.z) * alpha;\n\t\t\treturn this;\n\t\t}\n\n\t\tlerpVectors(v1, v2, alpha) {\n\t\t\tthis.x = v1.x + (v2.x - v1.x) * alpha;\n\t\t\tthis.y = v1.y + (v2.y - v1.y) * alpha;\n\t\t\tthis.z = v1.z + (v2.z - v1.z) * alpha;\n\t\t\treturn this;\n\t\t}\n\n\t\tcross(v, w) {\n\t\t\tif (w !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.');\n\t\t\t\treturn this.crossVectors(v, w);\n\t\t\t}\n\n\t\t\treturn this.crossVectors(this, v);\n\t\t}\n\n\t\tcrossVectors(a, b) {\n\t\t\tconst ax = a.x,\n\t\t\t\t\t\tay = a.y,\n\t\t\t\t\t\taz = a.z;\n\t\t\tconst bx = b.x,\n\t\t\t\t\t\tby = b.y,\n\t\t\t\t\t\tbz = b.z;\n\t\t\tthis.x = ay * bz - az * by;\n\t\t\tthis.y = az * bx - ax * bz;\n\t\t\tthis.z = ax * by - ay * bx;\n\t\t\treturn this;\n\t\t}\n\n\t\tprojectOnVector(v) {\n\t\t\tconst denominator = v.lengthSq();\n\t\t\tif (denominator === 0) return this.set(0, 0, 0);\n\t\t\tconst scalar = v.dot(this) / denominator;\n\t\t\treturn this.copy(v).multiplyScalar(scalar);\n\t\t}\n\n\t\tprojectOnPlane(planeNormal) {\n\t\t\t_vector$c.copy(this).projectOnVector(planeNormal);\n\n\t\t\treturn this.sub(_vector$c);\n\t\t}\n\n\t\treflect(normal) {\n\t\t\t// reflect incident vector off plane orthogonal to normal\n\t\t\t// normal is assumed to have unit length\n\t\t\treturn this.sub(_vector$c.copy(normal).multiplyScalar(2 * this.dot(normal)));\n\t\t}\n\n\t\tangleTo(v) {\n\t\t\tconst denominator = Math.sqrt(this.lengthSq() * v.lengthSq());\n\t\t\tif (denominator === 0) return Math.PI / 2;\n\t\t\tconst theta = this.dot(v) / denominator; // clamp, to handle numerical problems\n\n\t\t\treturn Math.acos(clamp(theta, -1, 1));\n\t\t}\n\n\t\tdistanceTo(v) {\n\t\t\treturn Math.sqrt(this.distanceToSquared(v));\n\t\t}\n\n\t\tdistanceToSquared(v) {\n\t\t\tconst dx = this.x - v.x,\n\t\t\t\t\t\tdy = this.y - v.y,\n\t\t\t\t\t\tdz = this.z - v.z;\n\t\t\treturn dx * dx + dy * dy + dz * dz;\n\t\t}\n\n\t\tmanhattanDistanceTo(v) {\n\t\t\treturn Math.abs(this.x - v.x) + Math.abs(this.y - v.y) + Math.abs(this.z - v.z);\n\t\t}\n\n\t\tsetFromSpherical(s) {\n\t\t\treturn this.setFromSphericalCoords(s.radius, s.phi, s.theta);\n\t\t}\n\n\t\tsetFromSphericalCoords(radius, phi, theta) {\n\t\t\tconst sinPhiRadius = Math.sin(phi) * radius;\n\t\t\tthis.x = sinPhiRadius * Math.sin(theta);\n\t\t\tthis.y = Math.cos(phi) * radius;\n\t\t\tthis.z = sinPhiRadius * Math.cos(theta);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromCylindrical(c) {\n\t\t\treturn this.setFromCylindricalCoords(c.radius, c.theta, c.y);\n\t\t}\n\n\t\tsetFromCylindricalCoords(radius, theta, y) {\n\t\t\tthis.x = radius * Math.sin(theta);\n\t\t\tthis.y = y;\n\t\t\tthis.z = radius * Math.cos(theta);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromMatrixPosition(m) {\n\t\t\tconst e = m.elements;\n\t\t\tthis.x = e[12];\n\t\t\tthis.y = e[13];\n\t\t\tthis.z = e[14];\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromMatrixScale(m) {\n\t\t\tconst sx = this.setFromMatrixColumn(m, 0).length();\n\t\t\tconst sy = this.setFromMatrixColumn(m, 1).length();\n\t\t\tconst sz = this.setFromMatrixColumn(m, 2).length();\n\t\t\tthis.x = sx;\n\t\t\tthis.y = sy;\n\t\t\tthis.z = sz;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromMatrixColumn(m, index) {\n\t\t\treturn this.fromArray(m.elements, index * 4);\n\t\t}\n\n\t\tsetFromMatrix3Column(m, index) {\n\t\t\treturn this.fromArray(m.elements, index * 3);\n\t\t}\n\n\t\tequals(v) {\n\t\t\treturn v.x === this.x && v.y === this.y && v.z === this.z;\n\t\t}\n\n\t\tfromArray(array, offset = 0) {\n\t\t\tthis.x = array[offset];\n\t\t\tthis.y = array[offset + 1];\n\t\t\tthis.z = array[offset + 2];\n\t\t\treturn this;\n\t\t}\n\n\t\ttoArray(array = [], offset = 0) {\n\t\t\tarray[offset] = this.x;\n\t\t\tarray[offset + 1] = this.y;\n\t\t\tarray[offset + 2] = this.z;\n\t\t\treturn array;\n\t\t}\n\n\t\tfromBufferAttribute(attribute, index, offset) {\n\t\t\tif (offset !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector3: offset has been removed from .fromBufferAttribute().');\n\t\t\t}\n\n\t\t\tthis.x = attribute.getX(index);\n\t\t\tthis.y = attribute.getY(index);\n\t\t\tthis.z = attribute.getZ(index);\n\t\t\treturn this;\n\t\t}\n\n\t\trandom() {\n\t\t\tthis.x = Math.random();\n\t\t\tthis.y = Math.random();\n\t\t\tthis.z = Math.random();\n\t\t\treturn this;\n\t\t}\n\n\t\trandomDirection() {\n\t\t\t// Derived from https://mathworld.wolfram.com/SpherePointPicking.html\n\t\t\tconst u = (Math.random() - 0.5) * 2;\n\t\t\tconst t = Math.random() * Math.PI * 2;\n\t\t\tconst f = Math.sqrt(1 - u ** 2);\n\t\t\tthis.x = f * Math.cos(t);\n\t\t\tthis.y = f * Math.sin(t);\n\t\t\tthis.z = u;\n\t\t\treturn this;\n\t\t}\n\n\t\t*[Symbol.iterator]() {\n\t\t\tyield this.x;\n\t\t\tyield this.y;\n\t\t\tyield this.z;\n\t\t}\n\n\t}\n\n\tVector3.prototype.isVector3 = true;\n\n\tconst _vector$c = /*@__PURE__*/new Vector3();\n\n\tconst _quaternion$4 = /*@__PURE__*/new Quaternion();\n\n\tclass Box3 {\n\t\tconstructor(min = new Vector3(+Infinity, +Infinity, +Infinity), max = new Vector3(-Infinity, -Infinity, -Infinity)) {\n\t\t\tthis.min = min;\n\t\t\tthis.max = max;\n\t\t}\n\n\t\tset(min, max) {\n\t\t\tthis.min.copy(min);\n\t\t\tthis.max.copy(max);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromArray(array) {\n\t\t\tlet minX = +Infinity;\n\t\t\tlet minY = +Infinity;\n\t\t\tlet minZ = +Infinity;\n\t\t\tlet maxX = -Infinity;\n\t\t\tlet maxY = -Infinity;\n\t\t\tlet maxZ = -Infinity;\n\n\t\t\tfor (let i = 0, l = array.length; i < l; i += 3) {\n\t\t\t\tconst x = array[i];\n\t\t\t\tconst y = array[i + 1];\n\t\t\t\tconst z = array[i + 2];\n\t\t\t\tif (x < minX) minX = x;\n\t\t\t\tif (y < minY) minY = y;\n\t\t\t\tif (z < minZ) minZ = z;\n\t\t\t\tif (x > maxX) maxX = x;\n\t\t\t\tif (y > maxY) maxY = y;\n\t\t\t\tif (z > maxZ) maxZ = z;\n\t\t\t}\n\n\t\t\tthis.min.set(minX, minY, minZ);\n\t\t\tthis.max.set(maxX, maxY, maxZ);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromBufferAttribute(attribute) {\n\t\t\tlet minX = +Infinity;\n\t\t\tlet minY = +Infinity;\n\t\t\tlet minZ = +Infinity;\n\t\t\tlet maxX = -Infinity;\n\t\t\tlet maxY = -Infinity;\n\t\t\tlet maxZ = -Infinity;\n\n\t\t\tfor (let i = 0, l = attribute.count; i < l; i++) {\n\t\t\t\tconst x = attribute.getX(i);\n\t\t\t\tconst y = attribute.getY(i);\n\t\t\t\tconst z = attribute.getZ(i);\n\t\t\t\tif (x < minX) minX = x;\n\t\t\t\tif (y < minY) minY = y;\n\t\t\t\tif (z < minZ) minZ = z;\n\t\t\t\tif (x > maxX) maxX = x;\n\t\t\t\tif (y > maxY) maxY = y;\n\t\t\t\tif (z > maxZ) maxZ = z;\n\t\t\t}\n\n\t\t\tthis.min.set(minX, minY, minZ);\n\t\t\tthis.max.set(maxX, maxY, maxZ);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromPoints(points) {\n\t\t\tthis.makeEmpty();\n\n\t\t\tfor (let i = 0, il = points.length; i < il; i++) {\n\t\t\t\tthis.expandByPoint(points[i]);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromCenterAndSize(center, size) {\n\t\t\tconst halfSize = _vector$b.copy(size).multiplyScalar(0.5);\n\n\t\t\tthis.min.copy(center).sub(halfSize);\n\t\t\tthis.max.copy(center).add(halfSize);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromObject(object) {\n\t\t\tthis.makeEmpty();\n\t\t\treturn this.expandByObject(object);\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\tcopy(box) {\n\t\t\tthis.min.copy(box.min);\n\t\t\tthis.max.copy(box.max);\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeEmpty() {\n\t\t\tthis.min.x = this.min.y = this.min.z = +Infinity;\n\t\t\tthis.max.x = this.max.y = this.max.z = -Infinity;\n\t\t\treturn this;\n\t\t}\n\n\t\tisEmpty() {\n\t\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\t\t\treturn this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z;\n\t\t}\n\n\t\tgetCenter(target) {\n\t\t\treturn this.isEmpty() ? target.set(0, 0, 0) : target.addVectors(this.min, this.max).multiplyScalar(0.5);\n\t\t}\n\n\t\tgetSize(target) {\n\t\t\treturn this.isEmpty() ? target.set(0, 0, 0) : target.subVectors(this.max, this.min);\n\t\t}\n\n\t\texpandByPoint(point) {\n\t\t\tthis.min.min(point);\n\t\t\tthis.max.max(point);\n\t\t\treturn this;\n\t\t}\n\n\t\texpandByVector(vector) {\n\t\t\tthis.min.sub(vector);\n\t\t\tthis.max.add(vector);\n\t\t\treturn this;\n\t\t}\n\n\t\texpandByScalar(scalar) {\n\t\t\tthis.min.addScalar(-scalar);\n\t\t\tthis.max.addScalar(scalar);\n\t\t\treturn this;\n\t\t}\n\n\t\texpandByObject(object) {\n\t\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t\t// accounting for both the object's, and children's, world transforms\n\t\t\tobject.updateWorldMatrix(false, false);\n\t\t\tconst geometry = object.geometry;\n\n\t\t\tif (geometry !== undefined) {\n\t\t\t\tif (geometry.boundingBox === null) {\n\t\t\t\t\tgeometry.computeBoundingBox();\n\t\t\t\t}\n\n\t\t\t\t_box$3.copy(geometry.boundingBox);\n\n\t\t\t\t_box$3.applyMatrix4(object.matrixWorld);\n\n\t\t\t\tthis.union(_box$3);\n\t\t\t}\n\n\t\t\tconst children = object.children;\n\n\t\t\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\t\t\tthis.expandByObject(children[i]);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tcontainsPoint(point) {\n\t\t\treturn point.x < this.min.x || point.x > this.max.x || point.y < this.min.y || point.y > this.max.y || point.z < this.min.z || point.z > this.max.z ? false : true;\n\t\t}\n\n\t\tcontainsBox(box) {\n\t\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x && this.min.y <= box.min.y && box.max.y <= this.max.y && this.min.z <= box.min.z && box.max.z <= this.max.z;\n\t\t}\n\n\t\tgetParameter(point, target) {\n\t\t\t// This can potentially have a divide by zero if the box\n\t\t\t// has a size dimension of 0.\n\t\t\treturn target.set((point.x - this.min.x) / (this.max.x - this.min.x), (point.y - this.min.y) / (this.max.y - this.min.y), (point.z - this.min.z) / (this.max.z - this.min.z));\n\t\t}\n\n\t\tintersectsBox(box) {\n\t\t\t// using 6 splitting planes to rule out intersections.\n\t\t\treturn box.max.x < this.min.x || box.min.x > this.max.x || box.max.y < this.min.y || box.min.y > this.max.y || box.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\t\t}\n\n\t\tintersectsSphere(sphere) {\n\t\t\t// Find the point on the AABB closest to the sphere center.\n\t\t\tthis.clampPoint(sphere.center, _vector$b); // If that point is inside the sphere, the AABB and sphere intersect.\n\n\t\t\treturn _vector$b.distanceToSquared(sphere.center) <= sphere.radius * sphere.radius;\n\t\t}\n\n\t\tintersectsPlane(plane) {\n\t\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\t\t\tlet min, max;\n\n\t\t\tif (plane.normal.x > 0) {\n\t\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\t\tmax = plane.normal.x * this.max.x;\n\t\t\t} else {\n\t\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\t\tmax = plane.normal.x * this.min.x;\n\t\t\t}\n\n\t\t\tif (plane.normal.y > 0) {\n\t\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\t\tmax += plane.normal.y * this.max.y;\n\t\t\t} else {\n\t\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\t\tmax += plane.normal.y * this.min.y;\n\t\t\t}\n\n\t\t\tif (plane.normal.z > 0) {\n\t\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\t\tmax += plane.normal.z * this.max.z;\n\t\t\t} else {\n\t\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\t\tmax += plane.normal.z * this.min.z;\n\t\t\t}\n\n\t\t\treturn min <= -plane.constant && max >= -plane.constant;\n\t\t}\n\n\t\tintersectsTriangle(triangle) {\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn false;\n\t\t\t} // compute box center and extents\n\n\n\t\t\tthis.getCenter(_center);\n\n\t\t\t_extents.subVectors(this.max, _center); // translate triangle to aabb origin\n\n\n\t\t\t_v0$2.subVectors(triangle.a, _center);\n\n\t\t\t_v1$7.subVectors(triangle.b, _center);\n\n\t\t\t_v2$3.subVectors(triangle.c, _center); // compute edge vectors for triangle\n\n\n\t\t\t_f0.subVectors(_v1$7, _v0$2);\n\n\t\t\t_f1.subVectors(_v2$3, _v1$7);\n\n\t\t\t_f2.subVectors(_v0$2, _v2$3); // test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\n\n\t\t\tlet axes = [0, -_f0.z, _f0.y, 0, -_f1.z, _f1.y, 0, -_f2.z, _f2.y, _f0.z, 0, -_f0.x, _f1.z, 0, -_f1.x, _f2.z, 0, -_f2.x, -_f0.y, _f0.x, 0, -_f1.y, _f1.x, 0, -_f2.y, _f2.x, 0];\n\n\t\t\tif (!satForAxes(axes, _v0$2, _v1$7, _v2$3, _extents)) {\n\t\t\t\treturn false;\n\t\t\t} // test 3 face normals from the aabb\n\n\n\t\t\taxes = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n\t\t\tif (!satForAxes(axes, _v0$2, _v1$7, _v2$3, _extents)) {\n\t\t\t\treturn false;\n\t\t\t} // finally testing the face normal of the triangle\n\t\t\t// use already existing triangle edge vectors here\n\n\n\t\t\t_triangleNormal.crossVectors(_f0, _f1);\n\n\t\t\taxes = [_triangleNormal.x, _triangleNormal.y, _triangleNormal.z];\n\t\t\treturn satForAxes(axes, _v0$2, _v1$7, _v2$3, _extents);\n\t\t}\n\n\t\tclampPoint(point, target) {\n\t\t\treturn target.copy(point).clamp(this.min, this.max);\n\t\t}\n\n\t\tdistanceToPoint(point) {\n\t\t\tconst clampedPoint = _vector$b.copy(point).clamp(this.min, this.max);\n\n\t\t\treturn clampedPoint.sub(point).length();\n\t\t}\n\n\t\tgetBoundingSphere(target) {\n\t\t\tthis.getCenter(target.center);\n\t\t\ttarget.radius = this.getSize(_vector$b).length() * 0.5;\n\t\t\treturn target;\n\t\t}\n\n\t\tintersect(box) {\n\t\t\tthis.min.max(box.min);\n\t\t\tthis.max.min(box.max); // ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\n\t\t\tif (this.isEmpty()) this.makeEmpty();\n\t\t\treturn this;\n\t\t}\n\n\t\tunion(box) {\n\t\t\tthis.min.min(box.min);\n\t\t\tthis.max.max(box.max);\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyMatrix4(matrix) {\n\t\t\t// transform of empty box is an empty box.\n\t\t\tif (this.isEmpty()) return this; // NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\n\t\t\t_points[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(matrix); // 000\n\n\n\t\t\t_points[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(matrix); // 001\n\n\n\t\t\t_points[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(matrix); // 010\n\n\n\t\t\t_points[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(matrix); // 011\n\n\n\t\t\t_points[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(matrix); // 100\n\n\n\t\t\t_points[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(matrix); // 101\n\n\n\t\t\t_points[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(matrix); // 110\n\n\n\t\t\t_points[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(matrix); // 111\n\n\n\t\t\tthis.setFromPoints(_points);\n\t\t\treturn this;\n\t\t}\n\n\t\ttranslate(offset) {\n\t\t\tthis.min.add(offset);\n\t\t\tthis.max.add(offset);\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(box) {\n\t\t\treturn box.min.equals(this.min) && box.max.equals(this.max);\n\t\t}\n\n\t}\n\n\tBox3.prototype.isBox3 = true;\n\tconst _points = [/*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3()];\n\n\tconst _vector$b = /*@__PURE__*/new Vector3();\n\n\tconst _box$3 = /*@__PURE__*/new Box3(); // triangle centered vertices\n\n\n\tconst _v0$2 = /*@__PURE__*/new Vector3();\n\n\tconst _v1$7 = /*@__PURE__*/new Vector3();\n\n\tconst _v2$3 = /*@__PURE__*/new Vector3(); // triangle edge vectors\n\n\n\tconst _f0 = /*@__PURE__*/new Vector3();\n\n\tconst _f1 = /*@__PURE__*/new Vector3();\n\n\tconst _f2 = /*@__PURE__*/new Vector3();\n\n\tconst _center = /*@__PURE__*/new Vector3();\n\n\tconst _extents = /*@__PURE__*/new Vector3();\n\n\tconst _triangleNormal = /*@__PURE__*/new Vector3();\n\n\tconst _testAxis = /*@__PURE__*/new Vector3();\n\n\tfunction satForAxes(axes, v0, v1, v2, extents) {\n\t\tfor (let i = 0, j = axes.length - 3; i <= j; i += 3) {\n\t\t\t_testAxis.fromArray(axes, i); // project the aabb onto the seperating axis\n\n\n\t\t\tconst r = extents.x * Math.abs(_testAxis.x) + extents.y * Math.abs(_testAxis.y) + extents.z * Math.abs(_testAxis.z); // project all 3 vertices of the triangle onto the seperating axis\n\n\t\t\tconst p0 = v0.dot(_testAxis);\n\t\t\tconst p1 = v1.dot(_testAxis);\n\t\t\tconst p2 = v2.dot(_testAxis); // actual test, basically see if either of the most extreme of the triangle points intersects r\n\n\t\t\tif (Math.max(-Math.max(p0, p1, p2), Math.min(p0, p1, p2)) > r) {\n\t\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t\t// the axis is seperating and we can exit\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tconst _box$2 = /*@__PURE__*/new Box3();\n\n\tconst _v1$6 = /*@__PURE__*/new Vector3();\n\n\tconst _toFarthestPoint = /*@__PURE__*/new Vector3();\n\n\tconst _toPoint = /*@__PURE__*/new Vector3();\n\n\tclass Sphere {\n\t\tconstructor(center = new Vector3(), radius = -1) {\n\t\t\tthis.center = center;\n\t\t\tthis.radius = radius;\n\t\t}\n\n\t\tset(center, radius) {\n\t\t\tthis.center.copy(center);\n\t\t\tthis.radius = radius;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromPoints(points, optionalCenter) {\n\t\t\tconst center = this.center;\n\n\t\t\tif (optionalCenter !== undefined) {\n\t\t\t\tcenter.copy(optionalCenter);\n\t\t\t} else {\n\t\t\t\t_box$2.setFromPoints(points).getCenter(center);\n\t\t\t}\n\n\t\t\tlet maxRadiusSq = 0;\n\n\t\t\tfor (let i = 0, il = points.length; i < il; i++) {\n\t\t\t\tmaxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(points[i]));\n\t\t\t}\n\n\t\t\tthis.radius = Math.sqrt(maxRadiusSq);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(sphere) {\n\t\t\tthis.center.copy(sphere.center);\n\t\t\tthis.radius = sphere.radius;\n\t\t\treturn this;\n\t\t}\n\n\t\tisEmpty() {\n\t\t\treturn this.radius < 0;\n\t\t}\n\n\t\tmakeEmpty() {\n\t\t\tthis.center.set(0, 0, 0);\n\t\t\tthis.radius = -1;\n\t\t\treturn this;\n\t\t}\n\n\t\tcontainsPoint(point) {\n\t\t\treturn point.distanceToSquared(this.center) <= this.radius * this.radius;\n\t\t}\n\n\t\tdistanceToPoint(point) {\n\t\t\treturn point.distanceTo(this.center) - this.radius;\n\t\t}\n\n\t\tintersectsSphere(sphere) {\n\t\t\tconst radiusSum = this.radius + sphere.radius;\n\t\t\treturn sphere.center.distanceToSquared(this.center) <= radiusSum * radiusSum;\n\t\t}\n\n\t\tintersectsBox(box) {\n\t\t\treturn box.intersectsSphere(this);\n\t\t}\n\n\t\tintersectsPlane(plane) {\n\t\t\treturn Math.abs(plane.distanceToPoint(this.center)) <= this.radius;\n\t\t}\n\n\t\tclampPoint(point, target) {\n\t\t\tconst deltaLengthSq = this.center.distanceToSquared(point);\n\t\t\ttarget.copy(point);\n\n\t\t\tif (deltaLengthSq > this.radius * this.radius) {\n\t\t\t\ttarget.sub(this.center).normalize();\n\t\t\t\ttarget.multiplyScalar(this.radius).add(this.center);\n\t\t\t}\n\n\t\t\treturn target;\n\t\t}\n\n\t\tgetBoundingBox(target) {\n\t\t\tif (this.isEmpty()) {\n\t\t\t\t// Empty sphere produces empty bounding box\n\t\t\t\ttarget.makeEmpty();\n\t\t\t\treturn target;\n\t\t\t}\n\n\t\t\ttarget.set(this.center, this.center);\n\t\t\ttarget.expandByScalar(this.radius);\n\t\t\treturn target;\n\t\t}\n\n\t\tapplyMatrix4(matrix) {\n\t\t\tthis.center.applyMatrix4(matrix);\n\t\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\t\t\treturn this;\n\t\t}\n\n\t\ttranslate(offset) {\n\t\t\tthis.center.add(offset);\n\t\t\treturn this;\n\t\t}\n\n\t\texpandByPoint(point) {\n\t\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L649-L671\n\t\t\t_toPoint.subVectors(point, this.center);\n\n\t\t\tconst lengthSq = _toPoint.lengthSq();\n\n\t\t\tif (lengthSq > this.radius * this.radius) {\n\t\t\t\tconst length = Math.sqrt(lengthSq);\n\t\t\t\tconst missingRadiusHalf = (length - this.radius) * 0.5; // Nudge this sphere towards the target point. Add half the missing distance to radius,\n\t\t\t\t// and the other half to position. This gives a tighter enclosure, instead of if\n\t\t\t\t// the whole missing distance were just added to radius.\n\n\t\t\t\tthis.center.add(_toPoint.multiplyScalar(missingRadiusHalf / length));\n\t\t\t\tthis.radius += missingRadiusHalf;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tunion(sphere) {\n\t\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L759-L769\n\t\t\t// To enclose another sphere into this sphere, we only need to enclose two points:\n\t\t\t// 1) Enclose the farthest point on the other sphere into this sphere.\n\t\t\t// 2) Enclose the opposite point of the farthest point into this sphere.\n\t\t\tif (this.center.equals(sphere.center) === true) {\n\t\t\t\t_toFarthestPoint.set(0, 0, 1).multiplyScalar(sphere.radius);\n\t\t\t} else {\n\t\t\t\t_toFarthestPoint.subVectors(sphere.center, this.center).normalize().multiplyScalar(sphere.radius);\n\t\t\t}\n\n\t\t\tthis.expandByPoint(_v1$6.copy(sphere.center).add(_toFarthestPoint));\n\t\t\tthis.expandByPoint(_v1$6.copy(sphere.center).sub(_toFarthestPoint));\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(sphere) {\n\t\t\treturn sphere.center.equals(this.center) && sphere.radius === this.radius;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t}\n\n\tconst _vector$a = /*@__PURE__*/new Vector3();\n\n\tconst _segCenter = /*@__PURE__*/new Vector3();\n\n\tconst _segDir = /*@__PURE__*/new Vector3();\n\n\tconst _diff = /*@__PURE__*/new Vector3();\n\n\tconst _edge1 = /*@__PURE__*/new Vector3();\n\n\tconst _edge2 = /*@__PURE__*/new Vector3();\n\n\tconst _normal$1 = /*@__PURE__*/new Vector3();\n\n\tclass Ray {\n\t\tconstructor(origin = new Vector3(), direction = new Vector3(0, 0, -1)) {\n\t\t\tthis.origin = origin;\n\t\t\tthis.direction = direction;\n\t\t}\n\n\t\tset(origin, direction) {\n\t\t\tthis.origin.copy(origin);\n\t\t\tthis.direction.copy(direction);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(ray) {\n\t\t\tthis.origin.copy(ray.origin);\n\t\t\tthis.direction.copy(ray.direction);\n\t\t\treturn this;\n\t\t}\n\n\t\tat(t, target) {\n\t\t\treturn target.copy(this.direction).multiplyScalar(t).add(this.origin);\n\t\t}\n\n\t\tlookAt(v) {\n\t\t\tthis.direction.copy(v).sub(this.origin).normalize();\n\t\t\treturn this;\n\t\t}\n\n\t\trecast(t) {\n\t\t\tthis.origin.copy(this.at(t, _vector$a));\n\t\t\treturn this;\n\t\t}\n\n\t\tclosestPointToPoint(point, target) {\n\t\t\ttarget.subVectors(point, this.origin);\n\t\t\tconst directionDistance = target.dot(this.direction);\n\n\t\t\tif (directionDistance < 0) {\n\t\t\t\treturn target.copy(this.origin);\n\t\t\t}\n\n\t\t\treturn target.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);\n\t\t}\n\n\t\tdistanceToPoint(point) {\n\t\t\treturn Math.sqrt(this.distanceSqToPoint(point));\n\t\t}\n\n\t\tdistanceSqToPoint(point) {\n\t\t\tconst directionDistance = _vector$a.subVectors(point, this.origin).dot(this.direction); // point behind the ray\n\n\n\t\t\tif (directionDistance < 0) {\n\t\t\t\treturn this.origin.distanceToSquared(point);\n\t\t\t}\n\n\t\t\t_vector$a.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);\n\n\t\t\treturn _vector$a.distanceToSquared(point);\n\t\t}\n\n\t\tdistanceSqToSegment(v0, v1, optionalPointOnRay, optionalPointOnSegment) {\n\t\t\t// from https://github.com/pmjoniak/GeometricTools/blob/master/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t\t// It returns the min distance between the ray and the segment\n\t\t\t// defined by v0 and v1\n\t\t\t// It can also set two optional targets :\n\t\t\t// - The closest point on the ray\n\t\t\t// - The closest point on the segment\n\t\t\t_segCenter.copy(v0).add(v1).multiplyScalar(0.5);\n\n\t\t\t_segDir.copy(v1).sub(v0).normalize();\n\n\t\t\t_diff.copy(this.origin).sub(_segCenter);\n\n\t\t\tconst segExtent = v0.distanceTo(v1) * 0.5;\n\t\t\tconst a01 = -this.direction.dot(_segDir);\n\n\t\t\tconst b0 = _diff.dot(this.direction);\n\n\t\t\tconst b1 = -_diff.dot(_segDir);\n\n\t\t\tconst c = _diff.lengthSq();\n\n\t\t\tconst det = Math.abs(1 - a01 * a01);\n\t\t\tlet s0, s1, sqrDist, extDet;\n\n\t\t\tif (det > 0) {\n\t\t\t\t// The ray and segment are not parallel.\n\t\t\t\ts0 = a01 * b1 - b0;\n\t\t\t\ts1 = a01 * b0 - b1;\n\t\t\t\textDet = segExtent * det;\n\n\t\t\t\tif (s0 >= 0) {\n\t\t\t\t\tif (s1 >= -extDet) {\n\t\t\t\t\t\tif (s1 <= extDet) {\n\t\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\t\t\t\t\t\t\tconst invDet = 1 / det;\n\t\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\t\tsqrDist = s0 * (s0 + a01 * s1 + 2 * b0) + s1 * (a01 * s0 + s1 + 2 * b1) + c;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// region 1\n\t\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\t\ts0 = Math.max(0, -(a01 * s1 + b0));\n\t\t\t\t\t\t\tsqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// region 5\n\t\t\t\t\t\ts1 = -segExtent;\n\t\t\t\t\t\ts0 = Math.max(0, -(a01 * s1 + b0));\n\t\t\t\t\t\tsqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (s1 <= -extDet) {\n\t\t\t\t\t\t// region 4\n\t\t\t\t\t\ts0 = Math.max(0, -(-a01 * segExtent + b0));\n\t\t\t\t\t\ts1 = s0 > 0 ? -segExtent : Math.min(Math.max(-segExtent, -b1), segExtent);\n\t\t\t\t\t\tsqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\t\t\t\t\t} else if (s1 <= extDet) {\n\t\t\t\t\t\t// region 3\n\t\t\t\t\t\ts0 = 0;\n\t\t\t\t\t\ts1 = Math.min(Math.max(-segExtent, -b1), segExtent);\n\t\t\t\t\t\tsqrDist = s1 * (s1 + 2 * b1) + c;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// region 2\n\t\t\t\t\t\ts0 = Math.max(0, -(a01 * segExtent + b0));\n\t\t\t\t\t\ts1 = s0 > 0 ? segExtent : Math.min(Math.max(-segExtent, -b1), segExtent);\n\t\t\t\t\t\tsqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Ray and segment are parallel.\n\t\t\t\ts1 = a01 > 0 ? -segExtent : segExtent;\n\t\t\t\ts0 = Math.max(0, -(a01 * s1 + b0));\n\t\t\t\tsqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\t\t\t}\n\n\t\t\tif (optionalPointOnRay) {\n\t\t\t\toptionalPointOnRay.copy(this.direction).multiplyScalar(s0).add(this.origin);\n\t\t\t}\n\n\t\t\tif (optionalPointOnSegment) {\n\t\t\t\toptionalPointOnSegment.copy(_segDir).multiplyScalar(s1).add(_segCenter);\n\t\t\t}\n\n\t\t\treturn sqrDist;\n\t\t}\n\n\t\tintersectSphere(sphere, target) {\n\t\t\t_vector$a.subVectors(sphere.center, this.origin);\n\n\t\t\tconst tca = _vector$a.dot(this.direction);\n\n\t\t\tconst d2 = _vector$a.dot(_vector$a) - tca * tca;\n\t\t\tconst radius2 = sphere.radius * sphere.radius;\n\t\t\tif (d2 > radius2) return null;\n\t\t\tconst thc = Math.sqrt(radius2 - d2); // t0 = first intersect point - entrance on front of sphere\n\n\t\t\tconst t0 = tca - thc; // t1 = second intersect point - exit point on back of sphere\n\n\t\t\tconst t1 = tca + thc; // test to see if both t0 and t1 are behind the ray - if so, return null\n\n\t\t\tif (t0 < 0 && t1 < 0) return null; // test to see if t0 is behind the ray:\n\t\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t\t// in order to always return an intersect point that is in front of the ray.\n\n\t\t\tif (t0 < 0) return this.at(t1, target); // else t0 is in front of the ray, so return the first collision point scaled by t0\n\n\t\t\treturn this.at(t0, target);\n\t\t}\n\n\t\tintersectsSphere(sphere) {\n\t\t\treturn this.distanceSqToPoint(sphere.center) <= sphere.radius * sphere.radius;\n\t\t}\n\n\t\tdistanceToPlane(plane) {\n\t\t\tconst denominator = plane.normal.dot(this.direction);\n\n\t\t\tif (denominator === 0) {\n\t\t\t\t// line is coplanar, return origin\n\t\t\t\tif (plane.distanceToPoint(this.origin) === 0) {\n\t\t\t\t\treturn 0;\n\t\t\t\t} // Null is preferable to undefined since undefined means.... it is undefined\n\n\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst t = -(this.origin.dot(plane.normal) + plane.constant) / denominator; // Return if the ray never intersects the plane\n\n\t\t\treturn t >= 0 ? t : null;\n\t\t}\n\n\t\tintersectPlane(plane, target) {\n\t\t\tconst t = this.distanceToPlane(plane);\n\n\t\t\tif (t === null) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn this.at(t, target);\n\t\t}\n\n\t\tintersectsPlane(plane) {\n\t\t\t// check if the ray lies on the plane first\n\t\t\tconst distToPoint = plane.distanceToPoint(this.origin);\n\n\t\t\tif (distToPoint === 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst denominator = plane.normal.dot(this.direction);\n\n\t\t\tif (denominator * distToPoint < 0) {\n\t\t\t\treturn true;\n\t\t\t} // ray origin is behind the plane (and is pointing behind it)\n\n\n\t\t\treturn false;\n\t\t}\n\n\t\tintersectBox(box, target) {\n\t\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\t\t\tconst invdirx = 1 / this.direction.x,\n\t\t\t\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\t\t\t\tinvdirz = 1 / this.direction.z;\n\t\t\tconst origin = this.origin;\n\n\t\t\tif (invdirx >= 0) {\n\t\t\t\ttmin = (box.min.x - origin.x) * invdirx;\n\t\t\t\ttmax = (box.max.x - origin.x) * invdirx;\n\t\t\t} else {\n\t\t\t\ttmin = (box.max.x - origin.x) * invdirx;\n\t\t\t\ttmax = (box.min.x - origin.x) * invdirx;\n\t\t\t}\n\n\t\t\tif (invdiry >= 0) {\n\t\t\t\ttymin = (box.min.y - origin.y) * invdiry;\n\t\t\t\ttymax = (box.max.y - origin.y) * invdiry;\n\t\t\t} else {\n\t\t\t\ttymin = (box.max.y - origin.y) * invdiry;\n\t\t\t\ttymax = (box.min.y - origin.y) * invdiry;\n\t\t\t}\n\n\t\t\tif (tmin > tymax || tymin > tmax) return null; // These lines also handle the case where tmin or tmax is NaN\n\t\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\t\tif (tymin > tmin || tmin !== tmin) tmin = tymin;\n\t\t\tif (tymax < tmax || tmax !== tmax) tmax = tymax;\n\n\t\t\tif (invdirz >= 0) {\n\t\t\t\ttzmin = (box.min.z - origin.z) * invdirz;\n\t\t\t\ttzmax = (box.max.z - origin.z) * invdirz;\n\t\t\t} else {\n\t\t\t\ttzmin = (box.max.z - origin.z) * invdirz;\n\t\t\t\ttzmax = (box.min.z - origin.z) * invdirz;\n\t\t\t}\n\n\t\t\tif (tmin > tzmax || tzmin > tmax) return null;\n\t\t\tif (tzmin > tmin || tmin !== tmin) tmin = tzmin;\n\t\t\tif (tzmax < tmax || tmax !== tmax) tmax = tzmax; //return point closest to the ray (positive side)\n\n\t\t\tif (tmax < 0) return null;\n\t\t\treturn this.at(tmin >= 0 ? tmin : tmax, target);\n\t\t}\n\n\t\tintersectsBox(box) {\n\t\t\treturn this.intersectBox(box, _vector$a) !== null;\n\t\t}\n\n\t\tintersectTriangle(a, b, c, backfaceCulling, target) {\n\t\t\t// Compute the offset origin, edges, and normal.\n\t\t\t// from https://github.com/pmjoniak/GeometricTools/blob/master/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\t\t\t_edge1.subVectors(b, a);\n\n\t\t\t_edge2.subVectors(c, a);\n\n\t\t\t_normal$1.crossVectors(_edge1, _edge2); // Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t\t//\t |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t\t//\t |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t\t//\t |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\n\n\t\t\tlet DdN = this.direction.dot(_normal$1);\n\t\t\tlet sign;\n\n\t\t\tif (DdN > 0) {\n\t\t\t\tif (backfaceCulling) return null;\n\t\t\t\tsign = 1;\n\t\t\t} else if (DdN < 0) {\n\t\t\t\tsign = -1;\n\t\t\t\tDdN = -DdN;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t_diff.subVectors(this.origin, a);\n\n\t\t\tconst DdQxE2 = sign * this.direction.dot(_edge2.crossVectors(_diff, _edge2)); // b1 < 0, no intersection\n\n\t\t\tif (DdQxE2 < 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst DdE1xQ = sign * this.direction.dot(_edge1.cross(_diff)); // b2 < 0, no intersection\n\n\t\t\tif (DdE1xQ < 0) {\n\t\t\t\treturn null;\n\t\t\t} // b1+b2 > 1, no intersection\n\n\n\t\t\tif (DdQxE2 + DdE1xQ > DdN) {\n\t\t\t\treturn null;\n\t\t\t} // Line intersects triangle, check if ray does.\n\n\n\t\t\tconst QdN = -sign * _diff.dot(_normal$1); // t < 0, no intersection\n\n\n\t\t\tif (QdN < 0) {\n\t\t\t\treturn null;\n\t\t\t} // Ray intersects triangle.\n\n\n\t\t\treturn this.at(QdN / DdN, target);\n\t\t}\n\n\t\tapplyMatrix4(matrix4) {\n\t\t\tthis.origin.applyMatrix4(matrix4);\n\t\t\tthis.direction.transformDirection(matrix4);\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(ray) {\n\t\t\treturn ray.origin.equals(this.origin) && ray.direction.equals(this.direction);\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t}\n\n\tclass Matrix4 {\n\t\tconstructor() {\n\t\t\tthis.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\n\t\t\tif (arguments.length > 0) {\n\t\t\t\tconsole.error('THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.');\n\t\t\t}\n\t\t}\n\n\t\tset(n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {\n\t\t\tconst te = this.elements;\n\t\t\tte[0] = n11;\n\t\t\tte[4] = n12;\n\t\t\tte[8] = n13;\n\t\t\tte[12] = n14;\n\t\t\tte[1] = n21;\n\t\t\tte[5] = n22;\n\t\t\tte[9] = n23;\n\t\t\tte[13] = n24;\n\t\t\tte[2] = n31;\n\t\t\tte[6] = n32;\n\t\t\tte[10] = n33;\n\t\t\tte[14] = n34;\n\t\t\tte[3] = n41;\n\t\t\tte[7] = n42;\n\t\t\tte[11] = n43;\n\t\t\tte[15] = n44;\n\t\t\treturn this;\n\t\t}\n\n\t\tidentity() {\n\t\t\tthis.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new Matrix4().fromArray(this.elements);\n\t\t}\n\n\t\tcopy(m) {\n\t\t\tconst te = this.elements;\n\t\t\tconst me = m.elements;\n\t\t\tte[0] = me[0];\n\t\t\tte[1] = me[1];\n\t\t\tte[2] = me[2];\n\t\t\tte[3] = me[3];\n\t\t\tte[4] = me[4];\n\t\t\tte[5] = me[5];\n\t\t\tte[6] = me[6];\n\t\t\tte[7] = me[7];\n\t\t\tte[8] = me[8];\n\t\t\tte[9] = me[9];\n\t\t\tte[10] = me[10];\n\t\t\tte[11] = me[11];\n\t\t\tte[12] = me[12];\n\t\t\tte[13] = me[13];\n\t\t\tte[14] = me[14];\n\t\t\tte[15] = me[15];\n\t\t\treturn this;\n\t\t}\n\n\t\tcopyPosition(m) {\n\t\t\tconst te = this.elements,\n\t\t\t\t\t\tme = m.elements;\n\t\t\tte[12] = me[12];\n\t\t\tte[13] = me[13];\n\t\t\tte[14] = me[14];\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromMatrix3(m) {\n\t\t\tconst me = m.elements;\n\t\t\tthis.set(me[0], me[3], me[6], 0, me[1], me[4], me[7], 0, me[2], me[5], me[8], 0, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\textractBasis(xAxis, yAxis, zAxis) {\n\t\t\txAxis.setFromMatrixColumn(this, 0);\n\t\t\tyAxis.setFromMatrixColumn(this, 1);\n\t\t\tzAxis.setFromMatrixColumn(this, 2);\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeBasis(xAxis, yAxis, zAxis) {\n\t\t\tthis.set(xAxis.x, yAxis.x, zAxis.x, 0, xAxis.y, yAxis.y, zAxis.y, 0, xAxis.z, yAxis.z, zAxis.z, 0, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\textractRotation(m) {\n\t\t\t// this method does not support reflection matrices\n\t\t\tconst te = this.elements;\n\t\t\tconst me = m.elements;\n\n\t\t\tconst scaleX = 1 / _v1$5.setFromMatrixColumn(m, 0).length();\n\n\t\t\tconst scaleY = 1 / _v1$5.setFromMatrixColumn(m, 1).length();\n\n\t\t\tconst scaleZ = 1 / _v1$5.setFromMatrixColumn(m, 2).length();\n\n\t\t\tte[0] = me[0] * scaleX;\n\t\t\tte[1] = me[1] * scaleX;\n\t\t\tte[2] = me[2] * scaleX;\n\t\t\tte[3] = 0;\n\t\t\tte[4] = me[4] * scaleY;\n\t\t\tte[5] = me[5] * scaleY;\n\t\t\tte[6] = me[6] * scaleY;\n\t\t\tte[7] = 0;\n\t\t\tte[8] = me[8] * scaleZ;\n\t\t\tte[9] = me[9] * scaleZ;\n\t\t\tte[10] = me[10] * scaleZ;\n\t\t\tte[11] = 0;\n\t\t\tte[12] = 0;\n\t\t\tte[13] = 0;\n\t\t\tte[14] = 0;\n\t\t\tte[15] = 1;\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeRotationFromEuler(euler) {\n\t\t\tif (!(euler && euler.isEuler)) {\n\t\t\t\tconsole.error('THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.');\n\t\t\t}\n\n\t\t\tconst te = this.elements;\n\t\t\tconst x = euler.x,\n\t\t\t\t\t\ty = euler.y,\n\t\t\t\t\t\tz = euler.z;\n\t\t\tconst a = Math.cos(x),\n\t\t\t\t\t\tb = Math.sin(x);\n\t\t\tconst c = Math.cos(y),\n\t\t\t\t\t\td = Math.sin(y);\n\t\t\tconst e = Math.cos(z),\n\t\t\t\t\t\tf = Math.sin(z);\n\n\t\t\tif (euler.order === 'XYZ') {\n\t\t\t\tconst ae = a * e,\n\t\t\t\t\t\t\taf = a * f,\n\t\t\t\t\t\t\tbe = b * e,\n\t\t\t\t\t\t\tbf = b * f;\n\t\t\t\tte[0] = c * e;\n\t\t\t\tte[4] = -c * f;\n\t\t\t\tte[8] = d;\n\t\t\t\tte[1] = af + be * d;\n\t\t\t\tte[5] = ae - bf * d;\n\t\t\t\tte[9] = -b * c;\n\t\t\t\tte[2] = bf - ae * d;\n\t\t\t\tte[6] = be + af * d;\n\t\t\t\tte[10] = a * c;\n\t\t\t} else if (euler.order === 'YXZ') {\n\t\t\t\tconst ce = c * e,\n\t\t\t\t\t\t\tcf = c * f,\n\t\t\t\t\t\t\tde = d * e,\n\t\t\t\t\t\t\tdf = d * f;\n\t\t\t\tte[0] = ce + df * b;\n\t\t\t\tte[4] = de * b - cf;\n\t\t\t\tte[8] = a * d;\n\t\t\t\tte[1] = a * f;\n\t\t\t\tte[5] = a * e;\n\t\t\t\tte[9] = -b;\n\t\t\t\tte[2] = cf * b - de;\n\t\t\t\tte[6] = df + ce * b;\n\t\t\t\tte[10] = a * c;\n\t\t\t} else if (euler.order === 'ZXY') {\n\t\t\t\tconst ce = c * e,\n\t\t\t\t\t\t\tcf = c * f,\n\t\t\t\t\t\t\tde = d * e,\n\t\t\t\t\t\t\tdf = d * f;\n\t\t\t\tte[0] = ce - df * b;\n\t\t\t\tte[4] = -a * f;\n\t\t\t\tte[8] = de + cf * b;\n\t\t\t\tte[1] = cf + de * b;\n\t\t\t\tte[5] = a * e;\n\t\t\t\tte[9] = df - ce * b;\n\t\t\t\tte[2] = -a * d;\n\t\t\t\tte[6] = b;\n\t\t\t\tte[10] = a * c;\n\t\t\t} else if (euler.order === 'ZYX') {\n\t\t\t\tconst ae = a * e,\n\t\t\t\t\t\t\taf = a * f,\n\t\t\t\t\t\t\tbe = b * e,\n\t\t\t\t\t\t\tbf = b * f;\n\t\t\t\tte[0] = c * e;\n\t\t\t\tte[4] = be * d - af;\n\t\t\t\tte[8] = ae * d + bf;\n\t\t\t\tte[1] = c * f;\n\t\t\t\tte[5] = bf * d + ae;\n\t\t\t\tte[9] = af * d - be;\n\t\t\t\tte[2] = -d;\n\t\t\t\tte[6] = b * c;\n\t\t\t\tte[10] = a * c;\n\t\t\t} else if (euler.order === 'YZX') {\n\t\t\t\tconst ac = a * c,\n\t\t\t\t\t\t\tad = a * d,\n\t\t\t\t\t\t\tbc = b * c,\n\t\t\t\t\t\t\tbd = b * d;\n\t\t\t\tte[0] = c * e;\n\t\t\t\tte[4] = bd - ac * f;\n\t\t\t\tte[8] = bc * f + ad;\n\t\t\t\tte[1] = f;\n\t\t\t\tte[5] = a * e;\n\t\t\t\tte[9] = -b * e;\n\t\t\t\tte[2] = -d * e;\n\t\t\t\tte[6] = ad * f + bc;\n\t\t\t\tte[10] = ac - bd * f;\n\t\t\t} else if (euler.order === 'XZY') {\n\t\t\t\tconst ac = a * c,\n\t\t\t\t\t\t\tad = a * d,\n\t\t\t\t\t\t\tbc = b * c,\n\t\t\t\t\t\t\tbd = b * d;\n\t\t\t\tte[0] = c * e;\n\t\t\t\tte[4] = -f;\n\t\t\t\tte[8] = d * e;\n\t\t\t\tte[1] = ac * f + bd;\n\t\t\t\tte[5] = a * e;\n\t\t\t\tte[9] = ad * f - bc;\n\t\t\t\tte[2] = bc * f - ad;\n\t\t\t\tte[6] = b * e;\n\t\t\t\tte[10] = bd * f + ac;\n\t\t\t} // bottom row\n\n\n\t\t\tte[3] = 0;\n\t\t\tte[7] = 0;\n\t\t\tte[11] = 0; // last column\n\n\t\t\tte[12] = 0;\n\t\t\tte[13] = 0;\n\t\t\tte[14] = 0;\n\t\t\tte[15] = 1;\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeRotationFromQuaternion(q) {\n\t\t\treturn this.compose(_zero, q, _one);\n\t\t}\n\n\t\tlookAt(eye, target, up) {\n\t\t\tconst te = this.elements;\n\n\t\t\t_z.subVectors(eye, target);\n\n\t\t\tif (_z.lengthSq() === 0) {\n\t\t\t\t// eye and target are in the same position\n\t\t\t\t_z.z = 1;\n\t\t\t}\n\n\t\t\t_z.normalize();\n\n\t\t\t_x.crossVectors(up, _z);\n\n\t\t\tif (_x.lengthSq() === 0) {\n\t\t\t\t// up and z are parallel\n\t\t\t\tif (Math.abs(up.z) === 1) {\n\t\t\t\t\t_z.x += 0.0001;\n\t\t\t\t} else {\n\t\t\t\t\t_z.z += 0.0001;\n\t\t\t\t}\n\n\t\t\t\t_z.normalize();\n\n\t\t\t\t_x.crossVectors(up, _z);\n\t\t\t}\n\n\t\t\t_x.normalize();\n\n\t\t\t_y.crossVectors(_z, _x);\n\n\t\t\tte[0] = _x.x;\n\t\t\tte[4] = _y.x;\n\t\t\tte[8] = _z.x;\n\t\t\tte[1] = _x.y;\n\t\t\tte[5] = _y.y;\n\t\t\tte[9] = _z.y;\n\t\t\tte[2] = _x.z;\n\t\t\tte[6] = _y.z;\n\t\t\tte[10] = _z.z;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiply(m, n) {\n\t\t\tif (n !== undefined) {\n\t\t\t\tconsole.warn('THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.');\n\t\t\t\treturn this.multiplyMatrices(m, n);\n\t\t\t}\n\n\t\t\treturn this.multiplyMatrices(this, m);\n\t\t}\n\n\t\tpremultiply(m) {\n\t\t\treturn this.multiplyMatrices(m, this);\n\t\t}\n\n\t\tmultiplyMatrices(a, b) {\n\t\t\tconst ae = a.elements;\n\t\t\tconst be = b.elements;\n\t\t\tconst te = this.elements;\n\t\t\tconst a11 = ae[0],\n\t\t\t\t\t\ta12 = ae[4],\n\t\t\t\t\t\ta13 = ae[8],\n\t\t\t\t\t\ta14 = ae[12];\n\t\t\tconst a21 = ae[1],\n\t\t\t\t\t\ta22 = ae[5],\n\t\t\t\t\t\ta23 = ae[9],\n\t\t\t\t\t\ta24 = ae[13];\n\t\t\tconst a31 = ae[2],\n\t\t\t\t\t\ta32 = ae[6],\n\t\t\t\t\t\ta33 = ae[10],\n\t\t\t\t\t\ta34 = ae[14];\n\t\t\tconst a41 = ae[3],\n\t\t\t\t\t\ta42 = ae[7],\n\t\t\t\t\t\ta43 = ae[11],\n\t\t\t\t\t\ta44 = ae[15];\n\t\t\tconst b11 = be[0],\n\t\t\t\t\t\tb12 = be[4],\n\t\t\t\t\t\tb13 = be[8],\n\t\t\t\t\t\tb14 = be[12];\n\t\t\tconst b21 = be[1],\n\t\t\t\t\t\tb22 = be[5],\n\t\t\t\t\t\tb23 = be[9],\n\t\t\t\t\t\tb24 = be[13];\n\t\t\tconst b31 = be[2],\n\t\t\t\t\t\tb32 = be[6],\n\t\t\t\t\t\tb33 = be[10],\n\t\t\t\t\t\tb34 = be[14];\n\t\t\tconst b41 = be[3],\n\t\t\t\t\t\tb42 = be[7],\n\t\t\t\t\t\tb43 = be[11],\n\t\t\t\t\t\tb44 = be[15];\n\t\t\tte[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\t\tte[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\t\tte[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\t\tte[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\t\t\tte[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\t\tte[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\t\tte[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\t\tte[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\t\t\tte[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\t\tte[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\t\tte[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\t\tte[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\t\t\tte[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\t\tte[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\t\tte[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\t\tte[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiplyScalar(s) {\n\t\t\tconst te = this.elements;\n\t\t\tte[0] *= s;\n\t\t\tte[4] *= s;\n\t\t\tte[8] *= s;\n\t\t\tte[12] *= s;\n\t\t\tte[1] *= s;\n\t\t\tte[5] *= s;\n\t\t\tte[9] *= s;\n\t\t\tte[13] *= s;\n\t\t\tte[2] *= s;\n\t\t\tte[6] *= s;\n\t\t\tte[10] *= s;\n\t\t\tte[14] *= s;\n\t\t\tte[3] *= s;\n\t\t\tte[7] *= s;\n\t\t\tte[11] *= s;\n\t\t\tte[15] *= s;\n\t\t\treturn this;\n\t\t}\n\n\t\tdeterminant() {\n\t\t\tconst te = this.elements;\n\t\t\tconst n11 = te[0],\n\t\t\t\t\t\tn12 = te[4],\n\t\t\t\t\t\tn13 = te[8],\n\t\t\t\t\t\tn14 = te[12];\n\t\t\tconst n21 = te[1],\n\t\t\t\t\t\tn22 = te[5],\n\t\t\t\t\t\tn23 = te[9],\n\t\t\t\t\t\tn24 = te[13];\n\t\t\tconst n31 = te[2],\n\t\t\t\t\t\tn32 = te[6],\n\t\t\t\t\t\tn33 = te[10],\n\t\t\t\t\t\tn34 = te[14];\n\t\t\tconst n41 = te[3],\n\t\t\t\t\t\tn42 = te[7],\n\t\t\t\t\t\tn43 = te[11],\n\t\t\t\t\t\tn44 = te[15]; //TODO: make this more efficient\n\t\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\t\treturn n41 * (+n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34) + n42 * (+n11 * n23 * n34 - n11 * n24 * n33 + n14 * n21 * n33 - n13 * n21 * n34 + n13 * n24 * n31 - n14 * n23 * n31) + n43 * (+n11 * n24 * n32 - n11 * n22 * n34 - n14 * n21 * n32 + n12 * n21 * n34 + n14 * n22 * n31 - n12 * n24 * n31) + n44 * (-n13 * n22 * n31 - n11 * n23 * n32 + n11 * n22 * n33 + n13 * n21 * n32 - n12 * n21 * n33 + n12 * n23 * n31);\n\t\t}\n\n\t\ttranspose() {\n\t\t\tconst te = this.elements;\n\t\t\tlet tmp;\n\t\t\ttmp = te[1];\n\t\t\tte[1] = te[4];\n\t\t\tte[4] = tmp;\n\t\t\ttmp = te[2];\n\t\t\tte[2] = te[8];\n\t\t\tte[8] = tmp;\n\t\t\ttmp = te[6];\n\t\t\tte[6] = te[9];\n\t\t\tte[9] = tmp;\n\t\t\ttmp = te[3];\n\t\t\tte[3] = te[12];\n\t\t\tte[12] = tmp;\n\t\t\ttmp = te[7];\n\t\t\tte[7] = te[13];\n\t\t\tte[13] = tmp;\n\t\t\ttmp = te[11];\n\t\t\tte[11] = te[14];\n\t\t\tte[14] = tmp;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetPosition(x, y, z) {\n\t\t\tconst te = this.elements;\n\n\t\t\tif (x.isVector3) {\n\t\t\t\tte[12] = x.x;\n\t\t\t\tte[13] = x.y;\n\t\t\t\tte[14] = x.z;\n\t\t\t} else {\n\t\t\t\tte[12] = x;\n\t\t\t\tte[13] = y;\n\t\t\t\tte[14] = z;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tinvert() {\n\t\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\t\tconst te = this.elements,\n\t\t\t\t\t\tn11 = te[0],\n\t\t\t\t\t\tn21 = te[1],\n\t\t\t\t\t\tn31 = te[2],\n\t\t\t\t\t\tn41 = te[3],\n\t\t\t\t\t\tn12 = te[4],\n\t\t\t\t\t\tn22 = te[5],\n\t\t\t\t\t\tn32 = te[6],\n\t\t\t\t\t\tn42 = te[7],\n\t\t\t\t\t\tn13 = te[8],\n\t\t\t\t\t\tn23 = te[9],\n\t\t\t\t\t\tn33 = te[10],\n\t\t\t\t\t\tn43 = te[11],\n\t\t\t\t\t\tn14 = te[12],\n\t\t\t\t\t\tn24 = te[13],\n\t\t\t\t\t\tn34 = te[14],\n\t\t\t\t\t\tn44 = te[15],\n\t\t\t\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\t\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\t\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\t\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\t\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\t\t\tif (det === 0) return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n\t\t\tconst detInv = 1 / det;\n\t\t\tte[0] = t11 * detInv;\n\t\t\tte[1] = (n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44) * detInv;\n\t\t\tte[2] = (n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44) * detInv;\n\t\t\tte[3] = (n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43) * detInv;\n\t\t\tte[4] = t12 * detInv;\n\t\t\tte[5] = (n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44) * detInv;\n\t\t\tte[6] = (n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44) * detInv;\n\t\t\tte[7] = (n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43) * detInv;\n\t\t\tte[8] = t13 * detInv;\n\t\t\tte[9] = (n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44) * detInv;\n\t\t\tte[10] = (n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44) * detInv;\n\t\t\tte[11] = (n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43) * detInv;\n\t\t\tte[12] = t14 * detInv;\n\t\t\tte[13] = (n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34) * detInv;\n\t\t\tte[14] = (n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34) * detInv;\n\t\t\tte[15] = (n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33) * detInv;\n\t\t\treturn this;\n\t\t}\n\n\t\tscale(v) {\n\t\t\tconst te = this.elements;\n\t\t\tconst x = v.x,\n\t\t\t\t\t\ty = v.y,\n\t\t\t\t\t\tz = v.z;\n\t\t\tte[0] *= x;\n\t\t\tte[4] *= y;\n\t\t\tte[8] *= z;\n\t\t\tte[1] *= x;\n\t\t\tte[5] *= y;\n\t\t\tte[9] *= z;\n\t\t\tte[2] *= x;\n\t\t\tte[6] *= y;\n\t\t\tte[10] *= z;\n\t\t\tte[3] *= x;\n\t\t\tte[7] *= y;\n\t\t\tte[11] *= z;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetMaxScaleOnAxis() {\n\t\t\tconst te = this.elements;\n\t\t\tconst scaleXSq = te[0] * te[0] + te[1] * te[1] + te[2] * te[2];\n\t\t\tconst scaleYSq = te[4] * te[4] + te[5] * te[5] + te[6] * te[6];\n\t\t\tconst scaleZSq = te[8] * te[8] + te[9] * te[9] + te[10] * te[10];\n\t\t\treturn Math.sqrt(Math.max(scaleXSq, scaleYSq, scaleZSq));\n\t\t}\n\n\t\tmakeTranslation(x, y, z) {\n\t\t\tthis.set(1, 0, 0, x, 0, 1, 0, y, 0, 0, 1, z, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeRotationX(theta) {\n\t\t\tconst c = Math.cos(theta),\n\t\t\t\t\t\ts = Math.sin(theta);\n\t\t\tthis.set(1, 0, 0, 0, 0, c, -s, 0, 0, s, c, 0, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeRotationY(theta) {\n\t\t\tconst c = Math.cos(theta),\n\t\t\t\t\t\ts = Math.sin(theta);\n\t\t\tthis.set(c, 0, s, 0, 0, 1, 0, 0, -s, 0, c, 0, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeRotationZ(theta) {\n\t\t\tconst c = Math.cos(theta),\n\t\t\t\t\t\ts = Math.sin(theta);\n\t\t\tthis.set(c, -s, 0, 0, s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeRotationAxis(axis, angle) {\n\t\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\t\t\tconst c = Math.cos(angle);\n\t\t\tconst s = Math.sin(angle);\n\t\t\tconst t = 1 - c;\n\t\t\tconst x = axis.x,\n\t\t\t\t\t\ty = axis.y,\n\t\t\t\t\t\tz = axis.z;\n\t\t\tconst tx = t * x,\n\t\t\t\t\t\tty = t * y;\n\t\t\tthis.set(tx * x + c, tx * y - s * z, tx * z + s * y, 0, tx * y + s * z, ty * y + c, ty * z - s * x, 0, tx * z - s * y, ty * z + s * x, t * z * z + c, 0, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeScale(x, y, z) {\n\t\t\tthis.set(x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeShear(xy, xz, yx, yz, zx, zy) {\n\t\t\tthis.set(1, yx, zx, 0, xy, 1, zy, 0, xz, yz, 1, 0, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tcompose(position, quaternion, scale) {\n\t\t\tconst te = this.elements;\n\t\t\tconst x = quaternion._x,\n\t\t\t\t\t\ty = quaternion._y,\n\t\t\t\t\t\tz = quaternion._z,\n\t\t\t\t\t\tw = quaternion._w;\n\t\t\tconst x2 = x + x,\n\t\t\t\t\t\ty2 = y + y,\n\t\t\t\t\t\tz2 = z + z;\n\t\t\tconst xx = x * x2,\n\t\t\t\t\t\txy = x * y2,\n\t\t\t\t\t\txz = x * z2;\n\t\t\tconst yy = y * y2,\n\t\t\t\t\t\tyz = y * z2,\n\t\t\t\t\t\tzz = z * z2;\n\t\t\tconst wx = w * x2,\n\t\t\t\t\t\twy = w * y2,\n\t\t\t\t\t\twz = w * z2;\n\t\t\tconst sx = scale.x,\n\t\t\t\t\t\tsy = scale.y,\n\t\t\t\t\t\tsz = scale.z;\n\t\t\tte[0] = (1 - (yy + zz)) * sx;\n\t\t\tte[1] = (xy + wz) * sx;\n\t\t\tte[2] = (xz - wy) * sx;\n\t\t\tte[3] = 0;\n\t\t\tte[4] = (xy - wz) * sy;\n\t\t\tte[5] = (1 - (xx + zz)) * sy;\n\t\t\tte[6] = (yz + wx) * sy;\n\t\t\tte[7] = 0;\n\t\t\tte[8] = (xz + wy) * sz;\n\t\t\tte[9] = (yz - wx) * sz;\n\t\t\tte[10] = (1 - (xx + yy)) * sz;\n\t\t\tte[11] = 0;\n\t\t\tte[12] = position.x;\n\t\t\tte[13] = position.y;\n\t\t\tte[14] = position.z;\n\t\t\tte[15] = 1;\n\t\t\treturn this;\n\t\t}\n\n\t\tdecompose(position, quaternion, scale) {\n\t\t\tconst te = this.elements;\n\n\t\t\tlet sx = _v1$5.set(te[0], te[1], te[2]).length();\n\n\t\t\tconst sy = _v1$5.set(te[4], te[5], te[6]).length();\n\n\t\t\tconst sz = _v1$5.set(te[8], te[9], te[10]).length(); // if determine is negative, we need to invert one scale\n\n\n\t\t\tconst det = this.determinant();\n\t\t\tif (det < 0) sx = -sx;\n\t\t\tposition.x = te[12];\n\t\t\tposition.y = te[13];\n\t\t\tposition.z = te[14]; // scale the rotation part\n\n\t\t\t_m1$2.copy(this);\n\n\t\t\tconst invSX = 1 / sx;\n\t\t\tconst invSY = 1 / sy;\n\t\t\tconst invSZ = 1 / sz;\n\t\t\t_m1$2.elements[0] *= invSX;\n\t\t\t_m1$2.elements[1] *= invSX;\n\t\t\t_m1$2.elements[2] *= invSX;\n\t\t\t_m1$2.elements[4] *= invSY;\n\t\t\t_m1$2.elements[5] *= invSY;\n\t\t\t_m1$2.elements[6] *= invSY;\n\t\t\t_m1$2.elements[8] *= invSZ;\n\t\t\t_m1$2.elements[9] *= invSZ;\n\t\t\t_m1$2.elements[10] *= invSZ;\n\t\t\tquaternion.setFromRotationMatrix(_m1$2);\n\t\t\tscale.x = sx;\n\t\t\tscale.y = sy;\n\t\t\tscale.z = sz;\n\t\t\treturn this;\n\t\t}\n\n\t\tmakePerspective(left, right, top, bottom, near, far) {\n\t\t\tif (far === undefined) {\n\t\t\t\tconsole.warn('THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.');\n\t\t\t}\n\n\t\t\tconst te = this.elements;\n\t\t\tconst x = 2 * near / (right - left);\n\t\t\tconst y = 2 * near / (top - bottom);\n\t\t\tconst a = (right + left) / (right - left);\n\t\t\tconst b = (top + bottom) / (top - bottom);\n\t\t\tconst c = -(far + near) / (far - near);\n\t\t\tconst d = -2 * far * near / (far - near);\n\t\t\tte[0] = x;\n\t\t\tte[4] = 0;\n\t\t\tte[8] = a;\n\t\t\tte[12] = 0;\n\t\t\tte[1] = 0;\n\t\t\tte[5] = y;\n\t\t\tte[9] = b;\n\t\t\tte[13] = 0;\n\t\t\tte[2] = 0;\n\t\t\tte[6] = 0;\n\t\t\tte[10] = c;\n\t\t\tte[14] = d;\n\t\t\tte[3] = 0;\n\t\t\tte[7] = 0;\n\t\t\tte[11] = -1;\n\t\t\tte[15] = 0;\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeOrthographic(left, right, top, bottom, near, far) {\n\t\t\tconst te = this.elements;\n\t\t\tconst w = 1.0 / (right - left);\n\t\t\tconst h = 1.0 / (top - bottom);\n\t\t\tconst p = 1.0 / (far - near);\n\t\t\tconst x = (right + left) * w;\n\t\t\tconst y = (top + bottom) * h;\n\t\t\tconst z = (far + near) * p;\n\t\t\tte[0] = 2 * w;\n\t\t\tte[4] = 0;\n\t\t\tte[8] = 0;\n\t\t\tte[12] = -x;\n\t\t\tte[1] = 0;\n\t\t\tte[5] = 2 * h;\n\t\t\tte[9] = 0;\n\t\t\tte[13] = -y;\n\t\t\tte[2] = 0;\n\t\t\tte[6] = 0;\n\t\t\tte[10] = -2 * p;\n\t\t\tte[14] = -z;\n\t\t\tte[3] = 0;\n\t\t\tte[7] = 0;\n\t\t\tte[11] = 0;\n\t\t\tte[15] = 1;\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(matrix) {\n\t\t\tconst te = this.elements;\n\t\t\tconst me = matrix.elements;\n\n\t\t\tfor (let i = 0; i < 16; i++) {\n\t\t\t\tif (te[i] !== me[i]) return false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tfromArray(array, offset = 0) {\n\t\t\tfor (let i = 0; i < 16; i++) {\n\t\t\t\tthis.elements[i] = array[i + offset];\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttoArray(array = [], offset = 0) {\n\t\t\tconst te = this.elements;\n\t\t\tarray[offset] = te[0];\n\t\t\tarray[offset + 1] = te[1];\n\t\t\tarray[offset + 2] = te[2];\n\t\t\tarray[offset + 3] = te[3];\n\t\t\tarray[offset + 4] = te[4];\n\t\t\tarray[offset + 5] = te[5];\n\t\t\tarray[offset + 6] = te[6];\n\t\t\tarray[offset + 7] = te[7];\n\t\t\tarray[offset + 8] = te[8];\n\t\t\tarray[offset + 9] = te[9];\n\t\t\tarray[offset + 10] = te[10];\n\t\t\tarray[offset + 11] = te[11];\n\t\t\tarray[offset + 12] = te[12];\n\t\t\tarray[offset + 13] = te[13];\n\t\t\tarray[offset + 14] = te[14];\n\t\t\tarray[offset + 15] = te[15];\n\t\t\treturn array;\n\t\t}\n\n\t}\n\n\tMatrix4.prototype.isMatrix4 = true;\n\n\tconst _v1$5 = /*@__PURE__*/new Vector3();\n\n\tconst _m1$2 = /*@__PURE__*/new Matrix4();\n\n\tconst _zero = /*@__PURE__*/new Vector3(0, 0, 0);\n\n\tconst _one = /*@__PURE__*/new Vector3(1, 1, 1);\n\n\tconst _x = /*@__PURE__*/new Vector3();\n\n\tconst _y = /*@__PURE__*/new Vector3();\n\n\tconst _z = /*@__PURE__*/new Vector3();\n\n\tconst _matrix$1 = /*@__PURE__*/new Matrix4();\n\n\tconst _quaternion$3 = /*@__PURE__*/new Quaternion();\n\n\tclass Euler {\n\t\tconstructor(x = 0, y = 0, z = 0, order = Euler.DefaultOrder) {\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\t\t\tthis._order = order;\n\t\t}\n\n\t\tget x() {\n\t\t\treturn this._x;\n\t\t}\n\n\t\tset x(value) {\n\t\t\tthis._x = value;\n\n\t\t\tthis._onChangeCallback();\n\t\t}\n\n\t\tget y() {\n\t\t\treturn this._y;\n\t\t}\n\n\t\tset y(value) {\n\t\t\tthis._y = value;\n\n\t\t\tthis._onChangeCallback();\n\t\t}\n\n\t\tget z() {\n\t\t\treturn this._z;\n\t\t}\n\n\t\tset z(value) {\n\t\t\tthis._z = value;\n\n\t\t\tthis._onChangeCallback();\n\t\t}\n\n\t\tget order() {\n\t\t\treturn this._order;\n\t\t}\n\n\t\tset order(value) {\n\t\t\tthis._order = value;\n\n\t\t\tthis._onChangeCallback();\n\t\t}\n\n\t\tset(x, y, z, order = this._order) {\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\t\t\tthis._order = order;\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor(this._x, this._y, this._z, this._order);\n\t\t}\n\n\t\tcopy(euler) {\n\t\t\tthis._x = euler._x;\n\t\t\tthis._y = euler._y;\n\t\t\tthis._z = euler._z;\n\t\t\tthis._order = euler._order;\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromRotationMatrix(m, order = this._order, update = true) {\n\t\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\t\t\tconst te = m.elements;\n\t\t\tconst m11 = te[0],\n\t\t\t\t\t\tm12 = te[4],\n\t\t\t\t\t\tm13 = te[8];\n\t\t\tconst m21 = te[1],\n\t\t\t\t\t\tm22 = te[5],\n\t\t\t\t\t\tm23 = te[9];\n\t\t\tconst m31 = te[2],\n\t\t\t\t\t\tm32 = te[6],\n\t\t\t\t\t\tm33 = te[10];\n\n\t\t\tswitch (order) {\n\t\t\t\tcase 'XYZ':\n\t\t\t\t\tthis._y = Math.asin(clamp(m13, -1, 1));\n\n\t\t\t\t\tif (Math.abs(m13) < 0.9999999) {\n\t\t\t\t\t\tthis._x = Math.atan2(-m23, m33);\n\t\t\t\t\t\tthis._z = Math.atan2(-m12, m11);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._x = Math.atan2(m32, m22);\n\t\t\t\t\t\tthis._z = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'YXZ':\n\t\t\t\t\tthis._x = Math.asin(-clamp(m23, -1, 1));\n\n\t\t\t\t\tif (Math.abs(m23) < 0.9999999) {\n\t\t\t\t\t\tthis._y = Math.atan2(m13, m33);\n\t\t\t\t\t\tthis._z = Math.atan2(m21, m22);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._y = Math.atan2(-m31, m11);\n\t\t\t\t\t\tthis._z = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ZXY':\n\t\t\t\t\tthis._x = Math.asin(clamp(m32, -1, 1));\n\n\t\t\t\t\tif (Math.abs(m32) < 0.9999999) {\n\t\t\t\t\t\tthis._y = Math.atan2(-m31, m33);\n\t\t\t\t\t\tthis._z = Math.atan2(-m12, m22);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._y = 0;\n\t\t\t\t\t\tthis._z = Math.atan2(m21, m11);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ZYX':\n\t\t\t\t\tthis._y = Math.asin(-clamp(m31, -1, 1));\n\n\t\t\t\t\tif (Math.abs(m31) < 0.9999999) {\n\t\t\t\t\t\tthis._x = Math.atan2(m32, m33);\n\t\t\t\t\t\tthis._z = Math.atan2(m21, m11);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._x = 0;\n\t\t\t\t\t\tthis._z = Math.atan2(-m12, m22);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'YZX':\n\t\t\t\t\tthis._z = Math.asin(clamp(m21, -1, 1));\n\n\t\t\t\t\tif (Math.abs(m21) < 0.9999999) {\n\t\t\t\t\t\tthis._x = Math.atan2(-m23, m22);\n\t\t\t\t\t\tthis._y = Math.atan2(-m31, m11);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._x = 0;\n\t\t\t\t\t\tthis._y = Math.atan2(m13, m33);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'XZY':\n\t\t\t\t\tthis._z = Math.asin(-clamp(m12, -1, 1));\n\n\t\t\t\t\tif (Math.abs(m12) < 0.9999999) {\n\t\t\t\t\t\tthis._x = Math.atan2(m32, m22);\n\t\t\t\t\t\tthis._y = Math.atan2(m13, m11);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._x = Math.atan2(-m23, m33);\n\t\t\t\t\t\tthis._y = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn('THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order);\n\t\t\t}\n\n\t\t\tthis._order = order;\n\t\t\tif (update === true) this._onChangeCallback();\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromQuaternion(q, order, update) {\n\t\t\t_matrix$1.makeRotationFromQuaternion(q);\n\n\t\t\treturn this.setFromRotationMatrix(_matrix$1, order, update);\n\t\t}\n\n\t\tsetFromVector3(v, order = this._order) {\n\t\t\treturn this.set(v.x, v.y, v.z, order);\n\t\t}\n\n\t\treorder(newOrder) {\n\t\t\t// WARNING: this discards revolution information -bhouston\n\t\t\t_quaternion$3.setFromEuler(this);\n\n\t\t\treturn this.setFromQuaternion(_quaternion$3, newOrder);\n\t\t}\n\n\t\tequals(euler) {\n\t\t\treturn euler._x === this._x && euler._y === this._y && euler._z === this._z && euler._order === this._order;\n\t\t}\n\n\t\tfromArray(array) {\n\t\t\tthis._x = array[0];\n\t\t\tthis._y = array[1];\n\t\t\tthis._z = array[2];\n\t\t\tif (array[3] !== undefined) this._order = array[3];\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttoArray(array = [], offset = 0) {\n\t\t\tarray[offset] = this._x;\n\t\t\tarray[offset + 1] = this._y;\n\t\t\tarray[offset + 2] = this._z;\n\t\t\tarray[offset + 3] = this._order;\n\t\t\treturn array;\n\t\t}\n\n\t\ttoVector3(optionalResult) {\n\t\t\tif (optionalResult) {\n\t\t\t\treturn optionalResult.set(this._x, this._y, this._z);\n\t\t\t} else {\n\t\t\t\treturn new Vector3(this._x, this._y, this._z);\n\t\t\t}\n\t\t}\n\n\t\t_onChange(callback) {\n\t\t\tthis._onChangeCallback = callback;\n\t\t\treturn this;\n\t\t}\n\n\t\t_onChangeCallback() {}\n\n\t}\n\n\tEuler.prototype.isEuler = true;\n\tEuler.DefaultOrder = 'XYZ';\n\tEuler.RotationOrders = ['XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX'];\n\n\tclass Layers {\n\t\tconstructor() {\n\t\t\tthis.mask = 1 | 0;\n\t\t}\n\n\t\tset(channel) {\n\t\t\tthis.mask = (1 << channel | 0) >>> 0;\n\t\t}\n\n\t\tenable(channel) {\n\t\t\tthis.mask |= 1 << channel | 0;\n\t\t}\n\n\t\tenableAll() {\n\t\t\tthis.mask = 0xffffffff | 0;\n\t\t}\n\n\t\ttoggle(channel) {\n\t\t\tthis.mask ^= 1 << channel | 0;\n\t\t}\n\n\t\tdisable(channel) {\n\t\t\tthis.mask &= ~(1 << channel | 0);\n\t\t}\n\n\t\tdisableAll() {\n\t\t\tthis.mask = 0;\n\t\t}\n\n\t\ttest(layers) {\n\t\t\treturn (this.mask & layers.mask) !== 0;\n\t\t}\n\n\t\tisEnabled(channel) {\n\t\t\treturn (this.mask & (1 << channel | 0)) !== 0;\n\t\t}\n\n\t}\n\n\tlet _object3DId = 0;\n\n\tconst _v1$4 = /*@__PURE__*/new Vector3();\n\n\tconst _q1 = /*@__PURE__*/new Quaternion();\n\n\tconst _m1$1 = /*@__PURE__*/new Matrix4();\n\n\tconst _target = /*@__PURE__*/new Vector3();\n\n\tconst _position$3 = /*@__PURE__*/new Vector3();\n\n\tconst _scale$2 = /*@__PURE__*/new Vector3();\n\n\tconst _quaternion$2 = /*@__PURE__*/new Quaternion();\n\n\tconst _xAxis = /*@__PURE__*/new Vector3(1, 0, 0);\n\n\tconst _yAxis = /*@__PURE__*/new Vector3(0, 1, 0);\n\n\tconst _zAxis = /*@__PURE__*/new Vector3(0, 0, 1);\n\n\tconst _addedEvent = {\n\t\ttype: 'added'\n\t};\n\tconst _removedEvent = {\n\t\ttype: 'removed'\n\t};\n\n\tclass Object3D extends EventDispatcher {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tObject.defineProperty(this, 'id', {\n\t\t\t\tvalue: _object3DId++\n\t\t\t});\n\t\t\tthis.uuid = generateUUID();\n\t\t\tthis.name = '';\n\t\t\tthis.type = 'Object3D';\n\t\t\tthis.parent = null;\n\t\t\tthis.children = [];\n\t\t\tthis.up = Object3D.DefaultUp.clone();\n\t\t\tconst position = new Vector3();\n\t\t\tconst rotation = new Euler();\n\t\t\tconst quaternion = new Quaternion();\n\t\t\tconst scale = new Vector3(1, 1, 1);\n\n\t\t\tfunction onRotationChange() {\n\t\t\t\tquaternion.setFromEuler(rotation, false);\n\t\t\t}\n\n\t\t\tfunction onQuaternionChange() {\n\t\t\t\trotation.setFromQuaternion(quaternion, undefined, false);\n\t\t\t}\n\n\t\t\trotation._onChange(onRotationChange);\n\n\t\t\tquaternion._onChange(onQuaternionChange);\n\n\t\t\tObject.defineProperties(this, {\n\t\t\t\tposition: {\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tvalue: position\n\t\t\t\t},\n\t\t\t\trotation: {\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tvalue: rotation\n\t\t\t\t},\n\t\t\t\tquaternion: {\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tvalue: quaternion\n\t\t\t\t},\n\t\t\t\tscale: {\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tvalue: scale\n\t\t\t\t},\n\t\t\t\tmodelViewMatrix: {\n\t\t\t\t\tvalue: new Matrix4()\n\t\t\t\t},\n\t\t\t\tnormalMatrix: {\n\t\t\t\t\tvalue: new Matrix3()\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.matrix = new Matrix4();\n\t\t\tthis.matrixWorld = new Matrix4();\n\t\t\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\t\t\tthis.layers = new Layers();\n\t\t\tthis.visible = true;\n\t\t\tthis.castShadow = false;\n\t\t\tthis.receiveShadow = false;\n\t\t\tthis.frustumCulled = true;\n\t\t\tthis.renderOrder = 0;\n\t\t\tthis.animations = [];\n\t\t\tthis.userData = {};\n\t\t}\n\n\t\tonBeforeRender() {}\n\n\t\tonAfterRender() {}\n\n\t\tapplyMatrix4(matrix) {\n\t\t\tif (this.matrixAutoUpdate) this.updateMatrix();\n\t\t\tthis.matrix.premultiply(matrix);\n\t\t\tthis.matrix.decompose(this.position, this.quaternion, this.scale);\n\t\t}\n\n\t\tapplyQuaternion(q) {\n\t\t\tthis.quaternion.premultiply(q);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetRotationFromAxisAngle(axis, angle) {\n\t\t\t// assumes axis is normalized\n\t\t\tthis.quaternion.setFromAxisAngle(axis, angle);\n\t\t}\n\n\t\tsetRotationFromEuler(euler) {\n\t\t\tthis.quaternion.setFromEuler(euler, true);\n\t\t}\n\n\t\tsetRotationFromMatrix(m) {\n\t\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\t\t\tthis.quaternion.setFromRotationMatrix(m);\n\t\t}\n\n\t\tsetRotationFromQuaternion(q) {\n\t\t\t// assumes q is normalized\n\t\t\tthis.quaternion.copy(q);\n\t\t}\n\n\t\trotateOnAxis(axis, angle) {\n\t\t\t// rotate object on axis in object space\n\t\t\t// axis is assumed to be normalized\n\t\t\t_q1.setFromAxisAngle(axis, angle);\n\n\t\t\tthis.quaternion.multiply(_q1);\n\t\t\treturn this;\n\t\t}\n\n\t\trotateOnWorldAxis(axis, angle) {\n\t\t\t// rotate object on axis in world space\n\t\t\t// axis is assumed to be normalized\n\t\t\t// method assumes no rotated parent\n\t\t\t_q1.setFromAxisAngle(axis, angle);\n\n\t\t\tthis.quaternion.premultiply(_q1);\n\t\t\treturn this;\n\t\t}\n\n\t\trotateX(angle) {\n\t\t\treturn this.rotateOnAxis(_xAxis, angle);\n\t\t}\n\n\t\trotateY(angle) {\n\t\t\treturn this.rotateOnAxis(_yAxis, angle);\n\t\t}\n\n\t\trotateZ(angle) {\n\t\t\treturn this.rotateOnAxis(_zAxis, angle);\n\t\t}\n\n\t\ttranslateOnAxis(axis, distance) {\n\t\t\t// translate object by distance along axis in object space\n\t\t\t// axis is assumed to be normalized\n\t\t\t_v1$4.copy(axis).applyQuaternion(this.quaternion);\n\n\t\t\tthis.position.add(_v1$4.multiplyScalar(distance));\n\t\t\treturn this;\n\t\t}\n\n\t\ttranslateX(distance) {\n\t\t\treturn this.translateOnAxis(_xAxis, distance);\n\t\t}\n\n\t\ttranslateY(distance) {\n\t\t\treturn this.translateOnAxis(_yAxis, distance);\n\t\t}\n\n\t\ttranslateZ(distance) {\n\t\t\treturn this.translateOnAxis(_zAxis, distance);\n\t\t}\n\n\t\tlocalToWorld(vector) {\n\t\t\treturn vector.applyMatrix4(this.matrixWorld);\n\t\t}\n\n\t\tworldToLocal(vector) {\n\t\t\treturn vector.applyMatrix4(_m1$1.copy(this.matrixWorld).invert());\n\t\t}\n\n\t\tlookAt(x, y, z) {\n\t\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\t\t\tif (x.isVector3) {\n\t\t\t\t_target.copy(x);\n\t\t\t} else {\n\t\t\t\t_target.set(x, y, z);\n\t\t\t}\n\n\t\t\tconst parent = this.parent;\n\t\t\tthis.updateWorldMatrix(true, false);\n\n\t\t\t_position$3.setFromMatrixPosition(this.matrixWorld);\n\n\t\t\tif (this.isCamera || this.isLight) {\n\t\t\t\t_m1$1.lookAt(_position$3, _target, this.up);\n\t\t\t} else {\n\t\t\t\t_m1$1.lookAt(_target, _position$3, this.up);\n\t\t\t}\n\n\t\t\tthis.quaternion.setFromRotationMatrix(_m1$1);\n\n\t\t\tif (parent) {\n\t\t\t\t_m1$1.extractRotation(parent.matrixWorld);\n\n\t\t\t\t_q1.setFromRotationMatrix(_m1$1);\n\n\t\t\t\tthis.quaternion.premultiply(_q1.invert());\n\t\t\t}\n\t\t}\n\n\t\tadd(object) {\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tfor (let i = 0; i < arguments.length; i++) {\n\t\t\t\t\tthis.add(arguments[i]);\n\t\t\t\t}\n\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (object === this) {\n\t\t\t\tconsole.error('THREE.Object3D.add: object can\\'t be added as a child of itself.', object);\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (object && object.isObject3D) {\n\t\t\t\tif (object.parent !== null) {\n\t\t\t\t\tobject.parent.remove(object);\n\t\t\t\t}\n\n\t\t\t\tobject.parent = this;\n\t\t\t\tthis.children.push(object);\n\t\t\t\tobject.dispatchEvent(_addedEvent);\n\t\t\t} else {\n\t\t\t\tconsole.error('THREE.Object3D.add: object not an instance of THREE.Object3D.', object);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tremove(object) {\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tfor (let i = 0; i < arguments.length; i++) {\n\t\t\t\t\tthis.remove(arguments[i]);\n\t\t\t\t}\n\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tconst index = this.children.indexOf(object);\n\n\t\t\tif (index !== -1) {\n\t\t\t\tobject.parent = null;\n\t\t\t\tthis.children.splice(index, 1);\n\t\t\t\tobject.dispatchEvent(_removedEvent);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tremoveFromParent() {\n\t\t\tconst parent = this.parent;\n\n\t\t\tif (parent !== null) {\n\t\t\t\tparent.remove(this);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tclear() {\n\t\t\tfor (let i = 0; i < this.children.length; i++) {\n\t\t\t\tconst object = this.children[i];\n\t\t\t\tobject.parent = null;\n\t\t\t\tobject.dispatchEvent(_removedEvent);\n\t\t\t}\n\n\t\t\tthis.children.length = 0;\n\t\t\treturn this;\n\t\t}\n\n\t\tattach(object) {\n\t\t\t// adds object as a child of this, while maintaining the object's world transform\n\t\t\t// Note: This method does not support scene graphs having non-uniformly-scaled nodes(s)\n\t\t\tthis.updateWorldMatrix(true, false);\n\n\t\t\t_m1$1.copy(this.matrixWorld).invert();\n\n\t\t\tif (object.parent !== null) {\n\t\t\t\tobject.parent.updateWorldMatrix(true, false);\n\n\t\t\t\t_m1$1.multiply(object.parent.matrixWorld);\n\t\t\t}\n\n\t\t\tobject.applyMatrix4(_m1$1);\n\t\t\tthis.add(object);\n\t\t\tobject.updateWorldMatrix(false, true);\n\t\t\treturn this;\n\t\t}\n\n\t\tgetObjectById(id) {\n\t\t\treturn this.getObjectByProperty('id', id);\n\t\t}\n\n\t\tgetObjectByName(name) {\n\t\t\treturn this.getObjectByProperty('name', name);\n\t\t}\n\n\t\tgetObjectByProperty(name, value) {\n\t\t\tif (this[name] === value) return this;\n\n\t\t\tfor (let i = 0, l = this.children.length; i < l; i++) {\n\t\t\t\tconst child = this.children[i];\n\t\t\t\tconst object = child.getObjectByProperty(name, value);\n\n\t\t\t\tif (object !== undefined) {\n\t\t\t\t\treturn object;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t}\n\n\t\tgetWorldPosition(target) {\n\t\t\tthis.updateWorldMatrix(true, false);\n\t\t\treturn target.setFromMatrixPosition(this.matrixWorld);\n\t\t}\n\n\t\tgetWorldQuaternion(target) {\n\t\t\tthis.updateWorldMatrix(true, false);\n\t\t\tthis.matrixWorld.decompose(_position$3, target, _scale$2);\n\t\t\treturn target;\n\t\t}\n\n\t\tgetWorldScale(target) {\n\t\t\tthis.updateWorldMatrix(true, false);\n\t\t\tthis.matrixWorld.decompose(_position$3, _quaternion$2, target);\n\t\t\treturn target;\n\t\t}\n\n\t\tgetWorldDirection(target) {\n\t\t\tthis.updateWorldMatrix(true, false);\n\t\t\tconst e = this.matrixWorld.elements;\n\t\t\treturn target.set(e[8], e[9], e[10]).normalize();\n\t\t}\n\n\t\traycast() {}\n\n\t\ttraverse(callback) {\n\t\t\tcallback(this);\n\t\t\tconst children = this.children;\n\n\t\t\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\t\t\tchildren[i].traverse(callback);\n\t\t\t}\n\t\t}\n\n\t\ttraverseVisible(callback) {\n\t\t\tif (this.visible === false) return;\n\t\t\tcallback(this);\n\t\t\tconst children = this.children;\n\n\t\t\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\t\t\tchildren[i].traverseVisible(callback);\n\t\t\t}\n\t\t}\n\n\t\ttraverseAncestors(callback) {\n\t\t\tconst parent = this.parent;\n\n\t\t\tif (parent !== null) {\n\t\t\t\tcallback(parent);\n\t\t\t\tparent.traverseAncestors(callback);\n\t\t\t}\n\t\t}\n\n\t\tupdateMatrix() {\n\t\t\tthis.matrix.compose(this.position, this.quaternion, this.scale);\n\t\t\tthis.matrixWorldNeedsUpdate = true;\n\t\t}\n\n\t\tupdateMatrixWorld(force) {\n\t\t\tif (this.matrixAutoUpdate) this.updateMatrix();\n\n\t\t\tif (this.matrixWorldNeedsUpdate || force) {\n\t\t\t\tif (this.parent === null) {\n\t\t\t\t\tthis.matrixWorld.copy(this.matrix);\n\t\t\t\t} else {\n\t\t\t\t\tthis.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n\t\t\t\t}\n\n\t\t\t\tthis.matrixWorldNeedsUpdate = false;\n\t\t\t\tforce = true;\n\t\t\t} // update children\n\n\n\t\t\tconst children = this.children;\n\n\t\t\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\t\t\tchildren[i].updateMatrixWorld(force);\n\t\t\t}\n\t\t}\n\n\t\tupdateWorldMatrix(updateParents, updateChildren) {\n\t\t\tconst parent = this.parent;\n\n\t\t\tif (updateParents === true && parent !== null) {\n\t\t\t\tparent.updateWorldMatrix(true, false);\n\t\t\t}\n\n\t\t\tif (this.matrixAutoUpdate) this.updateMatrix();\n\n\t\t\tif (this.parent === null) {\n\t\t\t\tthis.matrixWorld.copy(this.matrix);\n\t\t\t} else {\n\t\t\t\tthis.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n\t\t\t} // update children\n\n\n\t\t\tif (updateChildren === true) {\n\t\t\t\tconst children = this.children;\n\n\t\t\t\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\t\t\t\tchildren[i].updateWorldMatrix(false, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\t// meta is a string when called from JSON.stringify\n\t\t\tconst isRootObject = meta === undefined || typeof meta === 'string';\n\t\t\tconst output = {}; // meta is a hash used to collect geometries, materials.\n\t\t\t// not providing it implies that this is the root object\n\t\t\t// being serialized.\n\n\t\t\tif (isRootObject) {\n\t\t\t\t// initialize meta obj\n\t\t\t\tmeta = {\n\t\t\t\t\tgeometries: {},\n\t\t\t\t\tmaterials: {},\n\t\t\t\t\ttextures: {},\n\t\t\t\t\timages: {},\n\t\t\t\t\tshapes: {},\n\t\t\t\t\tskeletons: {},\n\t\t\t\t\tanimations: {}\n\t\t\t\t};\n\t\t\t\toutput.metadata = {\n\t\t\t\t\tversion: 4.5,\n\t\t\t\t\ttype: 'Object',\n\t\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t\t};\n\t\t\t} // standard Object3D serialization\n\n\n\t\t\tconst object = {};\n\t\t\tobject.uuid = this.uuid;\n\t\t\tobject.type = this.type;\n\t\t\tif (this.name !== '') object.name = this.name;\n\t\t\tif (this.castShadow === true) object.castShadow = true;\n\t\t\tif (this.receiveShadow === true) object.receiveShadow = true;\n\t\t\tif (this.visible === false) object.visible = false;\n\t\t\tif (this.frustumCulled === false) object.frustumCulled = false;\n\t\t\tif (this.renderOrder !== 0) object.renderOrder = this.renderOrder;\n\t\t\tif (JSON.stringify(this.userData) !== '{}') object.userData = this.userData;\n\t\t\tobject.layers = this.layers.mask;\n\t\t\tobject.matrix = this.matrix.toArray();\n\t\t\tif (this.matrixAutoUpdate === false) object.matrixAutoUpdate = false; // object specific properties\n\n\t\t\tif (this.isInstancedMesh) {\n\t\t\t\tobject.type = 'InstancedMesh';\n\t\t\t\tobject.count = this.count;\n\t\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\t\t\t\tif (this.instanceColor !== null) object.instanceColor = this.instanceColor.toJSON();\n\t\t\t} //\n\n\n\t\t\tfunction serialize(library, element) {\n\t\t\t\tif (library[element.uuid] === undefined) {\n\t\t\t\t\tlibrary[element.uuid] = element.toJSON(meta);\n\t\t\t\t}\n\n\t\t\t\treturn element.uuid;\n\t\t\t}\n\n\t\t\tif (this.isScene) {\n\t\t\t\tif (this.background) {\n\t\t\t\t\tif (this.background.isColor) {\n\t\t\t\t\t\tobject.background = this.background.toJSON();\n\t\t\t\t\t} else if (this.background.isTexture) {\n\t\t\t\t\t\tobject.background = this.background.toJSON(meta).uuid;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.environment && this.environment.isTexture) {\n\t\t\t\t\tobject.environment = this.environment.toJSON(meta).uuid;\n\t\t\t\t}\n\t\t\t} else if (this.isMesh || this.isLine || this.isPoints) {\n\t\t\t\tobject.geometry = serialize(meta.geometries, this.geometry);\n\t\t\t\tconst parameters = this.geometry.parameters;\n\n\t\t\t\tif (parameters !== undefined && parameters.shapes !== undefined) {\n\t\t\t\t\tconst shapes = parameters.shapes;\n\n\t\t\t\t\tif (Array.isArray(shapes)) {\n\t\t\t\t\t\tfor (let i = 0, l = shapes.length; i < l; i++) {\n\t\t\t\t\t\t\tconst shape = shapes[i];\n\t\t\t\t\t\t\tserialize(meta.shapes, shape);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tserialize(meta.shapes, shapes);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.isSkinnedMesh) {\n\t\t\t\tobject.bindMode = this.bindMode;\n\t\t\t\tobject.bindMatrix = this.bindMatrix.toArray();\n\n\t\t\t\tif (this.skeleton !== undefined) {\n\t\t\t\t\tserialize(meta.skeletons, this.skeleton);\n\t\t\t\t\tobject.skeleton = this.skeleton.uuid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.material !== undefined) {\n\t\t\t\tif (Array.isArray(this.material)) {\n\t\t\t\t\tconst uuids = [];\n\n\t\t\t\t\tfor (let i = 0, l = this.material.length; i < l; i++) {\n\t\t\t\t\t\tuuids.push(serialize(meta.materials, this.material[i]));\n\t\t\t\t\t}\n\n\t\t\t\t\tobject.material = uuids;\n\t\t\t\t} else {\n\t\t\t\t\tobject.material = serialize(meta.materials, this.material);\n\t\t\t\t}\n\t\t\t} //\n\n\n\t\t\tif (this.children.length > 0) {\n\t\t\t\tobject.children = [];\n\n\t\t\t\tfor (let i = 0; i < this.children.length; i++) {\n\t\t\t\t\tobject.children.push(this.children[i].toJSON(meta).object);\n\t\t\t\t}\n\t\t\t} //\n\n\n\t\t\tif (this.animations.length > 0) {\n\t\t\t\tobject.animations = [];\n\n\t\t\t\tfor (let i = 0; i < this.animations.length; i++) {\n\t\t\t\t\tconst animation = this.animations[i];\n\t\t\t\t\tobject.animations.push(serialize(meta.animations, animation));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (isRootObject) {\n\t\t\t\tconst geometries = extractFromCache(meta.geometries);\n\t\t\t\tconst materials = extractFromCache(meta.materials);\n\t\t\t\tconst textures = extractFromCache(meta.textures);\n\t\t\t\tconst images = extractFromCache(meta.images);\n\t\t\t\tconst shapes = extractFromCache(meta.shapes);\n\t\t\t\tconst skeletons = extractFromCache(meta.skeletons);\n\t\t\t\tconst animations = extractFromCache(meta.animations);\n\t\t\t\tif (geometries.length > 0) output.geometries = geometries;\n\t\t\t\tif (materials.length > 0) output.materials = materials;\n\t\t\t\tif (textures.length > 0) output.textures = textures;\n\t\t\t\tif (images.length > 0) output.images = images;\n\t\t\t\tif (shapes.length > 0) output.shapes = shapes;\n\t\t\t\tif (skeletons.length > 0) output.skeletons = skeletons;\n\t\t\t\tif (animations.length > 0) output.animations = animations;\n\t\t\t}\n\n\t\t\toutput.object = object;\n\t\t\treturn output; // extract data from the cache hash\n\t\t\t// remove metadata on each item\n\t\t\t// and return as array\n\n\t\t\tfunction extractFromCache(cache) {\n\t\t\t\tconst values = [];\n\n\t\t\t\tfor (const key in cache) {\n\t\t\t\t\tconst data = cache[key];\n\t\t\t\t\tdelete data.metadata;\n\t\t\t\t\tvalues.push(data);\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\n\t\tclone(recursive) {\n\t\t\treturn new this.constructor().copy(this, recursive);\n\t\t}\n\n\t\tcopy(source, recursive = true) {\n\t\t\tthis.name = source.name;\n\t\t\tthis.up.copy(source.up);\n\t\t\tthis.position.copy(source.position);\n\t\t\tthis.rotation.order = source.rotation.order;\n\t\t\tthis.quaternion.copy(source.quaternion);\n\t\t\tthis.scale.copy(source.scale);\n\t\t\tthis.matrix.copy(source.matrix);\n\t\t\tthis.matrixWorld.copy(source.matrixWorld);\n\t\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\t\t\tthis.layers.mask = source.layers.mask;\n\t\t\tthis.visible = source.visible;\n\t\t\tthis.castShadow = source.castShadow;\n\t\t\tthis.receiveShadow = source.receiveShadow;\n\t\t\tthis.frustumCulled = source.frustumCulled;\n\t\t\tthis.renderOrder = source.renderOrder;\n\t\t\tthis.userData = JSON.parse(JSON.stringify(source.userData));\n\n\t\t\tif (recursive === true) {\n\t\t\t\tfor (let i = 0; i < source.children.length; i++) {\n\t\t\t\t\tconst child = source.children[i];\n\t\t\t\t\tthis.add(child.clone());\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tObject3D.DefaultUp = new Vector3(0, 1, 0);\n\tObject3D.DefaultMatrixAutoUpdate = true;\n\tObject3D.prototype.isObject3D = true;\n\n\tconst _v0$1 = /*@__PURE__*/new Vector3();\n\n\tconst _v1$3 = /*@__PURE__*/new Vector3();\n\n\tconst _v2$2 = /*@__PURE__*/new Vector3();\n\n\tconst _v3$1 = /*@__PURE__*/new Vector3();\n\n\tconst _vab = /*@__PURE__*/new Vector3();\n\n\tconst _vac = /*@__PURE__*/new Vector3();\n\n\tconst _vbc = /*@__PURE__*/new Vector3();\n\n\tconst _vap = /*@__PURE__*/new Vector3();\n\n\tconst _vbp = /*@__PURE__*/new Vector3();\n\n\tconst _vcp = /*@__PURE__*/new Vector3();\n\n\tclass Triangle {\n\t\tconstructor(a = new Vector3(), b = new Vector3(), c = new Vector3()) {\n\t\t\tthis.a = a;\n\t\t\tthis.b = b;\n\t\t\tthis.c = c;\n\t\t}\n\n\t\tstatic getNormal(a, b, c, target) {\n\t\t\ttarget.subVectors(c, b);\n\n\t\t\t_v0$1.subVectors(a, b);\n\n\t\t\ttarget.cross(_v0$1);\n\t\t\tconst targetLengthSq = target.lengthSq();\n\n\t\t\tif (targetLengthSq > 0) {\n\t\t\t\treturn target.multiplyScalar(1 / Math.sqrt(targetLengthSq));\n\t\t\t}\n\n\t\t\treturn target.set(0, 0, 0);\n\t\t} // static/instance method to calculate barycentric coordinates\n\t\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\n\n\t\tstatic getBarycoord(point, a, b, c, target) {\n\t\t\t_v0$1.subVectors(c, a);\n\n\t\t\t_v1$3.subVectors(b, a);\n\n\t\t\t_v2$2.subVectors(point, a);\n\n\t\t\tconst dot00 = _v0$1.dot(_v0$1);\n\n\t\t\tconst dot01 = _v0$1.dot(_v1$3);\n\n\t\t\tconst dot02 = _v0$1.dot(_v2$2);\n\n\t\t\tconst dot11 = _v1$3.dot(_v1$3);\n\n\t\t\tconst dot12 = _v1$3.dot(_v2$2);\n\n\t\t\tconst denom = dot00 * dot11 - dot01 * dot01; // collinear or singular triangle\n\n\t\t\tif (denom === 0) {\n\t\t\t\t// arbitrary location outside of triangle?\n\t\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\t\treturn target.set(-2, -1, -1);\n\t\t\t}\n\n\t\t\tconst invDenom = 1 / denom;\n\t\t\tconst u = (dot11 * dot02 - dot01 * dot12) * invDenom;\n\t\t\tconst v = (dot00 * dot12 - dot01 * dot02) * invDenom; // barycentric coordinates must always sum to 1\n\n\t\t\treturn target.set(1 - u - v, v, u);\n\t\t}\n\n\t\tstatic containsPoint(point, a, b, c) {\n\t\t\tthis.getBarycoord(point, a, b, c, _v3$1);\n\t\t\treturn _v3$1.x >= 0 && _v3$1.y >= 0 && _v3$1.x + _v3$1.y <= 1;\n\t\t}\n\n\t\tstatic getUV(point, p1, p2, p3, uv1, uv2, uv3, target) {\n\t\t\tthis.getBarycoord(point, p1, p2, p3, _v3$1);\n\t\t\ttarget.set(0, 0);\n\t\t\ttarget.addScaledVector(uv1, _v3$1.x);\n\t\t\ttarget.addScaledVector(uv2, _v3$1.y);\n\t\t\ttarget.addScaledVector(uv3, _v3$1.z);\n\t\t\treturn target;\n\t\t}\n\n\t\tstatic isFrontFacing(a, b, c, direction) {\n\t\t\t_v0$1.subVectors(c, b);\n\n\t\t\t_v1$3.subVectors(a, b); // strictly front facing\n\n\n\t\t\treturn _v0$1.cross(_v1$3).dot(direction) < 0 ? true : false;\n\t\t}\n\n\t\tset(a, b, c) {\n\t\t\tthis.a.copy(a);\n\t\t\tthis.b.copy(b);\n\t\t\tthis.c.copy(c);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromPointsAndIndices(points, i0, i1, i2) {\n\t\t\tthis.a.copy(points[i0]);\n\t\t\tthis.b.copy(points[i1]);\n\t\t\tthis.c.copy(points[i2]);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromAttributeAndIndices(attribute, i0, i1, i2) {\n\t\t\tthis.a.fromBufferAttribute(attribute, i0);\n\t\t\tthis.b.fromBufferAttribute(attribute, i1);\n\t\t\tthis.c.fromBufferAttribute(attribute, i2);\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\tcopy(triangle) {\n\t\t\tthis.a.copy(triangle.a);\n\t\t\tthis.b.copy(triangle.b);\n\t\t\tthis.c.copy(triangle.c);\n\t\t\treturn this;\n\t\t}\n\n\t\tgetArea() {\n\t\t\t_v0$1.subVectors(this.c, this.b);\n\n\t\t\t_v1$3.subVectors(this.a, this.b);\n\n\t\t\treturn _v0$1.cross(_v1$3).length() * 0.5;\n\t\t}\n\n\t\tgetMidpoint(target) {\n\t\t\treturn target.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3);\n\t\t}\n\n\t\tgetNormal(target) {\n\t\t\treturn Triangle.getNormal(this.a, this.b, this.c, target);\n\t\t}\n\n\t\tgetPlane(target) {\n\t\t\treturn target.setFromCoplanarPoints(this.a, this.b, this.c);\n\t\t}\n\n\t\tgetBarycoord(point, target) {\n\t\t\treturn Triangle.getBarycoord(point, this.a, this.b, this.c, target);\n\t\t}\n\n\t\tgetUV(point, uv1, uv2, uv3, target) {\n\t\t\treturn Triangle.getUV(point, this.a, this.b, this.c, uv1, uv2, uv3, target);\n\t\t}\n\n\t\tcontainsPoint(point) {\n\t\t\treturn Triangle.containsPoint(point, this.a, this.b, this.c);\n\t\t}\n\n\t\tisFrontFacing(direction) {\n\t\t\treturn Triangle.isFrontFacing(this.a, this.b, this.c, direction);\n\t\t}\n\n\t\tintersectsBox(box) {\n\t\t\treturn box.intersectsTriangle(this);\n\t\t}\n\n\t\tclosestPointToPoint(p, target) {\n\t\t\tconst a = this.a,\n\t\t\t\t\t\tb = this.b,\n\t\t\t\t\t\tc = this.c;\n\t\t\tlet v, w; // algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t\t_vab.subVectors(b, a);\n\n\t\t\t_vac.subVectors(c, a);\n\n\t\t\t_vap.subVectors(p, a);\n\n\t\t\tconst d1 = _vab.dot(_vap);\n\n\t\t\tconst d2 = _vac.dot(_vap);\n\n\t\t\tif (d1 <= 0 && d2 <= 0) {\n\t\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\t\treturn target.copy(a);\n\t\t\t}\n\n\t\t\t_vbp.subVectors(p, b);\n\n\t\t\tconst d3 = _vab.dot(_vbp);\n\n\t\t\tconst d4 = _vac.dot(_vbp);\n\n\t\t\tif (d3 >= 0 && d4 <= d3) {\n\t\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\t\treturn target.copy(b);\n\t\t\t}\n\n\t\t\tconst vc = d1 * d4 - d3 * d2;\n\n\t\t\tif (vc <= 0 && d1 >= 0 && d3 <= 0) {\n\t\t\t\tv = d1 / (d1 - d3); // edge region of AB; barycentric coords (1-v, v, 0)\n\n\t\t\t\treturn target.copy(a).addScaledVector(_vab, v);\n\t\t\t}\n\n\t\t\t_vcp.subVectors(p, c);\n\n\t\t\tconst d5 = _vab.dot(_vcp);\n\n\t\t\tconst d6 = _vac.dot(_vcp);\n\n\t\t\tif (d6 >= 0 && d5 <= d6) {\n\t\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\t\treturn target.copy(c);\n\t\t\t}\n\n\t\t\tconst vb = d5 * d2 - d1 * d6;\n\n\t\t\tif (vb <= 0 && d2 >= 0 && d6 <= 0) {\n\t\t\t\tw = d2 / (d2 - d6); // edge region of AC; barycentric coords (1-w, 0, w)\n\n\t\t\t\treturn target.copy(a).addScaledVector(_vac, w);\n\t\t\t}\n\n\t\t\tconst va = d3 * d6 - d5 * d4;\n\n\t\t\tif (va <= 0 && d4 - d3 >= 0 && d5 - d6 >= 0) {\n\t\t\t\t_vbc.subVectors(c, b);\n\n\t\t\t\tw = (d4 - d3) / (d4 - d3 + (d5 - d6)); // edge region of BC; barycentric coords (0, 1-w, w)\n\n\t\t\t\treturn target.copy(b).addScaledVector(_vbc, w); // edge region of BC\n\t\t\t} // face region\n\n\n\t\t\tconst denom = 1 / (va + vb + vc); // u = va * denom\n\n\t\t\tv = vb * denom;\n\t\t\tw = vc * denom;\n\t\t\treturn target.copy(a).addScaledVector(_vab, v).addScaledVector(_vac, w);\n\t\t}\n\n\t\tequals(triangle) {\n\t\t\treturn triangle.a.equals(this.a) && triangle.b.equals(this.b) && triangle.c.equals(this.c);\n\t\t}\n\n\t}\n\n\tlet materialId = 0;\n\n\tclass Material extends EventDispatcher {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tObject.defineProperty(this, 'id', {\n\t\t\t\tvalue: materialId++\n\t\t\t});\n\t\t\tthis.uuid = generateUUID();\n\t\t\tthis.name = '';\n\t\t\tthis.type = 'Material';\n\t\t\tthis.fog = true;\n\t\t\tthis.blending = NormalBlending;\n\t\t\tthis.side = FrontSide;\n\t\t\tthis.vertexColors = false;\n\t\t\tthis.opacity = 1;\n\t\t\tthis.format = RGBAFormat;\n\t\t\tthis.transparent = false;\n\t\t\tthis.blendSrc = SrcAlphaFactor;\n\t\t\tthis.blendDst = OneMinusSrcAlphaFactor;\n\t\t\tthis.blendEquation = AddEquation;\n\t\t\tthis.blendSrcAlpha = null;\n\t\t\tthis.blendDstAlpha = null;\n\t\t\tthis.blendEquationAlpha = null;\n\t\t\tthis.depthFunc = LessEqualDepth;\n\t\t\tthis.depthTest = true;\n\t\t\tthis.depthWrite = true;\n\t\t\tthis.stencilWriteMask = 0xff;\n\t\t\tthis.stencilFunc = AlwaysStencilFunc;\n\t\t\tthis.stencilRef = 0;\n\t\t\tthis.stencilFuncMask = 0xff;\n\t\t\tthis.stencilFail = KeepStencilOp;\n\t\t\tthis.stencilZFail = KeepStencilOp;\n\t\t\tthis.stencilZPass = KeepStencilOp;\n\t\t\tthis.stencilWrite = false;\n\t\t\tthis.clippingPlanes = null;\n\t\t\tthis.clipIntersection = false;\n\t\t\tthis.clipShadows = false;\n\t\t\tthis.shadowSide = null;\n\t\t\tthis.colorWrite = true;\n\t\t\tthis.precision = null; // override the renderer's default precision for this material\n\n\t\t\tthis.polygonOffset = false;\n\t\t\tthis.polygonOffsetFactor = 0;\n\t\t\tthis.polygonOffsetUnits = 0;\n\t\t\tthis.dithering = false;\n\t\t\tthis.alphaToCoverage = false;\n\t\t\tthis.premultipliedAlpha = false;\n\t\t\tthis.visible = true;\n\t\t\tthis.toneMapped = true;\n\t\t\tthis.userData = {};\n\t\t\tthis.version = 0;\n\t\t\tthis._alphaTest = 0;\n\t\t}\n\n\t\tget alphaTest() {\n\t\t\treturn this._alphaTest;\n\t\t}\n\n\t\tset alphaTest(value) {\n\t\t\tif (this._alphaTest > 0 !== value > 0) {\n\t\t\t\tthis.version++;\n\t\t\t}\n\n\t\t\tthis._alphaTest = value;\n\t\t}\n\n\t\tonBuild() {}\n\n\t\tonBeforeRender() {}\n\n\t\tonBeforeCompile() {}\n\n\t\tcustomProgramCacheKey() {\n\t\t\treturn this.onBeforeCompile.toString();\n\t\t}\n\n\t\tsetValues(values) {\n\t\t\tif (values === undefined) return;\n\n\t\t\tfor (const key in values) {\n\t\t\t\tconst newValue = values[key];\n\n\t\t\t\tif (newValue === undefined) {\n\t\t\t\t\tconsole.warn('THREE.Material: \\'' + key + '\\' parameter is undefined.');\n\t\t\t\t\tcontinue;\n\t\t\t\t} // for backward compatability if shading is set in the constructor\n\n\n\t\t\t\tif (key === 'shading') {\n\t\t\t\t\tconsole.warn('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');\n\t\t\t\t\tthis.flatShading = newValue === FlatShading ? true : false;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst currentValue = this[key];\n\n\t\t\t\tif (currentValue === undefined) {\n\t\t\t\t\tconsole.warn('THREE.' + this.type + ': \\'' + key + '\\' is not a property of this material.');\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (currentValue && currentValue.isColor) {\n\t\t\t\t\tcurrentValue.set(newValue);\n\t\t\t\t} else if (currentValue && currentValue.isVector3 && newValue && newValue.isVector3) {\n\t\t\t\t\tcurrentValue.copy(newValue);\n\t\t\t\t} else {\n\t\t\t\t\tthis[key] = newValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst isRoot = meta === undefined || typeof meta === 'string';\n\n\t\t\tif (isRoot) {\n\t\t\t\tmeta = {\n\t\t\t\t\ttextures: {},\n\t\t\t\t\timages: {}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst data = {\n\t\t\t\tmetadata: {\n\t\t\t\t\tversion: 4.5,\n\t\t\t\t\ttype: 'Material',\n\t\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t\t}\n\t\t\t}; // standard Material serialization\n\n\t\t\tdata.uuid = this.uuid;\n\t\t\tdata.type = this.type;\n\t\t\tif (this.name !== '') data.name = this.name;\n\t\t\tif (this.color && this.color.isColor) data.color = this.color.getHex();\n\t\t\tif (this.roughness !== undefined) data.roughness = this.roughness;\n\t\t\tif (this.metalness !== undefined) data.metalness = this.metalness;\n\t\t\tif (this.sheen !== undefined) data.sheen = this.sheen;\n\t\t\tif (this.sheenColor && this.sheenColor.isColor) data.sheenColor = this.sheenColor.getHex();\n\t\t\tif (this.sheenRoughness !== undefined) data.sheenRoughness = this.sheenRoughness;\n\t\t\tif (this.emissive && this.emissive.isColor) data.emissive = this.emissive.getHex();\n\t\t\tif (this.emissiveIntensity && this.emissiveIntensity !== 1) data.emissiveIntensity = this.emissiveIntensity;\n\t\t\tif (this.specular && this.specular.isColor) data.specular = this.specular.getHex();\n\t\t\tif (this.specularIntensity !== undefined) data.specularIntensity = this.specularIntensity;\n\t\t\tif (this.specularColor && this.specularColor.isColor) data.specularColor = this.specularColor.getHex();\n\t\t\tif (this.shininess !== undefined) data.shininess = this.shininess;\n\t\t\tif (this.clearcoat !== undefined) data.clearcoat = this.clearcoat;\n\t\t\tif (this.clearcoatRoughness !== undefined) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\t\tif (this.clearcoatMap && this.clearcoatMap.isTexture) {\n\t\t\t\tdata.clearcoatMap = this.clearcoatMap.toJSON(meta).uuid;\n\t\t\t}\n\n\t\t\tif (this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture) {\n\t\t\t\tdata.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON(meta).uuid;\n\t\t\t}\n\n\t\t\tif (this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture) {\n\t\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON(meta).uuid;\n\t\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\t\t\t}\n\n\t\t\tif (this.map && this.map.isTexture) data.map = this.map.toJSON(meta).uuid;\n\t\t\tif (this.matcap && this.matcap.isTexture) data.matcap = this.matcap.toJSON(meta).uuid;\n\t\t\tif (this.alphaMap && this.alphaMap.isTexture) data.alphaMap = this.alphaMap.toJSON(meta).uuid;\n\n\t\t\tif (this.lightMap && this.lightMap.isTexture) {\n\t\t\t\tdata.lightMap = this.lightMap.toJSON(meta).uuid;\n\t\t\t\tdata.lightMapIntensity = this.lightMapIntensity;\n\t\t\t}\n\n\t\t\tif (this.aoMap && this.aoMap.isTexture) {\n\t\t\t\tdata.aoMap = this.aoMap.toJSON(meta).uuid;\n\t\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\t\t\t}\n\n\t\t\tif (this.bumpMap && this.bumpMap.isTexture) {\n\t\t\t\tdata.bumpMap = this.bumpMap.toJSON(meta).uuid;\n\t\t\t\tdata.bumpScale = this.bumpScale;\n\t\t\t}\n\n\t\t\tif (this.normalMap && this.normalMap.isTexture) {\n\t\t\t\tdata.normalMap = this.normalMap.toJSON(meta).uuid;\n\t\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\t\tdata.normalScale = this.normalScale.toArray();\n\t\t\t}\n\n\t\t\tif (this.displacementMap && this.displacementMap.isTexture) {\n\t\t\t\tdata.displacementMap = this.displacementMap.toJSON(meta).uuid;\n\t\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\t\tdata.displacementBias = this.displacementBias;\n\t\t\t}\n\n\t\t\tif (this.roughnessMap && this.roughnessMap.isTexture) data.roughnessMap = this.roughnessMap.toJSON(meta).uuid;\n\t\t\tif (this.metalnessMap && this.metalnessMap.isTexture) data.metalnessMap = this.metalnessMap.toJSON(meta).uuid;\n\t\t\tif (this.emissiveMap && this.emissiveMap.isTexture) data.emissiveMap = this.emissiveMap.toJSON(meta).uuid;\n\t\t\tif (this.specularMap && this.specularMap.isTexture) data.specularMap = this.specularMap.toJSON(meta).uuid;\n\t\t\tif (this.specularIntensityMap && this.specularIntensityMap.isTexture) data.specularIntensityMap = this.specularIntensityMap.toJSON(meta).uuid;\n\t\t\tif (this.specularColorMap && this.specularColorMap.isTexture) data.specularColorMap = this.specularColorMap.toJSON(meta).uuid;\n\n\t\t\tif (this.envMap && this.envMap.isTexture) {\n\t\t\t\tdata.envMap = this.envMap.toJSON(meta).uuid;\n\t\t\t\tif (this.combine !== undefined) data.combine = this.combine;\n\t\t\t}\n\n\t\t\tif (this.envMapIntensity !== undefined) data.envMapIntensity = this.envMapIntensity;\n\t\t\tif (this.reflectivity !== undefined) data.reflectivity = this.reflectivity;\n\t\t\tif (this.refractionRatio !== undefined) data.refractionRatio = this.refractionRatio;\n\n\t\t\tif (this.gradientMap && this.gradientMap.isTexture) {\n\t\t\t\tdata.gradientMap = this.gradientMap.toJSON(meta).uuid;\n\t\t\t}\n\n\t\t\tif (this.transmission !== undefined) data.transmission = this.transmission;\n\t\t\tif (this.transmissionMap && this.transmissionMap.isTexture) data.transmissionMap = this.transmissionMap.toJSON(meta).uuid;\n\t\t\tif (this.thickness !== undefined) data.thickness = this.thickness;\n\t\t\tif (this.thicknessMap && this.thicknessMap.isTexture) data.thicknessMap = this.thicknessMap.toJSON(meta).uuid;\n\t\t\tif (this.attenuationDistance !== undefined) data.attenuationDistance = this.attenuationDistance;\n\t\t\tif (this.attenuationColor !== undefined) data.attenuationColor = this.attenuationColor.getHex();\n\t\t\tif (this.size !== undefined) data.size = this.size;\n\t\t\tif (this.shadowSide !== null) data.shadowSide = this.shadowSide;\n\t\t\tif (this.sizeAttenuation !== undefined) data.sizeAttenuation = this.sizeAttenuation;\n\t\t\tif (this.blending !== NormalBlending) data.blending = this.blending;\n\t\t\tif (this.side !== FrontSide) data.side = this.side;\n\t\t\tif (this.vertexColors) data.vertexColors = true;\n\t\t\tif (this.opacity < 1) data.opacity = this.opacity;\n\t\t\tif (this.format !== RGBAFormat) data.format = this.format;\n\t\t\tif (this.transparent === true) data.transparent = this.transparent;\n\t\t\tdata.depthFunc = this.depthFunc;\n\t\t\tdata.depthTest = this.depthTest;\n\t\t\tdata.depthWrite = this.depthWrite;\n\t\t\tdata.colorWrite = this.colorWrite;\n\t\t\tdata.stencilWrite = this.stencilWrite;\n\t\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\t\tdata.stencilFunc = this.stencilFunc;\n\t\t\tdata.stencilRef = this.stencilRef;\n\t\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\t\tdata.stencilFail = this.stencilFail;\n\t\t\tdata.stencilZFail = this.stencilZFail;\n\t\t\tdata.stencilZPass = this.stencilZPass; // rotation (SpriteMaterial)\n\n\t\t\tif (this.rotation && this.rotation !== 0) data.rotation = this.rotation;\n\t\t\tif (this.polygonOffset === true) data.polygonOffset = true;\n\t\t\tif (this.polygonOffsetFactor !== 0) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\t\tif (this.polygonOffsetUnits !== 0) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\t\t\tif (this.linewidth && this.linewidth !== 1) data.linewidth = this.linewidth;\n\t\t\tif (this.dashSize !== undefined) data.dashSize = this.dashSize;\n\t\t\tif (this.gapSize !== undefined) data.gapSize = this.gapSize;\n\t\t\tif (this.scale !== undefined) data.scale = this.scale;\n\t\t\tif (this.dithering === true) data.dithering = true;\n\t\t\tif (this.alphaTest > 0) data.alphaTest = this.alphaTest;\n\t\t\tif (this.alphaToCoverage === true) data.alphaToCoverage = this.alphaToCoverage;\n\t\t\tif (this.premultipliedAlpha === true) data.premultipliedAlpha = this.premultipliedAlpha;\n\t\t\tif (this.wireframe === true) data.wireframe = this.wireframe;\n\t\t\tif (this.wireframeLinewidth > 1) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\t\tif (this.wireframeLinecap !== 'round') data.wireframeLinecap = this.wireframeLinecap;\n\t\t\tif (this.wireframeLinejoin !== 'round') data.wireframeLinejoin = this.wireframeLinejoin;\n\t\t\tif (this.flatShading === true) data.flatShading = this.flatShading;\n\t\t\tif (this.visible === false) data.visible = false;\n\t\t\tif (this.toneMapped === false) data.toneMapped = false;\n\t\t\tif (JSON.stringify(this.userData) !== '{}') data.userData = this.userData; // TODO: Copied from Object3D.toJSON\n\n\t\t\tfunction extractFromCache(cache) {\n\t\t\t\tconst values = [];\n\n\t\t\t\tfor (const key in cache) {\n\t\t\t\t\tconst data = cache[key];\n\t\t\t\t\tdelete data.metadata;\n\t\t\t\t\tvalues.push(data);\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t}\n\n\t\t\tif (isRoot) {\n\t\t\t\tconst textures = extractFromCache(meta.textures);\n\t\t\t\tconst images = extractFromCache(meta.images);\n\t\t\t\tif (textures.length > 0) data.textures = textures;\n\t\t\t\tif (images.length > 0) data.images = images;\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tthis.name = source.name;\n\t\t\tthis.fog = source.fog;\n\t\t\tthis.blending = source.blending;\n\t\t\tthis.side = source.side;\n\t\t\tthis.vertexColors = source.vertexColors;\n\t\t\tthis.opacity = source.opacity;\n\t\t\tthis.format = source.format;\n\t\t\tthis.transparent = source.transparent;\n\t\t\tthis.blendSrc = source.blendSrc;\n\t\t\tthis.blendDst = source.blendDst;\n\t\t\tthis.blendEquation = source.blendEquation;\n\t\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\t\t\tthis.depthFunc = source.depthFunc;\n\t\t\tthis.depthTest = source.depthTest;\n\t\t\tthis.depthWrite = source.depthWrite;\n\t\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\t\tthis.stencilFunc = source.stencilFunc;\n\t\t\tthis.stencilRef = source.stencilRef;\n\t\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\t\tthis.stencilFail = source.stencilFail;\n\t\t\tthis.stencilZFail = source.stencilZFail;\n\t\t\tthis.stencilZPass = source.stencilZPass;\n\t\t\tthis.stencilWrite = source.stencilWrite;\n\t\t\tconst srcPlanes = source.clippingPlanes;\n\t\t\tlet dstPlanes = null;\n\n\t\t\tif (srcPlanes !== null) {\n\t\t\t\tconst n = srcPlanes.length;\n\t\t\t\tdstPlanes = new Array(n);\n\n\t\t\t\tfor (let i = 0; i !== n; ++i) {\n\t\t\t\t\tdstPlanes[i] = srcPlanes[i].clone();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.clippingPlanes = dstPlanes;\n\t\t\tthis.clipIntersection = source.clipIntersection;\n\t\t\tthis.clipShadows = source.clipShadows;\n\t\t\tthis.shadowSide = source.shadowSide;\n\t\t\tthis.colorWrite = source.colorWrite;\n\t\t\tthis.precision = source.precision;\n\t\t\tthis.polygonOffset = source.polygonOffset;\n\t\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\t\t\tthis.dithering = source.dithering;\n\t\t\tthis.alphaTest = source.alphaTest;\n\t\t\tthis.alphaToCoverage = source.alphaToCoverage;\n\t\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\t\t\tthis.visible = source.visible;\n\t\t\tthis.toneMapped = source.toneMapped;\n\t\t\tthis.userData = JSON.parse(JSON.stringify(source.userData));\n\t\t\treturn this;\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.dispatchEvent({\n\t\t\t\ttype: 'dispose'\n\t\t\t});\n\t\t}\n\n\t\tset needsUpdate(value) {\n\t\t\tif (value === true) this.version++;\n\t\t}\n\n\t}\n\n\tMaterial.prototype.isMaterial = true;\n\n\tconst _colorKeywords = {\n\t\t'aliceblue': 0xF0F8FF,\n\t\t'antiquewhite': 0xFAEBD7,\n\t\t'aqua': 0x00FFFF,\n\t\t'aquamarine': 0x7FFFD4,\n\t\t'azure': 0xF0FFFF,\n\t\t'beige': 0xF5F5DC,\n\t\t'bisque': 0xFFE4C4,\n\t\t'black': 0x000000,\n\t\t'blanchedalmond': 0xFFEBCD,\n\t\t'blue': 0x0000FF,\n\t\t'blueviolet': 0x8A2BE2,\n\t\t'brown': 0xA52A2A,\n\t\t'burlywood': 0xDEB887,\n\t\t'cadetblue': 0x5F9EA0,\n\t\t'chartreuse': 0x7FFF00,\n\t\t'chocolate': 0xD2691E,\n\t\t'coral': 0xFF7F50,\n\t\t'cornflowerblue': 0x6495ED,\n\t\t'cornsilk': 0xFFF8DC,\n\t\t'crimson': 0xDC143C,\n\t\t'cyan': 0x00FFFF,\n\t\t'darkblue': 0x00008B,\n\t\t'darkcyan': 0x008B8B,\n\t\t'darkgoldenrod': 0xB8860B,\n\t\t'darkgray': 0xA9A9A9,\n\t\t'darkgreen': 0x006400,\n\t\t'darkgrey': 0xA9A9A9,\n\t\t'darkkhaki': 0xBDB76B,\n\t\t'darkmagenta': 0x8B008B,\n\t\t'darkolivegreen': 0x556B2F,\n\t\t'darkorange': 0xFF8C00,\n\t\t'darkorchid': 0x9932CC,\n\t\t'darkred': 0x8B0000,\n\t\t'darksalmon': 0xE9967A,\n\t\t'darkseagreen': 0x8FBC8F,\n\t\t'darkslateblue': 0x483D8B,\n\t\t'darkslategray': 0x2F4F4F,\n\t\t'darkslategrey': 0x2F4F4F,\n\t\t'darkturquoise': 0x00CED1,\n\t\t'darkviolet': 0x9400D3,\n\t\t'deeppink': 0xFF1493,\n\t\t'deepskyblue': 0x00BFFF,\n\t\t'dimgray': 0x696969,\n\t\t'dimgrey': 0x696969,\n\t\t'dodgerblue': 0x1E90FF,\n\t\t'firebrick': 0xB22222,\n\t\t'floralwhite': 0xFFFAF0,\n\t\t'forestgreen': 0x228B22,\n\t\t'fuchsia': 0xFF00FF,\n\t\t'gainsboro': 0xDCDCDC,\n\t\t'ghostwhite': 0xF8F8FF,\n\t\t'gold': 0xFFD700,\n\t\t'goldenrod': 0xDAA520,\n\t\t'gray': 0x808080,\n\t\t'green': 0x008000,\n\t\t'greenyellow': 0xADFF2F,\n\t\t'grey': 0x808080,\n\t\t'honeydew': 0xF0FFF0,\n\t\t'hotpink': 0xFF69B4,\n\t\t'indianred': 0xCD5C5C,\n\t\t'indigo': 0x4B0082,\n\t\t'ivory': 0xFFFFF0,\n\t\t'khaki': 0xF0E68C,\n\t\t'lavender': 0xE6E6FA,\n\t\t'lavenderblush': 0xFFF0F5,\n\t\t'lawngreen': 0x7CFC00,\n\t\t'lemonchiffon': 0xFFFACD,\n\t\t'lightblue': 0xADD8E6,\n\t\t'lightcoral': 0xF08080,\n\t\t'lightcyan': 0xE0FFFF,\n\t\t'lightgoldenrodyellow': 0xFAFAD2,\n\t\t'lightgray': 0xD3D3D3,\n\t\t'lightgreen': 0x90EE90,\n\t\t'lightgrey': 0xD3D3D3,\n\t\t'lightpink': 0xFFB6C1,\n\t\t'lightsalmon': 0xFFA07A,\n\t\t'lightseagreen': 0x20B2AA,\n\t\t'lightskyblue': 0x87CEFA,\n\t\t'lightslategray': 0x778899,\n\t\t'lightslategrey': 0x778899,\n\t\t'lightsteelblue': 0xB0C4DE,\n\t\t'lightyellow': 0xFFFFE0,\n\t\t'lime': 0x00FF00,\n\t\t'limegreen': 0x32CD32,\n\t\t'linen': 0xFAF0E6,\n\t\t'magenta': 0xFF00FF,\n\t\t'maroon': 0x800000,\n\t\t'mediumaquamarine': 0x66CDAA,\n\t\t'mediumblue': 0x0000CD,\n\t\t'mediumorchid': 0xBA55D3,\n\t\t'mediumpurple': 0x9370DB,\n\t\t'mediumseagreen': 0x3CB371,\n\t\t'mediumslateblue': 0x7B68EE,\n\t\t'mediumspringgreen': 0x00FA9A,\n\t\t'mediumturquoise': 0x48D1CC,\n\t\t'mediumvioletred': 0xC71585,\n\t\t'midnightblue': 0x191970,\n\t\t'mintcream': 0xF5FFFA,\n\t\t'mistyrose': 0xFFE4E1,\n\t\t'moccasin': 0xFFE4B5,\n\t\t'navajowhite': 0xFFDEAD,\n\t\t'navy': 0x000080,\n\t\t'oldlace': 0xFDF5E6,\n\t\t'olive': 0x808000,\n\t\t'olivedrab': 0x6B8E23,\n\t\t'orange': 0xFFA500,\n\t\t'orangered': 0xFF4500,\n\t\t'orchid': 0xDA70D6,\n\t\t'palegoldenrod': 0xEEE8AA,\n\t\t'palegreen': 0x98FB98,\n\t\t'paleturquoise': 0xAFEEEE,\n\t\t'palevioletred': 0xDB7093,\n\t\t'papayawhip': 0xFFEFD5,\n\t\t'peachpuff': 0xFFDAB9,\n\t\t'peru': 0xCD853F,\n\t\t'pink': 0xFFC0CB,\n\t\t'plum': 0xDDA0DD,\n\t\t'powderblue': 0xB0E0E6,\n\t\t'purple': 0x800080,\n\t\t'rebeccapurple': 0x663399,\n\t\t'red': 0xFF0000,\n\t\t'rosybrown': 0xBC8F8F,\n\t\t'royalblue': 0x4169E1,\n\t\t'saddlebrown': 0x8B4513,\n\t\t'salmon': 0xFA8072,\n\t\t'sandybrown': 0xF4A460,\n\t\t'seagreen': 0x2E8B57,\n\t\t'seashell': 0xFFF5EE,\n\t\t'sienna': 0xA0522D,\n\t\t'silver': 0xC0C0C0,\n\t\t'skyblue': 0x87CEEB,\n\t\t'slateblue': 0x6A5ACD,\n\t\t'slategray': 0x708090,\n\t\t'slategrey': 0x708090,\n\t\t'snow': 0xFFFAFA,\n\t\t'springgreen': 0x00FF7F,\n\t\t'steelblue': 0x4682B4,\n\t\t'tan': 0xD2B48C,\n\t\t'teal': 0x008080,\n\t\t'thistle': 0xD8BFD8,\n\t\t'tomato': 0xFF6347,\n\t\t'turquoise': 0x40E0D0,\n\t\t'violet': 0xEE82EE,\n\t\t'wheat': 0xF5DEB3,\n\t\t'white': 0xFFFFFF,\n\t\t'whitesmoke': 0xF5F5F5,\n\t\t'yellow': 0xFFFF00,\n\t\t'yellowgreen': 0x9ACD32\n\t};\n\tconst _hslA = {\n\t\th: 0,\n\t\ts: 0,\n\t\tl: 0\n\t};\n\tconst _hslB = {\n\t\th: 0,\n\t\ts: 0,\n\t\tl: 0\n\t};\n\n\tfunction hue2rgb(p, q, t) {\n\t\tif (t < 0) t += 1;\n\t\tif (t > 1) t -= 1;\n\t\tif (t < 1 / 6) return p + (q - p) * 6 * t;\n\t\tif (t < 1 / 2) return q;\n\t\tif (t < 2 / 3) return p + (q - p) * 6 * (2 / 3 - t);\n\t\treturn p;\n\t}\n\n\tfunction SRGBToLinear(c) {\n\t\treturn c < 0.04045 ? c * 0.0773993808 : Math.pow(c * 0.9478672986 + 0.0521327014, 2.4);\n\t}\n\n\tfunction LinearToSRGB(c) {\n\t\treturn c < 0.0031308 ? c * 12.92 : 1.055 * Math.pow(c, 0.41666) - 0.055;\n\t}\n\n\tclass Color {\n\t\tconstructor(r, g, b) {\n\t\t\tif (g === undefined && b === undefined) {\n\t\t\t\t// r is THREE.Color, hex or string\n\t\t\t\treturn this.set(r);\n\t\t\t}\n\n\t\t\treturn this.setRGB(r, g, b);\n\t\t}\n\n\t\tset(value) {\n\t\t\tif (value && value.isColor) {\n\t\t\t\tthis.copy(value);\n\t\t\t} else if (typeof value === 'number') {\n\t\t\t\tthis.setHex(value);\n\t\t\t} else if (typeof value === 'string') {\n\t\t\t\tthis.setStyle(value);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetScalar(scalar) {\n\t\t\tthis.r = scalar;\n\t\t\tthis.g = scalar;\n\t\t\tthis.b = scalar;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetHex(hex) {\n\t\t\thex = Math.floor(hex);\n\t\t\tthis.r = (hex >> 16 & 255) / 255;\n\t\t\tthis.g = (hex >> 8 & 255) / 255;\n\t\t\tthis.b = (hex & 255) / 255;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetRGB(r, g, b) {\n\t\t\tthis.r = r;\n\t\t\tthis.g = g;\n\t\t\tthis.b = b;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetHSL(h, s, l) {\n\t\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\t\th = euclideanModulo(h, 1);\n\t\t\ts = clamp(s, 0, 1);\n\t\t\tl = clamp(l, 0, 1);\n\n\t\t\tif (s === 0) {\n\t\t\t\tthis.r = this.g = this.b = l;\n\t\t\t} else {\n\t\t\t\tconst p = l <= 0.5 ? l * (1 + s) : l + s - l * s;\n\t\t\t\tconst q = 2 * l - p;\n\t\t\t\tthis.r = hue2rgb(q, p, h + 1 / 3);\n\t\t\t\tthis.g = hue2rgb(q, p, h);\n\t\t\t\tthis.b = hue2rgb(q, p, h - 1 / 3);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetStyle(style) {\n\t\t\tfunction handleAlpha(string) {\n\t\t\t\tif (string === undefined) return;\n\n\t\t\t\tif (parseFloat(string) < 1) {\n\t\t\t\t\tconsole.warn('THREE.Color: Alpha component of ' + style + ' will be ignored.');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet m;\n\n\t\t\tif (m = /^((?:rgb|hsl)a?)\\(([^\\)]*)\\)/.exec(style)) {\n\t\t\t\t// rgb / hsl\n\t\t\t\tlet color;\n\t\t\t\tconst name = m[1];\n\t\t\t\tconst components = m[2];\n\n\t\t\t\tswitch (name) {\n\t\t\t\t\tcase 'rgb':\n\t\t\t\t\tcase 'rgba':\n\t\t\t\t\t\tif (color = /^\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec(components)) {\n\t\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\t\tthis.r = Math.min(255, parseInt(color[1], 10)) / 255;\n\t\t\t\t\t\t\tthis.g = Math.min(255, parseInt(color[2], 10)) / 255;\n\t\t\t\t\t\t\tthis.b = Math.min(255, parseInt(color[3], 10)) / 255;\n\t\t\t\t\t\t\thandleAlpha(color[4]);\n\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (color = /^\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec(components)) {\n\t\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\t\tthis.r = Math.min(100, parseInt(color[1], 10)) / 100;\n\t\t\t\t\t\t\tthis.g = Math.min(100, parseInt(color[2], 10)) / 100;\n\t\t\t\t\t\t\tthis.b = Math.min(100, parseInt(color[3], 10)) / 100;\n\t\t\t\t\t\t\thandleAlpha(color[4]);\n\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'hsl':\n\t\t\t\t\tcase 'hsla':\n\t\t\t\t\t\tif (color = /^\\s*(\\d*\\.?\\d+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec(components)) {\n\t\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\t\tconst h = parseFloat(color[1]) / 360;\n\t\t\t\t\t\t\tconst s = parseInt(color[2], 10) / 100;\n\t\t\t\t\t\t\tconst l = parseInt(color[3], 10) / 100;\n\t\t\t\t\t\t\thandleAlpha(color[4]);\n\t\t\t\t\t\t\treturn this.setHSL(h, s, l);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else if (m = /^\\#([A-Fa-f\\d]+)$/.exec(style)) {\n\t\t\t\t// hex color\n\t\t\t\tconst hex = m[1];\n\t\t\t\tconst size = hex.length;\n\n\t\t\t\tif (size === 3) {\n\t\t\t\t\t// #ff0\n\t\t\t\t\tthis.r = parseInt(hex.charAt(0) + hex.charAt(0), 16) / 255;\n\t\t\t\t\tthis.g = parseInt(hex.charAt(1) + hex.charAt(1), 16) / 255;\n\t\t\t\t\tthis.b = parseInt(hex.charAt(2) + hex.charAt(2), 16) / 255;\n\t\t\t\t\treturn this;\n\t\t\t\t} else if (size === 6) {\n\t\t\t\t\t// #ff0000\n\t\t\t\t\tthis.r = parseInt(hex.charAt(0) + hex.charAt(1), 16) / 255;\n\t\t\t\t\tthis.g = parseInt(hex.charAt(2) + hex.charAt(3), 16) / 255;\n\t\t\t\t\tthis.b = parseInt(hex.charAt(4) + hex.charAt(5), 16) / 255;\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (style && style.length > 0) {\n\t\t\t\treturn this.setColorName(style);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetColorName(style) {\n\t\t\t// color keywords\n\t\t\tconst hex = _colorKeywords[style.toLowerCase()];\n\n\t\t\tif (hex !== undefined) {\n\t\t\t\t// red\n\t\t\t\tthis.setHex(hex);\n\t\t\t} else {\n\t\t\t\t// unknown color\n\t\t\t\tconsole.warn('THREE.Color: Unknown color ' + style);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor(this.r, this.g, this.b);\n\t\t}\n\n\t\tcopy(color) {\n\t\t\tthis.r = color.r;\n\t\t\tthis.g = color.g;\n\t\t\tthis.b = color.b;\n\t\t\treturn this;\n\t\t}\n\n\t\tcopySRGBToLinear(color) {\n\t\t\tthis.r = SRGBToLinear(color.r);\n\t\t\tthis.g = SRGBToLinear(color.g);\n\t\t\tthis.b = SRGBToLinear(color.b);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopyLinearToSRGB(color) {\n\t\t\tthis.r = LinearToSRGB(color.r);\n\t\t\tthis.g = LinearToSRGB(color.g);\n\t\t\tthis.b = LinearToSRGB(color.b);\n\t\t\treturn this;\n\t\t}\n\n\t\tconvertSRGBToLinear() {\n\t\t\tthis.copySRGBToLinear(this);\n\t\t\treturn this;\n\t\t}\n\n\t\tconvertLinearToSRGB() {\n\t\t\tthis.copyLinearToSRGB(this);\n\t\t\treturn this;\n\t\t}\n\n\t\tgetHex() {\n\t\t\treturn this.r * 255 << 16 ^ this.g * 255 << 8 ^ this.b * 255 << 0;\n\t\t}\n\n\t\tgetHexString() {\n\t\t\treturn ('000000' + this.getHex().toString(16)).slice(-6);\n\t\t}\n\n\t\tgetHSL(target) {\n\t\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\t\tconst r = this.r,\n\t\t\t\t\t\tg = this.g,\n\t\t\t\t\t\tb = this.b;\n\t\t\tconst max = Math.max(r, g, b);\n\t\t\tconst min = Math.min(r, g, b);\n\t\t\tlet hue, saturation;\n\t\t\tconst lightness = (min + max) / 2.0;\n\n\t\t\tif (min === max) {\n\t\t\t\thue = 0;\n\t\t\t\tsaturation = 0;\n\t\t\t} else {\n\t\t\t\tconst delta = max - min;\n\t\t\t\tsaturation = lightness <= 0.5 ? delta / (max + min) : delta / (2 - max - min);\n\n\t\t\t\tswitch (max) {\n\t\t\t\t\tcase r:\n\t\t\t\t\t\thue = (g - b) / delta + (g < b ? 6 : 0);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase g:\n\t\t\t\t\t\thue = (b - r) / delta + 2;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase b:\n\t\t\t\t\t\thue = (r - g) / delta + 4;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\thue /= 6;\n\t\t\t}\n\n\t\t\ttarget.h = hue;\n\t\t\ttarget.s = saturation;\n\t\t\ttarget.l = lightness;\n\t\t\treturn target;\n\t\t}\n\n\t\tgetStyle() {\n\t\t\treturn 'rgb(' + (this.r * 255 | 0) + ',' + (this.g * 255 | 0) + ',' + (this.b * 255 | 0) + ')';\n\t\t}\n\n\t\toffsetHSL(h, s, l) {\n\t\t\tthis.getHSL(_hslA);\n\t\t\t_hslA.h += h;\n\t\t\t_hslA.s += s;\n\t\t\t_hslA.l += l;\n\t\t\tthis.setHSL(_hslA.h, _hslA.s, _hslA.l);\n\t\t\treturn this;\n\t\t}\n\n\t\tadd(color) {\n\t\t\tthis.r += color.r;\n\t\t\tthis.g += color.g;\n\t\t\tthis.b += color.b;\n\t\t\treturn this;\n\t\t}\n\n\t\taddColors(color1, color2) {\n\t\t\tthis.r = color1.r + color2.r;\n\t\t\tthis.g = color1.g + color2.g;\n\t\t\tthis.b = color1.b + color2.b;\n\t\t\treturn this;\n\t\t}\n\n\t\taddScalar(s) {\n\t\t\tthis.r += s;\n\t\t\tthis.g += s;\n\t\t\tthis.b += s;\n\t\t\treturn this;\n\t\t}\n\n\t\tsub(color) {\n\t\t\tthis.r = Math.max(0, this.r - color.r);\n\t\t\tthis.g = Math.max(0, this.g - color.g);\n\t\t\tthis.b = Math.max(0, this.b - color.b);\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiply(color) {\n\t\t\tthis.r *= color.r;\n\t\t\tthis.g *= color.g;\n\t\t\tthis.b *= color.b;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiplyScalar(s) {\n\t\t\tthis.r *= s;\n\t\t\tthis.g *= s;\n\t\t\tthis.b *= s;\n\t\t\treturn this;\n\t\t}\n\n\t\tlerp(color, alpha) {\n\t\t\tthis.r += (color.r - this.r) * alpha;\n\t\t\tthis.g += (color.g - this.g) * alpha;\n\t\t\tthis.b += (color.b - this.b) * alpha;\n\t\t\treturn this;\n\t\t}\n\n\t\tlerpColors(color1, color2, alpha) {\n\t\t\tthis.r = color1.r + (color2.r - color1.r) * alpha;\n\t\t\tthis.g = color1.g + (color2.g - color1.g) * alpha;\n\t\t\tthis.b = color1.b + (color2.b - color1.b) * alpha;\n\t\t\treturn this;\n\t\t}\n\n\t\tlerpHSL(color, alpha) {\n\t\t\tthis.getHSL(_hslA);\n\t\t\tcolor.getHSL(_hslB);\n\t\t\tconst h = lerp(_hslA.h, _hslB.h, alpha);\n\t\t\tconst s = lerp(_hslA.s, _hslB.s, alpha);\n\t\t\tconst l = lerp(_hslA.l, _hslB.l, alpha);\n\t\t\tthis.setHSL(h, s, l);\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(c) {\n\t\t\treturn c.r === this.r && c.g === this.g && c.b === this.b;\n\t\t}\n\n\t\tfromArray(array, offset = 0) {\n\t\t\tthis.r = array[offset];\n\t\t\tthis.g = array[offset + 1];\n\t\t\tthis.b = array[offset + 2];\n\t\t\treturn this;\n\t\t}\n\n\t\ttoArray(array = [], offset = 0) {\n\t\t\tarray[offset] = this.r;\n\t\t\tarray[offset + 1] = this.g;\n\t\t\tarray[offset + 2] = this.b;\n\t\t\treturn array;\n\t\t}\n\n\t\tfromBufferAttribute(attribute, index) {\n\t\t\tthis.r = attribute.getX(index);\n\t\t\tthis.g = attribute.getY(index);\n\t\t\tthis.b = attribute.getZ(index);\n\n\t\t\tif (attribute.normalized === true) {\n\t\t\t\t// assuming Uint8Array\n\t\t\t\tthis.r /= 255;\n\t\t\t\tthis.g /= 255;\n\t\t\t\tthis.b /= 255;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\treturn this.getHex();\n\t\t}\n\n\t}\n\n\tColor.NAMES = _colorKeywords;\n\tColor.prototype.isColor = true;\n\tColor.prototype.r = 1;\n\tColor.prototype.g = 1;\n\tColor.prototype.b = 1;\n\n\t/**\n\t * parameters = {\n\t *\tcolor: <hex>,\n\t *\topacity: <float>,\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\n\t *\tlightMap: new THREE.Texture( <Image> ),\n\t *\tlightMapIntensity: <float>\n\t *\n\t *\taoMap: new THREE.Texture( <Image> ),\n\t *\taoMapIntensity: <float>\n\t *\n\t *\tspecularMap: new THREE.Texture( <Image> ),\n\t *\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tenvMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n\t *\tcombine: THREE.Multiply,\n\t *\treflectivity: <float>,\n\t *\trefractionRatio: <float>,\n\t *\n\t *\tdepthTest: <bool>,\n\t *\tdepthWrite: <bool>,\n\t *\n\t *\twireframe: <boolean>,\n\t *\twireframeLinewidth: <float>,\n\t * }\n\t */\n\n\tclass MeshBasicMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.type = 'MeshBasicMaterial';\n\t\t\tthis.color = new Color(0xffffff); // emissive\n\n\t\t\tthis.map = null;\n\t\t\tthis.lightMap = null;\n\t\t\tthis.lightMapIntensity = 1.0;\n\t\t\tthis.aoMap = null;\n\t\t\tthis.aoMapIntensity = 1.0;\n\t\t\tthis.specularMap = null;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.envMap = null;\n\t\t\tthis.combine = MultiplyOperation;\n\t\t\tthis.reflectivity = 1;\n\t\t\tthis.refractionRatio = 0.98;\n\t\t\tthis.wireframe = false;\n\t\t\tthis.wireframeLinewidth = 1;\n\t\t\tthis.wireframeLinecap = 'round';\n\t\t\tthis.wireframeLinejoin = 'round';\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.map = source.map;\n\t\t\tthis.lightMap = source.lightMap;\n\t\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\t\t\tthis.aoMap = source.aoMap;\n\t\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\t\t\tthis.specularMap = source.specularMap;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.envMap = source.envMap;\n\t\t\tthis.combine = source.combine;\n\t\t\tthis.reflectivity = source.reflectivity;\n\t\t\tthis.refractionRatio = source.refractionRatio;\n\t\t\tthis.wireframe = source.wireframe;\n\t\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\n\tconst _vector$9 = /*@__PURE__*/new Vector3();\n\n\tconst _vector2$1 = /*@__PURE__*/new Vector2();\n\n\tclass BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tif (Array.isArray(array)) {\n\t\t\t\tthrow new TypeError('THREE.BufferAttribute: array should be a Typed Array.');\n\t\t\t}\n\n\t\t\tthis.name = '';\n\t\t\tthis.array = array;\n\t\t\tthis.itemSize = itemSize;\n\t\t\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\t\t\tthis.normalized = normalized === true;\n\t\t\tthis.usage = StaticDrawUsage;\n\t\t\tthis.updateRange = {\n\t\t\t\toffset: 0,\n\t\t\t\tcount: -1\n\t\t\t};\n\t\t\tthis.version = 0;\n\t\t}\n\n\t\tonUploadCallback() {}\n\n\t\tset needsUpdate(value) {\n\t\t\tif (value === true) this.version++;\n\t\t}\n\n\t\tsetUsage(value) {\n\t\t\tthis.usage = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tthis.name = source.name;\n\t\t\tthis.array = new source.array.constructor(source.array);\n\t\t\tthis.itemSize = source.itemSize;\n\t\t\tthis.count = source.count;\n\t\t\tthis.normalized = source.normalized;\n\t\t\tthis.usage = source.usage;\n\t\t\treturn this;\n\t\t}\n\n\t\tcopyAt(index1, attribute, index2) {\n\t\t\tindex1 *= this.itemSize;\n\t\t\tindex2 *= attribute.itemSize;\n\n\t\t\tfor (let i = 0, l = this.itemSize; i < l; i++) {\n\t\t\t\tthis.array[index1 + i] = attribute.array[index2 + i];\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tcopyArray(array) {\n\t\t\tthis.array.set(array);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopyColorsArray(colors) {\n\t\t\tconst array = this.array;\n\t\t\tlet offset = 0;\n\n\t\t\tfor (let i = 0, l = colors.length; i < l; i++) {\n\t\t\t\tlet color = colors[i];\n\n\t\t\t\tif (color === undefined) {\n\t\t\t\t\tconsole.warn('THREE.BufferAttribute.copyColorsArray(): color is undefined', i);\n\t\t\t\t\tcolor = new Color();\n\t\t\t\t}\n\n\t\t\t\tarray[offset++] = color.r;\n\t\t\t\tarray[offset++] = color.g;\n\t\t\t\tarray[offset++] = color.b;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tcopyVector2sArray(vectors) {\n\t\t\tconst array = this.array;\n\t\t\tlet offset = 0;\n\n\t\t\tfor (let i = 0, l = vectors.length; i < l; i++) {\n\t\t\t\tlet vector = vectors[i];\n\n\t\t\t\tif (vector === undefined) {\n\t\t\t\t\tconsole.warn('THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i);\n\t\t\t\t\tvector = new Vector2();\n\t\t\t\t}\n\n\t\t\t\tarray[offset++] = vector.x;\n\t\t\t\tarray[offset++] = vector.y;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tcopyVector3sArray(vectors) {\n\t\t\tconst array = this.array;\n\t\t\tlet offset = 0;\n\n\t\t\tfor (let i = 0, l = vectors.length; i < l; i++) {\n\t\t\t\tlet vector = vectors[i];\n\n\t\t\t\tif (vector === undefined) {\n\t\t\t\t\tconsole.warn('THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i);\n\t\t\t\t\tvector = new Vector3();\n\t\t\t\t}\n\n\t\t\t\tarray[offset++] = vector.x;\n\t\t\t\tarray[offset++] = vector.y;\n\t\t\t\tarray[offset++] = vector.z;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tcopyVector4sArray(vectors) {\n\t\t\tconst array = this.array;\n\t\t\tlet offset = 0;\n\n\t\t\tfor (let i = 0, l = vectors.length; i < l; i++) {\n\t\t\t\tlet vector = vectors[i];\n\n\t\t\t\tif (vector === undefined) {\n\t\t\t\t\tconsole.warn('THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i);\n\t\t\t\t\tvector = new Vector4();\n\t\t\t\t}\n\n\t\t\t\tarray[offset++] = vector.x;\n\t\t\t\tarray[offset++] = vector.y;\n\t\t\t\tarray[offset++] = vector.z;\n\t\t\t\tarray[offset++] = vector.w;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyMatrix3(m) {\n\t\t\tif (this.itemSize === 2) {\n\t\t\t\tfor (let i = 0, l = this.count; i < l; i++) {\n\t\t\t\t\t_vector2$1.fromBufferAttribute(this, i);\n\n\t\t\t\t\t_vector2$1.applyMatrix3(m);\n\n\t\t\t\t\tthis.setXY(i, _vector2$1.x, _vector2$1.y);\n\t\t\t\t}\n\t\t\t} else if (this.itemSize === 3) {\n\t\t\t\tfor (let i = 0, l = this.count; i < l; i++) {\n\t\t\t\t\t_vector$9.fromBufferAttribute(this, i);\n\n\t\t\t\t\t_vector$9.applyMatrix3(m);\n\n\t\t\t\t\tthis.setXYZ(i, _vector$9.x, _vector$9.y, _vector$9.z);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyMatrix4(m) {\n\t\t\tfor (let i = 0, l = this.count; i < l; i++) {\n\t\t\t\t_vector$9.x = this.getX(i);\n\t\t\t\t_vector$9.y = this.getY(i);\n\t\t\t\t_vector$9.z = this.getZ(i);\n\n\t\t\t\t_vector$9.applyMatrix4(m);\n\n\t\t\t\tthis.setXYZ(i, _vector$9.x, _vector$9.y, _vector$9.z);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyNormalMatrix(m) {\n\t\t\tfor (let i = 0, l = this.count; i < l; i++) {\n\t\t\t\t_vector$9.x = this.getX(i);\n\t\t\t\t_vector$9.y = this.getY(i);\n\t\t\t\t_vector$9.z = this.getZ(i);\n\n\t\t\t\t_vector$9.applyNormalMatrix(m);\n\n\t\t\t\tthis.setXYZ(i, _vector$9.x, _vector$9.y, _vector$9.z);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttransformDirection(m) {\n\t\t\tfor (let i = 0, l = this.count; i < l; i++) {\n\t\t\t\t_vector$9.x = this.getX(i);\n\t\t\t\t_vector$9.y = this.getY(i);\n\t\t\t\t_vector$9.z = this.getZ(i);\n\n\t\t\t\t_vector$9.transformDirection(m);\n\n\t\t\t\tthis.setXYZ(i, _vector$9.x, _vector$9.y, _vector$9.z);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tset(value, offset = 0) {\n\t\t\tthis.array.set(value, offset);\n\t\t\treturn this;\n\t\t}\n\n\t\tgetX(index) {\n\t\t\treturn this.array[index * this.itemSize];\n\t\t}\n\n\t\tsetX(index, x) {\n\t\t\tthis.array[index * this.itemSize] = x;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetY(index) {\n\t\t\treturn this.array[index * this.itemSize + 1];\n\t\t}\n\n\t\tsetY(index, y) {\n\t\t\tthis.array[index * this.itemSize + 1] = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetZ(index) {\n\t\t\treturn this.array[index * this.itemSize + 2];\n\t\t}\n\n\t\tsetZ(index, z) {\n\t\t\tthis.array[index * this.itemSize + 2] = z;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetW(index) {\n\t\t\treturn this.array[index * this.itemSize + 3];\n\t\t}\n\n\t\tsetW(index, w) {\n\t\t\tthis.array[index * this.itemSize + 3] = w;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetXY(index, x, y) {\n\t\t\tindex *= this.itemSize;\n\t\t\tthis.array[index + 0] = x;\n\t\t\tthis.array[index + 1] = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetXYZ(index, x, y, z) {\n\t\t\tindex *= this.itemSize;\n\t\t\tthis.array[index + 0] = x;\n\t\t\tthis.array[index + 1] = y;\n\t\t\tthis.array[index + 2] = z;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetXYZW(index, x, y, z, w) {\n\t\t\tindex *= this.itemSize;\n\t\t\tthis.array[index + 0] = x;\n\t\t\tthis.array[index + 1] = y;\n\t\t\tthis.array[index + 2] = z;\n\t\t\tthis.array[index + 3] = w;\n\t\t\treturn this;\n\t\t}\n\n\t\tonUpload(callback) {\n\t\t\tthis.onUploadCallback = callback;\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor(this.array, this.itemSize).copy(this);\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = {\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call(this.array),\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\t\t\tif (this.name !== '') data.name = this.name;\n\t\t\tif (this.usage !== StaticDrawUsage) data.usage = this.usage;\n\t\t\tif (this.updateRange.offset !== 0 || this.updateRange.count !== -1) data.updateRange = this.updateRange;\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tBufferAttribute.prototype.isBufferAttribute = true; //\n\n\tclass Int8BufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Int8Array(array), itemSize, normalized);\n\t\t}\n\n\t}\n\n\tclass Uint8BufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Uint8Array(array), itemSize, normalized);\n\t\t}\n\n\t}\n\n\tclass Uint8ClampedBufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Uint8ClampedArray(array), itemSize, normalized);\n\t\t}\n\n\t}\n\n\tclass Int16BufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Int16Array(array), itemSize, normalized);\n\t\t}\n\n\t}\n\n\tclass Uint16BufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Uint16Array(array), itemSize, normalized);\n\t\t}\n\n\t}\n\n\tclass Int32BufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Int32Array(array), itemSize, normalized);\n\t\t}\n\n\t}\n\n\tclass Uint32BufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Uint32Array(array), itemSize, normalized);\n\t\t}\n\n\t}\n\n\tclass Float16BufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Uint16Array(array), itemSize, normalized);\n\t\t}\n\n\t}\n\n\tFloat16BufferAttribute.prototype.isFloat16BufferAttribute = true;\n\n\tclass Float32BufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Float32Array(array), itemSize, normalized);\n\t\t}\n\n\t}\n\n\tclass Float64BufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Float64Array(array), itemSize, normalized);\n\t\t}\n\n\t} //\n\n\tlet _id$1 = 0;\n\n\tconst _m1 = /*@__PURE__*/new Matrix4();\n\n\tconst _obj = /*@__PURE__*/new Object3D();\n\n\tconst _offset = /*@__PURE__*/new Vector3();\n\n\tconst _box$1 = /*@__PURE__*/new Box3();\n\n\tconst _boxMorphTargets = /*@__PURE__*/new Box3();\n\n\tconst _vector$8 = /*@__PURE__*/new Vector3();\n\n\tclass BufferGeometry extends EventDispatcher {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tObject.defineProperty(this, 'id', {\n\t\t\t\tvalue: _id$1++\n\t\t\t});\n\t\t\tthis.uuid = generateUUID();\n\t\t\tthis.name = '';\n\t\t\tthis.type = 'BufferGeometry';\n\t\t\tthis.index = null;\n\t\t\tthis.attributes = {};\n\t\t\tthis.morphAttributes = {};\n\t\t\tthis.morphTargetsRelative = false;\n\t\t\tthis.groups = [];\n\t\t\tthis.boundingBox = null;\n\t\t\tthis.boundingSphere = null;\n\t\t\tthis.drawRange = {\n\t\t\t\tstart: 0,\n\t\t\t\tcount: Infinity\n\t\t\t};\n\t\t\tthis.userData = {};\n\t\t}\n\n\t\tgetIndex() {\n\t\t\treturn this.index;\n\t\t}\n\n\t\tsetIndex(index) {\n\t\t\tif (Array.isArray(index)) {\n\t\t\t\tthis.index = new (arrayMax(index) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute)(index, 1);\n\t\t\t} else {\n\t\t\t\tthis.index = index;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tgetAttribute(name) {\n\t\t\treturn this.attributes[name];\n\t\t}\n\n\t\tsetAttribute(name, attribute) {\n\t\t\tthis.attributes[name] = attribute;\n\t\t\treturn this;\n\t\t}\n\n\t\tdeleteAttribute(name) {\n\t\t\tdelete this.attributes[name];\n\t\t\treturn this;\n\t\t}\n\n\t\thasAttribute(name) {\n\t\t\treturn this.attributes[name] !== undefined;\n\t\t}\n\n\t\taddGroup(start, count, materialIndex = 0) {\n\t\t\tthis.groups.push({\n\t\t\t\tstart: start,\n\t\t\t\tcount: count,\n\t\t\t\tmaterialIndex: materialIndex\n\t\t\t});\n\t\t}\n\n\t\tclearGroups() {\n\t\t\tthis.groups = [];\n\t\t}\n\n\t\tsetDrawRange(start, count) {\n\t\t\tthis.drawRange.start = start;\n\t\t\tthis.drawRange.count = count;\n\t\t}\n\n\t\tapplyMatrix4(matrix) {\n\t\t\tconst position = this.attributes.position;\n\n\t\t\tif (position !== undefined) {\n\t\t\t\tposition.applyMatrix4(matrix);\n\t\t\t\tposition.needsUpdate = true;\n\t\t\t}\n\n\t\t\tconst normal = this.attributes.normal;\n\n\t\t\tif (normal !== undefined) {\n\t\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix(matrix);\n\t\t\t\tnormal.applyNormalMatrix(normalMatrix);\n\t\t\t\tnormal.needsUpdate = true;\n\t\t\t}\n\n\t\t\tconst tangent = this.attributes.tangent;\n\n\t\t\tif (tangent !== undefined) {\n\t\t\t\ttangent.transformDirection(matrix);\n\t\t\t\ttangent.needsUpdate = true;\n\t\t\t}\n\n\t\t\tif (this.boundingBox !== null) {\n\t\t\t\tthis.computeBoundingBox();\n\t\t\t}\n\n\t\t\tif (this.boundingSphere !== null) {\n\t\t\t\tthis.computeBoundingSphere();\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyQuaternion(q) {\n\t\t\t_m1.makeRotationFromQuaternion(q);\n\n\t\t\tthis.applyMatrix4(_m1);\n\t\t\treturn this;\n\t\t}\n\n\t\trotateX(angle) {\n\t\t\t// rotate geometry around world x-axis\n\t\t\t_m1.makeRotationX(angle);\n\n\t\t\tthis.applyMatrix4(_m1);\n\t\t\treturn this;\n\t\t}\n\n\t\trotateY(angle) {\n\t\t\t// rotate geometry around world y-axis\n\t\t\t_m1.makeRotationY(angle);\n\n\t\t\tthis.applyMatrix4(_m1);\n\t\t\treturn this;\n\t\t}\n\n\t\trotateZ(angle) {\n\t\t\t// rotate geometry around world z-axis\n\t\t\t_m1.makeRotationZ(angle);\n\n\t\t\tthis.applyMatrix4(_m1);\n\t\t\treturn this;\n\t\t}\n\n\t\ttranslate(x, y, z) {\n\t\t\t// translate geometry\n\t\t\t_m1.makeTranslation(x, y, z);\n\n\t\t\tthis.applyMatrix4(_m1);\n\t\t\treturn this;\n\t\t}\n\n\t\tscale(x, y, z) {\n\t\t\t// scale geometry\n\t\t\t_m1.makeScale(x, y, z);\n\n\t\t\tthis.applyMatrix4(_m1);\n\t\t\treturn this;\n\t\t}\n\n\t\tlookAt(vector) {\n\t\t\t_obj.lookAt(vector);\n\n\t\t\t_obj.updateMatrix();\n\n\t\t\tthis.applyMatrix4(_obj.matrix);\n\t\t\treturn this;\n\t\t}\n\n\t\tcenter() {\n\t\t\tthis.computeBoundingBox();\n\t\t\tthis.boundingBox.getCenter(_offset).negate();\n\t\t\tthis.translate(_offset.x, _offset.y, _offset.z);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromPoints(points) {\n\t\t\tconst position = [];\n\n\t\t\tfor (let i = 0, l = points.length; i < l; i++) {\n\t\t\t\tconst point = points[i];\n\t\t\t\tposition.push(point.x, point.y, point.z || 0);\n\t\t\t}\n\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(position, 3));\n\t\t\treturn this;\n\t\t}\n\n\t\tcomputeBoundingBox() {\n\t\t\tif (this.boundingBox === null) {\n\t\t\t\tthis.boundingBox = new Box3();\n\t\t\t}\n\n\t\t\tconst position = this.attributes.position;\n\t\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\t\tif (position && position.isGLBufferAttribute) {\n\t\t\t\tconsole.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this);\n\t\t\t\tthis.boundingBox.set(new Vector3(-Infinity, -Infinity, -Infinity), new Vector3(+Infinity, +Infinity, +Infinity));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (position !== undefined) {\n\t\t\t\tthis.boundingBox.setFromBufferAttribute(position); // process morph attributes if present\n\n\t\t\t\tif (morphAttributesPosition) {\n\t\t\t\t\tfor (let i = 0, il = morphAttributesPosition.length; i < il; i++) {\n\t\t\t\t\t\tconst morphAttribute = morphAttributesPosition[i];\n\n\t\t\t\t\t\t_box$1.setFromBufferAttribute(morphAttribute);\n\n\t\t\t\t\t\tif (this.morphTargetsRelative) {\n\t\t\t\t\t\t\t_vector$8.addVectors(this.boundingBox.min, _box$1.min);\n\n\t\t\t\t\t\t\tthis.boundingBox.expandByPoint(_vector$8);\n\n\t\t\t\t\t\t\t_vector$8.addVectors(this.boundingBox.max, _box$1.max);\n\n\t\t\t\t\t\t\tthis.boundingBox.expandByPoint(_vector$8);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.boundingBox.expandByPoint(_box$1.min);\n\t\t\t\t\t\t\tthis.boundingBox.expandByPoint(_box$1.max);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.boundingBox.makeEmpty();\n\t\t\t}\n\n\t\t\tif (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) {\n\t\t\t\tconsole.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this);\n\t\t\t}\n\t\t}\n\n\t\tcomputeBoundingSphere() {\n\t\t\tif (this.boundingSphere === null) {\n\t\t\t\tthis.boundingSphere = new Sphere();\n\t\t\t}\n\n\t\t\tconst position = this.attributes.position;\n\t\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\t\tif (position && position.isGLBufferAttribute) {\n\t\t\t\tconsole.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this);\n\t\t\t\tthis.boundingSphere.set(new Vector3(), Infinity);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (position) {\n\t\t\t\t// first, find the center of the bounding sphere\n\t\t\t\tconst center = this.boundingSphere.center;\n\n\t\t\t\t_box$1.setFromBufferAttribute(position); // process morph attributes if present\n\n\n\t\t\t\tif (morphAttributesPosition) {\n\t\t\t\t\tfor (let i = 0, il = morphAttributesPosition.length; i < il; i++) {\n\t\t\t\t\t\tconst morphAttribute = morphAttributesPosition[i];\n\n\t\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute(morphAttribute);\n\n\t\t\t\t\t\tif (this.morphTargetsRelative) {\n\t\t\t\t\t\t\t_vector$8.addVectors(_box$1.min, _boxMorphTargets.min);\n\n\t\t\t\t\t\t\t_box$1.expandByPoint(_vector$8);\n\n\t\t\t\t\t\t\t_vector$8.addVectors(_box$1.max, _boxMorphTargets.max);\n\n\t\t\t\t\t\t\t_box$1.expandByPoint(_vector$8);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_box$1.expandByPoint(_boxMorphTargets.min);\n\n\t\t\t\t\t\t\t_box$1.expandByPoint(_boxMorphTargets.max);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t_box$1.getCenter(center); // second, try to find a boundingSphere with a radius smaller than the\n\t\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\n\t\t\t\tlet maxRadiusSq = 0;\n\n\t\t\t\tfor (let i = 0, il = position.count; i < il; i++) {\n\t\t\t\t\t_vector$8.fromBufferAttribute(position, i);\n\n\t\t\t\t\tmaxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector$8));\n\t\t\t\t} // process morph attributes if present\n\n\n\t\t\t\tif (morphAttributesPosition) {\n\t\t\t\t\tfor (let i = 0, il = morphAttributesPosition.length; i < il; i++) {\n\t\t\t\t\t\tconst morphAttribute = morphAttributesPosition[i];\n\t\t\t\t\t\tconst morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\t\tfor (let j = 0, jl = morphAttribute.count; j < jl; j++) {\n\t\t\t\t\t\t\t_vector$8.fromBufferAttribute(morphAttribute, j);\n\n\t\t\t\t\t\t\tif (morphTargetsRelative) {\n\t\t\t\t\t\t\t\t_offset.fromBufferAttribute(position, j);\n\n\t\t\t\t\t\t\t\t_vector$8.add(_offset);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tmaxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector$8));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.boundingSphere.radius = Math.sqrt(maxRadiusSq);\n\n\t\t\t\tif (isNaN(this.boundingSphere.radius)) {\n\t\t\t\t\tconsole.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcomputeTangents() {\n\t\t\tconst index = this.index;\n\t\t\tconst attributes = this.attributes; // based on http://www.terathon.com/code/tangent.html\n\t\t\t// (per vertex tangents)\n\n\t\t\tif (index === null || attributes.position === undefined || attributes.normal === undefined || attributes.uv === undefined) {\n\t\t\t\tconsole.error('THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst indices = index.array;\n\t\t\tconst positions = attributes.position.array;\n\t\t\tconst normals = attributes.normal.array;\n\t\t\tconst uvs = attributes.uv.array;\n\t\t\tconst nVertices = positions.length / 3;\n\n\t\t\tif (attributes.tangent === undefined) {\n\t\t\t\tthis.setAttribute('tangent', new BufferAttribute(new Float32Array(4 * nVertices), 4));\n\t\t\t}\n\n\t\t\tconst tangents = attributes.tangent.array;\n\t\t\tconst tan1 = [],\n\t\t\t\t\t\ttan2 = [];\n\n\t\t\tfor (let i = 0; i < nVertices; i++) {\n\t\t\t\ttan1[i] = new Vector3();\n\t\t\t\ttan2[i] = new Vector3();\n\t\t\t}\n\n\t\t\tconst vA = new Vector3(),\n\t\t\t\t\t\tvB = new Vector3(),\n\t\t\t\t\t\tvC = new Vector3(),\n\t\t\t\t\t\tuvA = new Vector2(),\n\t\t\t\t\t\tuvB = new Vector2(),\n\t\t\t\t\t\tuvC = new Vector2(),\n\t\t\t\t\t\tsdir = new Vector3(),\n\t\t\t\t\t\ttdir = new Vector3();\n\n\t\t\tfunction handleTriangle(a, b, c) {\n\t\t\t\tvA.fromArray(positions, a * 3);\n\t\t\t\tvB.fromArray(positions, b * 3);\n\t\t\t\tvC.fromArray(positions, c * 3);\n\t\t\t\tuvA.fromArray(uvs, a * 2);\n\t\t\t\tuvB.fromArray(uvs, b * 2);\n\t\t\t\tuvC.fromArray(uvs, c * 2);\n\t\t\t\tvB.sub(vA);\n\t\t\t\tvC.sub(vA);\n\t\t\t\tuvB.sub(uvA);\n\t\t\t\tuvC.sub(uvA);\n\t\t\t\tconst r = 1.0 / (uvB.x * uvC.y - uvC.x * uvB.y); // silently ignore degenerate uv triangles having coincident or colinear vertices\n\n\t\t\t\tif (!isFinite(r)) return;\n\t\t\t\tsdir.copy(vB).multiplyScalar(uvC.y).addScaledVector(vC, -uvB.y).multiplyScalar(r);\n\t\t\t\ttdir.copy(vC).multiplyScalar(uvB.x).addScaledVector(vB, -uvC.x).multiplyScalar(r);\n\t\t\t\ttan1[a].add(sdir);\n\t\t\t\ttan1[b].add(sdir);\n\t\t\t\ttan1[c].add(sdir);\n\t\t\t\ttan2[a].add(tdir);\n\t\t\t\ttan2[b].add(tdir);\n\t\t\t\ttan2[c].add(tdir);\n\t\t\t}\n\n\t\t\tlet groups = this.groups;\n\n\t\t\tif (groups.length === 0) {\n\t\t\t\tgroups = [{\n\t\t\t\t\tstart: 0,\n\t\t\t\t\tcount: indices.length\n\t\t\t\t}];\n\t\t\t}\n\n\t\t\tfor (let i = 0, il = groups.length; i < il; ++i) {\n\t\t\t\tconst group = groups[i];\n\t\t\t\tconst start = group.start;\n\t\t\t\tconst count = group.count;\n\n\t\t\t\tfor (let j = start, jl = start + count; j < jl; j += 3) {\n\t\t\t\t\thandleTriangle(indices[j + 0], indices[j + 1], indices[j + 2]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst tmp = new Vector3(),\n\t\t\t\t\t\ttmp2 = new Vector3();\n\t\t\tconst n = new Vector3(),\n\t\t\t\t\t\tn2 = new Vector3();\n\n\t\t\tfunction handleVertex(v) {\n\t\t\t\tn.fromArray(normals, v * 3);\n\t\t\t\tn2.copy(n);\n\t\t\t\tconst t = tan1[v]; // Gram-Schmidt orthogonalize\n\n\t\t\t\ttmp.copy(t);\n\t\t\t\ttmp.sub(n.multiplyScalar(n.dot(t))).normalize(); // Calculate handedness\n\n\t\t\t\ttmp2.crossVectors(n2, t);\n\t\t\t\tconst test = tmp2.dot(tan2[v]);\n\t\t\t\tconst w = test < 0.0 ? -1.0 : 1.0;\n\t\t\t\ttangents[v * 4] = tmp.x;\n\t\t\t\ttangents[v * 4 + 1] = tmp.y;\n\t\t\t\ttangents[v * 4 + 2] = tmp.z;\n\t\t\t\ttangents[v * 4 + 3] = w;\n\t\t\t}\n\n\t\t\tfor (let i = 0, il = groups.length; i < il; ++i) {\n\t\t\t\tconst group = groups[i];\n\t\t\t\tconst start = group.start;\n\t\t\t\tconst count = group.count;\n\n\t\t\t\tfor (let j = start, jl = start + count; j < jl; j += 3) {\n\t\t\t\t\thandleVertex(indices[j + 0]);\n\t\t\t\t\thandleVertex(indices[j + 1]);\n\t\t\t\t\thandleVertex(indices[j + 2]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcomputeVertexNormals() {\n\t\t\tconst index = this.index;\n\t\t\tconst positionAttribute = this.getAttribute('position');\n\n\t\t\tif (positionAttribute !== undefined) {\n\t\t\t\tlet normalAttribute = this.getAttribute('normal');\n\n\t\t\t\tif (normalAttribute === undefined) {\n\t\t\t\t\tnormalAttribute = new BufferAttribute(new Float32Array(positionAttribute.count * 3), 3);\n\t\t\t\t\tthis.setAttribute('normal', normalAttribute);\n\t\t\t\t} else {\n\t\t\t\t\t// reset existing normals to zero\n\t\t\t\t\tfor (let i = 0, il = normalAttribute.count; i < il; i++) {\n\t\t\t\t\t\tnormalAttribute.setXYZ(i, 0, 0, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst pA = new Vector3(),\n\t\t\t\t\t\t\tpB = new Vector3(),\n\t\t\t\t\t\t\tpC = new Vector3();\n\t\t\t\tconst nA = new Vector3(),\n\t\t\t\t\t\t\tnB = new Vector3(),\n\t\t\t\t\t\t\tnC = new Vector3();\n\t\t\t\tconst cb = new Vector3(),\n\t\t\t\t\t\t\tab = new Vector3(); // indexed elements\n\n\t\t\t\tif (index) {\n\t\t\t\t\tfor (let i = 0, il = index.count; i < il; i += 3) {\n\t\t\t\t\t\tconst vA = index.getX(i + 0);\n\t\t\t\t\t\tconst vB = index.getX(i + 1);\n\t\t\t\t\t\tconst vC = index.getX(i + 2);\n\t\t\t\t\t\tpA.fromBufferAttribute(positionAttribute, vA);\n\t\t\t\t\t\tpB.fromBufferAttribute(positionAttribute, vB);\n\t\t\t\t\t\tpC.fromBufferAttribute(positionAttribute, vC);\n\t\t\t\t\t\tcb.subVectors(pC, pB);\n\t\t\t\t\t\tab.subVectors(pA, pB);\n\t\t\t\t\t\tcb.cross(ab);\n\t\t\t\t\t\tnA.fromBufferAttribute(normalAttribute, vA);\n\t\t\t\t\t\tnB.fromBufferAttribute(normalAttribute, vB);\n\t\t\t\t\t\tnC.fromBufferAttribute(normalAttribute, vC);\n\t\t\t\t\t\tnA.add(cb);\n\t\t\t\t\t\tnB.add(cb);\n\t\t\t\t\t\tnC.add(cb);\n\t\t\t\t\t\tnormalAttribute.setXYZ(vA, nA.x, nA.y, nA.z);\n\t\t\t\t\t\tnormalAttribute.setXYZ(vB, nB.x, nB.y, nB.z);\n\t\t\t\t\t\tnormalAttribute.setXYZ(vC, nC.x, nC.y, nC.z);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\t\t\t\t\tfor (let i = 0, il = positionAttribute.count; i < il; i += 3) {\n\t\t\t\t\t\tpA.fromBufferAttribute(positionAttribute, i + 0);\n\t\t\t\t\t\tpB.fromBufferAttribute(positionAttribute, i + 1);\n\t\t\t\t\t\tpC.fromBufferAttribute(positionAttribute, i + 2);\n\t\t\t\t\t\tcb.subVectors(pC, pB);\n\t\t\t\t\t\tab.subVectors(pA, pB);\n\t\t\t\t\t\tcb.cross(ab);\n\t\t\t\t\t\tnormalAttribute.setXYZ(i + 0, cb.x, cb.y, cb.z);\n\t\t\t\t\t\tnormalAttribute.setXYZ(i + 1, cb.x, cb.y, cb.z);\n\t\t\t\t\t\tnormalAttribute.setXYZ(i + 2, cb.x, cb.y, cb.z);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.normalizeNormals();\n\t\t\t\tnormalAttribute.needsUpdate = true;\n\t\t\t}\n\t\t}\n\n\t\tmerge(geometry, offset) {\n\t\t\tif (!(geometry && geometry.isBufferGeometry)) {\n\t\t\t\tconsole.error('THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (offset === undefined) {\n\t\t\t\toffset = 0;\n\t\t\t\tconsole.warn('THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. ' + 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.');\n\t\t\t}\n\n\t\t\tconst attributes = this.attributes;\n\n\t\t\tfor (const key in attributes) {\n\t\t\t\tif (geometry.attributes[key] === undefined) continue;\n\t\t\t\tconst attribute1 = attributes[key];\n\t\t\t\tconst attributeArray1 = attribute1.array;\n\t\t\t\tconst attribute2 = geometry.attributes[key];\n\t\t\t\tconst attributeArray2 = attribute2.array;\n\t\t\t\tconst attributeOffset = attribute2.itemSize * offset;\n\t\t\t\tconst length = Math.min(attributeArray2.length, attributeArray1.length - attributeOffset);\n\n\t\t\t\tfor (let i = 0, j = attributeOffset; i < length; i++, j++) {\n\t\t\t\t\tattributeArray1[j] = attributeArray2[i];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tnormalizeNormals() {\n\t\t\tconst normals = this.attributes.normal;\n\n\t\t\tfor (let i = 0, il = normals.count; i < il; i++) {\n\t\t\t\t_vector$8.fromBufferAttribute(normals, i);\n\n\t\t\t\t_vector$8.normalize();\n\n\t\t\t\tnormals.setXYZ(i, _vector$8.x, _vector$8.y, _vector$8.z);\n\t\t\t}\n\t\t}\n\n\t\ttoNonIndexed() {\n\t\t\tfunction convertBufferAttribute(attribute, indices) {\n\t\t\t\tconst array = attribute.array;\n\t\t\t\tconst itemSize = attribute.itemSize;\n\t\t\t\tconst normalized = attribute.normalized;\n\t\t\t\tconst array2 = new array.constructor(indices.length * itemSize);\n\t\t\t\tlet index = 0,\n\t\t\t\t\t\tindex2 = 0;\n\n\t\t\t\tfor (let i = 0, l = indices.length; i < l; i++) {\n\t\t\t\t\tif (attribute.isInterleavedBufferAttribute) {\n\t\t\t\t\t\tindex = indices[i] * attribute.data.stride + attribute.offset;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tindex = indices[i] * itemSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (let j = 0; j < itemSize; j++) {\n\t\t\t\t\t\tarray2[index2++] = array[index++];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn new BufferAttribute(array2, itemSize, normalized);\n\t\t\t} //\n\n\n\t\t\tif (this.index === null) {\n\t\t\t\tconsole.warn('THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.');\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tconst geometry2 = new BufferGeometry();\n\t\t\tconst indices = this.index.array;\n\t\t\tconst attributes = this.attributes; // attributes\n\n\t\t\tfor (const name in attributes) {\n\t\t\t\tconst attribute = attributes[name];\n\t\t\t\tconst newAttribute = convertBufferAttribute(attribute, indices);\n\t\t\t\tgeometry2.setAttribute(name, newAttribute);\n\t\t\t} // morph attributes\n\n\n\t\t\tconst morphAttributes = this.morphAttributes;\n\n\t\t\tfor (const name in morphAttributes) {\n\t\t\t\tconst morphArray = [];\n\t\t\t\tconst morphAttribute = morphAttributes[name]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\t\tfor (let i = 0, il = morphAttribute.length; i < il; i++) {\n\t\t\t\t\tconst attribute = morphAttribute[i];\n\t\t\t\t\tconst newAttribute = convertBufferAttribute(attribute, indices);\n\t\t\t\t\tmorphArray.push(newAttribute);\n\t\t\t\t}\n\n\t\t\t\tgeometry2.morphAttributes[name] = morphArray;\n\t\t\t}\n\n\t\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative; // groups\n\n\t\t\tconst groups = this.groups;\n\n\t\t\tfor (let i = 0, l = groups.length; i < l; i++) {\n\t\t\t\tconst group = groups[i];\n\t\t\t\tgeometry2.addGroup(group.start, group.count, group.materialIndex);\n\t\t\t}\n\n\t\t\treturn geometry2;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = {\n\t\t\t\tmetadata: {\n\t\t\t\t\tversion: 4.5,\n\t\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t\t}\n\t\t\t}; // standard BufferGeometry serialization\n\n\t\t\tdata.uuid = this.uuid;\n\t\t\tdata.type = this.type;\n\t\t\tif (this.name !== '') data.name = this.name;\n\t\t\tif (Object.keys(this.userData).length > 0) data.userData = this.userData;\n\n\t\t\tif (this.parameters !== undefined) {\n\t\t\t\tconst parameters = this.parameters;\n\n\t\t\t\tfor (const key in parameters) {\n\t\t\t\t\tif (parameters[key] !== undefined) data[key] = parameters[key];\n\t\t\t\t}\n\n\t\t\t\treturn data;\n\t\t\t} // for simplicity the code assumes attributes are not shared across geometries, see #15811\n\n\n\t\t\tdata.data = {\n\t\t\t\tattributes: {}\n\t\t\t};\n\t\t\tconst index = this.index;\n\n\t\t\tif (index !== null) {\n\t\t\t\tdata.data.index = {\n\t\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\t\tarray: Array.prototype.slice.call(index.array)\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst attributes = this.attributes;\n\n\t\t\tfor (const key in attributes) {\n\t\t\t\tconst attribute = attributes[key];\n\t\t\t\tdata.data.attributes[key] = attribute.toJSON(data.data);\n\t\t\t}\n\n\t\t\tconst morphAttributes = {};\n\t\t\tlet hasMorphAttributes = false;\n\n\t\t\tfor (const key in this.morphAttributes) {\n\t\t\t\tconst attributeArray = this.morphAttributes[key];\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor (let i = 0, il = attributeArray.length; i < il; i++) {\n\t\t\t\t\tconst attribute = attributeArray[i];\n\t\t\t\t\tarray.push(attribute.toJSON(data.data));\n\t\t\t\t}\n\n\t\t\t\tif (array.length > 0) {\n\t\t\t\t\tmorphAttributes[key] = array;\n\t\t\t\t\thasMorphAttributes = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (hasMorphAttributes) {\n\t\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\t\t\t}\n\n\t\t\tconst groups = this.groups;\n\n\t\t\tif (groups.length > 0) {\n\t\t\t\tdata.data.groups = JSON.parse(JSON.stringify(groups));\n\t\t\t}\n\n\t\t\tconst boundingSphere = this.boundingSphere;\n\n\t\t\tif (boundingSphere !== null) {\n\t\t\t\tdata.data.boundingSphere = {\n\t\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\t\tradius: boundingSphere.radius\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\t// reset\n\t\t\tthis.index = null;\n\t\t\tthis.attributes = {};\n\t\t\tthis.morphAttributes = {};\n\t\t\tthis.groups = [];\n\t\t\tthis.boundingBox = null;\n\t\t\tthis.boundingSphere = null; // used for storing cloned, shared data\n\n\t\t\tconst data = {}; // name\n\n\t\t\tthis.name = source.name; // index\n\n\t\t\tconst index = source.index;\n\n\t\t\tif (index !== null) {\n\t\t\t\tthis.setIndex(index.clone(data));\n\t\t\t} // attributes\n\n\n\t\t\tconst attributes = source.attributes;\n\n\t\t\tfor (const name in attributes) {\n\t\t\t\tconst attribute = attributes[name];\n\t\t\t\tthis.setAttribute(name, attribute.clone(data));\n\t\t\t} // morph attributes\n\n\n\t\t\tconst morphAttributes = source.morphAttributes;\n\n\t\t\tfor (const name in morphAttributes) {\n\t\t\t\tconst array = [];\n\t\t\t\tconst morphAttribute = morphAttributes[name]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\t\tfor (let i = 0, l = morphAttribute.length; i < l; i++) {\n\t\t\t\t\tarray.push(morphAttribute[i].clone(data));\n\t\t\t\t}\n\n\t\t\t\tthis.morphAttributes[name] = array;\n\t\t\t}\n\n\t\t\tthis.morphTargetsRelative = source.morphTargetsRelative; // groups\n\n\t\t\tconst groups = source.groups;\n\n\t\t\tfor (let i = 0, l = groups.length; i < l; i++) {\n\t\t\t\tconst group = groups[i];\n\t\t\t\tthis.addGroup(group.start, group.count, group.materialIndex);\n\t\t\t} // bounding box\n\n\n\t\t\tconst boundingBox = source.boundingBox;\n\n\t\t\tif (boundingBox !== null) {\n\t\t\t\tthis.boundingBox = boundingBox.clone();\n\t\t\t} // bounding sphere\n\n\n\t\t\tconst boundingSphere = source.boundingSphere;\n\n\t\t\tif (boundingSphere !== null) {\n\t\t\t\tthis.boundingSphere = boundingSphere.clone();\n\t\t\t} // draw range\n\n\n\t\t\tthis.drawRange.start = source.drawRange.start;\n\t\t\tthis.drawRange.count = source.drawRange.count; // user data\n\n\t\t\tthis.userData = source.userData; // geometry generator parameters\n\n\t\t\tif (source.parameters !== undefined) this.parameters = Object.assign({}, source.parameters);\n\t\t\treturn this;\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.dispatchEvent({\n\t\t\t\ttype: 'dispose'\n\t\t\t});\n\t\t}\n\n\t}\n\n\tBufferGeometry.prototype.isBufferGeometry = true;\n\n\tconst _inverseMatrix$2 = /*@__PURE__*/new Matrix4();\n\n\tconst _ray$2 = /*@__PURE__*/new Ray();\n\n\tconst _sphere$3 = /*@__PURE__*/new Sphere();\n\n\tconst _vA$1 = /*@__PURE__*/new Vector3();\n\n\tconst _vB$1 = /*@__PURE__*/new Vector3();\n\n\tconst _vC$1 = /*@__PURE__*/new Vector3();\n\n\tconst _tempA = /*@__PURE__*/new Vector3();\n\n\tconst _tempB = /*@__PURE__*/new Vector3();\n\n\tconst _tempC = /*@__PURE__*/new Vector3();\n\n\tconst _morphA = /*@__PURE__*/new Vector3();\n\n\tconst _morphB = /*@__PURE__*/new Vector3();\n\n\tconst _morphC = /*@__PURE__*/new Vector3();\n\n\tconst _uvA$1 = /*@__PURE__*/new Vector2();\n\n\tconst _uvB$1 = /*@__PURE__*/new Vector2();\n\n\tconst _uvC$1 = /*@__PURE__*/new Vector2();\n\n\tconst _intersectionPoint = /*@__PURE__*/new Vector3();\n\n\tconst _intersectionPointWorld = /*@__PURE__*/new Vector3();\n\n\tclass Mesh extends Object3D {\n\t\tconstructor(geometry = new BufferGeometry(), material = new MeshBasicMaterial()) {\n\t\t\tsuper();\n\t\t\tthis.type = 'Mesh';\n\t\t\tthis.geometry = geometry;\n\t\t\tthis.material = material;\n\t\t\tthis.updateMorphTargets();\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\n\t\t\tif (source.morphTargetInfluences !== undefined) {\n\t\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\t\t\t}\n\n\t\t\tif (source.morphTargetDictionary !== undefined) {\n\t\t\t\tthis.morphTargetDictionary = Object.assign({}, source.morphTargetDictionary);\n\t\t\t}\n\n\t\t\tthis.material = source.material;\n\t\t\tthis.geometry = source.geometry;\n\t\t\treturn this;\n\t\t}\n\n\t\tupdateMorphTargets() {\n\t\t\tconst geometry = this.geometry;\n\n\t\t\tif (geometry.isBufferGeometry) {\n\t\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\t\tconst keys = Object.keys(morphAttributes);\n\n\t\t\t\tif (keys.length > 0) {\n\t\t\t\t\tconst morphAttribute = morphAttributes[keys[0]];\n\n\t\t\t\t\tif (morphAttribute !== undefined) {\n\t\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\t\tfor (let m = 0, ml = morphAttribute.length; m < ml; m++) {\n\t\t\t\t\t\t\tconst name = morphAttribute[m].name || String(m);\n\t\t\t\t\t\t\tthis.morphTargetInfluences.push(0);\n\t\t\t\t\t\t\tthis.morphTargetDictionary[name] = m;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\t\tif (morphTargets !== undefined && morphTargets.length > 0) {\n\t\t\t\t\tconsole.error('THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\traycast(raycaster, intersects) {\n\t\t\tconst geometry = this.geometry;\n\t\t\tconst material = this.material;\n\t\t\tconst matrixWorld = this.matrixWorld;\n\t\t\tif (material === undefined) return; // Checking boundingSphere distance to ray\n\n\t\t\tif (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n\t\t\t_sphere$3.copy(geometry.boundingSphere);\n\n\t\t\t_sphere$3.applyMatrix4(matrixWorld);\n\n\t\t\tif (raycaster.ray.intersectsSphere(_sphere$3) === false) return; //\n\n\t\t\t_inverseMatrix$2.copy(matrixWorld).invert();\n\n\t\t\t_ray$2.copy(raycaster.ray).applyMatrix4(_inverseMatrix$2); // Check boundingBox before continuing\n\n\n\t\t\tif (geometry.boundingBox !== null) {\n\t\t\t\tif (_ray$2.intersectsBox(geometry.boundingBox) === false) return;\n\t\t\t}\n\n\t\t\tlet intersection;\n\n\t\t\tif (geometry.isBufferGeometry) {\n\t\t\t\tconst index = geometry.index;\n\t\t\t\tconst position = geometry.attributes.position;\n\t\t\t\tconst morphPosition = geometry.morphAttributes.position;\n\t\t\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\t\t\t\tconst uv = geometry.attributes.uv;\n\t\t\t\tconst uv2 = geometry.attributes.uv2;\n\t\t\t\tconst groups = geometry.groups;\n\t\t\t\tconst drawRange = geometry.drawRange;\n\n\t\t\t\tif (index !== null) {\n\t\t\t\t\t// indexed buffer geometry\n\t\t\t\t\tif (Array.isArray(material)) {\n\t\t\t\t\t\tfor (let i = 0, il = groups.length; i < il; i++) {\n\t\t\t\t\t\t\tconst group = groups[i];\n\t\t\t\t\t\t\tconst groupMaterial = material[group.materialIndex];\n\t\t\t\t\t\t\tconst start = Math.max(group.start, drawRange.start);\n\t\t\t\t\t\t\tconst end = Math.min(index.count, Math.min(group.start + group.count, drawRange.start + drawRange.count));\n\n\t\t\t\t\t\t\tfor (let j = start, jl = end; j < jl; j += 3) {\n\t\t\t\t\t\t\t\tconst a = index.getX(j);\n\t\t\t\t\t\t\t\tconst b = index.getX(j + 1);\n\t\t\t\t\t\t\t\tconst c = index.getX(j + 2);\n\t\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection(this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c);\n\n\t\t\t\t\t\t\t\tif (intersection) {\n\t\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor(j / 3); // triangle number in indexed buffer semantics\n\n\t\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\t\tintersects.push(intersection);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst start = Math.max(0, drawRange.start);\n\t\t\t\t\t\tconst end = Math.min(index.count, drawRange.start + drawRange.count);\n\n\t\t\t\t\t\tfor (let i = start, il = end; i < il; i += 3) {\n\t\t\t\t\t\t\tconst a = index.getX(i);\n\t\t\t\t\t\t\tconst b = index.getX(i + 1);\n\t\t\t\t\t\t\tconst c = index.getX(i + 2);\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection(this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c);\n\n\t\t\t\t\t\t\tif (intersection) {\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor(i / 3); // triangle number in indexed buffer semantics\n\n\t\t\t\t\t\t\t\tintersects.push(intersection);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (position !== undefined) {\n\t\t\t\t\t// non-indexed buffer geometry\n\t\t\t\t\tif (Array.isArray(material)) {\n\t\t\t\t\t\tfor (let i = 0, il = groups.length; i < il; i++) {\n\t\t\t\t\t\t\tconst group = groups[i];\n\t\t\t\t\t\t\tconst groupMaterial = material[group.materialIndex];\n\t\t\t\t\t\t\tconst start = Math.max(group.start, drawRange.start);\n\t\t\t\t\t\t\tconst end = Math.min(position.count, Math.min(group.start + group.count, drawRange.start + drawRange.count));\n\n\t\t\t\t\t\t\tfor (let j = start, jl = end; j < jl; j += 3) {\n\t\t\t\t\t\t\t\tconst a = j;\n\t\t\t\t\t\t\t\tconst b = j + 1;\n\t\t\t\t\t\t\t\tconst c = j + 2;\n\t\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection(this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c);\n\n\t\t\t\t\t\t\t\tif (intersection) {\n\t\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor(j / 3); // triangle number in non-indexed buffer semantics\n\n\t\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\t\tintersects.push(intersection);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst start = Math.max(0, drawRange.start);\n\t\t\t\t\t\tconst end = Math.min(position.count, drawRange.start + drawRange.count);\n\n\t\t\t\t\t\tfor (let i = start, il = end; i < il; i += 3) {\n\t\t\t\t\t\t\tconst a = i;\n\t\t\t\t\t\t\tconst b = i + 1;\n\t\t\t\t\t\t\tconst c = i + 2;\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection(this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c);\n\n\t\t\t\t\t\t\tif (intersection) {\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor(i / 3); // triangle number in non-indexed buffer semantics\n\n\t\t\t\t\t\t\t\tintersects.push(intersection);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (geometry.isGeometry) {\n\t\t\t\tconsole.error('THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n\t\t\t}\n\t\t}\n\n\t}\n\n\tMesh.prototype.isMesh = true;\n\n\tfunction checkIntersection(object, material, raycaster, ray, pA, pB, pC, point) {\n\t\tlet intersect;\n\n\t\tif (material.side === BackSide) {\n\t\t\tintersect = ray.intersectTriangle(pC, pB, pA, true, point);\n\t\t} else {\n\t\t\tintersect = ray.intersectTriangle(pA, pB, pC, material.side !== DoubleSide, point);\n\t\t}\n\n\t\tif (intersect === null) return null;\n\n\t\t_intersectionPointWorld.copy(point);\n\n\t\t_intersectionPointWorld.applyMatrix4(object.matrixWorld);\n\n\t\tconst distance = raycaster.ray.origin.distanceTo(_intersectionPointWorld);\n\t\tif (distance < raycaster.near || distance > raycaster.far) return null;\n\t\treturn {\n\t\t\tdistance: distance,\n\t\t\tpoint: _intersectionPointWorld.clone(),\n\t\t\tobject: object\n\t\t};\n\t}\n\n\tfunction checkBufferGeometryIntersection(object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c) {\n\t\t_vA$1.fromBufferAttribute(position, a);\n\n\t\t_vB$1.fromBufferAttribute(position, b);\n\n\t\t_vC$1.fromBufferAttribute(position, c);\n\n\t\tconst morphInfluences = object.morphTargetInfluences;\n\n\t\tif (morphPosition && morphInfluences) {\n\t\t\t_morphA.set(0, 0, 0);\n\n\t\t\t_morphB.set(0, 0, 0);\n\n\t\t\t_morphC.set(0, 0, 0);\n\n\t\t\tfor (let i = 0, il = morphPosition.length; i < il; i++) {\n\t\t\t\tconst influence = morphInfluences[i];\n\t\t\t\tconst morphAttribute = morphPosition[i];\n\t\t\t\tif (influence === 0) continue;\n\n\t\t\t\t_tempA.fromBufferAttribute(morphAttribute, a);\n\n\t\t\t\t_tempB.fromBufferAttribute(morphAttribute, b);\n\n\t\t\t\t_tempC.fromBufferAttribute(morphAttribute, c);\n\n\t\t\t\tif (morphTargetsRelative) {\n\t\t\t\t\t_morphA.addScaledVector(_tempA, influence);\n\n\t\t\t\t\t_morphB.addScaledVector(_tempB, influence);\n\n\t\t\t\t\t_morphC.addScaledVector(_tempC, influence);\n\t\t\t\t} else {\n\t\t\t\t\t_morphA.addScaledVector(_tempA.sub(_vA$1), influence);\n\n\t\t\t\t\t_morphB.addScaledVector(_tempB.sub(_vB$1), influence);\n\n\t\t\t\t\t_morphC.addScaledVector(_tempC.sub(_vC$1), influence);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_vA$1.add(_morphA);\n\n\t\t\t_vB$1.add(_morphB);\n\n\t\t\t_vC$1.add(_morphC);\n\t\t}\n\n\t\tif (object.isSkinnedMesh) {\n\t\t\tobject.boneTransform(a, _vA$1);\n\t\t\tobject.boneTransform(b, _vB$1);\n\t\t\tobject.boneTransform(c, _vC$1);\n\t\t}\n\n\t\tconst intersection = checkIntersection(object, material, raycaster, ray, _vA$1, _vB$1, _vC$1, _intersectionPoint);\n\n\t\tif (intersection) {\n\t\t\tif (uv) {\n\t\t\t\t_uvA$1.fromBufferAttribute(uv, a);\n\n\t\t\t\t_uvB$1.fromBufferAttribute(uv, b);\n\n\t\t\t\t_uvC$1.fromBufferAttribute(uv, c);\n\n\t\t\t\tintersection.uv = Triangle.getUV(_intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2());\n\t\t\t}\n\n\t\t\tif (uv2) {\n\t\t\t\t_uvA$1.fromBufferAttribute(uv2, a);\n\n\t\t\t\t_uvB$1.fromBufferAttribute(uv2, b);\n\n\t\t\t\t_uvC$1.fromBufferAttribute(uv2, c);\n\n\t\t\t\tintersection.uv2 = Triangle.getUV(_intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2());\n\t\t\t}\n\n\t\t\tconst face = {\n\t\t\t\ta: a,\n\t\t\t\tb: b,\n\t\t\t\tc: c,\n\t\t\t\tnormal: new Vector3(),\n\t\t\t\tmaterialIndex: 0\n\t\t\t};\n\t\t\tTriangle.getNormal(_vA$1, _vB$1, _vC$1, face.normal);\n\t\t\tintersection.face = face;\n\t\t}\n\n\t\treturn intersection;\n\t}\n\n\tclass BoxGeometry extends BufferGeometry {\n\t\tconstructor(width = 1, height = 1, depth = 1, widthSegments = 1, heightSegments = 1, depthSegments = 1) {\n\t\t\tsuper();\n\t\t\tthis.type = 'BoxGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\tdepth: depth,\n\t\t\t\twidthSegments: widthSegments,\n\t\t\t\theightSegments: heightSegments,\n\t\t\t\tdepthSegments: depthSegments\n\t\t\t};\n\t\t\tconst scope = this; // segments\n\n\t\t\twidthSegments = Math.floor(widthSegments);\n\t\t\theightSegments = Math.floor(heightSegments);\n\t\t\tdepthSegments = Math.floor(depthSegments); // buffers\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = []; // helper variables\n\n\t\t\tlet numberOfVertices = 0;\n\t\t\tlet groupStart = 0; // build each side of the box geometry\n\n\t\t\tbuildPlane('z', 'y', 'x', -1, -1, depth, height, width, depthSegments, heightSegments, 0); // px\n\n\t\t\tbuildPlane('z', 'y', 'x', 1, -1, depth, height, -width, depthSegments, heightSegments, 1); // nx\n\n\t\t\tbuildPlane('x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2); // py\n\n\t\t\tbuildPlane('x', 'z', 'y', 1, -1, width, depth, -height, widthSegments, depthSegments, 3); // ny\n\n\t\t\tbuildPlane('x', 'y', 'z', 1, -1, width, height, depth, widthSegments, heightSegments, 4); // pz\n\n\t\t\tbuildPlane('x', 'y', 'z', -1, -1, width, height, -depth, widthSegments, heightSegments, 5); // nz\n\t\t\t// build geometry\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n\t\t\tfunction buildPlane(u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex) {\n\t\t\t\tconst segmentWidth = width / gridX;\n\t\t\t\tconst segmentHeight = height / gridY;\n\t\t\t\tconst widthHalf = width / 2;\n\t\t\t\tconst heightHalf = height / 2;\n\t\t\t\tconst depthHalf = depth / 2;\n\t\t\t\tconst gridX1 = gridX + 1;\n\t\t\t\tconst gridY1 = gridY + 1;\n\t\t\t\tlet vertexCounter = 0;\n\t\t\t\tlet groupCount = 0;\n\t\t\t\tconst vector = new Vector3(); // generate vertices, normals and uvs\n\n\t\t\t\tfor (let iy = 0; iy < gridY1; iy++) {\n\t\t\t\t\tconst y = iy * segmentHeight - heightHalf;\n\n\t\t\t\t\tfor (let ix = 0; ix < gridX1; ix++) {\n\t\t\t\t\t\tconst x = ix * segmentWidth - widthHalf; // set values to correct vector component\n\n\t\t\t\t\t\tvector[u] = x * udir;\n\t\t\t\t\t\tvector[v] = y * vdir;\n\t\t\t\t\t\tvector[w] = depthHalf; // now apply vector to vertex buffer\n\n\t\t\t\t\t\tvertices.push(vector.x, vector.y, vector.z); // set values to correct vector component\n\n\t\t\t\t\t\tvector[u] = 0;\n\t\t\t\t\t\tvector[v] = 0;\n\t\t\t\t\t\tvector[w] = depth > 0 ? 1 : -1; // now apply vector to normal buffer\n\n\t\t\t\t\t\tnormals.push(vector.x, vector.y, vector.z); // uvs\n\n\t\t\t\t\t\tuvs.push(ix / gridX);\n\t\t\t\t\t\tuvs.push(1 - iy / gridY); // counters\n\n\t\t\t\t\t\tvertexCounter += 1;\n\t\t\t\t\t}\n\t\t\t\t} // indices\n\t\t\t\t// 1. you need three indices to draw a single face\n\t\t\t\t// 2. a single segment consists of two faces\n\t\t\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\n\t\t\t\tfor (let iy = 0; iy < gridY; iy++) {\n\t\t\t\t\tfor (let ix = 0; ix < gridX; ix++) {\n\t\t\t\t\t\tconst a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\t\t\tconst b = numberOfVertices + ix + gridX1 * (iy + 1);\n\t\t\t\t\t\tconst c = numberOfVertices + (ix + 1) + gridX1 * (iy + 1);\n\t\t\t\t\t\tconst d = numberOfVertices + (ix + 1) + gridX1 * iy; // faces\n\n\t\t\t\t\t\tindices.push(a, b, d);\n\t\t\t\t\t\tindices.push(b, c, d); // increase counter\n\n\t\t\t\t\t\tgroupCount += 6;\n\t\t\t\t\t}\n\t\t\t\t} // add a group to the geometry. this will ensure multi material support\n\n\n\t\t\t\tscope.addGroup(groupStart, groupCount, materialIndex); // calculate new start value for groups\n\n\t\t\t\tgroupStart += groupCount; // update total number of vertices\n\n\t\t\t\tnumberOfVertices += vertexCounter;\n\t\t\t}\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new BoxGeometry(data.width, data.height, data.depth, data.widthSegments, data.heightSegments, data.depthSegments);\n\t\t}\n\n\t}\n\n\t/**\n\t * Uniform Utilities\n\t */\n\tfunction cloneUniforms(src) {\n\t\tconst dst = {};\n\n\t\tfor (const u in src) {\n\t\t\tdst[u] = {};\n\n\t\t\tfor (const p in src[u]) {\n\t\t\t\tconst property = src[u][p];\n\n\t\t\t\tif (property && (property.isColor || property.isMatrix3 || property.isMatrix4 || property.isVector2 || property.isVector3 || property.isVector4 || property.isTexture || property.isQuaternion)) {\n\t\t\t\t\tdst[u][p] = property.clone();\n\t\t\t\t} else if (Array.isArray(property)) {\n\t\t\t\t\tdst[u][p] = property.slice();\n\t\t\t\t} else {\n\t\t\t\t\tdst[u][p] = property;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn dst;\n\t}\n\tfunction mergeUniforms(uniforms) {\n\t\tconst merged = {};\n\n\t\tfor (let u = 0; u < uniforms.length; u++) {\n\t\t\tconst tmp = cloneUniforms(uniforms[u]);\n\n\t\t\tfor (const p in tmp) {\n\t\t\t\tmerged[p] = tmp[p];\n\t\t\t}\n\t\t}\n\n\t\treturn merged;\n\t} // Legacy\n\n\tconst UniformsUtils = {\n\t\tclone: cloneUniforms,\n\t\tmerge: mergeUniforms\n\t};\n\n\tvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\n\tvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n\t/**\n\t * parameters = {\n\t *\tdefines: { \"label\" : \"value\" },\n\t *\tuniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n\t *\n\t *\tfragmentShader: <string>,\n\t *\tvertexShader: <string>,\n\t *\n\t *\twireframe: <boolean>,\n\t *\twireframeLinewidth: <float>,\n\t *\n\t *\tlights: <bool>\n\t * }\n\t */\n\n\tclass ShaderMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.type = 'ShaderMaterial';\n\t\t\tthis.defines = {};\n\t\t\tthis.uniforms = {};\n\t\t\tthis.vertexShader = default_vertex;\n\t\t\tthis.fragmentShader = default_fragment;\n\t\t\tthis.linewidth = 1;\n\t\t\tthis.wireframe = false;\n\t\t\tthis.wireframeLinewidth = 1;\n\t\t\tthis.fog = false; // set to use scene fog\n\n\t\t\tthis.lights = false; // set to use scene lights\n\n\t\t\tthis.clipping = false; // set to use user-defined clipping planes\n\n\t\t\tthis.extensions = {\n\t\t\t\tderivatives: false,\n\t\t\t\t// set to use derivatives\n\t\t\t\tfragDepth: false,\n\t\t\t\t// set to use fragment depth values\n\t\t\t\tdrawBuffers: false,\n\t\t\t\t// set to use draw buffers\n\t\t\t\tshaderTextureLOD: false // set to use shader texture LOD\n\n\t\t\t}; // When rendered geometry doesn't include these attributes but the material does,\n\t\t\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\n\t\t\tthis.defaultAttributeValues = {\n\t\t\t\t'color': [1, 1, 1],\n\t\t\t\t'uv': [0, 0],\n\t\t\t\t'uv2': [0, 0]\n\t\t\t};\n\t\t\tthis.index0AttributeName = undefined;\n\t\t\tthis.uniformsNeedUpdate = false;\n\t\t\tthis.glslVersion = null;\n\n\t\t\tif (parameters !== undefined) {\n\t\t\t\tif (parameters.attributes !== undefined) {\n\t\t\t\t\tconsole.error('THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.');\n\t\t\t\t}\n\n\t\t\t\tthis.setValues(parameters);\n\t\t\t}\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.fragmentShader = source.fragmentShader;\n\t\t\tthis.vertexShader = source.vertexShader;\n\t\t\tthis.uniforms = cloneUniforms(source.uniforms);\n\t\t\tthis.defines = Object.assign({}, source.defines);\n\t\t\tthis.wireframe = source.wireframe;\n\t\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\t\tthis.lights = source.lights;\n\t\t\tthis.clipping = source.clipping;\n\t\t\tthis.extensions = Object.assign({}, source.extensions);\n\t\t\tthis.glslVersion = source.glslVersion;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst data = super.toJSON(meta);\n\t\t\tdata.glslVersion = this.glslVersion;\n\t\t\tdata.uniforms = {};\n\n\t\t\tfor (const name in this.uniforms) {\n\t\t\t\tconst uniform = this.uniforms[name];\n\t\t\t\tconst value = uniform.value;\n\n\t\t\t\tif (value && value.isTexture) {\n\t\t\t\t\tdata.uniforms[name] = {\n\t\t\t\t\t\ttype: 't',\n\t\t\t\t\t\tvalue: value.toJSON(meta).uuid\n\t\t\t\t\t};\n\t\t\t\t} else if (value && value.isColor) {\n\t\t\t\t\tdata.uniforms[name] = {\n\t\t\t\t\t\ttype: 'c',\n\t\t\t\t\t\tvalue: value.getHex()\n\t\t\t\t\t};\n\t\t\t\t} else if (value && value.isVector2) {\n\t\t\t\t\tdata.uniforms[name] = {\n\t\t\t\t\t\ttype: 'v2',\n\t\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t\t};\n\t\t\t\t} else if (value && value.isVector3) {\n\t\t\t\t\tdata.uniforms[name] = {\n\t\t\t\t\t\ttype: 'v3',\n\t\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t\t};\n\t\t\t\t} else if (value && value.isVector4) {\n\t\t\t\t\tdata.uniforms[name] = {\n\t\t\t\t\t\ttype: 'v4',\n\t\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t\t};\n\t\t\t\t} else if (value && value.isMatrix3) {\n\t\t\t\t\tdata.uniforms[name] = {\n\t\t\t\t\t\ttype: 'm3',\n\t\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t\t};\n\t\t\t\t} else if (value && value.isMatrix4) {\n\t\t\t\t\tdata.uniforms[name] = {\n\t\t\t\t\t\ttype: 'm4',\n\t\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tdata.uniforms[name] = {\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t}; // note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (Object.keys(this.defines).length > 0) data.defines = this.defines;\n\t\t\tdata.vertexShader = this.vertexShader;\n\t\t\tdata.fragmentShader = this.fragmentShader;\n\t\t\tconst extensions = {};\n\n\t\t\tfor (const key in this.extensions) {\n\t\t\t\tif (this.extensions[key] === true) extensions[key] = true;\n\t\t\t}\n\n\t\t\tif (Object.keys(extensions).length > 0) data.extensions = extensions;\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tShaderMaterial.prototype.isShaderMaterial = true;\n\n\tclass Camera extends Object3D {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.type = 'Camera';\n\t\t\tthis.matrixWorldInverse = new Matrix4();\n\t\t\tthis.projectionMatrix = new Matrix4();\n\t\t\tthis.projectionMatrixInverse = new Matrix4();\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\t\t\tthis.matrixWorldInverse.copy(source.matrixWorldInverse);\n\t\t\tthis.projectionMatrix.copy(source.projectionMatrix);\n\t\t\tthis.projectionMatrixInverse.copy(source.projectionMatrixInverse);\n\t\t\treturn this;\n\t\t}\n\n\t\tgetWorldDirection(target) {\n\t\t\tthis.updateWorldMatrix(true, false);\n\t\t\tconst e = this.matrixWorld.elements;\n\t\t\treturn target.set(-e[8], -e[9], -e[10]).normalize();\n\t\t}\n\n\t\tupdateMatrixWorld(force) {\n\t\t\tsuper.updateMatrixWorld(force);\n\t\t\tthis.matrixWorldInverse.copy(this.matrixWorld).invert();\n\t\t}\n\n\t\tupdateWorldMatrix(updateParents, updateChildren) {\n\t\t\tsuper.updateWorldMatrix(updateParents, updateChildren);\n\t\t\tthis.matrixWorldInverse.copy(this.matrixWorld).invert();\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t}\n\n\tCamera.prototype.isCamera = true;\n\n\tclass PerspectiveCamera extends Camera {\n\t\tconstructor(fov = 50, aspect = 1, near = 0.1, far = 2000) {\n\t\t\tsuper();\n\t\t\tthis.type = 'PerspectiveCamera';\n\t\t\tthis.fov = fov;\n\t\t\tthis.zoom = 1;\n\t\t\tthis.near = near;\n\t\t\tthis.far = far;\n\t\t\tthis.focus = 10;\n\t\t\tthis.aspect = aspect;\n\t\t\tthis.view = null;\n\t\t\tthis.filmGauge = 35; // width of the film (default in millimeters)\n\n\t\t\tthis.filmOffset = 0; // horizontal film offset (same unit as gauge)\n\n\t\t\tthis.updateProjectionMatrix();\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\t\t\tthis.fov = source.fov;\n\t\t\tthis.zoom = source.zoom;\n\t\t\tthis.near = source.near;\n\t\t\tthis.far = source.far;\n\t\t\tthis.focus = source.focus;\n\t\t\tthis.aspect = source.aspect;\n\t\t\tthis.view = source.view === null ? null : Object.assign({}, source.view);\n\t\t\tthis.filmGauge = source.filmGauge;\n\t\t\tthis.filmOffset = source.filmOffset;\n\t\t\treturn this;\n\t\t}\n\t\t/**\n\t\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t\t *\n\t\t * The default film gauge is 35, so that the focal length can be specified for\n\t\t * a 35mm (full frame) camera.\n\t\t *\n\t\t * Values for focal length and film gauge must have the same unit.\n\t\t */\n\n\n\t\tsetFocalLength(focalLength) {\n\t\t\t/** see {@link http://www.bobatkins.com/photography/technical/field_of_view.html} */\n\t\t\tconst vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\t\t\tthis.fov = RAD2DEG * 2 * Math.atan(vExtentSlope);\n\t\t\tthis.updateProjectionMatrix();\n\t\t}\n\t\t/**\n\t\t * Calculates the focal length from the current .fov and .filmGauge.\n\t\t */\n\n\n\t\tgetFocalLength() {\n\t\t\tconst vExtentSlope = Math.tan(DEG2RAD * 0.5 * this.fov);\n\t\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\t\t}\n\n\t\tgetEffectiveFOV() {\n\t\t\treturn RAD2DEG * 2 * Math.atan(Math.tan(DEG2RAD * 0.5 * this.fov) / this.zoom);\n\t\t}\n\n\t\tgetFilmWidth() {\n\t\t\t// film not completely covered in portrait format (aspect < 1)\n\t\t\treturn this.filmGauge * Math.min(this.aspect, 1);\n\t\t}\n\n\t\tgetFilmHeight() {\n\t\t\t// film not completely covered in landscape format (aspect > 1)\n\t\t\treturn this.filmGauge / Math.max(this.aspect, 1);\n\t\t}\n\t\t/**\n\t\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t\t * multi-monitor/multi-machine setups.\n\t\t *\n\t\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t\t * the monitors are in grid like this\n\t\t *\n\t\t *\t +---+---+---+\n\t\t *\t | A | B | C |\n\t\t *\t +---+---+---+\n\t\t *\t | D | E | F |\n\t\t *\t +---+---+---+\n\t\t *\n\t\t * then for each monitor you would call it like this\n\t\t *\n\t\t *\t const w = 1920;\n\t\t *\t const h = 1080;\n\t\t *\t const fullWidth = w * 3;\n\t\t *\t const fullHeight = h * 2;\n\t\t *\n\t\t *\t --A--\n\t\t *\t camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t\t *\t --B--\n\t\t *\t camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t\t *\t --C--\n\t\t *\t camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t\t *\t --D--\n\t\t *\t camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t\t *\t --E--\n\t\t *\t camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t\t *\t --F--\n\t\t *\t camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t\t *\n\t\t *\t Note there is no reason monitors have to be the same size or in a grid.\n\t\t */\n\n\n\t\tsetViewOffset(fullWidth, fullHeight, x, y, width, height) {\n\t\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\t\tif (this.view === null) {\n\t\t\t\tthis.view = {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\tfullWidth: 1,\n\t\t\t\t\tfullHeight: 1,\n\t\t\t\t\toffsetX: 0,\n\t\t\t\t\toffsetY: 0,\n\t\t\t\t\twidth: 1,\n\t\t\t\t\theight: 1\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.view.enabled = true;\n\t\t\tthis.view.fullWidth = fullWidth;\n\t\t\tthis.view.fullHeight = fullHeight;\n\t\t\tthis.view.offsetX = x;\n\t\t\tthis.view.offsetY = y;\n\t\t\tthis.view.width = width;\n\t\t\tthis.view.height = height;\n\t\t\tthis.updateProjectionMatrix();\n\t\t}\n\n\t\tclearViewOffset() {\n\t\t\tif (this.view !== null) {\n\t\t\t\tthis.view.enabled = false;\n\t\t\t}\n\n\t\t\tthis.updateProjectionMatrix();\n\t\t}\n\n\t\tupdateProjectionMatrix() {\n\t\t\tconst near = this.near;\n\t\t\tlet top = near * Math.tan(DEG2RAD * 0.5 * this.fov) / this.zoom;\n\t\t\tlet height = 2 * top;\n\t\t\tlet width = this.aspect * height;\n\t\t\tlet left = -0.5 * width;\n\t\t\tconst view = this.view;\n\n\t\t\tif (this.view !== null && this.view.enabled) {\n\t\t\t\tconst fullWidth = view.fullWidth,\n\t\t\t\t\t\t\tfullHeight = view.fullHeight;\n\t\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\t\twidth *= view.width / fullWidth;\n\t\t\t\theight *= view.height / fullHeight;\n\t\t\t}\n\n\t\t\tconst skew = this.filmOffset;\n\t\t\tif (skew !== 0) left += near * skew / this.getFilmWidth();\n\t\t\tthis.projectionMatrix.makePerspective(left, left + width, top, top - height, near, this.far);\n\t\t\tthis.projectionMatrixInverse.copy(this.projectionMatrix).invert();\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst data = super.toJSON(meta);\n\t\t\tdata.object.fov = this.fov;\n\t\t\tdata.object.zoom = this.zoom;\n\t\t\tdata.object.near = this.near;\n\t\t\tdata.object.far = this.far;\n\t\t\tdata.object.focus = this.focus;\n\t\t\tdata.object.aspect = this.aspect;\n\t\t\tif (this.view !== null) data.object.view = Object.assign({}, this.view);\n\t\t\tdata.object.filmGauge = this.filmGauge;\n\t\t\tdata.object.filmOffset = this.filmOffset;\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tPerspectiveCamera.prototype.isPerspectiveCamera = true;\n\n\tconst fov = 90,\n\t\t\t\taspect = 1;\n\n\tclass CubeCamera extends Object3D {\n\t\tconstructor(near, far, renderTarget) {\n\t\t\tsuper();\n\t\t\tthis.type = 'CubeCamera';\n\n\t\t\tif (renderTarget.isWebGLCubeRenderTarget !== true) {\n\t\t\t\tconsole.error('THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.renderTarget = renderTarget;\n\t\t\tconst cameraPX = new PerspectiveCamera(fov, aspect, near, far);\n\t\t\tcameraPX.layers = this.layers;\n\t\t\tcameraPX.up.set(0, -1, 0);\n\t\t\tcameraPX.lookAt(new Vector3(1, 0, 0));\n\t\t\tthis.add(cameraPX);\n\t\t\tconst cameraNX = new PerspectiveCamera(fov, aspect, near, far);\n\t\t\tcameraNX.layers = this.layers;\n\t\t\tcameraNX.up.set(0, -1, 0);\n\t\t\tcameraNX.lookAt(new Vector3(-1, 0, 0));\n\t\t\tthis.add(cameraNX);\n\t\t\tconst cameraPY = new PerspectiveCamera(fov, aspect, near, far);\n\t\t\tcameraPY.layers = this.layers;\n\t\t\tcameraPY.up.set(0, 0, 1);\n\t\t\tcameraPY.lookAt(new Vector3(0, 1, 0));\n\t\t\tthis.add(cameraPY);\n\t\t\tconst cameraNY = new PerspectiveCamera(fov, aspect, near, far);\n\t\t\tcameraNY.layers = this.layers;\n\t\t\tcameraNY.up.set(0, 0, -1);\n\t\t\tcameraNY.lookAt(new Vector3(0, -1, 0));\n\t\t\tthis.add(cameraNY);\n\t\t\tconst cameraPZ = new PerspectiveCamera(fov, aspect, near, far);\n\t\t\tcameraPZ.layers = this.layers;\n\t\t\tcameraPZ.up.set(0, -1, 0);\n\t\t\tcameraPZ.lookAt(new Vector3(0, 0, 1));\n\t\t\tthis.add(cameraPZ);\n\t\t\tconst cameraNZ = new PerspectiveCamera(fov, aspect, near, far);\n\t\t\tcameraNZ.layers = this.layers;\n\t\t\tcameraNZ.up.set(0, -1, 0);\n\t\t\tcameraNZ.lookAt(new Vector3(0, 0, -1));\n\t\t\tthis.add(cameraNZ);\n\t\t}\n\n\t\tupdate(renderer, scene) {\n\t\t\tif (this.parent === null) this.updateMatrixWorld();\n\t\t\tconst renderTarget = this.renderTarget;\n\t\t\tconst [cameraPX, cameraNX, cameraPY, cameraNY, cameraPZ, cameraNZ] = this.children;\n\t\t\tconst currentXrEnabled = renderer.xr.enabled;\n\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\t\t\trenderer.xr.enabled = false;\n\t\t\tconst generateMipmaps = renderTarget.texture.generateMipmaps;\n\t\t\trenderTarget.texture.generateMipmaps = false;\n\t\t\trenderer.setRenderTarget(renderTarget, 0);\n\t\t\trenderer.render(scene, cameraPX);\n\t\t\trenderer.setRenderTarget(renderTarget, 1);\n\t\t\trenderer.render(scene, cameraNX);\n\t\t\trenderer.setRenderTarget(renderTarget, 2);\n\t\t\trenderer.render(scene, cameraPY);\n\t\t\trenderer.setRenderTarget(renderTarget, 3);\n\t\t\trenderer.render(scene, cameraNY);\n\t\t\trenderer.setRenderTarget(renderTarget, 4);\n\t\t\trenderer.render(scene, cameraPZ);\n\t\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\t\t\trenderer.setRenderTarget(renderTarget, 5);\n\t\t\trenderer.render(scene, cameraNZ);\n\t\t\trenderer.setRenderTarget(currentRenderTarget);\n\t\t\trenderer.xr.enabled = currentXrEnabled;\n\t\t}\n\n\t}\n\n\tclass CubeTexture extends Texture {\n\t\tconstructor(images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) {\n\t\t\timages = images !== undefined ? images : [];\n\t\t\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\t\t\tsuper(images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n\t\t\tthis.flipY = false;\n\t\t}\n\n\t\tget images() {\n\t\t\treturn this.image;\n\t\t}\n\n\t\tset images(value) {\n\t\t\tthis.image = value;\n\t\t}\n\n\t}\n\n\tCubeTexture.prototype.isCubeTexture = true;\n\n\tclass WebGLCubeRenderTarget extends WebGLRenderTarget {\n\t\tconstructor(size, options, dummy) {\n\t\t\tif (Number.isInteger(options)) {\n\t\t\t\tconsole.warn('THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )');\n\t\t\t\toptions = dummy;\n\t\t\t}\n\n\t\t\tsuper(size, size, options);\n\t\t\toptions = options || {}; // By convention -- likely based on the RenderMan spec from the 1990's -- cube maps are specified by WebGL (and three.js)\n\t\t\t// in a coordinate system in which positive-x is to the right when looking up the positive-z axis -- in other words,\n\t\t\t// in a left-handed coordinate system. By continuing this convention, preexisting cube maps continued to render correctly.\n\t\t\t// three.js uses a right-handed coordinate system. So environment maps used in three.js appear to have px and nx swapped\n\t\t\t// and the flag isRenderTargetTexture controls this conversion. The flip is not required when using WebGLCubeRenderTarget.texture\n\t\t\t// as a cube texture (this is detected when isRenderTargetTexture is set to true for cube textures).\n\n\t\t\tthis.texture = new CubeTexture(undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding);\n\t\t\tthis.texture.isRenderTargetTexture = true;\n\t\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\t\t\tthis.texture._needsFlipEnvMap = false;\n\t\t}\n\n\t\tfromEquirectangularTexture(renderer, texture) {\n\t\t\tthis.texture.type = texture.type;\n\t\t\tthis.texture.format = RGBAFormat; // see #18859\n\n\t\t\tthis.texture.encoding = texture.encoding;\n\t\t\tthis.texture.generateMipmaps = texture.generateMipmaps;\n\t\t\tthis.texture.minFilter = texture.minFilter;\n\t\t\tthis.texture.magFilter = texture.magFilter;\n\t\t\tconst shader = {\n\t\t\t\tuniforms: {\n\t\t\t\t\ttEquirect: {\n\t\t\t\t\t\tvalue: null\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tvertexShader:\n\t\t\t\t/* glsl */\n\t\t\t\t`\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t`,\n\t\t\t\tfragmentShader:\n\t\t\t\t/* glsl */\n\t\t\t\t`\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t`\n\t\t\t};\n\t\t\tconst geometry = new BoxGeometry(5, 5, 5);\n\t\t\tconst material = new ShaderMaterial({\n\t\t\t\tname: 'CubemapFromEquirect',\n\t\t\t\tuniforms: cloneUniforms(shader.uniforms),\n\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\t\tside: BackSide,\n\t\t\t\tblending: NoBlending\n\t\t\t});\n\t\t\tmaterial.uniforms.tEquirect.value = texture;\n\t\t\tconst mesh = new Mesh(geometry, material);\n\t\t\tconst currentMinFilter = texture.minFilter; // Avoid blurred poles\n\n\t\t\tif (texture.minFilter === LinearMipmapLinearFilter) texture.minFilter = LinearFilter;\n\t\t\tconst camera = new CubeCamera(1, 10, this);\n\t\t\tcamera.update(renderer, mesh);\n\t\t\ttexture.minFilter = currentMinFilter;\n\t\t\tmesh.geometry.dispose();\n\t\t\tmesh.material.dispose();\n\t\t\treturn this;\n\t\t}\n\n\t\tclear(renderer, color, depth, stencil) {\n\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\trenderer.setRenderTarget(this, i);\n\t\t\t\trenderer.clear(color, depth, stencil);\n\t\t\t}\n\n\t\t\trenderer.setRenderTarget(currentRenderTarget);\n\t\t}\n\n\t}\n\n\tWebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget = true;\n\n\tconst _vector1 = /*@__PURE__*/new Vector3();\n\n\tconst _vector2 = /*@__PURE__*/new Vector3();\n\n\tconst _normalMatrix = /*@__PURE__*/new Matrix3();\n\n\tclass Plane {\n\t\tconstructor(normal = new Vector3(1, 0, 0), constant = 0) {\n\t\t\t// normal is assumed to be normalized\n\t\t\tthis.normal = normal;\n\t\t\tthis.constant = constant;\n\t\t}\n\n\t\tset(normal, constant) {\n\t\t\tthis.normal.copy(normal);\n\t\t\tthis.constant = constant;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetComponents(x, y, z, w) {\n\t\t\tthis.normal.set(x, y, z);\n\t\t\tthis.constant = w;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromNormalAndCoplanarPoint(normal, point) {\n\t\t\tthis.normal.copy(normal);\n\t\t\tthis.constant = -point.dot(this.normal);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromCoplanarPoints(a, b, c) {\n\t\t\tconst normal = _vector1.subVectors(c, b).cross(_vector2.subVectors(a, b)).normalize(); // Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\n\t\t\tthis.setFromNormalAndCoplanarPoint(normal, a);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(plane) {\n\t\t\tthis.normal.copy(plane.normal);\n\t\t\tthis.constant = plane.constant;\n\t\t\treturn this;\n\t\t}\n\n\t\tnormalize() {\n\t\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\t\t\tconst inverseNormalLength = 1.0 / this.normal.length();\n\t\t\tthis.normal.multiplyScalar(inverseNormalLength);\n\t\t\tthis.constant *= inverseNormalLength;\n\t\t\treturn this;\n\t\t}\n\n\t\tnegate() {\n\t\t\tthis.constant *= -1;\n\t\t\tthis.normal.negate();\n\t\t\treturn this;\n\t\t}\n\n\t\tdistanceToPoint(point) {\n\t\t\treturn this.normal.dot(point) + this.constant;\n\t\t}\n\n\t\tdistanceToSphere(sphere) {\n\t\t\treturn this.distanceToPoint(sphere.center) - sphere.radius;\n\t\t}\n\n\t\tprojectPoint(point, target) {\n\t\t\treturn target.copy(this.normal).multiplyScalar(-this.distanceToPoint(point)).add(point);\n\t\t}\n\n\t\tintersectLine(line, target) {\n\t\t\tconst direction = line.delta(_vector1);\n\t\t\tconst denominator = this.normal.dot(direction);\n\n\t\t\tif (denominator === 0) {\n\t\t\t\t// line is coplanar, return origin\n\t\t\t\tif (this.distanceToPoint(line.start) === 0) {\n\t\t\t\t\treturn target.copy(line.start);\n\t\t\t\t} // Unsure if this is the correct method to handle this case.\n\n\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst t = -(line.start.dot(this.normal) + this.constant) / denominator;\n\n\t\t\tif (t < 0 || t > 1) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn target.copy(direction).multiplyScalar(t).add(line.start);\n\t\t}\n\n\t\tintersectsLine(line) {\n\t\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\t\t\tconst startSign = this.distanceToPoint(line.start);\n\t\t\tconst endSign = this.distanceToPoint(line.end);\n\t\t\treturn startSign < 0 && endSign > 0 || endSign < 0 && startSign > 0;\n\t\t}\n\n\t\tintersectsBox(box) {\n\t\t\treturn box.intersectsPlane(this);\n\t\t}\n\n\t\tintersectsSphere(sphere) {\n\t\t\treturn sphere.intersectsPlane(this);\n\t\t}\n\n\t\tcoplanarPoint(target) {\n\t\t\treturn target.copy(this.normal).multiplyScalar(-this.constant);\n\t\t}\n\n\t\tapplyMatrix4(matrix, optionalNormalMatrix) {\n\t\t\tconst normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix(matrix);\n\n\t\t\tconst referencePoint = this.coplanarPoint(_vector1).applyMatrix4(matrix);\n\t\t\tconst normal = this.normal.applyMatrix3(normalMatrix).normalize();\n\t\t\tthis.constant = -referencePoint.dot(normal);\n\t\t\treturn this;\n\t\t}\n\n\t\ttranslate(offset) {\n\t\t\tthis.constant -= offset.dot(this.normal);\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(plane) {\n\t\t\treturn plane.normal.equals(this.normal) && plane.constant === this.constant;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t}\n\n\tPlane.prototype.isPlane = true;\n\n\tconst _sphere$2 = /*@__PURE__*/new Sphere();\n\n\tconst _vector$7 = /*@__PURE__*/new Vector3();\n\n\tclass Frustum {\n\t\tconstructor(p0 = new Plane(), p1 = new Plane(), p2 = new Plane(), p3 = new Plane(), p4 = new Plane(), p5 = new Plane()) {\n\t\t\tthis.planes = [p0, p1, p2, p3, p4, p5];\n\t\t}\n\n\t\tset(p0, p1, p2, p3, p4, p5) {\n\t\t\tconst planes = this.planes;\n\t\t\tplanes[0].copy(p0);\n\t\t\tplanes[1].copy(p1);\n\t\t\tplanes[2].copy(p2);\n\t\t\tplanes[3].copy(p3);\n\t\t\tplanes[4].copy(p4);\n\t\t\tplanes[5].copy(p5);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(frustum) {\n\t\t\tconst planes = this.planes;\n\n\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\tplanes[i].copy(frustum.planes[i]);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromProjectionMatrix(m) {\n\t\t\tconst planes = this.planes;\n\t\t\tconst me = m.elements;\n\t\t\tconst me0 = me[0],\n\t\t\t\t\t\tme1 = me[1],\n\t\t\t\t\t\tme2 = me[2],\n\t\t\t\t\t\tme3 = me[3];\n\t\t\tconst me4 = me[4],\n\t\t\t\t\t\tme5 = me[5],\n\t\t\t\t\t\tme6 = me[6],\n\t\t\t\t\t\tme7 = me[7];\n\t\t\tconst me8 = me[8],\n\t\t\t\t\t\tme9 = me[9],\n\t\t\t\t\t\tme10 = me[10],\n\t\t\t\t\t\tme11 = me[11];\n\t\t\tconst me12 = me[12],\n\t\t\t\t\t\tme13 = me[13],\n\t\t\t\t\t\tme14 = me[14],\n\t\t\t\t\t\tme15 = me[15];\n\t\t\tplanes[0].setComponents(me3 - me0, me7 - me4, me11 - me8, me15 - me12).normalize();\n\t\t\tplanes[1].setComponents(me3 + me0, me7 + me4, me11 + me8, me15 + me12).normalize();\n\t\t\tplanes[2].setComponents(me3 + me1, me7 + me5, me11 + me9, me15 + me13).normalize();\n\t\t\tplanes[3].setComponents(me3 - me1, me7 - me5, me11 - me9, me15 - me13).normalize();\n\t\t\tplanes[4].setComponents(me3 - me2, me7 - me6, me11 - me10, me15 - me14).normalize();\n\t\t\tplanes[5].setComponents(me3 + me2, me7 + me6, me11 + me10, me15 + me14).normalize();\n\t\t\treturn this;\n\t\t}\n\n\t\tintersectsObject(object) {\n\t\t\tconst geometry = object.geometry;\n\t\t\tif (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n\t\t\t_sphere$2.copy(geometry.boundingSphere).applyMatrix4(object.matrixWorld);\n\n\t\t\treturn this.intersectsSphere(_sphere$2);\n\t\t}\n\n\t\tintersectsSprite(sprite) {\n\t\t\t_sphere$2.center.set(0, 0, 0);\n\n\t\t\t_sphere$2.radius = 0.7071067811865476;\n\n\t\t\t_sphere$2.applyMatrix4(sprite.matrixWorld);\n\n\t\t\treturn this.intersectsSphere(_sphere$2);\n\t\t}\n\n\t\tintersectsSphere(sphere) {\n\t\t\tconst planes = this.planes;\n\t\t\tconst center = sphere.center;\n\t\t\tconst negRadius = -sphere.radius;\n\n\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\tconst distance = planes[i].distanceToPoint(center);\n\n\t\t\t\tif (distance < negRadius) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tintersectsBox(box) {\n\t\t\tconst planes = this.planes;\n\n\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\tconst plane = planes[i]; // corner at max distance\n\n\t\t\t\t_vector$7.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t\t_vector$7.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t\t_vector$7.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\t\tif (plane.distanceToPoint(_vector$7) < 0) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tcontainsPoint(point) {\n\t\t\tconst planes = this.planes;\n\n\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\tif (planes[i].distanceToPoint(point) < 0) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t}\n\n\tfunction WebGLAnimation() {\n\t\tlet context = null;\n\t\tlet isAnimating = false;\n\t\tlet animationLoop = null;\n\t\tlet requestId = null;\n\n\t\tfunction onAnimationFrame(time, frame) {\n\t\t\tanimationLoop(time, frame);\n\t\t\trequestId = context.requestAnimationFrame(onAnimationFrame);\n\t\t}\n\n\t\treturn {\n\t\t\tstart: function () {\n\t\t\t\tif (isAnimating === true) return;\n\t\t\t\tif (animationLoop === null) return;\n\t\t\t\trequestId = context.requestAnimationFrame(onAnimationFrame);\n\t\t\t\tisAnimating = true;\n\t\t\t},\n\t\t\tstop: function () {\n\t\t\t\tcontext.cancelAnimationFrame(requestId);\n\t\t\t\tisAnimating = false;\n\t\t\t},\n\t\t\tsetAnimationLoop: function (callback) {\n\t\t\t\tanimationLoop = callback;\n\t\t\t},\n\t\t\tsetContext: function (value) {\n\t\t\t\tcontext = value;\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction WebGLAttributes(gl, capabilities) {\n\t\tconst isWebGL2 = capabilities.isWebGL2;\n\t\tconst buffers = new WeakMap();\n\n\t\tfunction createBuffer(attribute, bufferType) {\n\t\t\tconst array = attribute.array;\n\t\t\tconst usage = attribute.usage;\n\t\t\tconst buffer = gl.createBuffer();\n\t\t\tgl.bindBuffer(bufferType, buffer);\n\t\t\tgl.bufferData(bufferType, array, usage);\n\t\t\tattribute.onUploadCallback();\n\t\t\tlet type = gl.FLOAT;\n\n\t\t\tif (array instanceof Float32Array) {\n\t\t\t\ttype = gl.FLOAT;\n\t\t\t} else if (array instanceof Float64Array) {\n\t\t\t\tconsole.warn('THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.');\n\t\t\t} else if (array instanceof Uint16Array) {\n\t\t\t\tif (attribute.isFloat16BufferAttribute) {\n\t\t\t\t\tif (isWebGL2) {\n\t\t\t\t\t\ttype = gl.HALF_FLOAT;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.warn('THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttype = gl.UNSIGNED_SHORT;\n\t\t\t\t}\n\t\t\t} else if (array instanceof Int16Array) {\n\t\t\t\ttype = gl.SHORT;\n\t\t\t} else if (array instanceof Uint32Array) {\n\t\t\t\ttype = gl.UNSIGNED_INT;\n\t\t\t} else if (array instanceof Int32Array) {\n\t\t\t\ttype = gl.INT;\n\t\t\t} else if (array instanceof Int8Array) {\n\t\t\t\ttype = gl.BYTE;\n\t\t\t} else if (array instanceof Uint8Array) {\n\t\t\t\ttype = gl.UNSIGNED_BYTE;\n\t\t\t} else if (array instanceof Uint8ClampedArray) {\n\t\t\t\ttype = gl.UNSIGNED_BYTE;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tbuffer: buffer,\n\t\t\t\ttype: type,\n\t\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\t\tversion: attribute.version\n\t\t\t};\n\t\t}\n\n\t\tfunction updateBuffer(buffer, attribute, bufferType) {\n\t\t\tconst array = attribute.array;\n\t\t\tconst updateRange = attribute.updateRange;\n\t\t\tgl.bindBuffer(bufferType, buffer);\n\n\t\t\tif (updateRange.count === -1) {\n\t\t\t\t// Not using update ranges\n\t\t\t\tgl.bufferSubData(bufferType, 0, array);\n\t\t\t} else {\n\t\t\t\tif (isWebGL2) {\n\t\t\t\t\tgl.bufferSubData(bufferType, updateRange.offset * array.BYTES_PER_ELEMENT, array, updateRange.offset, updateRange.count);\n\t\t\t\t} else {\n\t\t\t\t\tgl.bufferSubData(bufferType, updateRange.offset * array.BYTES_PER_ELEMENT, array.subarray(updateRange.offset, updateRange.offset + updateRange.count));\n\t\t\t\t}\n\n\t\t\t\tupdateRange.count = -1; // reset range\n\t\t\t}\n\t\t} //\n\n\n\t\tfunction get(attribute) {\n\t\t\tif (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n\t\t\treturn buffers.get(attribute);\n\t\t}\n\n\t\tfunction remove(attribute) {\n\t\t\tif (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n\t\t\tconst data = buffers.get(attribute);\n\n\t\t\tif (data) {\n\t\t\t\tgl.deleteBuffer(data.buffer);\n\t\t\t\tbuffers.delete(attribute);\n\t\t\t}\n\t\t}\n\n\t\tfunction update(attribute, bufferType) {\n\t\t\tif (attribute.isGLBufferAttribute) {\n\t\t\t\tconst cached = buffers.get(attribute);\n\n\t\t\t\tif (!cached || cached.version < attribute.version) {\n\t\t\t\t\tbuffers.set(attribute, {\n\t\t\t\t\t\tbuffer: attribute.buffer,\n\t\t\t\t\t\ttype: attribute.type,\n\t\t\t\t\t\tbytesPerElement: attribute.elementSize,\n\t\t\t\t\t\tversion: attribute.version\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n\t\t\tconst data = buffers.get(attribute);\n\n\t\t\tif (data === undefined) {\n\t\t\t\tbuffers.set(attribute, createBuffer(attribute, bufferType));\n\t\t\t} else if (data.version < attribute.version) {\n\t\t\t\tupdateBuffer(data.buffer, attribute, bufferType);\n\t\t\t\tdata.version = attribute.version;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tget: get,\n\t\t\tremove: remove,\n\t\t\tupdate: update\n\t\t};\n\t}\n\n\tclass PlaneGeometry extends BufferGeometry {\n\t\tconstructor(width = 1, height = 1, widthSegments = 1, heightSegments = 1) {\n\t\t\tsuper();\n\t\t\tthis.type = 'PlaneGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\twidthSegments: widthSegments,\n\t\t\t\theightSegments: heightSegments\n\t\t\t};\n\t\t\tconst width_half = width / 2;\n\t\t\tconst height_half = height / 2;\n\t\t\tconst gridX = Math.floor(widthSegments);\n\t\t\tconst gridY = Math.floor(heightSegments);\n\t\t\tconst gridX1 = gridX + 1;\n\t\t\tconst gridY1 = gridY + 1;\n\t\t\tconst segment_width = width / gridX;\n\t\t\tconst segment_height = height / gridY; //\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = [];\n\n\t\t\tfor (let iy = 0; iy < gridY1; iy++) {\n\t\t\t\tconst y = iy * segment_height - height_half;\n\n\t\t\t\tfor (let ix = 0; ix < gridX1; ix++) {\n\t\t\t\t\tconst x = ix * segment_width - width_half;\n\t\t\t\t\tvertices.push(x, -y, 0);\n\t\t\t\t\tnormals.push(0, 0, 1);\n\t\t\t\t\tuvs.push(ix / gridX);\n\t\t\t\t\tuvs.push(1 - iy / gridY);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let iy = 0; iy < gridY; iy++) {\n\t\t\t\tfor (let ix = 0; ix < gridX; ix++) {\n\t\t\t\t\tconst a = ix + gridX1 * iy;\n\t\t\t\t\tconst b = ix + gridX1 * (iy + 1);\n\t\t\t\t\tconst c = ix + 1 + gridX1 * (iy + 1);\n\t\t\t\t\tconst d = ix + 1 + gridX1 * iy;\n\t\t\t\t\tindices.push(a, b, d);\n\t\t\t\t\tindices.push(b, c, d);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new PlaneGeometry(data.width, data.height, data.widthSegments, data.heightSegments);\n\t\t}\n\n\t}\n\n\tvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\n\tvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\n\tvar alphatest_fragment = \"#ifdef USE_ALPHATEST\\n\\tif ( diffuseColor.a < alphaTest ) discard;\\n#endif\";\n\n\tvar alphatest_pars_fragment = \"#ifdef USE_ALPHATEST\\n\\tuniform float alphaTest;\\n#endif\";\n\n\tvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\\n\\t#endif\\n#endif\";\n\n\tvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\n\tvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\n\tvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\n\tvar bsdfs = \"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\\n\\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\\n\\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\\n}\\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, lightDir ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\tvec3 F = F_Schlick( f0, f90, dotVH );\\n\\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( V * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie( float roughness, float dotNH ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tfloat invAlpha = 1.0 / alpha;\\n\\tfloat cos2h = dotNH * dotNH;\\n\\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\\n\\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\\n}\\nfloat V_Neubelt( float dotNV, float dotNL ) {\\n\\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\\n}\\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, lightDir ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat D = D_Charlie( sheenRoughness, dotNH );\\n\\tfloat V = V_Neubelt( dotNV, dotNL );\\n\\treturn sheenColor * ( D * V );\\n}\\n#endif\";\n\n\tvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\n\tvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\n\tvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\n\tvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\";\n\n\tvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\";\n\n\tvar color_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tdiffuseColor *= vColor;\\n#elif defined( USE_COLOR )\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\n\tvar color_pars_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\n\tvar color_pars_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\n\tvar color_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvColor = vec4( 1.0 );\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor *= color;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\";\n\n\tvar common = \"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate( a ) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract( sin( sn ) * c );\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef USE_CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\";\n\n\tvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_maxMipLevel 8.0\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_maxTileSize 256.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x > absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x > absDirection.y )\\n\\t\\t\\t\\tface = direction.x > 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z > absDirection.y )\\n\\t\\t\\t\\tface = direction.z > 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\\n\\t\\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;\\n\\t\\tif ( face > 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tif ( mipInt < cubeUV_maxMipLevel ) {\\n\\t\\t\\tuv.y += 2.0 * cubeUV_maxTileSize;\\n\\t\\t}\\n\\t\\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n\\t\\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\\n\\t\\tuv *= texelSize;\\n\\t\\treturn texture2D( envMap, uv ).rgb;\\n\\t}\\n\\t#define r0 1.0\\n\\t#define v0 0.339\\n\\t#define m0 - 2.0\\n\\t#define r1 0.8\\n\\t#define v1 0.276\\n\\t#define m1 - 1.0\\n\\t#define r4 0.4\\n\\t#define v4 0.046\\n\\t#define m4 2.0\\n\\t#define r5 0.305\\n\\t#define v5 0.016\\n\\t#define m5 3.0\\n\\t#define r6 0.21\\n\\t#define v6 0.0038\\n\\t#define m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness >= r1 ) {\\n\\t\\t\\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\\n\\t\\t} else if ( roughness >= r4 ) {\\n\\t\\t\\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\\n\\t\\t} else if ( roughness >= r5 ) {\\n\\t\\t\\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\\n\\t\\t} else if ( roughness >= r6 ) {\\n\\t\\t\\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\";\n\n\tvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\n\tvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\n\tvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\n\tvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\n\tvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\n\tvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\n\tvar encodings_pars_fragment = \"vec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\";\n\n\tvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\n\tvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\n\tvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\n\tvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\n\tvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\n\tvar fog_vertex = \"#ifdef USE_FOG\\n\\tvFogDepth = - mvPosition.z;\\n#endif\";\n\n\tvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float vFogDepth;\\n#endif\";\n\n\tvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\n\tvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float vFogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\n\tvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn vec3( texture2D( gradientMap, coord ).r );\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\n\tvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\\n\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tlightMapIrradiance *= PI;\\n\\t#endif\\n\\treflectedLight.indirectDiffuse += lightMapIrradiance;\\n#endif\";\n\n\tvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\n\tvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\\n#ifdef DOUBLE_SIDED\\n\\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\\n\\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\";\n\n\tvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\\n\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\treturn irradiance;\\n}\\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\t\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\t\\tif ( cutoffDistance > 0.0 ) {\\n\\t\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t\\t}\\n\\t\\treturn distanceFalloff;\\n\\t#else\\n\\t\\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\t\\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t\\t}\\n\\t\\treturn 1.0;\\n\\t#endif\\n}\\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\\n\\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tlight.color = directionalLight.color;\\n\\t\\tlight.direction = directionalLight.direction;\\n\\t\\tlight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tlight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tlight.color = pointLight.color;\\n\\t\\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tlight.visible = ( light.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tlight.direction = normalize( lVector );\\n\\t\\tfloat angleCos = dot( light.direction, spotLight.direction );\\n\\t\\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\tif ( spotAttenuation > 0.0 ) {\\n\\t\\t\\tfloat lightDistance = length( lVector );\\n\\t\\t\\tlight.color = spotLight.color * spotAttenuation;\\n\\t\\t\\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tlight.visible = ( light.color != vec3( 0.0 ) );\\n\\t\\t} else {\\n\\t\\t\\tlight.color = vec3( 0.0 );\\n\\t\\t\\tlight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\\n\\t\\tfloat dotNL = dot( normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\n\tvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getIBLIrradiance( const in vec3 normal ) {\\n\\t\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t\\t#else\\n\\t\\t\\treturn vec3( 0.0 );\\n\\t\\t#endif\\n\\t}\\n\\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\\n\\t\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 reflectVec;\\n\\t\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\t\\treflectVec = reflect( - viewDir, normal );\\n\\t\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\treflectVec = refract( - viewDir, normal, refractionRatio );\\n\\t\\t\\t#endif\\n\\t\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t\\t#else\\n\\t\\t\\treturn vec3( 0.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\n\tvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\";\n\n\tvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\n\tvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\n\tvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\n\tvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\\nmaterial.roughness = min( material.roughness, 1.0 );\\n#ifdef IOR\\n\\t#ifdef SPECULAR\\n\\t\\tfloat specularIntensityFactor = specularIntensity;\\n\\t\\tvec3 specularColorFactor = specularColor;\\n\\t\\t#ifdef USE_SPECULARINTENSITYMAP\\n\\t\\t\\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\\n\\t\\t#endif\\n\\t\\t#ifdef USE_SPECULARCOLORMAP\\n\\t\\t\\tspecularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;\\n\\t\\t#endif\\n\\t\\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\\n\\t#else\\n\\t\\tfloat specularIntensityFactor = 1.0;\\n\\t\\tvec3 specularColorFactor = vec3( 1.0 );\\n\\t\\tmaterial.specularF90 = 1.0;\\n\\t#endif\\n\\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.specularF90 = 1.0;\\n#endif\\n#ifdef USE_CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\tmaterial.clearcoatF0 = vec3( 0.04 );\\n\\tmaterial.clearcoatF90 = 1.0;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheenColor;\\n\\t#ifdef USE_SHEENCOLORMAP\\n\\t\\tmaterial.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;\\n\\t#endif\\n\\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\\n\\t#ifdef USE_SHEENROUGHNESSMAP\\n\\t\\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\\n\\t#endif\\n#endif\";\n\n\tvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat roughness;\\n\\tvec3 specularColor;\\n\\tfloat specularF90;\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat clearcoat;\\n\\t\\tfloat clearcoatRoughness;\\n\\t\\tvec3 clearcoatF0;\\n\\t\\tfloat clearcoatF90;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tvec3 sheenColor;\\n\\t\\tfloat sheenRoughness;\\n\\t#endif\\n};\\nvec3 clearcoatSpecular = vec3( 0.0 );\\nvec3 sheenSpecular = vec3( 0.0 );\\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat r2 = roughness * roughness;\\n\\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\\n\\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\\n\\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\\n\\treturn saturate( DG * RECIPROCAL_PI );\\n}\\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\\n\\treturn fab;\\n}\\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\\n\\tvec2 fab = DFGApprox( normal, viewDir, roughness );\\n\\treturn specularColor * fab.x + specularF90 * fab.y;\\n}\\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tvec2 fab = DFGApprox( normal, viewDir, roughness );\\n\\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\\n\\tfloat Ess = fab.x + fab.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.roughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(\t\t0, 1,\t\t0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = dotNLcc * directLight.color;\\n\\t\\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\\n\\t#endif\\n\\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\\n\\t#endif\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\n\tvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef USE_CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointLightInfo( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotLightInfo( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\n\tvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getIBLIrradiance( geometry.normal );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\\n\\t#endif\\n#endif\";\n\n\tvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\n\tvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\n\tvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\n\tvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\n\tvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\n\tvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\n\tvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\n\tvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\n\tvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\n\tvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\n\tvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\n\tvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\t#ifdef MORPHTARGETS_TEXTURE\\n\\t\\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\\n\\t\\t\\tif ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];\\n\\t\\t}\\n\\t#else\\n\\t\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\t\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\t\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\t\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n\\t#endif\\n#endif\";\n\n\tvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifdef MORPHTARGETS_TEXTURE\\n\\t\\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\\n\\t\\tuniform sampler2DArray morphTargetsTexture;\\n\\t\\tuniform vec2 morphTargetsTextureSize;\\n\\t\\tvec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {\\n\\t\\t\\tfloat texelIndex = float( vertexIndex * stride + offset );\\n\\t\\t\\tfloat y = floor( texelIndex / morphTargetsTextureSize.x );\\n\\t\\t\\tfloat x = texelIndex - y * morphTargetsTextureSize.x;\\n\\t\\t\\tvec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );\\n\\t\\t\\treturn texture( morphTargetsTexture, morphUV ).xyz;\\n\\t\\t}\\n\\t#else\\n\\t\\t#ifndef USE_MORPHNORMALS\\n\\t\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t\\t#else\\n\\t\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\n\tvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\t#ifdef MORPHTARGETS_TEXTURE\\n\\t\\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\\n\\t\\t\\t#ifndef USE_MORPHNORMALS\\n\\t\\t\\t\\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];\\n\\t\\t\\t#else\\n\\t\\t\\t\\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];\\n\\t\\t\\t#endif\\n\\t\\t}\\n\\t#else\\n\\t\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\t\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\t\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\t\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t\\t#ifndef USE_MORPHNORMALS\\n\\t\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\n\tvar normal_fragment_begin = \"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\\n#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * faceDirection;\\n\\t\\t\\tbitangent = bitangent * faceDirection;\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\n\tvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\\n#endif\";\n\n\tvar normal_pars_fragment = \"#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\";\n\n\tvar normal_pars_vertex = \"#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\";\n\n\tvar normal_vertex = \"#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\";\n\n\tvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 N = surf_norm;\\n\\t\\tvec3 q1perp = cross( q1, N );\\n\\t\\tvec3 q0perp = cross( N, q0 );\\n\\t\\tvec3 T = q1perp * st0.x + q0perp * st1.x;\\n\\t\\tvec3 B = q1perp * st0.y + q0perp * st1.y;\\n\\t\\tfloat det = max( dot( T, T ), dot( B, B ) );\\n\\t\\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\\n\\t\\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\\n\\t}\\n#endif\";\n\n\tvar clearcoat_normal_fragment_begin = \"#ifdef USE_CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\n\tvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\\n\\t#endif\\n#endif\";\n\n\tvar clearcoat_pars_fragment = \"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\n\tvar output_fragment = \"#ifdef OPAQUE\\ndiffuseColor.a = 1.0;\\n#endif\\n#ifdef USE_TRANSMISSION\\ndiffuseColor.a *= transmissionAlpha + 0.1;\\n#endif\\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\";\n\n\tvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\n\tvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\n\tvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\n\tvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\n\tvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\n\tvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\n\tvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\n\tvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t\tf.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t\tf.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\n\tvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\n\tvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\";\n\n\tvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\n\tvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\n\tvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\n\tvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\n\tvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\n\tvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\n\tvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\n\tvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\n\tvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate( a ) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(\t1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,\t1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,\t1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\";\n\n\tvar transmission_fragment = \"#ifdef USE_TRANSMISSION\\n\\tfloat transmissionAlpha = 1.0;\\n\\tfloat transmissionFactor = transmission;\\n\\tfloat thicknessFactor = thickness;\\n\\t#ifdef USE_TRANSMISSIONMAP\\n\\t\\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\\n\\t#endif\\n\\t#ifdef USE_THICKNESSMAP\\n\\t\\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\\n\\t#endif\\n\\tvec3 pos = vWorldPosition;\\n\\tvec3 v = normalize( cameraPosition - pos );\\n\\tvec3 n = inverseTransformDirection( normal, viewMatrix );\\n\\tvec4 transmission = getIBLVolumeRefraction(\\n\\t\\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\\n\\t\\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\\n\\t\\tattenuationColor, attenuationDistance );\\n\\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\\n\\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\\n#endif\";\n\n\tvar transmission_pars_fragment = \"#ifdef USE_TRANSMISSION\\n\\tuniform float transmission;\\n\\tuniform float thickness;\\n\\tuniform float attenuationDistance;\\n\\tuniform vec3 attenuationColor;\\n\\t#ifdef USE_TRANSMISSIONMAP\\n\\t\\tuniform sampler2D transmissionMap;\\n\\t#endif\\n\\t#ifdef USE_THICKNESSMAP\\n\\t\\tuniform sampler2D thicknessMap;\\n\\t#endif\\n\\tuniform vec2 transmissionSamplerSize;\\n\\tuniform sampler2D transmissionSamplerMap;\\n\\tuniform mat4 modelMatrix;\\n\\tuniform mat4 projectionMatrix;\\n\\tvarying vec3 vWorldPosition;\\n\\tvec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {\\n\\t\\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\\n\\t\\tvec3 modelScale;\\n\\t\\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\\n\\t\\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\\n\\t\\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\\n\\t\\treturn normalize( refractionVector ) * thickness * modelScale;\\n\\t}\\n\\tfloat applyIorToRoughness( float roughness, float ior ) {\\n\\t\\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\\n\\t}\\n\\tvec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {\\n\\t\\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\\n\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\\n\\t\\t#else\\n\\t\\t\\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\\n\\t\\t#endif\\n\\t}\\n\\tvec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {\\n\\t\\tif ( attenuationDistance == 0.0 ) {\\n\\t\\t\\treturn radiance;\\n\\t\\t} else {\\n\\t\\t\\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\\n\\t\\t\\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\\t\\t\\treturn transmittance * radiance;\\n\\t\\t}\\n\\t}\\n\\tvec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,\\n\\t\\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\\n\\t\\tvec3 attenuationColor, float attenuationDistance ) {\\n\\t\\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\\n\\t\\tvec3 refractedRayExit = position + transmissionRay;\\n\\t\\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\\n\\t\\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\\n\\t\\trefractionCoords += 1.0;\\n\\t\\trefractionCoords /= 2.0;\\n\\t\\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\\n\\t\\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\\n\\t\\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\\n\\t\\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\\n\\t}\\n#endif\";\n\n\tvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\n\tvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\n\tvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\n\tvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\n\tvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\n\tvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\n\tvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\n\tconst vertex$g = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\tconst fragment$g = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\n\tconst vertex$f = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\tconst fragment$f = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\n\tconst vertex$e = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\tconst fragment$e = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\n\tconst vertex$d = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\tconst fragment$d = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\n\tconst vertex$c = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\tconst fragment$c = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\n\tconst vertex$b = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\tconst fragment$b = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\n\tconst vertex$a = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinbase_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\tconst fragment$a = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n\tconst vertex$9 = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\tconst fragment$9 = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n\tconst vertex$8 = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\tconst fragment$8 = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <normal_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n\tconst vertex$7 = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\tconst fragment$7 = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <normal_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\n\tconst vertex$6 = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\tconst fragment$6 = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n\tconst vertex$5 = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifdef USE_TRANSMISSION\\n\\tvarying vec3 vWorldPosition;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n#ifdef USE_TRANSMISSION\\n\\tvWorldPosition = worldPosition.xyz;\\n#endif\\n}\";\n\tconst fragment$5 = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define IOR\\n\\t#define SPECULAR\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef IOR\\n\\tuniform float ior;\\n#endif\\n#ifdef SPECULAR\\n\\tuniform float specularIntensity;\\n\\tuniform vec3 specularColor;\\n\\t#ifdef USE_SPECULARINTENSITYMAP\\n\\t\\tuniform sampler2D specularIntensityMap;\\n\\t#endif\\n\\t#ifdef USE_SPECULARCOLORMAP\\n\\t\\tuniform sampler2D specularColorMap;\\n\\t#endif\\n#endif\\n#ifdef USE_CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheenColor;\\n\\tuniform float sheenRoughness;\\n\\t#ifdef USE_SHEENCOLORMAP\\n\\t\\tuniform sampler2D sheenColorMap;\\n\\t#endif\\n\\t#ifdef USE_SHEENROUGHNESSMAP\\n\\t\\tuniform sampler2D sheenRoughnessMap;\\n\\t#endif\\n#endif\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_physical_pars_fragment>\\n#include <transmission_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\\n\\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\\n\\t#include <transmission_fragment>\\n\\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\\n\\t#ifdef USE_SHEEN\\n\\t\\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\\n\\t\\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\\n\\t\\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\\n\\t#endif\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n\tconst vertex$4 = \"#define TOON\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\tconst fragment$4 = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n\tconst vertex$3 = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\tconst fragment$3 = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\n\tconst vertex$2 = \"#include <common>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\tconst fragment$2 = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\n\tconst vertex$1 = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\tconst fragment$1 = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\n\tconst ShaderChunk = {\n\t\talphamap_fragment: alphamap_fragment,\n\t\talphamap_pars_fragment: alphamap_pars_fragment,\n\t\talphatest_fragment: alphatest_fragment,\n\t\talphatest_pars_fragment: alphatest_pars_fragment,\n\t\taomap_fragment: aomap_fragment,\n\t\taomap_pars_fragment: aomap_pars_fragment,\n\t\tbegin_vertex: begin_vertex,\n\t\tbeginnormal_vertex: beginnormal_vertex,\n\t\tbsdfs: bsdfs,\n\t\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\t\tclipping_planes_fragment: clipping_planes_fragment,\n\t\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\t\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\t\tclipping_planes_vertex: clipping_planes_vertex,\n\t\tcolor_fragment: color_fragment,\n\t\tcolor_pars_fragment: color_pars_fragment,\n\t\tcolor_pars_vertex: color_pars_vertex,\n\t\tcolor_vertex: color_vertex,\n\t\tcommon: common,\n\t\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\t\tdefaultnormal_vertex: defaultnormal_vertex,\n\t\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\t\tdisplacementmap_vertex: displacementmap_vertex,\n\t\temissivemap_fragment: emissivemap_fragment,\n\t\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\t\tencodings_fragment: encodings_fragment,\n\t\tencodings_pars_fragment: encodings_pars_fragment,\n\t\tenvmap_fragment: envmap_fragment,\n\t\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\t\tenvmap_pars_fragment: envmap_pars_fragment,\n\t\tenvmap_pars_vertex: envmap_pars_vertex,\n\t\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\t\tenvmap_vertex: envmap_vertex,\n\t\tfog_vertex: fog_vertex,\n\t\tfog_pars_vertex: fog_pars_vertex,\n\t\tfog_fragment: fog_fragment,\n\t\tfog_pars_fragment: fog_pars_fragment,\n\t\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\t\tlightmap_fragment: lightmap_fragment,\n\t\tlightmap_pars_fragment: lightmap_pars_fragment,\n\t\tlights_lambert_vertex: lights_lambert_vertex,\n\t\tlights_pars_begin: lights_pars_begin,\n\t\tlights_toon_fragment: lights_toon_fragment,\n\t\tlights_toon_pars_fragment: lights_toon_pars_fragment,\n\t\tlights_phong_fragment: lights_phong_fragment,\n\t\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\t\tlights_physical_fragment: lights_physical_fragment,\n\t\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\t\tlights_fragment_begin: lights_fragment_begin,\n\t\tlights_fragment_maps: lights_fragment_maps,\n\t\tlights_fragment_end: lights_fragment_end,\n\t\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\t\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\t\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\t\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\t\tmap_fragment: map_fragment,\n\t\tmap_pars_fragment: map_pars_fragment,\n\t\tmap_particle_fragment: map_particle_fragment,\n\t\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\t\tmetalnessmap_fragment: metalnessmap_fragment,\n\t\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\t\tmorphnormal_vertex: morphnormal_vertex,\n\t\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\t\tmorphtarget_vertex: morphtarget_vertex,\n\t\tnormal_fragment_begin: normal_fragment_begin,\n\t\tnormal_fragment_maps: normal_fragment_maps,\n\t\tnormal_pars_fragment: normal_pars_fragment,\n\t\tnormal_pars_vertex: normal_pars_vertex,\n\t\tnormal_vertex: normal_vertex,\n\t\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\t\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\t\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\t\tclearcoat_pars_fragment: clearcoat_pars_fragment,\n\t\toutput_fragment: output_fragment,\n\t\tpacking: packing,\n\t\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\t\tproject_vertex: project_vertex,\n\t\tdithering_fragment: dithering_fragment,\n\t\tdithering_pars_fragment: dithering_pars_fragment,\n\t\troughnessmap_fragment: roughnessmap_fragment,\n\t\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\t\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\t\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\t\tshadowmap_vertex: shadowmap_vertex,\n\t\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\t\tskinbase_vertex: skinbase_vertex,\n\t\tskinning_pars_vertex: skinning_pars_vertex,\n\t\tskinning_vertex: skinning_vertex,\n\t\tskinnormal_vertex: skinnormal_vertex,\n\t\tspecularmap_fragment: specularmap_fragment,\n\t\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\t\ttonemapping_fragment: tonemapping_fragment,\n\t\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\t\ttransmission_fragment: transmission_fragment,\n\t\ttransmission_pars_fragment: transmission_pars_fragment,\n\t\tuv_pars_fragment: uv_pars_fragment,\n\t\tuv_pars_vertex: uv_pars_vertex,\n\t\tuv_vertex: uv_vertex,\n\t\tuv2_pars_fragment: uv2_pars_fragment,\n\t\tuv2_pars_vertex: uv2_pars_vertex,\n\t\tuv2_vertex: uv2_vertex,\n\t\tworldpos_vertex: worldpos_vertex,\n\t\tbackground_vert: vertex$g,\n\t\tbackground_frag: fragment$g,\n\t\tcube_vert: vertex$f,\n\t\tcube_frag: fragment$f,\n\t\tdepth_vert: vertex$e,\n\t\tdepth_frag: fragment$e,\n\t\tdistanceRGBA_vert: vertex$d,\n\t\tdistanceRGBA_frag: fragment$d,\n\t\tequirect_vert: vertex$c,\n\t\tequirect_frag: fragment$c,\n\t\tlinedashed_vert: vertex$b,\n\t\tlinedashed_frag: fragment$b,\n\t\tmeshbasic_vert: vertex$a,\n\t\tmeshbasic_frag: fragment$a,\n\t\tmeshlambert_vert: vertex$9,\n\t\tmeshlambert_frag: fragment$9,\n\t\tmeshmatcap_vert: vertex$8,\n\t\tmeshmatcap_frag: fragment$8,\n\t\tmeshnormal_vert: vertex$7,\n\t\tmeshnormal_frag: fragment$7,\n\t\tmeshphong_vert: vertex$6,\n\t\tmeshphong_frag: fragment$6,\n\t\tmeshphysical_vert: vertex$5,\n\t\tmeshphysical_frag: fragment$5,\n\t\tmeshtoon_vert: vertex$4,\n\t\tmeshtoon_frag: fragment$4,\n\t\tpoints_vert: vertex$3,\n\t\tpoints_frag: fragment$3,\n\t\tshadow_vert: vertex$2,\n\t\tshadow_frag: fragment$2,\n\t\tsprite_vert: vertex$1,\n\t\tsprite_frag: fragment$1\n\t};\n\n\t/**\n\t * Uniforms library for shared webgl shaders\n\t */\n\n\tconst UniformsLib = {\n\t\tcommon: {\n\t\t\tdiffuse: {\n\t\t\t\tvalue: new Color(0xffffff)\n\t\t\t},\n\t\t\topacity: {\n\t\t\t\tvalue: 1.0\n\t\t\t},\n\t\t\tmap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tuvTransform: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t},\n\t\t\tuv2Transform: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t},\n\t\t\talphaMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\talphaTest: {\n\t\t\t\tvalue: 0\n\t\t\t}\n\t\t},\n\t\tspecularmap: {\n\t\t\tspecularMap: {\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t},\n\t\tenvmap: {\n\t\t\tenvMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tflipEnvMap: {\n\t\t\t\tvalue: -1\n\t\t\t},\n\t\t\treflectivity: {\n\t\t\t\tvalue: 1.0\n\t\t\t},\n\t\t\t// basic, lambert, phong\n\t\t\tior: {\n\t\t\t\tvalue: 1.5\n\t\t\t},\n\t\t\t// standard, physical\n\t\t\trefractionRatio: {\n\t\t\t\tvalue: 0.98\n\t\t\t}\n\t\t},\n\t\taomap: {\n\t\t\taoMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\taoMapIntensity: {\n\t\t\t\tvalue: 1\n\t\t\t}\n\t\t},\n\t\tlightmap: {\n\t\t\tlightMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tlightMapIntensity: {\n\t\t\t\tvalue: 1\n\t\t\t}\n\t\t},\n\t\temissivemap: {\n\t\t\temissiveMap: {\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t},\n\t\tbumpmap: {\n\t\t\tbumpMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tbumpScale: {\n\t\t\t\tvalue: 1\n\t\t\t}\n\t\t},\n\t\tnormalmap: {\n\t\t\tnormalMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tnormalScale: {\n\t\t\t\tvalue: new Vector2(1, 1)\n\t\t\t}\n\t\t},\n\t\tdisplacementmap: {\n\t\t\tdisplacementMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tdisplacementScale: {\n\t\t\t\tvalue: 1\n\t\t\t},\n\t\t\tdisplacementBias: {\n\t\t\t\tvalue: 0\n\t\t\t}\n\t\t},\n\t\troughnessmap: {\n\t\t\troughnessMap: {\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t},\n\t\tmetalnessmap: {\n\t\t\tmetalnessMap: {\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t},\n\t\tgradientmap: {\n\t\t\tgradientMap: {\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t},\n\t\tfog: {\n\t\t\tfogDensity: {\n\t\t\t\tvalue: 0.00025\n\t\t\t},\n\t\t\tfogNear: {\n\t\t\t\tvalue: 1\n\t\t\t},\n\t\t\tfogFar: {\n\t\t\t\tvalue: 2000\n\t\t\t},\n\t\t\tfogColor: {\n\t\t\t\tvalue: new Color(0xffffff)\n\t\t\t}\n\t\t},\n\t\tlights: {\n\t\t\tambientLightColor: {\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tlightProbe: {\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tdirectionalLights: {\n\t\t\t\tvalue: [],\n\t\t\t\tproperties: {\n\t\t\t\t\tdirection: {},\n\t\t\t\t\tcolor: {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdirectionalLightShadows: {\n\t\t\t\tvalue: [],\n\t\t\t\tproperties: {\n\t\t\t\t\tshadowBias: {},\n\t\t\t\t\tshadowNormalBias: {},\n\t\t\t\t\tshadowRadius: {},\n\t\t\t\t\tshadowMapSize: {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdirectionalShadowMap: {\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tdirectionalShadowMatrix: {\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tspotLights: {\n\t\t\t\tvalue: [],\n\t\t\t\tproperties: {\n\t\t\t\t\tcolor: {},\n\t\t\t\t\tposition: {},\n\t\t\t\t\tdirection: {},\n\t\t\t\t\tdistance: {},\n\t\t\t\t\tconeCos: {},\n\t\t\t\t\tpenumbraCos: {},\n\t\t\t\t\tdecay: {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tspotLightShadows: {\n\t\t\t\tvalue: [],\n\t\t\t\tproperties: {\n\t\t\t\t\tshadowBias: {},\n\t\t\t\t\tshadowNormalBias: {},\n\t\t\t\t\tshadowRadius: {},\n\t\t\t\t\tshadowMapSize: {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tspotShadowMap: {\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tspotShadowMatrix: {\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tpointLights: {\n\t\t\t\tvalue: [],\n\t\t\t\tproperties: {\n\t\t\t\t\tcolor: {},\n\t\t\t\t\tposition: {},\n\t\t\t\t\tdecay: {},\n\t\t\t\t\tdistance: {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tpointLightShadows: {\n\t\t\t\tvalue: [],\n\t\t\t\tproperties: {\n\t\t\t\t\tshadowBias: {},\n\t\t\t\t\tshadowNormalBias: {},\n\t\t\t\t\tshadowRadius: {},\n\t\t\t\t\tshadowMapSize: {},\n\t\t\t\t\tshadowCameraNear: {},\n\t\t\t\t\tshadowCameraFar: {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tpointShadowMap: {\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tpointShadowMatrix: {\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\themisphereLights: {\n\t\t\t\tvalue: [],\n\t\t\t\tproperties: {\n\t\t\t\t\tdirection: {},\n\t\t\t\t\tskyColor: {},\n\t\t\t\t\tgroundColor: {}\n\t\t\t\t}\n\t\t\t},\n\t\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\t\trectAreaLights: {\n\t\t\t\tvalue: [],\n\t\t\t\tproperties: {\n\t\t\t\t\tcolor: {},\n\t\t\t\t\tposition: {},\n\t\t\t\t\twidth: {},\n\t\t\t\t\theight: {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tltc_1: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tltc_2: {\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t},\n\t\tpoints: {\n\t\t\tdiffuse: {\n\t\t\t\tvalue: new Color(0xffffff)\n\t\t\t},\n\t\t\topacity: {\n\t\t\t\tvalue: 1.0\n\t\t\t},\n\t\t\tsize: {\n\t\t\t\tvalue: 1.0\n\t\t\t},\n\t\t\tscale: {\n\t\t\t\tvalue: 1.0\n\t\t\t},\n\t\t\tmap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\talphaMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\talphaTest: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\tuvTransform: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t}\n\t\t},\n\t\tsprite: {\n\t\t\tdiffuse: {\n\t\t\t\tvalue: new Color(0xffffff)\n\t\t\t},\n\t\t\topacity: {\n\t\t\t\tvalue: 1.0\n\t\t\t},\n\t\t\tcenter: {\n\t\t\t\tvalue: new Vector2(0.5, 0.5)\n\t\t\t},\n\t\t\trotation: {\n\t\t\t\tvalue: 0.0\n\t\t\t},\n\t\t\tmap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\talphaMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\talphaTest: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\tuvTransform: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t}\n\t\t}\n\t};\n\n\tconst ShaderLib = {\n\t\tbasic: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.specularmap, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.fog]),\n\t\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\t\t},\n\t\tlambert: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.specularmap, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.fog, UniformsLib.lights, {\n\t\t\t\temissive: {\n\t\t\t\t\tvalue: new Color(0x000000)\n\t\t\t\t}\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\t\t},\n\t\tphong: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.specularmap, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.fog, UniformsLib.lights, {\n\t\t\t\temissive: {\n\t\t\t\t\tvalue: new Color(0x000000)\n\t\t\t\t},\n\t\t\t\tspecular: {\n\t\t\t\t\tvalue: new Color(0x111111)\n\t\t\t\t},\n\t\t\t\tshininess: {\n\t\t\t\t\tvalue: 30\n\t\t\t\t}\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\t\tfragmentShader: ShaderChunk.meshphong_frag\n\t\t},\n\t\tstandard: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.roughnessmap, UniformsLib.metalnessmap, UniformsLib.fog, UniformsLib.lights, {\n\t\t\t\temissive: {\n\t\t\t\t\tvalue: new Color(0x000000)\n\t\t\t\t},\n\t\t\t\troughness: {\n\t\t\t\t\tvalue: 1.0\n\t\t\t\t},\n\t\t\t\tmetalness: {\n\t\t\t\t\tvalue: 0.0\n\t\t\t\t},\n\t\t\t\tenvMapIntensity: {\n\t\t\t\t\tvalue: 1\n\t\t\t\t} // temporary\n\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\t\t},\n\t\ttoon: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.gradientmap, UniformsLib.fog, UniformsLib.lights, {\n\t\t\t\temissive: {\n\t\t\t\t\tvalue: new Color(0x000000)\n\t\t\t\t}\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.meshtoon_vert,\n\t\t\tfragmentShader: ShaderChunk.meshtoon_frag\n\t\t},\n\t\tmatcap: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.fog, {\n\t\t\t\tmatcap: {\n\t\t\t\t\tvalue: null\n\t\t\t\t}\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\t\t},\n\t\tpoints: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.points, UniformsLib.fog]),\n\t\t\tvertexShader: ShaderChunk.points_vert,\n\t\t\tfragmentShader: ShaderChunk.points_frag\n\t\t},\n\t\tdashed: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.fog, {\n\t\t\t\tscale: {\n\t\t\t\t\tvalue: 1\n\t\t\t\t},\n\t\t\t\tdashSize: {\n\t\t\t\t\tvalue: 1\n\t\t\t\t},\n\t\t\t\ttotalSize: {\n\t\t\t\t\tvalue: 2\n\t\t\t\t}\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\t\tfragmentShader: ShaderChunk.linedashed_frag\n\t\t},\n\t\tdepth: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.displacementmap]),\n\t\t\tvertexShader: ShaderChunk.depth_vert,\n\t\t\tfragmentShader: ShaderChunk.depth_frag\n\t\t},\n\t\tnormal: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, {\n\t\t\t\topacity: {\n\t\t\t\t\tvalue: 1.0\n\t\t\t\t}\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.meshnormal_vert,\n\t\t\tfragmentShader: ShaderChunk.meshnormal_frag\n\t\t},\n\t\tsprite: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.sprite, UniformsLib.fog]),\n\t\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\t\tfragmentShader: ShaderChunk.sprite_frag\n\t\t},\n\t\tbackground: {\n\t\t\tuniforms: {\n\t\t\t\tuvTransform: {\n\t\t\t\t\tvalue: new Matrix3()\n\t\t\t\t},\n\t\t\t\tt2D: {\n\t\t\t\t\tvalue: null\n\t\t\t\t}\n\t\t\t},\n\t\t\tvertexShader: ShaderChunk.background_vert,\n\t\t\tfragmentShader: ShaderChunk.background_frag\n\t\t},\n\n\t\t/* -------------------------------------------------------------------------\n\t\t//\tCube map shader\n\t\t ------------------------------------------------------------------------- */\n\t\tcube: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.envmap, {\n\t\t\t\topacity: {\n\t\t\t\t\tvalue: 1.0\n\t\t\t\t}\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.cube_vert,\n\t\t\tfragmentShader: ShaderChunk.cube_frag\n\t\t},\n\t\tequirect: {\n\t\t\tuniforms: {\n\t\t\t\ttEquirect: {\n\t\t\t\t\tvalue: null\n\t\t\t\t}\n\t\t\t},\n\t\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\t\tfragmentShader: ShaderChunk.equirect_frag\n\t\t},\n\t\tdistanceRGBA: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.displacementmap, {\n\t\t\t\treferencePosition: {\n\t\t\t\t\tvalue: new Vector3()\n\t\t\t\t},\n\t\t\t\tnearDistance: {\n\t\t\t\t\tvalue: 1\n\t\t\t\t},\n\t\t\t\tfarDistance: {\n\t\t\t\t\tvalue: 1000\n\t\t\t\t}\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\t\t},\n\t\tshadow: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.lights, UniformsLib.fog, {\n\t\t\t\tcolor: {\n\t\t\t\t\tvalue: new Color(0x00000)\n\t\t\t\t},\n\t\t\t\topacity: {\n\t\t\t\t\tvalue: 1.0\n\t\t\t\t}\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\t\tfragmentShader: ShaderChunk.shadow_frag\n\t\t}\n\t};\n\tShaderLib.physical = {\n\t\tuniforms: mergeUniforms([ShaderLib.standard.uniforms, {\n\t\t\tclearcoat: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\tclearcoatMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tclearcoatRoughness: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\tclearcoatRoughnessMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tclearcoatNormalScale: {\n\t\t\t\tvalue: new Vector2(1, 1)\n\t\t\t},\n\t\t\tclearcoatNormalMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tsheen: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\tsheenColor: {\n\t\t\t\tvalue: new Color(0x000000)\n\t\t\t},\n\t\t\tsheenColorMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tsheenRoughness: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\tsheenRoughnessMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\ttransmission: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\ttransmissionMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\ttransmissionSamplerSize: {\n\t\t\t\tvalue: new Vector2()\n\t\t\t},\n\t\t\ttransmissionSamplerMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tthickness: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\tthicknessMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tattenuationDistance: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\tattenuationColor: {\n\t\t\t\tvalue: new Color(0x000000)\n\t\t\t},\n\t\t\tspecularIntensity: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\tspecularIntensityMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tspecularColor: {\n\t\t\t\tvalue: new Color(1, 1, 1)\n\t\t\t},\n\t\t\tspecularColorMap: {\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t}]),\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\t};\n\n\tfunction WebGLBackground(renderer, cubemaps, state, objects, premultipliedAlpha) {\n\t\tconst clearColor = new Color(0x000000);\n\t\tlet clearAlpha = 0;\n\t\tlet planeMesh;\n\t\tlet boxMesh;\n\t\tlet currentBackground = null;\n\t\tlet currentBackgroundVersion = 0;\n\t\tlet currentTonemapping = null;\n\n\t\tfunction render(renderList, scene) {\n\t\t\tlet forceClear = false;\n\t\t\tlet background = scene.isScene === true ? scene.background : null;\n\n\t\t\tif (background && background.isTexture) {\n\t\t\t\tbackground = cubemaps.get(background);\n\t\t\t} // Ignore background in AR\n\t\t\t// TODO: Reconsider this.\n\n\n\t\t\tconst xr = renderer.xr;\n\t\t\tconst session = xr.getSession && xr.getSession();\n\n\t\t\tif (session && session.environmentBlendMode === 'additive') {\n\t\t\t\tbackground = null;\n\t\t\t}\n\n\t\t\tif (background === null) {\n\t\t\t\tsetClear(clearColor, clearAlpha);\n\t\t\t} else if (background && background.isColor) {\n\t\t\t\tsetClear(background, 1);\n\t\t\t\tforceClear = true;\n\t\t\t}\n\n\t\t\tif (renderer.autoClear || forceClear) {\n\t\t\t\trenderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);\n\t\t\t}\n\n\t\t\tif (background && (background.isCubeTexture || background.mapping === CubeUVReflectionMapping)) {\n\t\t\t\tif (boxMesh === undefined) {\n\t\t\t\t\tboxMesh = new Mesh(new BoxGeometry(1, 1, 1), new ShaderMaterial({\n\t\t\t\t\t\tname: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms(ShaderLib.cube.uniforms),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t}));\n\t\t\t\t\tboxMesh.geometry.deleteAttribute('normal');\n\t\t\t\t\tboxMesh.geometry.deleteAttribute('uv');\n\n\t\t\t\t\tboxMesh.onBeforeRender = function (renderer, scene, camera) {\n\t\t\t\t\t\tthis.matrixWorld.copyPosition(camera.matrixWorld);\n\t\t\t\t\t}; // enable code injection for non-built-in material\n\n\n\t\t\t\t\tObject.defineProperty(boxMesh.material, 'envMap', {\n\t\t\t\t\t\tget: function () {\n\t\t\t\t\t\t\treturn this.uniforms.envMap.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tobjects.update(boxMesh);\n\t\t\t\t}\n\n\t\t\t\tboxMesh.material.uniforms.envMap.value = background;\n\t\t\t\tboxMesh.material.uniforms.flipEnvMap.value = background.isCubeTexture && background.isRenderTargetTexture === false ? -1 : 1;\n\n\t\t\t\tif (currentBackground !== background || currentBackgroundVersion !== background.version || currentTonemapping !== renderer.toneMapping) {\n\t\t\t\t\tboxMesh.material.needsUpdate = true;\n\t\t\t\t\tcurrentBackground = background;\n\t\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\t\t\t\t} // push to the pre-sorted opaque render list\n\n\n\t\t\t\trenderList.unshift(boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null);\n\t\t\t} else if (background && background.isTexture) {\n\t\t\t\tif (planeMesh === undefined) {\n\t\t\t\t\tplaneMesh = new Mesh(new PlaneGeometry(2, 2), new ShaderMaterial({\n\t\t\t\t\t\tname: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms(ShaderLib.background.uniforms),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t}));\n\t\t\t\t\tplaneMesh.geometry.deleteAttribute('normal'); // enable code injection for non-built-in material\n\n\t\t\t\t\tObject.defineProperty(planeMesh.material, 'map', {\n\t\t\t\t\t\tget: function () {\n\t\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tobjects.update(planeMesh);\n\t\t\t\t}\n\n\t\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\t\tif (background.matrixAutoUpdate === true) {\n\t\t\t\t\tbackground.updateMatrix();\n\t\t\t\t}\n\n\t\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy(background.matrix);\n\n\t\t\t\tif (currentBackground !== background || currentBackgroundVersion !== background.version || currentTonemapping !== renderer.toneMapping) {\n\t\t\t\t\tplaneMesh.material.needsUpdate = true;\n\t\t\t\t\tcurrentBackground = background;\n\t\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\t\t\t\t} // push to the pre-sorted opaque render list\n\n\n\t\t\t\trenderList.unshift(planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null);\n\t\t\t}\n\t\t}\n\n\t\tfunction setClear(color, alpha) {\n\t\t\tstate.buffers.color.setClear(color.r, color.g, color.b, alpha, premultipliedAlpha);\n\t\t}\n\n\t\treturn {\n\t\t\tgetClearColor: function () {\n\t\t\t\treturn clearColor;\n\t\t\t},\n\t\t\tsetClearColor: function (color, alpha = 1) {\n\t\t\t\tclearColor.set(color);\n\t\t\t\tclearAlpha = alpha;\n\t\t\t\tsetClear(clearColor, clearAlpha);\n\t\t\t},\n\t\t\tgetClearAlpha: function () {\n\t\t\t\treturn clearAlpha;\n\t\t\t},\n\t\t\tsetClearAlpha: function (alpha) {\n\t\t\t\tclearAlpha = alpha;\n\t\t\t\tsetClear(clearColor, clearAlpha);\n\t\t\t},\n\t\t\trender: render\n\t\t};\n\t}\n\n\tfunction WebGLBindingStates(gl, extensions, attributes, capabilities) {\n\t\tconst maxVertexAttributes = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);\n\t\tconst extension = capabilities.isWebGL2 ? null : extensions.get('OES_vertex_array_object');\n\t\tconst vaoAvailable = capabilities.isWebGL2 || extension !== null;\n\t\tconst bindingStates = {};\n\t\tconst defaultState = createBindingState(null);\n\t\tlet currentState = defaultState;\n\n\t\tfunction setup(object, material, program, geometry, index) {\n\t\t\tlet updateBuffers = false;\n\n\t\t\tif (vaoAvailable) {\n\t\t\t\tconst state = getBindingState(geometry, program, material);\n\n\t\t\t\tif (currentState !== state) {\n\t\t\t\t\tcurrentState = state;\n\t\t\t\t\tbindVertexArrayObject(currentState.object);\n\t\t\t\t}\n\n\t\t\t\tupdateBuffers = needsUpdate(geometry, index);\n\t\t\t\tif (updateBuffers) saveCache(geometry, index);\n\t\t\t} else {\n\t\t\t\tconst wireframe = material.wireframe === true;\n\n\t\t\t\tif (currentState.geometry !== geometry.id || currentState.program !== program.id || currentState.wireframe !== wireframe) {\n\t\t\t\t\tcurrentState.geometry = geometry.id;\n\t\t\t\t\tcurrentState.program = program.id;\n\t\t\t\t\tcurrentState.wireframe = wireframe;\n\t\t\t\t\tupdateBuffers = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (object.isInstancedMesh === true) {\n\t\t\t\tupdateBuffers = true;\n\t\t\t}\n\n\t\t\tif (index !== null) {\n\t\t\t\tattributes.update(index, gl.ELEMENT_ARRAY_BUFFER);\n\t\t\t}\n\n\t\t\tif (updateBuffers) {\n\t\t\t\tsetupVertexAttributes(object, material, program, geometry);\n\n\t\t\t\tif (index !== null) {\n\t\t\t\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, attributes.get(index).buffer);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction createVertexArrayObject() {\n\t\t\tif (capabilities.isWebGL2) return gl.createVertexArray();\n\t\t\treturn extension.createVertexArrayOES();\n\t\t}\n\n\t\tfunction bindVertexArrayObject(vao) {\n\t\t\tif (capabilities.isWebGL2) return gl.bindVertexArray(vao);\n\t\t\treturn extension.bindVertexArrayOES(vao);\n\t\t}\n\n\t\tfunction deleteVertexArrayObject(vao) {\n\t\t\tif (capabilities.isWebGL2) return gl.deleteVertexArray(vao);\n\t\t\treturn extension.deleteVertexArrayOES(vao);\n\t\t}\n\n\t\tfunction getBindingState(geometry, program, material) {\n\t\t\tconst wireframe = material.wireframe === true;\n\t\t\tlet programMap = bindingStates[geometry.id];\n\n\t\t\tif (programMap === undefined) {\n\t\t\t\tprogramMap = {};\n\t\t\t\tbindingStates[geometry.id] = programMap;\n\t\t\t}\n\n\t\t\tlet stateMap = programMap[program.id];\n\n\t\t\tif (stateMap === undefined) {\n\t\t\t\tstateMap = {};\n\t\t\t\tprogramMap[program.id] = stateMap;\n\t\t\t}\n\n\t\t\tlet state = stateMap[wireframe];\n\n\t\t\tif (state === undefined) {\n\t\t\t\tstate = createBindingState(createVertexArrayObject());\n\t\t\t\tstateMap[wireframe] = state;\n\t\t\t}\n\n\t\t\treturn state;\n\t\t}\n\n\t\tfunction createBindingState(vao) {\n\t\t\tconst newAttributes = [];\n\t\t\tconst enabledAttributes = [];\n\t\t\tconst attributeDivisors = [];\n\n\t\t\tfor (let i = 0; i < maxVertexAttributes; i++) {\n\t\t\t\tnewAttributes[i] = 0;\n\t\t\t\tenabledAttributes[i] = 0;\n\t\t\t\tattributeDivisors[i] = 0;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t// for backward compatibility on non-VAO support browser\n\t\t\t\tgeometry: null,\n\t\t\t\tprogram: null,\n\t\t\t\twireframe: false,\n\t\t\t\tnewAttributes: newAttributes,\n\t\t\t\tenabledAttributes: enabledAttributes,\n\t\t\t\tattributeDivisors: attributeDivisors,\n\t\t\t\tobject: vao,\n\t\t\t\tattributes: {},\n\t\t\t\tindex: null\n\t\t\t};\n\t\t}\n\n\t\tfunction needsUpdate(geometry, index) {\n\t\t\tconst cachedAttributes = currentState.attributes;\n\t\t\tconst geometryAttributes = geometry.attributes;\n\t\t\tlet attributesNum = 0;\n\n\t\t\tfor (const key in geometryAttributes) {\n\t\t\t\tconst cachedAttribute = cachedAttributes[key];\n\t\t\t\tconst geometryAttribute = geometryAttributes[key];\n\t\t\t\tif (cachedAttribute === undefined) return true;\n\t\t\t\tif (cachedAttribute.attribute !== geometryAttribute) return true;\n\t\t\t\tif (cachedAttribute.data !== geometryAttribute.data) return true;\n\t\t\t\tattributesNum++;\n\t\t\t}\n\n\t\t\tif (currentState.attributesNum !== attributesNum) return true;\n\t\t\tif (currentState.index !== index) return true;\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction saveCache(geometry, index) {\n\t\t\tconst cache = {};\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tlet attributesNum = 0;\n\n\t\t\tfor (const key in attributes) {\n\t\t\t\tconst attribute = attributes[key];\n\t\t\t\tconst data = {};\n\t\t\t\tdata.attribute = attribute;\n\n\t\t\t\tif (attribute.data) {\n\t\t\t\t\tdata.data = attribute.data;\n\t\t\t\t}\n\n\t\t\t\tcache[key] = data;\n\t\t\t\tattributesNum++;\n\t\t\t}\n\n\t\t\tcurrentState.attributes = cache;\n\t\t\tcurrentState.attributesNum = attributesNum;\n\t\t\tcurrentState.index = index;\n\t\t}\n\n\t\tfunction initAttributes() {\n\t\t\tconst newAttributes = currentState.newAttributes;\n\n\t\t\tfor (let i = 0, il = newAttributes.length; i < il; i++) {\n\t\t\t\tnewAttributes[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\tfunction enableAttribute(attribute) {\n\t\t\tenableAttributeAndDivisor(attribute, 0);\n\t\t}\n\n\t\tfunction enableAttributeAndDivisor(attribute, meshPerAttribute) {\n\t\t\tconst newAttributes = currentState.newAttributes;\n\t\t\tconst enabledAttributes = currentState.enabledAttributes;\n\t\t\tconst attributeDivisors = currentState.attributeDivisors;\n\t\t\tnewAttributes[attribute] = 1;\n\n\t\t\tif (enabledAttributes[attribute] === 0) {\n\t\t\t\tgl.enableVertexAttribArray(attribute);\n\t\t\t\tenabledAttributes[attribute] = 1;\n\t\t\t}\n\n\t\t\tif (attributeDivisors[attribute] !== meshPerAttribute) {\n\t\t\t\tconst extension = capabilities.isWebGL2 ? gl : extensions.get('ANGLE_instanced_arrays');\n\t\t\t\textension[capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE'](attribute, meshPerAttribute);\n\t\t\t\tattributeDivisors[attribute] = meshPerAttribute;\n\t\t\t}\n\t\t}\n\n\t\tfunction disableUnusedAttributes() {\n\t\t\tconst newAttributes = currentState.newAttributes;\n\t\t\tconst enabledAttributes = currentState.enabledAttributes;\n\n\t\t\tfor (let i = 0, il = enabledAttributes.length; i < il; i++) {\n\t\t\t\tif (enabledAttributes[i] !== newAttributes[i]) {\n\t\t\t\t\tgl.disableVertexAttribArray(i);\n\t\t\t\t\tenabledAttributes[i] = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction vertexAttribPointer(index, size, type, normalized, stride, offset) {\n\t\t\tif (capabilities.isWebGL2 === true && (type === gl.INT || type === gl.UNSIGNED_INT)) {\n\t\t\t\tgl.vertexAttribIPointer(index, size, type, stride, offset);\n\t\t\t} else {\n\t\t\t\tgl.vertexAttribPointer(index, size, type, normalized, stride, offset);\n\t\t\t}\n\t\t}\n\n\t\tfunction setupVertexAttributes(object, material, program, geometry) {\n\t\t\tif (capabilities.isWebGL2 === false && (object.isInstancedMesh || geometry.isInstancedBufferGeometry)) {\n\t\t\t\tif (extensions.get('ANGLE_instanced_arrays') === null) return;\n\t\t\t}\n\n\t\t\tinitAttributes();\n\t\t\tconst geometryAttributes = geometry.attributes;\n\t\t\tconst programAttributes = program.getAttributes();\n\t\t\tconst materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\t\tfor (const name in programAttributes) {\n\t\t\t\tconst programAttribute = programAttributes[name];\n\n\t\t\t\tif (programAttribute.location >= 0) {\n\t\t\t\t\tlet geometryAttribute = geometryAttributes[name];\n\n\t\t\t\t\tif (geometryAttribute === undefined) {\n\t\t\t\t\t\tif (name === 'instanceMatrix' && object.instanceMatrix) geometryAttribute = object.instanceMatrix;\n\t\t\t\t\t\tif (name === 'instanceColor' && object.instanceColor) geometryAttribute = object.instanceColor;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (geometryAttribute !== undefined) {\n\t\t\t\t\t\tconst normalized = geometryAttribute.normalized;\n\t\t\t\t\t\tconst size = geometryAttribute.itemSize;\n\t\t\t\t\t\tconst attribute = attributes.get(geometryAttribute); // TODO Attribute may not be available on context restore\n\n\t\t\t\t\t\tif (attribute === undefined) continue;\n\t\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\t\tconst type = attribute.type;\n\t\t\t\t\t\tconst bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\t\tif (geometryAttribute.isInterleavedBufferAttribute) {\n\t\t\t\t\t\t\tconst data = geometryAttribute.data;\n\t\t\t\t\t\t\tconst stride = data.stride;\n\t\t\t\t\t\t\tconst offset = geometryAttribute.offset;\n\n\t\t\t\t\t\t\tif (data && data.isInstancedInterleavedBuffer) {\n\t\t\t\t\t\t\t\tfor (let i = 0; i < programAttribute.locationSize; i++) {\n\t\t\t\t\t\t\t\t\tenableAttributeAndDivisor(programAttribute.location + i, data.meshPerAttribute);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (object.isInstancedMesh !== true && geometry._maxInstanceCount === undefined) {\n\t\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = data.meshPerAttribute * data.count;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfor (let i = 0; i < programAttribute.locationSize; i++) {\n\t\t\t\t\t\t\t\t\tenableAttribute(programAttribute.location + i);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n\n\t\t\t\t\t\t\tfor (let i = 0; i < programAttribute.locationSize; i++) {\n\t\t\t\t\t\t\t\tvertexAttribPointer(programAttribute.location + i, size / programAttribute.locationSize, type, normalized, stride * bytesPerElement, (offset + size / programAttribute.locationSize * i) * bytesPerElement);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (geometryAttribute.isInstancedBufferAttribute) {\n\t\t\t\t\t\t\t\tfor (let i = 0; i < programAttribute.locationSize; i++) {\n\t\t\t\t\t\t\t\t\tenableAttributeAndDivisor(programAttribute.location + i, geometryAttribute.meshPerAttribute);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (object.isInstancedMesh !== true && geometry._maxInstanceCount === undefined) {\n\t\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfor (let i = 0; i < programAttribute.locationSize; i++) {\n\t\t\t\t\t\t\t\t\tenableAttribute(programAttribute.location + i);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n\n\t\t\t\t\t\t\tfor (let i = 0; i < programAttribute.locationSize; i++) {\n\t\t\t\t\t\t\t\tvertexAttribPointer(programAttribute.location + i, size / programAttribute.locationSize, type, normalized, size * bytesPerElement, size / programAttribute.locationSize * i * bytesPerElement);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (materialDefaultAttributeValues !== undefined) {\n\t\t\t\t\t\tconst value = materialDefaultAttributeValues[name];\n\n\t\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\t\tswitch (value.length) {\n\t\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t\tgl.vertexAttrib2fv(programAttribute.location, value);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t\tgl.vertexAttrib3fv(programAttribute.location, value);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t\tgl.vertexAttrib4fv(programAttribute.location, value);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tgl.vertexAttrib1fv(programAttribute.location, value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdisableUnusedAttributes();\n\t\t}\n\n\t\tfunction dispose() {\n\t\t\treset();\n\n\t\t\tfor (const geometryId in bindingStates) {\n\t\t\t\tconst programMap = bindingStates[geometryId];\n\n\t\t\t\tfor (const programId in programMap) {\n\t\t\t\t\tconst stateMap = programMap[programId];\n\n\t\t\t\t\tfor (const wireframe in stateMap) {\n\t\t\t\t\t\tdeleteVertexArrayObject(stateMap[wireframe].object);\n\t\t\t\t\t\tdelete stateMap[wireframe];\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete programMap[programId];\n\t\t\t\t}\n\n\t\t\t\tdelete bindingStates[geometryId];\n\t\t\t}\n\t\t}\n\n\t\tfunction releaseStatesOfGeometry(geometry) {\n\t\t\tif (bindingStates[geometry.id] === undefined) return;\n\t\t\tconst programMap = bindingStates[geometry.id];\n\n\t\t\tfor (const programId in programMap) {\n\t\t\t\tconst stateMap = programMap[programId];\n\n\t\t\t\tfor (const wireframe in stateMap) {\n\t\t\t\t\tdeleteVertexArrayObject(stateMap[wireframe].object);\n\t\t\t\t\tdelete stateMap[wireframe];\n\t\t\t\t}\n\n\t\t\t\tdelete programMap[programId];\n\t\t\t}\n\n\t\t\tdelete bindingStates[geometry.id];\n\t\t}\n\n\t\tfunction releaseStatesOfProgram(program) {\n\t\t\tfor (const geometryId in bindingStates) {\n\t\t\t\tconst programMap = bindingStates[geometryId];\n\t\t\t\tif (programMap[program.id] === undefined) continue;\n\t\t\t\tconst stateMap = programMap[program.id];\n\n\t\t\t\tfor (const wireframe in stateMap) {\n\t\t\t\t\tdeleteVertexArrayObject(stateMap[wireframe].object);\n\t\t\t\t\tdelete stateMap[wireframe];\n\t\t\t\t}\n\n\t\t\t\tdelete programMap[program.id];\n\t\t\t}\n\t\t}\n\n\t\tfunction reset() {\n\t\t\tresetDefaultState();\n\t\t\tif (currentState === defaultState) return;\n\t\t\tcurrentState = defaultState;\n\t\t\tbindVertexArrayObject(currentState.object);\n\t\t} // for backward-compatilibity\n\n\n\t\tfunction resetDefaultState() {\n\t\t\tdefaultState.geometry = null;\n\t\t\tdefaultState.program = null;\n\t\t\tdefaultState.wireframe = false;\n\t\t}\n\n\t\treturn {\n\t\t\tsetup: setup,\n\t\t\treset: reset,\n\t\t\tresetDefaultState: resetDefaultState,\n\t\t\tdispose: dispose,\n\t\t\treleaseStatesOfGeometry: releaseStatesOfGeometry,\n\t\t\treleaseStatesOfProgram: releaseStatesOfProgram,\n\t\t\tinitAttributes: initAttributes,\n\t\t\tenableAttribute: enableAttribute,\n\t\t\tdisableUnusedAttributes: disableUnusedAttributes\n\t\t};\n\t}\n\n\tfunction WebGLBufferRenderer(gl, extensions, info, capabilities) {\n\t\tconst isWebGL2 = capabilities.isWebGL2;\n\t\tlet mode;\n\n\t\tfunction setMode(value) {\n\t\t\tmode = value;\n\t\t}\n\n\t\tfunction render(start, count) {\n\t\t\tgl.drawArrays(mode, start, count);\n\t\t\tinfo.update(count, mode, 1);\n\t\t}\n\n\t\tfunction renderInstances(start, count, primcount) {\n\t\t\tif (primcount === 0) return;\n\t\t\tlet extension, methodName;\n\n\t\t\tif (isWebGL2) {\n\t\t\t\textension = gl;\n\t\t\t\tmethodName = 'drawArraysInstanced';\n\t\t\t} else {\n\t\t\t\textension = extensions.get('ANGLE_instanced_arrays');\n\t\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\t\tif (extension === null) {\n\t\t\t\t\tconsole.error('THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\textension[methodName](mode, start, count, primcount);\n\t\t\tinfo.update(count, mode, primcount);\n\t\t} //\n\n\n\t\tthis.setMode = setMode;\n\t\tthis.render = render;\n\t\tthis.renderInstances = renderInstances;\n\t}\n\n\tfunction WebGLCapabilities(gl, extensions, parameters) {\n\t\tlet maxAnisotropy;\n\n\t\tfunction getMaxAnisotropy() {\n\t\t\tif (maxAnisotropy !== undefined) return maxAnisotropy;\n\n\t\t\tif (extensions.has('EXT_texture_filter_anisotropic') === true) {\n\t\t\t\tconst extension = extensions.get('EXT_texture_filter_anisotropic');\n\t\t\t\tmaxAnisotropy = gl.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT);\n\t\t\t} else {\n\t\t\t\tmaxAnisotropy = 0;\n\t\t\t}\n\n\t\t\treturn maxAnisotropy;\n\t\t}\n\n\t\tfunction getMaxPrecision(precision) {\n\t\t\tif (precision === 'highp') {\n\t\t\t\tif (gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT).precision > 0 && gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT).precision > 0) {\n\t\t\t\t\treturn 'highp';\n\t\t\t\t}\n\n\t\t\t\tprecision = 'mediump';\n\t\t\t}\n\n\t\t\tif (precision === 'mediump') {\n\t\t\t\tif (gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT).precision > 0 && gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT).precision > 0) {\n\t\t\t\t\treturn 'mediump';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn 'lowp';\n\t\t}\n\n\t\tconst isWebGL2 = typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext || typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext;\n\t\tlet precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\t\tconst maxPrecision = getMaxPrecision(precision);\n\n\t\tif (maxPrecision !== precision) {\n\t\t\tconsole.warn('THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.');\n\t\t\tprecision = maxPrecision;\n\t\t}\n\n\t\tconst drawBuffers = isWebGL2 || extensions.has('WEBGL_draw_buffers');\n\t\tconst logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\t\tconst maxTextures = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n\t\tconst maxVertexTextures = gl.getParameter(gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS);\n\t\tconst maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);\n\t\tconst maxCubemapSize = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);\n\t\tconst maxAttributes = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);\n\t\tconst maxVertexUniforms = gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS);\n\t\tconst maxVaryings = gl.getParameter(gl.MAX_VARYING_VECTORS);\n\t\tconst maxFragmentUniforms = gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_VECTORS);\n\t\tconst vertexTextures = maxVertexTextures > 0;\n\t\tconst floatFragmentTextures = isWebGL2 || extensions.has('OES_texture_float');\n\t\tconst floatVertexTextures = vertexTextures && floatFragmentTextures;\n\t\tconst maxSamples = isWebGL2 ? gl.getParameter(gl.MAX_SAMPLES) : 0;\n\t\treturn {\n\t\t\tisWebGL2: isWebGL2,\n\t\t\tdrawBuffers: drawBuffers,\n\t\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\t\tgetMaxPrecision: getMaxPrecision,\n\t\t\tprecision: precision,\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\t\t\tmaxTextures: maxTextures,\n\t\t\tmaxVertexTextures: maxVertexTextures,\n\t\t\tmaxTextureSize: maxTextureSize,\n\t\t\tmaxCubemapSize: maxCubemapSize,\n\t\t\tmaxAttributes: maxAttributes,\n\t\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\t\tmaxVaryings: maxVaryings,\n\t\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\t\t\tvertexTextures: vertexTextures,\n\t\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\t\tfloatVertexTextures: floatVertexTextures,\n\t\t\tmaxSamples: maxSamples\n\t\t};\n\t}\n\n\tfunction WebGLClipping(properties) {\n\t\tconst scope = this;\n\t\tlet globalState = null,\n\t\t\t\tnumGlobalPlanes = 0,\n\t\t\t\tlocalClippingEnabled = false,\n\t\t\t\trenderingShadows = false;\n\t\tconst plane = new Plane(),\n\t\t\t\t\tviewNormalMatrix = new Matrix3(),\n\t\t\t\t\tuniform = {\n\t\t\tvalue: null,\n\t\t\tneedsUpdate: false\n\t\t};\n\t\tthis.uniform = uniform;\n\t\tthis.numPlanes = 0;\n\t\tthis.numIntersection = 0;\n\n\t\tthis.init = function (planes, enableLocalClipping, camera) {\n\t\t\tconst enabled = planes.length !== 0 || enableLocalClipping || // enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 || localClippingEnabled;\n\t\t\tlocalClippingEnabled = enableLocalClipping;\n\t\t\tglobalState = projectPlanes(planes, camera, 0);\n\t\t\tnumGlobalPlanes = planes.length;\n\t\t\treturn enabled;\n\t\t};\n\n\t\tthis.beginShadows = function () {\n\t\t\trenderingShadows = true;\n\t\t\tprojectPlanes(null);\n\t\t};\n\n\t\tthis.endShadows = function () {\n\t\t\trenderingShadows = false;\n\t\t\tresetGlobalState();\n\t\t};\n\n\t\tthis.setState = function (material, camera, useCache) {\n\t\t\tconst planes = material.clippingPlanes,\n\t\t\t\t\t\tclipIntersection = material.clipIntersection,\n\t\t\t\t\t\tclipShadows = material.clipShadows;\n\t\t\tconst materialProperties = properties.get(material);\n\n\t\t\tif (!localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && !clipShadows) {\n\t\t\t\t// there's no local clipping\n\t\t\t\tif (renderingShadows) {\n\t\t\t\t\t// there's no global clipping\n\t\t\t\t\tprojectPlanes(null);\n\t\t\t\t} else {\n\t\t\t\t\tresetGlobalState();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\t\t\t\tlGlobal = nGlobal * 4;\n\t\t\t\tlet dstArray = materialProperties.clippingState || null;\n\t\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\t\tdstArray = projectPlanes(planes, camera, lGlobal, useCache);\n\n\t\t\t\tfor (let i = 0; i !== lGlobal; ++i) {\n\t\t\t\t\tdstArray[i] = globalState[i];\n\t\t\t\t}\n\n\t\t\t\tmaterialProperties.clippingState = dstArray;\n\t\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\t\tthis.numPlanes += nGlobal;\n\t\t\t}\n\t\t};\n\n\t\tfunction resetGlobalState() {\n\t\t\tif (uniform.value !== globalState) {\n\t\t\t\tuniform.value = globalState;\n\t\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\t\t\t}\n\n\t\t\tscope.numPlanes = numGlobalPlanes;\n\t\t\tscope.numIntersection = 0;\n\t\t}\n\n\t\tfunction projectPlanes(planes, camera, dstOffset, skipTransform) {\n\t\t\tconst nPlanes = planes !== null ? planes.length : 0;\n\t\t\tlet dstArray = null;\n\n\t\t\tif (nPlanes !== 0) {\n\t\t\t\tdstArray = uniform.value;\n\n\t\t\t\tif (skipTransform !== true || dstArray === null) {\n\t\t\t\t\tconst flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\t\t\t\t\tviewNormalMatrix.getNormalMatrix(viewMatrix);\n\n\t\t\t\t\tif (dstArray === null || dstArray.length < flatSize) {\n\t\t\t\t\t\tdstArray = new Float32Array(flatSize);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (let i = 0, i4 = dstOffset; i !== nPlanes; ++i, i4 += 4) {\n\t\t\t\t\t\tplane.copy(planes[i]).applyMatrix4(viewMatrix, viewNormalMatrix);\n\t\t\t\t\t\tplane.normal.toArray(dstArray, i4);\n\t\t\t\t\t\tdstArray[i4 + 3] = plane.constant;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tuniform.value = dstArray;\n\t\t\t\tuniform.needsUpdate = true;\n\t\t\t}\n\n\t\t\tscope.numPlanes = nPlanes;\n\t\t\tscope.numIntersection = 0;\n\t\t\treturn dstArray;\n\t\t}\n\t}\n\n\tfunction WebGLCubeMaps(renderer) {\n\t\tlet cubemaps = new WeakMap();\n\n\t\tfunction mapTextureMapping(texture, mapping) {\n\t\t\tif (mapping === EquirectangularReflectionMapping) {\n\t\t\t\ttexture.mapping = CubeReflectionMapping;\n\t\t\t} else if (mapping === EquirectangularRefractionMapping) {\n\t\t\t\ttexture.mapping = CubeRefractionMapping;\n\t\t\t}\n\n\t\t\treturn texture;\n\t\t}\n\n\t\tfunction get(texture) {\n\t\t\tif (texture && texture.isTexture && texture.isRenderTargetTexture === false) {\n\t\t\t\tconst mapping = texture.mapping;\n\n\t\t\t\tif (mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping) {\n\t\t\t\t\tif (cubemaps.has(texture)) {\n\t\t\t\t\t\tconst cubemap = cubemaps.get(texture).texture;\n\t\t\t\t\t\treturn mapTextureMapping(cubemap, texture.mapping);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\t\tif (image && image.height > 0) {\n\t\t\t\t\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\t\t\t\t\t\t\tconst renderTarget = new WebGLCubeRenderTarget(image.height / 2);\n\t\t\t\t\t\t\trenderTarget.fromEquirectangularTexture(renderer, texture);\n\t\t\t\t\t\t\tcubemaps.set(texture, renderTarget);\n\t\t\t\t\t\t\trenderer.setRenderTarget(currentRenderTarget);\n\t\t\t\t\t\t\ttexture.addEventListener('dispose', onTextureDispose);\n\t\t\t\t\t\t\treturn mapTextureMapping(renderTarget.texture, texture.mapping);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn texture;\n\t\t}\n\n\t\tfunction onTextureDispose(event) {\n\t\t\tconst texture = event.target;\n\t\t\ttexture.removeEventListener('dispose', onTextureDispose);\n\t\t\tconst cubemap = cubemaps.get(texture);\n\n\t\t\tif (cubemap !== undefined) {\n\t\t\t\tcubemaps.delete(texture);\n\t\t\t\tcubemap.dispose();\n\t\t\t}\n\t\t}\n\n\t\tfunction dispose() {\n\t\t\tcubemaps = new WeakMap();\n\t\t}\n\n\t\treturn {\n\t\t\tget: get,\n\t\t\tdispose: dispose\n\t\t};\n\t}\n\n\tclass OrthographicCamera extends Camera {\n\t\tconstructor(left = -1, right = 1, top = 1, bottom = -1, near = 0.1, far = 2000) {\n\t\t\tsuper();\n\t\t\tthis.type = 'OrthographicCamera';\n\t\t\tthis.zoom = 1;\n\t\t\tthis.view = null;\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t\tthis.top = top;\n\t\t\tthis.bottom = bottom;\n\t\t\tthis.near = near;\n\t\t\tthis.far = far;\n\t\t\tthis.updateProjectionMatrix();\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\t\t\tthis.left = source.left;\n\t\t\tthis.right = source.right;\n\t\t\tthis.top = source.top;\n\t\t\tthis.bottom = source.bottom;\n\t\t\tthis.near = source.near;\n\t\t\tthis.far = source.far;\n\t\t\tthis.zoom = source.zoom;\n\t\t\tthis.view = source.view === null ? null : Object.assign({}, source.view);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetViewOffset(fullWidth, fullHeight, x, y, width, height) {\n\t\t\tif (this.view === null) {\n\t\t\t\tthis.view = {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\tfullWidth: 1,\n\t\t\t\t\tfullHeight: 1,\n\t\t\t\t\toffsetX: 0,\n\t\t\t\t\toffsetY: 0,\n\t\t\t\t\twidth: 1,\n\t\t\t\t\theight: 1\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.view.enabled = true;\n\t\t\tthis.view.fullWidth = fullWidth;\n\t\t\tthis.view.fullHeight = fullHeight;\n\t\t\tthis.view.offsetX = x;\n\t\t\tthis.view.offsetY = y;\n\t\t\tthis.view.width = width;\n\t\t\tthis.view.height = height;\n\t\t\tthis.updateProjectionMatrix();\n\t\t}\n\n\t\tclearViewOffset() {\n\t\t\tif (this.view !== null) {\n\t\t\t\tthis.view.enabled = false;\n\t\t\t}\n\n\t\t\tthis.updateProjectionMatrix();\n\t\t}\n\n\t\tupdateProjectionMatrix() {\n\t\t\tconst dx = (this.right - this.left) / (2 * this.zoom);\n\t\t\tconst dy = (this.top - this.bottom) / (2 * this.zoom);\n\t\t\tconst cx = (this.right + this.left) / 2;\n\t\t\tconst cy = (this.top + this.bottom) / 2;\n\t\t\tlet left = cx - dx;\n\t\t\tlet right = cx + dx;\n\t\t\tlet top = cy + dy;\n\t\t\tlet bottom = cy - dy;\n\n\t\t\tif (this.view !== null && this.view.enabled) {\n\t\t\t\tconst scaleW = (this.right - this.left) / this.view.fullWidth / this.zoom;\n\t\t\t\tconst scaleH = (this.top - this.bottom) / this.view.fullHeight / this.zoom;\n\t\t\t\tleft += scaleW * this.view.offsetX;\n\t\t\t\tright = left + scaleW * this.view.width;\n\t\t\t\ttop -= scaleH * this.view.offsetY;\n\t\t\t\tbottom = top - scaleH * this.view.height;\n\t\t\t}\n\n\t\t\tthis.projectionMatrix.makeOrthographic(left, right, top, bottom, this.near, this.far);\n\t\t\tthis.projectionMatrixInverse.copy(this.projectionMatrix).invert();\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst data = super.toJSON(meta);\n\t\t\tdata.object.zoom = this.zoom;\n\t\t\tdata.object.left = this.left;\n\t\t\tdata.object.right = this.right;\n\t\t\tdata.object.top = this.top;\n\t\t\tdata.object.bottom = this.bottom;\n\t\t\tdata.object.near = this.near;\n\t\t\tdata.object.far = this.far;\n\t\t\tif (this.view !== null) data.object.view = Object.assign({}, this.view);\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tOrthographicCamera.prototype.isOrthographicCamera = true;\n\n\tclass RawShaderMaterial extends ShaderMaterial {\n\t\tconstructor(parameters) {\n\t\t\tsuper(parameters);\n\t\t\tthis.type = 'RawShaderMaterial';\n\t\t}\n\n\t}\n\n\tRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n\tconst LOD_MIN = 4;\n\tconst LOD_MAX = 8;\n\tconst SIZE_MAX = Math.pow(2, LOD_MAX); // The standard deviations (radians) associated with the extra mips. These are\n\t// chosen to approximate a Trowbridge-Reitz distribution function times the\n\t// geometric shadowing function. These sigma values squared must match the\n\t// variance #defines in cube_uv_reflection_fragment.glsl.js.\n\n\tconst EXTRA_LOD_SIGMA = [0.125, 0.215, 0.35, 0.446, 0.526, 0.582];\n\tconst TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length; // The maximum length of the blur for loop. Smaller sigmas will use fewer\n\t// samples and exit early, but not recompile the shader.\n\n\tconst MAX_SAMPLES = 20;\n\tconst ENCODINGS = {\n\t\t[LinearEncoding]: 0,\n\t\t[sRGBEncoding]: 1\n\t};\n\n\tconst _flatCamera = /*@__PURE__*/new OrthographicCamera();\n\n\tconst {\n\t\t_lodPlanes,\n\t\t_sizeLods,\n\t\t_sigmas\n\t} = /*@__PURE__*/_createPlanes();\n\n\tconst _clearColor = /*@__PURE__*/new Color();\n\n\tlet _oldTarget = null; // Golden Ratio\n\n\tconst PHI = (1 + Math.sqrt(5)) / 2;\n\tconst INV_PHI = 1 / PHI; // Vertices of a dodecahedron (except the opposites, which represent the\n\t// same axis), used as axis directions evenly spread on a sphere.\n\n\tconst _axisDirections = [/*@__PURE__*/new Vector3(1, 1, 1), /*@__PURE__*/new Vector3(-1, 1, 1), /*@__PURE__*/new Vector3(1, 1, -1), /*@__PURE__*/new Vector3(-1, 1, -1), /*@__PURE__*/new Vector3(0, PHI, INV_PHI), /*@__PURE__*/new Vector3(0, PHI, -INV_PHI), /*@__PURE__*/new Vector3(INV_PHI, 0, PHI), /*@__PURE__*/new Vector3(-INV_PHI, 0, PHI), /*@__PURE__*/new Vector3(PHI, INV_PHI, 0), /*@__PURE__*/new Vector3(-PHI, INV_PHI, 0)];\n\t/**\n\t * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n\t * (PMREM) from a cubeMap environment texture. This allows different levels of\n\t * blur to be quickly accessed based on material roughness. It is packed into a\n\t * special CubeUV format that allows us to perform custom interpolation so that\n\t * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n\t * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n\t * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n\t * higher roughness levels. In this way we maintain resolution to smoothly\n\t * interpolate diffuse lighting while limiting sampling computation.\n\t *\n\t * Paper: Fast, Accurate Image-Based Lighting\n\t * https://drive.google.com/file/d/15y8r_UpKlU9SvV4ILb0C3qCPecS8pvLz/view\n\t*/\n\n\tclass PMREMGenerator {\n\t\tconstructor(renderer) {\n\t\t\tthis._renderer = renderer;\n\t\t\tthis._pingPongRenderTarget = null;\n\t\t\tthis._blurMaterial = _getBlurShader(MAX_SAMPLES);\n\t\t\tthis._equirectShader = null;\n\t\t\tthis._cubemapShader = null;\n\n\t\t\tthis._compileMaterial(this._blurMaterial);\n\t\t}\n\t\t/**\n\t\t * Generates a PMREM from a supplied Scene, which can be faster than using an\n\t\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\n\t\t * in radians to be applied to the scene before PMREM generation. Optional near\n\t\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n\t\t * is placed at the origin).\n\t\t */\n\n\n\t\tfromScene(scene, sigma = 0, near = 0.1, far = 100) {\n\t\t\t_oldTarget = this._renderer.getRenderTarget();\n\n\t\t\tconst cubeUVRenderTarget = this._allocateTargets();\n\n\t\t\tthis._sceneToCubeUV(scene, near, far, cubeUVRenderTarget);\n\n\t\t\tif (sigma > 0) {\n\t\t\t\tthis._blur(cubeUVRenderTarget, 0, 0, sigma);\n\t\t\t}\n\n\t\t\tthis._applyPMREM(cubeUVRenderTarget);\n\n\t\t\tthis._cleanup(cubeUVRenderTarget);\n\n\t\t\treturn cubeUVRenderTarget;\n\t\t}\n\t\t/**\n\t\t * Generates a PMREM from an equirectangular texture, which can be either LDR\n\t\t * or HDR. The ideal input image size is 1k (1024 x 512),\n\t\t * as this matches best with the 256 x 256 cubemap output.\n\t\t */\n\n\n\t\tfromEquirectangular(equirectangular) {\n\t\t\treturn this._fromTexture(equirectangular);\n\t\t}\n\t\t/**\n\t\t * Generates a PMREM from an cubemap texture, which can be either LDR\n\t\t * or HDR. The ideal input cube size is 256 x 256,\n\t\t * as this matches best with the 256 x 256 cubemap output.\n\t\t */\n\n\n\t\tfromCubemap(cubemap) {\n\t\t\treturn this._fromTexture(cubemap);\n\t\t}\n\t\t/**\n\t\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n\t\t * your texture's network fetch for increased concurrency.\n\t\t */\n\n\n\t\tcompileCubemapShader() {\n\t\t\tif (this._cubemapShader === null) {\n\t\t\t\tthis._cubemapShader = _getCubemapShader();\n\n\t\t\t\tthis._compileMaterial(this._cubemapShader);\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n\t\t * your texture's network fetch for increased concurrency.\n\t\t */\n\n\n\t\tcompileEquirectangularShader() {\n\t\t\tif (this._equirectShader === null) {\n\t\t\t\tthis._equirectShader = _getEquirectShader();\n\n\t\t\t\tthis._compileMaterial(this._equirectShader);\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n\t\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n\t\t * one of them will cause any others to also become unusable.\n\t\t */\n\n\n\t\tdispose() {\n\t\t\tthis._blurMaterial.dispose();\n\n\t\t\tif (this._cubemapShader !== null) this._cubemapShader.dispose();\n\t\t\tif (this._equirectShader !== null) this._equirectShader.dispose();\n\n\t\t\tfor (let i = 0; i < _lodPlanes.length; i++) {\n\t\t\t\t_lodPlanes[i].dispose();\n\t\t\t}\n\t\t} // private interface\n\n\n\t\t_cleanup(outputTarget) {\n\t\t\tthis._pingPongRenderTarget.dispose();\n\n\t\t\tthis._renderer.setRenderTarget(_oldTarget);\n\n\t\t\toutputTarget.scissorTest = false;\n\n\t\t\t_setViewport(outputTarget, 0, 0, outputTarget.width, outputTarget.height);\n\t\t}\n\n\t\t_fromTexture(texture) {\n\t\t\t_oldTarget = this._renderer.getRenderTarget();\n\n\t\t\tconst cubeUVRenderTarget = this._allocateTargets(texture);\n\n\t\t\tthis._textureToCubeUV(texture, cubeUVRenderTarget);\n\n\t\t\tthis._applyPMREM(cubeUVRenderTarget);\n\n\t\t\tthis._cleanup(cubeUVRenderTarget);\n\n\t\t\treturn cubeUVRenderTarget;\n\t\t}\n\n\t\t_allocateTargets(texture) {\n\t\t\t// warning: null texture is valid\n\t\t\tconst params = {\n\t\t\t\tmagFilter: LinearFilter,\n\t\t\t\tminFilter: LinearFilter,\n\t\t\t\tgenerateMipmaps: false,\n\t\t\t\ttype: HalfFloatType,\n\t\t\t\tformat: RGBAFormat,\n\t\t\t\tencoding: LinearEncoding,\n\t\t\t\tdepthBuffer: false\n\t\t\t};\n\n\t\t\tconst cubeUVRenderTarget = _createRenderTarget(params);\n\n\t\t\tcubeUVRenderTarget.depthBuffer = texture ? false : true;\n\t\t\tthis._pingPongRenderTarget = _createRenderTarget(params);\n\t\t\treturn cubeUVRenderTarget;\n\t\t}\n\n\t\t_compileMaterial(material) {\n\t\t\tconst tmpMesh = new Mesh(_lodPlanes[0], material);\n\n\t\t\tthis._renderer.compile(tmpMesh, _flatCamera);\n\t\t}\n\n\t\t_sceneToCubeUV(scene, near, far, cubeUVRenderTarget) {\n\t\t\tconst fov = 90;\n\t\t\tconst aspect = 1;\n\t\t\tconst cubeCamera = new PerspectiveCamera(fov, aspect, near, far);\n\t\t\tconst upSign = [1, -1, 1, 1, 1, 1];\n\t\t\tconst forwardSign = [1, 1, 1, -1, -1, -1];\n\t\t\tconst renderer = this._renderer;\n\t\t\tconst originalAutoClear = renderer.autoClear;\n\t\t\tconst toneMapping = renderer.toneMapping;\n\t\t\trenderer.getClearColor(_clearColor);\n\t\t\trenderer.toneMapping = NoToneMapping;\n\t\t\trenderer.autoClear = false;\n\t\t\tconst backgroundMaterial = new MeshBasicMaterial({\n\t\t\t\tname: 'PMREM.Background',\n\t\t\t\tside: BackSide,\n\t\t\t\tdepthWrite: false,\n\t\t\t\tdepthTest: false\n\t\t\t});\n\t\t\tconst backgroundBox = new Mesh(new BoxGeometry(), backgroundMaterial);\n\t\t\tlet useSolidColor = false;\n\t\t\tconst background = scene.background;\n\n\t\t\tif (background) {\n\t\t\t\tif (background.isColor) {\n\t\t\t\t\tbackgroundMaterial.color.copy(background);\n\t\t\t\t\tscene.background = null;\n\t\t\t\t\tuseSolidColor = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tbackgroundMaterial.color.copy(_clearColor);\n\t\t\t\tuseSolidColor = true;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\tconst col = i % 3;\n\n\t\t\t\tif (col == 0) {\n\t\t\t\t\tcubeCamera.up.set(0, upSign[i], 0);\n\t\t\t\t\tcubeCamera.lookAt(forwardSign[i], 0, 0);\n\t\t\t\t} else if (col == 1) {\n\t\t\t\t\tcubeCamera.up.set(0, 0, upSign[i]);\n\t\t\t\t\tcubeCamera.lookAt(0, forwardSign[i], 0);\n\t\t\t\t} else {\n\t\t\t\t\tcubeCamera.up.set(0, upSign[i], 0);\n\t\t\t\t\tcubeCamera.lookAt(0, 0, forwardSign[i]);\n\t\t\t\t}\n\n\t\t\t\t_setViewport(cubeUVRenderTarget, col * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX);\n\n\t\t\t\trenderer.setRenderTarget(cubeUVRenderTarget);\n\n\t\t\t\tif (useSolidColor) {\n\t\t\t\t\trenderer.render(backgroundBox, cubeCamera);\n\t\t\t\t}\n\n\t\t\t\trenderer.render(scene, cubeCamera);\n\t\t\t}\n\n\t\t\tbackgroundBox.geometry.dispose();\n\t\t\tbackgroundBox.material.dispose();\n\t\t\trenderer.toneMapping = toneMapping;\n\t\t\trenderer.autoClear = originalAutoClear;\n\t\t\tscene.background = background;\n\t\t}\n\n\t\t_setEncoding(uniform, texture) {\n\t\t\tif (this._renderer.capabilities.isWebGL2 === true && texture.format === RGBAFormat && texture.type === UnsignedByteType && texture.encoding === sRGBEncoding) {\n\t\t\t\tuniform.value = ENCODINGS[LinearEncoding];\n\t\t\t} else {\n\t\t\t\tuniform.value = ENCODINGS[texture.encoding];\n\t\t\t}\n\t\t}\n\n\t\t_textureToCubeUV(texture, cubeUVRenderTarget) {\n\t\t\tconst renderer = this._renderer;\n\t\t\tconst isCubeTexture = texture.mapping === CubeReflectionMapping || texture.mapping === CubeRefractionMapping;\n\n\t\t\tif (isCubeTexture) {\n\t\t\t\tif (this._cubemapShader == null) {\n\t\t\t\t\tthis._cubemapShader = _getCubemapShader();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this._equirectShader == null) {\n\t\t\t\t\tthis._equirectShader = _getEquirectShader();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst material = isCubeTexture ? this._cubemapShader : this._equirectShader;\n\t\t\tconst mesh = new Mesh(_lodPlanes[0], material);\n\t\t\tconst uniforms = material.uniforms;\n\t\t\tuniforms['envMap'].value = texture;\n\n\t\t\tif (!isCubeTexture) {\n\t\t\t\tuniforms['texelSize'].value.set(1.0 / texture.image.width, 1.0 / texture.image.height);\n\t\t\t}\n\n\t\t\tthis._setEncoding(uniforms['inputEncoding'], texture);\n\n\t\t\t_setViewport(cubeUVRenderTarget, 0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX);\n\n\t\t\trenderer.setRenderTarget(cubeUVRenderTarget);\n\t\t\trenderer.render(mesh, _flatCamera);\n\t\t}\n\n\t\t_applyPMREM(cubeUVRenderTarget) {\n\t\t\tconst renderer = this._renderer;\n\t\t\tconst autoClear = renderer.autoClear;\n\t\t\trenderer.autoClear = false;\n\n\t\t\tfor (let i = 1; i < TOTAL_LODS; i++) {\n\t\t\t\tconst sigma = Math.sqrt(_sigmas[i] * _sigmas[i] - _sigmas[i - 1] * _sigmas[i - 1]);\n\t\t\t\tconst poleAxis = _axisDirections[(i - 1) % _axisDirections.length];\n\n\t\t\t\tthis._blur(cubeUVRenderTarget, i - 1, i, sigma, poleAxis);\n\t\t\t}\n\n\t\t\trenderer.autoClear = autoClear;\n\t\t}\n\t\t/**\n\t\t * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n\t\t * vertically and horizontally, but this breaks down on a cube. Here we apply\n\t\t * the blur latitudinally (around the poles), and then longitudinally (towards\n\t\t * the poles) to approximate the orthogonally-separable blur. It is least\n\t\t * accurate at the poles, but still does a decent job.\n\t\t */\n\n\n\t\t_blur(cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis) {\n\t\t\tconst pingPongRenderTarget = this._pingPongRenderTarget;\n\n\t\t\tthis._halfBlur(cubeUVRenderTarget, pingPongRenderTarget, lodIn, lodOut, sigma, 'latitudinal', poleAxis);\n\n\t\t\tthis._halfBlur(pingPongRenderTarget, cubeUVRenderTarget, lodOut, lodOut, sigma, 'longitudinal', poleAxis);\n\t\t}\n\n\t\t_halfBlur(targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis) {\n\t\t\tconst renderer = this._renderer;\n\t\t\tconst blurMaterial = this._blurMaterial;\n\n\t\t\tif (direction !== 'latitudinal' && direction !== 'longitudinal') {\n\t\t\t\tconsole.error('blur direction must be either latitudinal or longitudinal!');\n\t\t\t} // Number of standard deviations at which to cut off the discrete approximation.\n\n\n\t\t\tconst STANDARD_DEVIATIONS = 3;\n\t\t\tconst blurMesh = new Mesh(_lodPlanes[lodOut], blurMaterial);\n\t\t\tconst blurUniforms = blurMaterial.uniforms;\n\t\t\tconst pixels = _sizeLods[lodIn] - 1;\n\t\t\tconst radiansPerPixel = isFinite(sigmaRadians) ? Math.PI / (2 * pixels) : 2 * Math.PI / (2 * MAX_SAMPLES - 1);\n\t\t\tconst sigmaPixels = sigmaRadians / radiansPerPixel;\n\t\t\tconst samples = isFinite(sigmaRadians) ? 1 + Math.floor(STANDARD_DEVIATIONS * sigmaPixels) : MAX_SAMPLES;\n\n\t\t\tif (samples > MAX_SAMPLES) {\n\t\t\t\tconsole.warn(`sigmaRadians, ${sigmaRadians}, is too large and will clip, as it requested ${samples} samples when the maximum is set to ${MAX_SAMPLES}`);\n\t\t\t}\n\n\t\t\tconst weights = [];\n\t\t\tlet sum = 0;\n\n\t\t\tfor (let i = 0; i < MAX_SAMPLES; ++i) {\n\t\t\t\tconst x = i / sigmaPixels;\n\t\t\t\tconst weight = Math.exp(-x * x / 2);\n\t\t\t\tweights.push(weight);\n\n\t\t\t\tif (i == 0) {\n\t\t\t\t\tsum += weight;\n\t\t\t\t} else if (i < samples) {\n\t\t\t\t\tsum += 2 * weight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < weights.length; i++) {\n\t\t\t\tweights[i] = weights[i] / sum;\n\t\t\t}\n\n\t\t\tblurUniforms['envMap'].value = targetIn.texture;\n\t\t\tblurUniforms['samples'].value = samples;\n\t\t\tblurUniforms['weights'].value = weights;\n\t\t\tblurUniforms['latitudinal'].value = direction === 'latitudinal';\n\n\t\t\tif (poleAxis) {\n\t\t\t\tblurUniforms['poleAxis'].value = poleAxis;\n\t\t\t}\n\n\t\t\tblurUniforms['dTheta'].value = radiansPerPixel;\n\t\t\tblurUniforms['mipInt'].value = LOD_MAX - lodIn;\n\t\t\tconst outputSize = _sizeLods[lodOut];\n\t\t\tconst x = 3 * Math.max(0, SIZE_MAX - 2 * outputSize);\n\t\t\tconst y = (lodOut === 0 ? 0 : 2 * SIZE_MAX) + 2 * outputSize * (lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0);\n\n\t\t\t_setViewport(targetOut, x, y, 3 * outputSize, 2 * outputSize);\n\n\t\t\trenderer.setRenderTarget(targetOut);\n\t\t\trenderer.render(blurMesh, _flatCamera);\n\t\t}\n\n\t}\n\n\tfunction _createPlanes() {\n\t\tconst _lodPlanes = [];\n\t\tconst _sizeLods = [];\n\t\tconst _sigmas = [];\n\t\tlet lod = LOD_MAX;\n\n\t\tfor (let i = 0; i < TOTAL_LODS; i++) {\n\t\t\tconst sizeLod = Math.pow(2, lod);\n\n\t\t\t_sizeLods.push(sizeLod);\n\n\t\t\tlet sigma = 1.0 / sizeLod;\n\n\t\t\tif (i > LOD_MAX - LOD_MIN) {\n\t\t\t\tsigma = EXTRA_LOD_SIGMA[i - LOD_MAX + LOD_MIN - 1];\n\t\t\t} else if (i == 0) {\n\t\t\t\tsigma = 0;\n\t\t\t}\n\n\t\t\t_sigmas.push(sigma);\n\n\t\t\tconst texelSize = 1.0 / (sizeLod - 1);\n\t\t\tconst min = -texelSize / 2;\n\t\t\tconst max = 1 + texelSize / 2;\n\t\t\tconst uv1 = [min, min, max, min, max, max, min, min, max, max, min, max];\n\t\t\tconst cubeFaces = 6;\n\t\t\tconst vertices = 6;\n\t\t\tconst positionSize = 3;\n\t\t\tconst uvSize = 2;\n\t\t\tconst faceIndexSize = 1;\n\t\t\tconst position = new Float32Array(positionSize * vertices * cubeFaces);\n\t\t\tconst uv = new Float32Array(uvSize * vertices * cubeFaces);\n\t\t\tconst faceIndex = new Float32Array(faceIndexSize * vertices * cubeFaces);\n\n\t\t\tfor (let face = 0; face < cubeFaces; face++) {\n\t\t\t\tconst x = face % 3 * 2 / 3 - 1;\n\t\t\t\tconst y = face > 2 ? 0 : -1;\n\t\t\t\tconst coordinates = [x, y, 0, x + 2 / 3, y, 0, x + 2 / 3, y + 1, 0, x, y, 0, x + 2 / 3, y + 1, 0, x, y + 1, 0];\n\t\t\t\tposition.set(coordinates, positionSize * vertices * face);\n\t\t\t\tuv.set(uv1, uvSize * vertices * face);\n\t\t\t\tconst fill = [face, face, face, face, face, face];\n\t\t\t\tfaceIndex.set(fill, faceIndexSize * vertices * face);\n\t\t\t}\n\n\t\t\tconst planes = new BufferGeometry();\n\t\t\tplanes.setAttribute('position', new BufferAttribute(position, positionSize));\n\t\t\tplanes.setAttribute('uv', new BufferAttribute(uv, uvSize));\n\t\t\tplanes.setAttribute('faceIndex', new BufferAttribute(faceIndex, faceIndexSize));\n\n\t\t\t_lodPlanes.push(planes);\n\n\t\t\tif (lod > LOD_MIN) {\n\t\t\t\tlod--;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\t_lodPlanes,\n\t\t\t_sizeLods,\n\t\t\t_sigmas\n\t\t};\n\t}\n\n\tfunction _createRenderTarget(params) {\n\t\tconst cubeUVRenderTarget = new WebGLRenderTarget(3 * SIZE_MAX, 3 * SIZE_MAX, params);\n\t\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n\t\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n\t\tcubeUVRenderTarget.scissorTest = true;\n\t\treturn cubeUVRenderTarget;\n\t}\n\n\tfunction _setViewport(target, x, y, width, height) {\n\t\ttarget.viewport.set(x, y, width, height);\n\t\ttarget.scissor.set(x, y, width, height);\n\t}\n\n\tfunction _getBlurShader(maxSamples) {\n\t\tconst weights = new Float32Array(maxSamples);\n\t\tconst poleAxis = new Vector3(0, 1, 0);\n\t\tconst shaderMaterial = new RawShaderMaterial({\n\t\t\tname: 'SphericalGaussianBlur',\n\t\t\tdefines: {\n\t\t\t\t'n': maxSamples\n\t\t\t},\n\t\t\tuniforms: {\n\t\t\t\t'envMap': {\n\t\t\t\t\tvalue: null\n\t\t\t\t},\n\t\t\t\t'samples': {\n\t\t\t\t\tvalue: 1\n\t\t\t\t},\n\t\t\t\t'weights': {\n\t\t\t\t\tvalue: weights\n\t\t\t\t},\n\t\t\t\t'latitudinal': {\n\t\t\t\t\tvalue: false\n\t\t\t\t},\n\t\t\t\t'dTheta': {\n\t\t\t\t\tvalue: 0\n\t\t\t\t},\n\t\t\t\t'mipInt': {\n\t\t\t\t\tvalue: 0\n\t\t\t\t},\n\t\t\t\t'poleAxis': {\n\t\t\t\t\tvalue: poleAxis\n\t\t\t\t}\n\t\t\t},\n\t\t\tvertexShader: _getCommonVertexShader(),\n\t\t\tfragmentShader:\n\t\t\t/* glsl */\n\t\t\t`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t${_getEncodings()}\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t`,\n\t\t\tblending: NoBlending,\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false\n\t\t});\n\t\treturn shaderMaterial;\n\t}\n\n\tfunction _getEquirectShader() {\n\t\tconst texelSize = new Vector2(1, 1);\n\t\tconst shaderMaterial = new RawShaderMaterial({\n\t\t\tname: 'EquirectangularToCubeUV',\n\t\t\tuniforms: {\n\t\t\t\t'envMap': {\n\t\t\t\t\tvalue: null\n\t\t\t\t},\n\t\t\t\t'texelSize': {\n\t\t\t\t\tvalue: texelSize\n\t\t\t\t},\n\t\t\t\t'inputEncoding': {\n\t\t\t\t\tvalue: ENCODINGS[LinearEncoding]\n\t\t\t\t}\n\t\t\t},\n\t\t\tvertexShader: _getCommonVertexShader(),\n\t\t\tfragmentShader:\n\t\t\t/* glsl */\n\t\t\t`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t${_getEncodings()}\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t}\n\t\t`,\n\t\t\tblending: NoBlending,\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false\n\t\t});\n\t\treturn shaderMaterial;\n\t}\n\n\tfunction _getCubemapShader() {\n\t\tconst shaderMaterial = new RawShaderMaterial({\n\t\t\tname: 'CubemapToCubeUV',\n\t\t\tuniforms: {\n\t\t\t\t'envMap': {\n\t\t\t\t\tvalue: null\n\t\t\t\t},\n\t\t\t\t'inputEncoding': {\n\t\t\t\t\tvalue: ENCODINGS[LinearEncoding]\n\t\t\t\t}\n\t\t\t},\n\t\t\tvertexShader: _getCommonVertexShader(),\n\t\t\tfragmentShader:\n\t\t\t/* glsl */\n\t\t\t`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t${_getEncodings()}\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) );\n\n\t\t\t}\n\t\t`,\n\t\t\tblending: NoBlending,\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false\n\t\t});\n\t\treturn shaderMaterial;\n\t}\n\n\tfunction _getCommonVertexShader() {\n\t\treturn (\n\t\t\t/* glsl */\n\t\t\t`\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t`\n\t\t);\n\t}\n\n\tfunction _getEncodings() {\n\t\treturn (\n\t\t\t/* glsl */\n\t\t\t`\n\n\t\tuniform int inputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t`\n\t\t);\n\t}\n\n\tfunction WebGLCubeUVMaps(renderer) {\n\t\tlet cubeUVmaps = new WeakMap();\n\t\tlet pmremGenerator = null;\n\n\t\tfunction get(texture) {\n\t\t\tif (texture && texture.isTexture && texture.isRenderTargetTexture === false) {\n\t\t\t\tconst mapping = texture.mapping;\n\t\t\t\tconst isEquirectMap = mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping;\n\t\t\t\tconst isCubeMap = mapping === CubeReflectionMapping || mapping === CubeRefractionMapping;\n\n\t\t\t\tif (isEquirectMap || isCubeMap) {\n\t\t\t\t\t// equirect/cube map to cubeUV conversion\n\t\t\t\t\tif (cubeUVmaps.has(texture)) {\n\t\t\t\t\t\treturn cubeUVmaps.get(texture).texture;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\t\tif (isEquirectMap && image && image.height > 0 || isCubeMap && image && isCubeTextureComplete(image)) {\n\t\t\t\t\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\t\t\t\t\t\t\tif (pmremGenerator === null) pmremGenerator = new PMREMGenerator(renderer);\n\t\t\t\t\t\t\tconst renderTarget = isEquirectMap ? pmremGenerator.fromEquirectangular(texture) : pmremGenerator.fromCubemap(texture);\n\t\t\t\t\t\t\tcubeUVmaps.set(texture, renderTarget);\n\t\t\t\t\t\t\trenderer.setRenderTarget(currentRenderTarget);\n\t\t\t\t\t\t\ttexture.addEventListener('dispose', onTextureDispose);\n\t\t\t\t\t\t\treturn renderTarget.texture;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn texture;\n\t\t}\n\n\t\tfunction isCubeTextureComplete(image) {\n\t\t\tlet count = 0;\n\t\t\tconst length = 6;\n\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tif (image[i] !== undefined) count++;\n\t\t\t}\n\n\t\t\treturn count === length;\n\t\t}\n\n\t\tfunction onTextureDispose(event) {\n\t\t\tconst texture = event.target;\n\t\t\ttexture.removeEventListener('dispose', onTextureDispose);\n\t\t\tconst cubemapUV = cubeUVmaps.get(texture);\n\n\t\t\tif (cubemapUV !== undefined) {\n\t\t\t\tcubeUVmaps.delete(texture);\n\t\t\t\tcubemapUV.dispose();\n\t\t\t}\n\t\t}\n\n\t\tfunction dispose() {\n\t\t\tcubeUVmaps = new WeakMap();\n\n\t\t\tif (pmremGenerator !== null) {\n\t\t\t\tpmremGenerator.dispose();\n\t\t\t\tpmremGenerator = null;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tget: get,\n\t\t\tdispose: dispose\n\t\t};\n\t}\n\n\tfunction WebGLExtensions(gl) {\n\t\tconst extensions = {};\n\n\t\tfunction getExtension(name) {\n\t\t\tif (extensions[name] !== undefined) {\n\t\t\t\treturn extensions[name];\n\t\t\t}\n\n\t\t\tlet extension;\n\n\t\t\tswitch (name) {\n\t\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\t\textension = gl.getExtension('WEBGL_depth_texture') || gl.getExtension('MOZ_WEBGL_depth_texture') || gl.getExtension('WEBKIT_WEBGL_depth_texture');\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\t\textension = gl.getExtension('EXT_texture_filter_anisotropic') || gl.getExtension('MOZ_EXT_texture_filter_anisotropic') || gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic');\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\t\textension = gl.getExtension('WEBGL_compressed_texture_s3tc') || gl.getExtension('MOZ_WEBGL_compressed_texture_s3tc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\t\textension = gl.getExtension('WEBGL_compressed_texture_pvrtc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\textension = gl.getExtension(name);\n\t\t\t}\n\n\t\t\textensions[name] = extension;\n\t\t\treturn extension;\n\t\t}\n\n\t\treturn {\n\t\t\thas: function (name) {\n\t\t\t\treturn getExtension(name) !== null;\n\t\t\t},\n\t\t\tinit: function (capabilities) {\n\t\t\t\tif (capabilities.isWebGL2) {\n\t\t\t\t\tgetExtension('EXT_color_buffer_float');\n\t\t\t\t} else {\n\t\t\t\t\tgetExtension('WEBGL_depth_texture');\n\t\t\t\t\tgetExtension('OES_texture_float');\n\t\t\t\t\tgetExtension('OES_texture_half_float');\n\t\t\t\t\tgetExtension('OES_texture_half_float_linear');\n\t\t\t\t\tgetExtension('OES_standard_derivatives');\n\t\t\t\t\tgetExtension('OES_element_index_uint');\n\t\t\t\t\tgetExtension('OES_vertex_array_object');\n\t\t\t\t\tgetExtension('ANGLE_instanced_arrays');\n\t\t\t\t}\n\n\t\t\t\tgetExtension('OES_texture_float_linear');\n\t\t\t\tgetExtension('EXT_color_buffer_half_float');\n\t\t\t\tgetExtension('WEBGL_multisampled_render_to_texture');\n\t\t\t},\n\t\t\tget: function (name) {\n\t\t\t\tconst extension = getExtension(name);\n\n\t\t\t\tif (extension === null) {\n\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: ' + name + ' extension not supported.');\n\t\t\t\t}\n\n\t\t\t\treturn extension;\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction WebGLGeometries(gl, attributes, info, bindingStates) {\n\t\tconst geometries = {};\n\t\tconst wireframeAttributes = new WeakMap();\n\n\t\tfunction onGeometryDispose(event) {\n\t\t\tconst geometry = event.target;\n\n\t\t\tif (geometry.index !== null) {\n\t\t\t\tattributes.remove(geometry.index);\n\t\t\t}\n\n\t\t\tfor (const name in geometry.attributes) {\n\t\t\t\tattributes.remove(geometry.attributes[name]);\n\t\t\t}\n\n\t\t\tgeometry.removeEventListener('dispose', onGeometryDispose);\n\t\t\tdelete geometries[geometry.id];\n\t\t\tconst attribute = wireframeAttributes.get(geometry);\n\n\t\t\tif (attribute) {\n\t\t\t\tattributes.remove(attribute);\n\t\t\t\twireframeAttributes.delete(geometry);\n\t\t\t}\n\n\t\t\tbindingStates.releaseStatesOfGeometry(geometry);\n\n\t\t\tif (geometry.isInstancedBufferGeometry === true) {\n\t\t\t\tdelete geometry._maxInstanceCount;\n\t\t\t} //\n\n\n\t\t\tinfo.memory.geometries--;\n\t\t}\n\n\t\tfunction get(object, geometry) {\n\t\t\tif (geometries[geometry.id] === true) return geometry;\n\t\t\tgeometry.addEventListener('dispose', onGeometryDispose);\n\t\t\tgeometries[geometry.id] = true;\n\t\t\tinfo.memory.geometries++;\n\t\t\treturn geometry;\n\t\t}\n\n\t\tfunction update(geometry) {\n\t\t\tconst geometryAttributes = geometry.attributes; // Updating index buffer in VAO now. See WebGLBindingStates.\n\n\t\t\tfor (const name in geometryAttributes) {\n\t\t\t\tattributes.update(geometryAttributes[name], gl.ARRAY_BUFFER);\n\t\t\t} // morph targets\n\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\t\tfor (const name in morphAttributes) {\n\t\t\t\tconst array = morphAttributes[name];\n\n\t\t\t\tfor (let i = 0, l = array.length; i < l; i++) {\n\t\t\t\t\tattributes.update(array[i], gl.ARRAY_BUFFER);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction updateWireframeAttribute(geometry) {\n\t\t\tconst indices = [];\n\t\t\tconst geometryIndex = geometry.index;\n\t\t\tconst geometryPosition = geometry.attributes.position;\n\t\t\tlet version = 0;\n\n\t\t\tif (geometryIndex !== null) {\n\t\t\t\tconst array = geometryIndex.array;\n\t\t\t\tversion = geometryIndex.version;\n\n\t\t\t\tfor (let i = 0, l = array.length; i < l; i += 3) {\n\t\t\t\t\tconst a = array[i + 0];\n\t\t\t\t\tconst b = array[i + 1];\n\t\t\t\t\tconst c = array[i + 2];\n\t\t\t\t\tindices.push(a, b, b, c, c, a);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst array = geometryPosition.array;\n\t\t\t\tversion = geometryPosition.version;\n\n\t\t\t\tfor (let i = 0, l = array.length / 3 - 1; i < l; i += 3) {\n\t\t\t\t\tconst a = i + 0;\n\t\t\t\t\tconst b = i + 1;\n\t\t\t\t\tconst c = i + 2;\n\t\t\t\t\tindices.push(a, b, b, c, c, a);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst attribute = new (arrayMax(indices) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute)(indices, 1);\n\t\t\tattribute.version = version; // Updating index buffer in VAO now. See WebGLBindingStates\n\t\t\t//\n\n\t\t\tconst previousAttribute = wireframeAttributes.get(geometry);\n\t\t\tif (previousAttribute) attributes.remove(previousAttribute); //\n\n\t\t\twireframeAttributes.set(geometry, attribute);\n\t\t}\n\n\t\tfunction getWireframeAttribute(geometry) {\n\t\t\tconst currentAttribute = wireframeAttributes.get(geometry);\n\n\t\t\tif (currentAttribute) {\n\t\t\t\tconst geometryIndex = geometry.index;\n\n\t\t\t\tif (geometryIndex !== null) {\n\t\t\t\t\t// if the attribute is obsolete, create a new one\n\t\t\t\t\tif (currentAttribute.version < geometryIndex.version) {\n\t\t\t\t\t\tupdateWireframeAttribute(geometry);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tupdateWireframeAttribute(geometry);\n\t\t\t}\n\n\t\t\treturn wireframeAttributes.get(geometry);\n\t\t}\n\n\t\treturn {\n\t\t\tget: get,\n\t\t\tupdate: update,\n\t\t\tgetWireframeAttribute: getWireframeAttribute\n\t\t};\n\t}\n\n\tfunction WebGLIndexedBufferRenderer(gl, extensions, info, capabilities) {\n\t\tconst isWebGL2 = capabilities.isWebGL2;\n\t\tlet mode;\n\n\t\tfunction setMode(value) {\n\t\t\tmode = value;\n\t\t}\n\n\t\tlet type, bytesPerElement;\n\n\t\tfunction setIndex(value) {\n\t\t\ttype = value.type;\n\t\t\tbytesPerElement = value.bytesPerElement;\n\t\t}\n\n\t\tfunction render(start, count) {\n\t\t\tgl.drawElements(mode, count, type, start * bytesPerElement);\n\t\t\tinfo.update(count, mode, 1);\n\t\t}\n\n\t\tfunction renderInstances(start, count, primcount) {\n\t\t\tif (primcount === 0) return;\n\t\t\tlet extension, methodName;\n\n\t\t\tif (isWebGL2) {\n\t\t\t\textension = gl;\n\t\t\t\tmethodName = 'drawElementsInstanced';\n\t\t\t} else {\n\t\t\t\textension = extensions.get('ANGLE_instanced_arrays');\n\t\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\t\tif (extension === null) {\n\t\t\t\t\tconsole.error('THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\textension[methodName](mode, count, type, start * bytesPerElement, primcount);\n\t\t\tinfo.update(count, mode, primcount);\n\t\t} //\n\n\n\t\tthis.setMode = setMode;\n\t\tthis.setIndex = setIndex;\n\t\tthis.render = render;\n\t\tthis.renderInstances = renderInstances;\n\t}\n\n\tfunction WebGLInfo(gl) {\n\t\tconst memory = {\n\t\t\tgeometries: 0,\n\t\t\ttextures: 0\n\t\t};\n\t\tconst render = {\n\t\t\tframe: 0,\n\t\t\tcalls: 0,\n\t\t\ttriangles: 0,\n\t\t\tpoints: 0,\n\t\t\tlines: 0\n\t\t};\n\n\t\tfunction update(count, mode, instanceCount) {\n\t\t\trender.calls++;\n\n\t\t\tswitch (mode) {\n\t\t\t\tcase gl.TRIANGLES:\n\t\t\t\t\trender.triangles += instanceCount * (count / 3);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase gl.LINES:\n\t\t\t\t\trender.lines += instanceCount * (count / 2);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase gl.LINE_STRIP:\n\t\t\t\t\trender.lines += instanceCount * (count - 1);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase gl.LINE_LOOP:\n\t\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase gl.POINTS:\n\t\t\t\t\trender.points += instanceCount * count;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.error('THREE.WebGLInfo: Unknown draw mode:', mode);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfunction reset() {\n\t\t\trender.frame++;\n\t\t\trender.calls = 0;\n\t\t\trender.triangles = 0;\n\t\t\trender.points = 0;\n\t\t\trender.lines = 0;\n\t\t}\n\n\t\treturn {\n\t\t\tmemory: memory,\n\t\t\trender: render,\n\t\t\tprograms: null,\n\t\t\tautoReset: true,\n\t\t\treset: reset,\n\t\t\tupdate: update\n\t\t};\n\t}\n\n\tclass DataTexture2DArray extends Texture {\n\t\tconstructor(data = null, width = 1, height = 1, depth = 1) {\n\t\t\tsuper(null);\n\t\t\tthis.image = {\n\t\t\t\tdata,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\tdepth\n\t\t\t};\n\t\t\tthis.magFilter = NearestFilter;\n\t\t\tthis.minFilter = NearestFilter;\n\t\t\tthis.wrapR = ClampToEdgeWrapping;\n\t\t\tthis.generateMipmaps = false;\n\t\t\tthis.flipY = false;\n\t\t\tthis.unpackAlignment = 1;\n\t\t}\n\n\t}\n\n\tDataTexture2DArray.prototype.isDataTexture2DArray = true;\n\n\tfunction numericalSort(a, b) {\n\t\treturn a[0] - b[0];\n\t}\n\n\tfunction absNumericalSort(a, b) {\n\t\treturn Math.abs(b[1]) - Math.abs(a[1]);\n\t}\n\n\tfunction denormalize(morph, attribute) {\n\t\tlet denominator = 1;\n\t\tconst array = attribute.isInterleavedBufferAttribute ? attribute.data.array : attribute.array;\n\t\tif (array instanceof Int8Array) denominator = 127;else if (array instanceof Int16Array) denominator = 32767;else if (array instanceof Int32Array) denominator = 2147483647;else console.error('THREE.WebGLMorphtargets: Unsupported morph attribute data type: ', array);\n\t\tmorph.divideScalar(denominator);\n\t}\n\n\tfunction WebGLMorphtargets(gl, capabilities, textures) {\n\t\tconst influencesList = {};\n\t\tconst morphInfluences = new Float32Array(8);\n\t\tconst morphTextures = new WeakMap();\n\t\tconst morph = new Vector3();\n\t\tconst workInfluences = [];\n\n\t\tfor (let i = 0; i < 8; i++) {\n\t\t\tworkInfluences[i] = [i, 0];\n\t\t}\n\n\t\tfunction update(object, geometry, material, program) {\n\t\t\tconst objectInfluences = object.morphTargetInfluences;\n\n\t\t\tif (capabilities.isWebGL2 === true) {\n\t\t\t\t// instead of using attributes, the WebGL 2 code path encodes morph targets\n\t\t\t\t// into an array of data textures. Each layer represents a single morph target.\n\t\t\t\tconst numberOfMorphTargets = geometry.morphAttributes.position.length;\n\t\t\t\tlet entry = morphTextures.get(geometry);\n\n\t\t\t\tif (entry === undefined || entry.count !== numberOfMorphTargets) {\n\t\t\t\t\tif (entry !== undefined) entry.texture.dispose();\n\t\t\t\t\tconst hasMorphNormals = geometry.morphAttributes.normal !== undefined;\n\t\t\t\t\tconst morphTargets = geometry.morphAttributes.position;\n\t\t\t\t\tconst morphNormals = geometry.morphAttributes.normal || [];\n\t\t\t\t\tconst numberOfVertices = geometry.attributes.position.count;\n\t\t\t\t\tconst numberOfVertexData = hasMorphNormals === true ? 2 : 1; // (v,n) vs. (v)\n\n\t\t\t\t\tlet width = numberOfVertices * numberOfVertexData;\n\t\t\t\t\tlet height = 1;\n\n\t\t\t\t\tif (width > capabilities.maxTextureSize) {\n\t\t\t\t\t\theight = Math.ceil(width / capabilities.maxTextureSize);\n\t\t\t\t\t\twidth = capabilities.maxTextureSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst buffer = new Float32Array(width * height * 4 * numberOfMorphTargets);\n\t\t\t\t\tconst texture = new DataTexture2DArray(buffer, width, height, numberOfMorphTargets);\n\t\t\t\t\ttexture.format = RGBAFormat; // using RGBA since RGB might be emulated (and is thus slower)\n\n\t\t\t\t\ttexture.type = FloatType;\n\t\t\t\t\ttexture.needsUpdate = true; // fill buffer\n\n\t\t\t\t\tconst vertexDataStride = numberOfVertexData * 4;\n\n\t\t\t\t\tfor (let i = 0; i < numberOfMorphTargets; i++) {\n\t\t\t\t\t\tconst morphTarget = morphTargets[i];\n\t\t\t\t\t\tconst morphNormal = morphNormals[i];\n\t\t\t\t\t\tconst offset = width * height * 4 * i;\n\n\t\t\t\t\t\tfor (let j = 0; j < morphTarget.count; j++) {\n\t\t\t\t\t\t\tmorph.fromBufferAttribute(morphTarget, j);\n\t\t\t\t\t\t\tif (morphTarget.normalized === true) denormalize(morph, morphTarget);\n\t\t\t\t\t\t\tconst stride = j * vertexDataStride;\n\t\t\t\t\t\t\tbuffer[offset + stride + 0] = morph.x;\n\t\t\t\t\t\t\tbuffer[offset + stride + 1] = morph.y;\n\t\t\t\t\t\t\tbuffer[offset + stride + 2] = morph.z;\n\t\t\t\t\t\t\tbuffer[offset + stride + 3] = 0;\n\n\t\t\t\t\t\t\tif (hasMorphNormals === true) {\n\t\t\t\t\t\t\t\tmorph.fromBufferAttribute(morphNormal, j);\n\t\t\t\t\t\t\t\tif (morphNormal.normalized === true) denormalize(morph, morphNormal);\n\t\t\t\t\t\t\t\tbuffer[offset + stride + 4] = morph.x;\n\t\t\t\t\t\t\t\tbuffer[offset + stride + 5] = morph.y;\n\t\t\t\t\t\t\t\tbuffer[offset + stride + 6] = morph.z;\n\t\t\t\t\t\t\t\tbuffer[offset + stride + 7] = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tentry = {\n\t\t\t\t\t\tcount: numberOfMorphTargets,\n\t\t\t\t\t\ttexture: texture,\n\t\t\t\t\t\tsize: new Vector2(width, height)\n\t\t\t\t\t};\n\t\t\t\t\tmorphTextures.set(geometry, entry);\n\t\t\t\t} //\n\n\n\t\t\t\tlet morphInfluencesSum = 0;\n\n\t\t\t\tfor (let i = 0; i < objectInfluences.length; i++) {\n\t\t\t\t\tmorphInfluencesSum += objectInfluences[i];\n\t\t\t\t}\n\n\t\t\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\t\t\t\tprogram.getUniforms().setValue(gl, 'morphTargetBaseInfluence', morphBaseInfluence);\n\t\t\t\tprogram.getUniforms().setValue(gl, 'morphTargetInfluences', objectInfluences);\n\t\t\t\tprogram.getUniforms().setValue(gl, 'morphTargetsTexture', entry.texture, textures);\n\t\t\t\tprogram.getUniforms().setValue(gl, 'morphTargetsTextureSize', entry.size);\n\t\t\t} else {\n\t\t\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\n\t\t\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\t\t\t\tconst length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\t\t\t\tlet influences = influencesList[geometry.id];\n\n\t\t\t\tif (influences === undefined || influences.length !== length) {\n\t\t\t\t\t// initialise list\n\t\t\t\t\tinfluences = [];\n\n\t\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\t\tinfluences[i] = [i, 0];\n\t\t\t\t\t}\n\n\t\t\t\t\tinfluencesList[geometry.id] = influences;\n\t\t\t\t} // Collect influences\n\n\n\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\tconst influence = influences[i];\n\t\t\t\t\tinfluence[0] = i;\n\t\t\t\t\tinfluence[1] = objectInfluences[i];\n\t\t\t\t}\n\n\t\t\t\tinfluences.sort(absNumericalSort);\n\n\t\t\t\tfor (let i = 0; i < 8; i++) {\n\t\t\t\t\tif (i < length && influences[i][1]) {\n\t\t\t\t\t\tworkInfluences[i][0] = influences[i][0];\n\t\t\t\t\t\tworkInfluences[i][1] = influences[i][1];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tworkInfluences[i][0] = Number.MAX_SAFE_INTEGER;\n\t\t\t\t\t\tworkInfluences[i][1] = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tworkInfluences.sort(numericalSort);\n\t\t\t\tconst morphTargets = geometry.morphAttributes.position;\n\t\t\t\tconst morphNormals = geometry.morphAttributes.normal;\n\t\t\t\tlet morphInfluencesSum = 0;\n\n\t\t\t\tfor (let i = 0; i < 8; i++) {\n\t\t\t\t\tconst influence = workInfluences[i];\n\t\t\t\t\tconst index = influence[0];\n\t\t\t\t\tconst value = influence[1];\n\n\t\t\t\t\tif (index !== Number.MAX_SAFE_INTEGER && value) {\n\t\t\t\t\t\tif (morphTargets && geometry.getAttribute('morphTarget' + i) !== morphTargets[index]) {\n\t\t\t\t\t\t\tgeometry.setAttribute('morphTarget' + i, morphTargets[index]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (morphNormals && geometry.getAttribute('morphNormal' + i) !== morphNormals[index]) {\n\t\t\t\t\t\t\tgeometry.setAttribute('morphNormal' + i, morphNormals[index]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmorphInfluences[i] = value;\n\t\t\t\t\t\tmorphInfluencesSum += value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (morphTargets && geometry.hasAttribute('morphTarget' + i) === true) {\n\t\t\t\t\t\t\tgeometry.deleteAttribute('morphTarget' + i);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (morphNormals && geometry.hasAttribute('morphNormal' + i) === true) {\n\t\t\t\t\t\t\tgeometry.deleteAttribute('morphNormal' + i);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmorphInfluences[i] = 0;\n\t\t\t\t\t}\n\t\t\t\t} // GLSL shader uses formula baseinfluence * base + sum(target * influence)\n\t\t\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\n\t\t\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\n\n\t\t\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\t\t\t\tprogram.getUniforms().setValue(gl, 'morphTargetBaseInfluence', morphBaseInfluence);\n\t\t\t\tprogram.getUniforms().setValue(gl, 'morphTargetInfluences', morphInfluences);\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tupdate: update\n\t\t};\n\t}\n\n\tfunction WebGLObjects(gl, geometries, attributes, info) {\n\t\tlet updateMap = new WeakMap();\n\n\t\tfunction update(object) {\n\t\t\tconst frame = info.render.frame;\n\t\t\tconst geometry = object.geometry;\n\t\t\tconst buffergeometry = geometries.get(object, geometry); // Update once per frame\n\n\t\t\tif (updateMap.get(buffergeometry) !== frame) {\n\t\t\t\tgeometries.update(buffergeometry);\n\t\t\t\tupdateMap.set(buffergeometry, frame);\n\t\t\t}\n\n\t\t\tif (object.isInstancedMesh) {\n\t\t\t\tif (object.hasEventListener('dispose', onInstancedMeshDispose) === false) {\n\t\t\t\t\tobject.addEventListener('dispose', onInstancedMeshDispose);\n\t\t\t\t}\n\n\t\t\t\tattributes.update(object.instanceMatrix, gl.ARRAY_BUFFER);\n\n\t\t\t\tif (object.instanceColor !== null) {\n\t\t\t\t\tattributes.update(object.instanceColor, gl.ARRAY_BUFFER);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn buffergeometry;\n\t\t}\n\n\t\tfunction dispose() {\n\t\t\tupdateMap = new WeakMap();\n\t\t}\n\n\t\tfunction onInstancedMeshDispose(event) {\n\t\t\tconst instancedMesh = event.target;\n\t\t\tinstancedMesh.removeEventListener('dispose', onInstancedMeshDispose);\n\t\t\tattributes.remove(instancedMesh.instanceMatrix);\n\t\t\tif (instancedMesh.instanceColor !== null) attributes.remove(instancedMesh.instanceColor);\n\t\t}\n\n\t\treturn {\n\t\t\tupdate: update,\n\t\t\tdispose: dispose\n\t\t};\n\t}\n\n\tclass DataTexture3D extends Texture {\n\t\tconstructor(data = null, width = 1, height = 1, depth = 1) {\n\t\t\t// We're going to add .setXXX() methods for setting properties later.\n\t\t\t// Users can still set in DataTexture3D directly.\n\t\t\t//\n\t\t\t//\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\n\t\t\t// \ttexture.anisotropy = 16;\n\t\t\t//\n\t\t\t// See #14839\n\t\t\tsuper(null);\n\t\t\tthis.image = {\n\t\t\t\tdata,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\tdepth\n\t\t\t};\n\t\t\tthis.magFilter = NearestFilter;\n\t\t\tthis.minFilter = NearestFilter;\n\t\t\tthis.wrapR = ClampToEdgeWrapping;\n\t\t\tthis.generateMipmaps = false;\n\t\t\tthis.flipY = false;\n\t\t\tthis.unpackAlignment = 1;\n\t\t}\n\n\t}\n\n\tDataTexture3D.prototype.isDataTexture3D = true;\n\n\t/**\n\t * Uniforms of a program.\n\t * Those form a tree structure with a special top-level container for the root,\n\t * which you get by calling 'new WebGLUniforms( gl, program )'.\n\t *\n\t *\n\t * Properties of inner nodes including the top-level container:\n\t *\n\t * .seq - array of nested uniforms\n\t * .map - nested uniforms by name\n\t *\n\t *\n\t * Methods of all nodes except the top-level container:\n\t *\n\t * .setValue( gl, value, [textures] )\n\t *\n\t * \t\tuploads a uniform value(s)\n\t *\t\tthe 'textures' parameter is needed for sampler uniforms\n\t *\n\t *\n\t * Static methods of the top-level container (textures factorizations):\n\t *\n\t * .upload( gl, seq, values, textures )\n\t *\n\t * \t\tsets uniforms in 'seq' to 'values[id].value'\n\t *\n\t * .seqWithValue( seq, values ) : filteredSeq\n\t *\n\t * \t\tfilters 'seq' entries with corresponding entry in values\n\t *\n\t *\n\t * Methods of the top-level container (textures factorizations):\n\t *\n\t * .setValue( gl, name, value, textures )\n\t *\n\t * \t\tsets uniform with\tname 'name' to 'value'\n\t *\n\t * .setOptional( gl, obj, prop )\n\t *\n\t * \t\tlike .set for an optional property of the object\n\t *\n\t */\n\tconst emptyTexture = new Texture();\n\tconst emptyTexture2dArray = new DataTexture2DArray();\n\tconst emptyTexture3d = new DataTexture3D();\n\tconst emptyCubeTexture = new CubeTexture(); // --- Utilities ---\n\t// Array Caches (provide typed arrays for temporary by size)\n\n\tconst arrayCacheF32 = [];\n\tconst arrayCacheI32 = []; // Float32Array caches used for uploading Matrix uniforms\n\n\tconst mat4array = new Float32Array(16);\n\tconst mat3array = new Float32Array(9);\n\tconst mat2array = new Float32Array(4); // Flattening for arrays of vectors and matrices\n\n\tfunction flatten(array, nBlocks, blockSize) {\n\t\tconst firstElem = array[0];\n\t\tif (firstElem <= 0 || firstElem > 0) return array; // unoptimized: ! isNaN( firstElem )\n\t\t// see http://jacksondunstan.com/articles/983\n\n\t\tconst n = nBlocks * blockSize;\n\t\tlet r = arrayCacheF32[n];\n\n\t\tif (r === undefined) {\n\t\t\tr = new Float32Array(n);\n\t\t\tarrayCacheF32[n] = r;\n\t\t}\n\n\t\tif (nBlocks !== 0) {\n\t\t\tfirstElem.toArray(r, 0);\n\n\t\t\tfor (let i = 1, offset = 0; i !== nBlocks; ++i) {\n\t\t\t\toffset += blockSize;\n\t\t\t\tarray[i].toArray(r, offset);\n\t\t\t}\n\t\t}\n\n\t\treturn r;\n\t}\n\n\tfunction arraysEqual(a, b) {\n\t\tif (a.length !== b.length) return false;\n\n\t\tfor (let i = 0, l = a.length; i < l; i++) {\n\t\t\tif (a[i] !== b[i]) return false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tfunction copyArray(a, b) {\n\t\tfor (let i = 0, l = b.length; i < l; i++) {\n\t\t\ta[i] = b[i];\n\t\t}\n\t} // Texture unit allocation\n\n\n\tfunction allocTexUnits(textures, n) {\n\t\tlet r = arrayCacheI32[n];\n\n\t\tif (r === undefined) {\n\t\t\tr = new Int32Array(n);\n\t\t\tarrayCacheI32[n] = r;\n\t\t}\n\n\t\tfor (let i = 0; i !== n; ++i) {\n\t\t\tr[i] = textures.allocateTextureUnit();\n\t\t}\n\n\t\treturn r;\n\t} // --- Setters ---\n\t// Note: Defining these methods externally, because they come in a bunch\n\t// and this way their names minify.\n\t// Single scalar\n\n\n\tfunction setValueV1f(gl, v) {\n\t\tconst cache = this.cache;\n\t\tif (cache[0] === v) return;\n\t\tgl.uniform1f(this.addr, v);\n\t\tcache[0] = v;\n\t} // Single float vector (from flat array or THREE.VectorN)\n\n\n\tfunction setValueV2f(gl, v) {\n\t\tconst cache = this.cache;\n\n\t\tif (v.x !== undefined) {\n\t\t\tif (cache[0] !== v.x || cache[1] !== v.y) {\n\t\t\t\tgl.uniform2f(this.addr, v.x, v.y);\n\t\t\t\tcache[0] = v.x;\n\t\t\t\tcache[1] = v.y;\n\t\t\t}\n\t\t} else {\n\t\t\tif (arraysEqual(cache, v)) return;\n\t\t\tgl.uniform2fv(this.addr, v);\n\t\t\tcopyArray(cache, v);\n\t\t}\n\t}\n\n\tfunction setValueV3f(gl, v) {\n\t\tconst cache = this.cache;\n\n\t\tif (v.x !== undefined) {\n\t\t\tif (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z) {\n\t\t\t\tgl.uniform3f(this.addr, v.x, v.y, v.z);\n\t\t\t\tcache[0] = v.x;\n\t\t\t\tcache[1] = v.y;\n\t\t\t\tcache[2] = v.z;\n\t\t\t}\n\t\t} else if (v.r !== undefined) {\n\t\t\tif (cache[0] !== v.r || cache[1] !== v.g || cache[2] !== v.b) {\n\t\t\t\tgl.uniform3f(this.addr, v.r, v.g, v.b);\n\t\t\t\tcache[0] = v.r;\n\t\t\t\tcache[1] = v.g;\n\t\t\t\tcache[2] = v.b;\n\t\t\t}\n\t\t} else {\n\t\t\tif (arraysEqual(cache, v)) return;\n\t\t\tgl.uniform3fv(this.addr, v);\n\t\t\tcopyArray(cache, v);\n\t\t}\n\t}\n\n\tfunction setValueV4f(gl, v) {\n\t\tconst cache = this.cache;\n\n\t\tif (v.x !== undefined) {\n\t\t\tif (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z || cache[3] !== v.w) {\n\t\t\t\tgl.uniform4f(this.addr, v.x, v.y, v.z, v.w);\n\t\t\t\tcache[0] = v.x;\n\t\t\t\tcache[1] = v.y;\n\t\t\t\tcache[2] = v.z;\n\t\t\t\tcache[3] = v.w;\n\t\t\t}\n\t\t} else {\n\t\t\tif (arraysEqual(cache, v)) return;\n\t\t\tgl.uniform4fv(this.addr, v);\n\t\t\tcopyArray(cache, v);\n\t\t}\n\t} // Single matrix (from flat array or THREE.MatrixN)\n\n\n\tfunction setValueM2(gl, v) {\n\t\tconst cache = this.cache;\n\t\tconst elements = v.elements;\n\n\t\tif (elements === undefined) {\n\t\t\tif (arraysEqual(cache, v)) return;\n\t\t\tgl.uniformMatrix2fv(this.addr, false, v);\n\t\t\tcopyArray(cache, v);\n\t\t} else {\n\t\t\tif (arraysEqual(cache, elements)) return;\n\t\t\tmat2array.set(elements);\n\t\t\tgl.uniformMatrix2fv(this.addr, false, mat2array);\n\t\t\tcopyArray(cache, elements);\n\t\t}\n\t}\n\n\tfunction setValueM3(gl, v) {\n\t\tconst cache = this.cache;\n\t\tconst elements = v.elements;\n\n\t\tif (elements === undefined) {\n\t\t\tif (arraysEqual(cache, v)) return;\n\t\t\tgl.uniformMatrix3fv(this.addr, false, v);\n\t\t\tcopyArray(cache, v);\n\t\t} else {\n\t\t\tif (arraysEqual(cache, elements)) return;\n\t\t\tmat3array.set(elements);\n\t\t\tgl.uniformMatrix3fv(this.addr, false, mat3array);\n\t\t\tcopyArray(cache, elements);\n\t\t}\n\t}\n\n\tfunction setValueM4(gl, v) {\n\t\tconst cache = this.cache;\n\t\tconst elements = v.elements;\n\n\t\tif (elements === undefined) {\n\t\t\tif (arraysEqual(cache, v)) return;\n\t\t\tgl.uniformMatrix4fv(this.addr, false, v);\n\t\t\tcopyArray(cache, v);\n\t\t} else {\n\t\t\tif (arraysEqual(cache, elements)) return;\n\t\t\tmat4array.set(elements);\n\t\t\tgl.uniformMatrix4fv(this.addr, false, mat4array);\n\t\t\tcopyArray(cache, elements);\n\t\t}\n\t} // Single integer / boolean\n\n\n\tfunction setValueV1i(gl, v) {\n\t\tconst cache = this.cache;\n\t\tif (cache[0] === v) return;\n\t\tgl.uniform1i(this.addr, v);\n\t\tcache[0] = v;\n\t} // Single integer / boolean vector (from flat array)\n\n\n\tfunction setValueV2i(gl, v) {\n\t\tconst cache = this.cache;\n\t\tif (arraysEqual(cache, v)) return;\n\t\tgl.uniform2iv(this.addr, v);\n\t\tcopyArray(cache, v);\n\t}\n\n\tfunction setValueV3i(gl, v) {\n\t\tconst cache = this.cache;\n\t\tif (arraysEqual(cache, v)) return;\n\t\tgl.uniform3iv(this.addr, v);\n\t\tcopyArray(cache, v);\n\t}\n\n\tfunction setValueV4i(gl, v) {\n\t\tconst cache = this.cache;\n\t\tif (arraysEqual(cache, v)) return;\n\t\tgl.uniform4iv(this.addr, v);\n\t\tcopyArray(cache, v);\n\t} // Single unsigned integer\n\n\n\tfunction setValueV1ui(gl, v) {\n\t\tconst cache = this.cache;\n\t\tif (cache[0] === v) return;\n\t\tgl.uniform1ui(this.addr, v);\n\t\tcache[0] = v;\n\t} // Single unsigned integer vector (from flat array)\n\n\n\tfunction setValueV2ui(gl, v) {\n\t\tconst cache = this.cache;\n\t\tif (arraysEqual(cache, v)) return;\n\t\tgl.uniform2uiv(this.addr, v);\n\t\tcopyArray(cache, v);\n\t}\n\n\tfunction setValueV3ui(gl, v) {\n\t\tconst cache = this.cache;\n\t\tif (arraysEqual(cache, v)) return;\n\t\tgl.uniform3uiv(this.addr, v);\n\t\tcopyArray(cache, v);\n\t}\n\n\tfunction setValueV4ui(gl, v) {\n\t\tconst cache = this.cache;\n\t\tif (arraysEqual(cache, v)) return;\n\t\tgl.uniform4uiv(this.addr, v);\n\t\tcopyArray(cache, v);\n\t} // Single texture (2D / Cube)\n\n\n\tfunction setValueT1(gl, v, textures) {\n\t\tconst cache = this.cache;\n\t\tconst unit = textures.allocateTextureUnit();\n\n\t\tif (cache[0] !== unit) {\n\t\t\tgl.uniform1i(this.addr, unit);\n\t\t\tcache[0] = unit;\n\t\t}\n\n\t\ttextures.safeSetTexture2D(v || emptyTexture, unit);\n\t}\n\n\tfunction setValueT3D1(gl, v, textures) {\n\t\tconst cache = this.cache;\n\t\tconst unit = textures.allocateTextureUnit();\n\n\t\tif (cache[0] !== unit) {\n\t\t\tgl.uniform1i(this.addr, unit);\n\t\t\tcache[0] = unit;\n\t\t}\n\n\t\ttextures.setTexture3D(v || emptyTexture3d, unit);\n\t}\n\n\tfunction setValueT6(gl, v, textures) {\n\t\tconst cache = this.cache;\n\t\tconst unit = textures.allocateTextureUnit();\n\n\t\tif (cache[0] !== unit) {\n\t\t\tgl.uniform1i(this.addr, unit);\n\t\t\tcache[0] = unit;\n\t\t}\n\n\t\ttextures.safeSetTextureCube(v || emptyCubeTexture, unit);\n\t}\n\n\tfunction setValueT2DArray1(gl, v, textures) {\n\t\tconst cache = this.cache;\n\t\tconst unit = textures.allocateTextureUnit();\n\n\t\tif (cache[0] !== unit) {\n\t\t\tgl.uniform1i(this.addr, unit);\n\t\t\tcache[0] = unit;\n\t\t}\n\n\t\ttextures.setTexture2DArray(v || emptyTexture2dArray, unit);\n\t} // Helper to pick the right setter for the singular case\n\n\n\tfunction getSingularSetter(type) {\n\t\tswitch (type) {\n\t\t\tcase 0x1406:\n\t\t\t\treturn setValueV1f;\n\t\t\t// FLOAT\n\n\t\t\tcase 0x8b50:\n\t\t\t\treturn setValueV2f;\n\t\t\t// _VEC2\n\n\t\t\tcase 0x8b51:\n\t\t\t\treturn setValueV3f;\n\t\t\t// _VEC3\n\n\t\t\tcase 0x8b52:\n\t\t\t\treturn setValueV4f;\n\t\t\t// _VEC4\n\n\t\t\tcase 0x8b5a:\n\t\t\t\treturn setValueM2;\n\t\t\t// _MAT2\n\n\t\t\tcase 0x8b5b:\n\t\t\t\treturn setValueM3;\n\t\t\t// _MAT3\n\n\t\t\tcase 0x8b5c:\n\t\t\t\treturn setValueM4;\n\t\t\t// _MAT4\n\n\t\t\tcase 0x1404:\n\t\t\tcase 0x8b56:\n\t\t\t\treturn setValueV1i;\n\t\t\t// INT, BOOL\n\n\t\t\tcase 0x8b53:\n\t\t\tcase 0x8b57:\n\t\t\t\treturn setValueV2i;\n\t\t\t// _VEC2\n\n\t\t\tcase 0x8b54:\n\t\t\tcase 0x8b58:\n\t\t\t\treturn setValueV3i;\n\t\t\t// _VEC3\n\n\t\t\tcase 0x8b55:\n\t\t\tcase 0x8b59:\n\t\t\t\treturn setValueV4i;\n\t\t\t// _VEC4\n\n\t\t\tcase 0x1405:\n\t\t\t\treturn setValueV1ui;\n\t\t\t// UINT\n\n\t\t\tcase 0x8dc6:\n\t\t\t\treturn setValueV2ui;\n\t\t\t// _VEC2\n\n\t\t\tcase 0x8dc7:\n\t\t\t\treturn setValueV3ui;\n\t\t\t// _VEC3\n\n\t\t\tcase 0x8dc8:\n\t\t\t\treturn setValueV4ui;\n\t\t\t// _VEC4\n\n\t\t\tcase 0x8b5e: // SAMPLER_2D\n\n\t\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\n\t\t\tcase 0x8dca: // INT_SAMPLER_2D\n\n\t\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\n\t\t\tcase 0x8b62:\n\t\t\t\t// SAMPLER_2D_SHADOW\n\t\t\t\treturn setValueT1;\n\n\t\t\tcase 0x8b5f: // SAMPLER_3D\n\n\t\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\n\t\t\tcase 0x8dd3:\n\t\t\t\t// UNSIGNED_INT_SAMPLER_3D\n\t\t\t\treturn setValueT3D1;\n\n\t\t\tcase 0x8b60: // SAMPLER_CUBE\n\n\t\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\n\t\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\n\t\t\tcase 0x8dc5:\n\t\t\t\t// SAMPLER_CUBE_SHADOW\n\t\t\t\treturn setValueT6;\n\n\t\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\n\t\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\n\t\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\n\t\t\tcase 0x8dc4:\n\t\t\t\t// SAMPLER_2D_ARRAY_SHADOW\n\t\t\t\treturn setValueT2DArray1;\n\t\t}\n\t} // Array of scalars\n\n\n\tfunction setValueV1fArray(gl, v) {\n\t\tgl.uniform1fv(this.addr, v);\n\t} // Array of vectors (from flat array or array of THREE.VectorN)\n\n\n\tfunction setValueV2fArray(gl, v) {\n\t\tconst data = flatten(v, this.size, 2);\n\t\tgl.uniform2fv(this.addr, data);\n\t}\n\n\tfunction setValueV3fArray(gl, v) {\n\t\tconst data = flatten(v, this.size, 3);\n\t\tgl.uniform3fv(this.addr, data);\n\t}\n\n\tfunction setValueV4fArray(gl, v) {\n\t\tconst data = flatten(v, this.size, 4);\n\t\tgl.uniform4fv(this.addr, data);\n\t} // Array of matrices (from flat array or array of THREE.MatrixN)\n\n\n\tfunction setValueM2Array(gl, v) {\n\t\tconst data = flatten(v, this.size, 4);\n\t\tgl.uniformMatrix2fv(this.addr, false, data);\n\t}\n\n\tfunction setValueM3Array(gl, v) {\n\t\tconst data = flatten(v, this.size, 9);\n\t\tgl.uniformMatrix3fv(this.addr, false, data);\n\t}\n\n\tfunction setValueM4Array(gl, v) {\n\t\tconst data = flatten(v, this.size, 16);\n\t\tgl.uniformMatrix4fv(this.addr, false, data);\n\t} // Array of integer / boolean\n\n\n\tfunction setValueV1iArray(gl, v) {\n\t\tgl.uniform1iv(this.addr, v);\n\t} // Array of integer / boolean vectors (from flat array)\n\n\n\tfunction setValueV2iArray(gl, v) {\n\t\tgl.uniform2iv(this.addr, v);\n\t}\n\n\tfunction setValueV3iArray(gl, v) {\n\t\tgl.uniform3iv(this.addr, v);\n\t}\n\n\tfunction setValueV4iArray(gl, v) {\n\t\tgl.uniform4iv(this.addr, v);\n\t} // Array of unsigned integer\n\n\n\tfunction setValueV1uiArray(gl, v) {\n\t\tgl.uniform1uiv(this.addr, v);\n\t} // Array of unsigned integer vectors (from flat array)\n\n\n\tfunction setValueV2uiArray(gl, v) {\n\t\tgl.uniform2uiv(this.addr, v);\n\t}\n\n\tfunction setValueV3uiArray(gl, v) {\n\t\tgl.uniform3uiv(this.addr, v);\n\t}\n\n\tfunction setValueV4uiArray(gl, v) {\n\t\tgl.uniform4uiv(this.addr, v);\n\t} // Array of textures (2D / 3D / Cube / 2DArray)\n\n\n\tfunction setValueT1Array(gl, v, textures) {\n\t\tconst n = v.length;\n\t\tconst units = allocTexUnits(textures, n);\n\t\tgl.uniform1iv(this.addr, units);\n\n\t\tfor (let i = 0; i !== n; ++i) {\n\t\t\ttextures.safeSetTexture2D(v[i] || emptyTexture, units[i]);\n\t\t}\n\t}\n\n\tfunction setValueT3DArray(gl, v, textures) {\n\t\tconst n = v.length;\n\t\tconst units = allocTexUnits(textures, n);\n\t\tgl.uniform1iv(this.addr, units);\n\n\t\tfor (let i = 0; i !== n; ++i) {\n\t\t\ttextures.setTexture3D(v[i] || emptyTexture3d, units[i]);\n\t\t}\n\t}\n\n\tfunction setValueT6Array(gl, v, textures) {\n\t\tconst n = v.length;\n\t\tconst units = allocTexUnits(textures, n);\n\t\tgl.uniform1iv(this.addr, units);\n\n\t\tfor (let i = 0; i !== n; ++i) {\n\t\t\ttextures.safeSetTextureCube(v[i] || emptyCubeTexture, units[i]);\n\t\t}\n\t}\n\n\tfunction setValueT2DArrayArray(gl, v, textures) {\n\t\tconst n = v.length;\n\t\tconst units = allocTexUnits(textures, n);\n\t\tgl.uniform1iv(this.addr, units);\n\n\t\tfor (let i = 0; i !== n; ++i) {\n\t\t\ttextures.setTexture2DArray(v[i] || emptyTexture2dArray, units[i]);\n\t\t}\n\t} // Helper to pick the right setter for a pure (bottom-level) array\n\n\n\tfunction getPureArraySetter(type) {\n\t\tswitch (type) {\n\t\t\tcase 0x1406:\n\t\t\t\treturn setValueV1fArray;\n\t\t\t// FLOAT\n\n\t\t\tcase 0x8b50:\n\t\t\t\treturn setValueV2fArray;\n\t\t\t// _VEC2\n\n\t\t\tcase 0x8b51:\n\t\t\t\treturn setValueV3fArray;\n\t\t\t// _VEC3\n\n\t\t\tcase 0x8b52:\n\t\t\t\treturn setValueV4fArray;\n\t\t\t// _VEC4\n\n\t\t\tcase 0x8b5a:\n\t\t\t\treturn setValueM2Array;\n\t\t\t// _MAT2\n\n\t\t\tcase 0x8b5b:\n\t\t\t\treturn setValueM3Array;\n\t\t\t// _MAT3\n\n\t\t\tcase 0x8b5c:\n\t\t\t\treturn setValueM4Array;\n\t\t\t// _MAT4\n\n\t\t\tcase 0x1404:\n\t\t\tcase 0x8b56:\n\t\t\t\treturn setValueV1iArray;\n\t\t\t// INT, BOOL\n\n\t\t\tcase 0x8b53:\n\t\t\tcase 0x8b57:\n\t\t\t\treturn setValueV2iArray;\n\t\t\t// _VEC2\n\n\t\t\tcase 0x8b54:\n\t\t\tcase 0x8b58:\n\t\t\t\treturn setValueV3iArray;\n\t\t\t// _VEC3\n\n\t\t\tcase 0x8b55:\n\t\t\tcase 0x8b59:\n\t\t\t\treturn setValueV4iArray;\n\t\t\t// _VEC4\n\n\t\t\tcase 0x1405:\n\t\t\t\treturn setValueV1uiArray;\n\t\t\t// UINT\n\n\t\t\tcase 0x8dc6:\n\t\t\t\treturn setValueV2uiArray;\n\t\t\t// _VEC2\n\n\t\t\tcase 0x8dc7:\n\t\t\t\treturn setValueV3uiArray;\n\t\t\t// _VEC3\n\n\t\t\tcase 0x8dc8:\n\t\t\t\treturn setValueV4uiArray;\n\t\t\t// _VEC4\n\n\t\t\tcase 0x8b5e: // SAMPLER_2D\n\n\t\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\n\t\t\tcase 0x8dca: // INT_SAMPLER_2D\n\n\t\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\n\t\t\tcase 0x8b62:\n\t\t\t\t// SAMPLER_2D_SHADOW\n\t\t\t\treturn setValueT1Array;\n\n\t\t\tcase 0x8b5f: // SAMPLER_3D\n\n\t\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\n\t\t\tcase 0x8dd3:\n\t\t\t\t// UNSIGNED_INT_SAMPLER_3D\n\t\t\t\treturn setValueT3DArray;\n\n\t\t\tcase 0x8b60: // SAMPLER_CUBE\n\n\t\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\n\t\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\n\t\t\tcase 0x8dc5:\n\t\t\t\t// SAMPLER_CUBE_SHADOW\n\t\t\t\treturn setValueT6Array;\n\n\t\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\n\t\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\n\t\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\n\t\t\tcase 0x8dc4:\n\t\t\t\t// SAMPLER_2D_ARRAY_SHADOW\n\t\t\t\treturn setValueT2DArrayArray;\n\t\t}\n\t} // --- Uniform Classes ---\n\n\n\tfunction SingleUniform(id, activeInfo, addr) {\n\t\tthis.id = id;\n\t\tthis.addr = addr;\n\t\tthis.cache = [];\n\t\tthis.setValue = getSingularSetter(activeInfo.type); // this.path = activeInfo.name; // DEBUG\n\t}\n\n\tfunction PureArrayUniform(id, activeInfo, addr) {\n\t\tthis.id = id;\n\t\tthis.addr = addr;\n\t\tthis.cache = [];\n\t\tthis.size = activeInfo.size;\n\t\tthis.setValue = getPureArraySetter(activeInfo.type); // this.path = activeInfo.name; // DEBUG\n\t}\n\n\tPureArrayUniform.prototype.updateCache = function (data) {\n\t\tconst cache = this.cache;\n\n\t\tif (data instanceof Float32Array && cache.length !== data.length) {\n\t\t\tthis.cache = new Float32Array(data.length);\n\t\t}\n\n\t\tcopyArray(cache, data);\n\t};\n\n\tfunction StructuredUniform(id) {\n\t\tthis.id = id;\n\t\tthis.seq = [];\n\t\tthis.map = {};\n\t}\n\n\tStructuredUniform.prototype.setValue = function (gl, value, textures) {\n\t\tconst seq = this.seq;\n\n\t\tfor (let i = 0, n = seq.length; i !== n; ++i) {\n\t\t\tconst u = seq[i];\n\t\t\tu.setValue(gl, value[u.id], textures);\n\t\t}\n\t}; // --- Top-level ---\n\t// Parser - builds up the property tree from the path strings\n\n\n\tconst RePathPart = /(\\w+)(\\])?(\\[|\\.)?/g; // extracts\n\t// \t- the identifier (member name or array index)\n\t//\t- followed by an optional right bracket (found when array index)\n\t//\t- followed by an optional left bracket or dot (type of subscript)\n\t//\n\t// Note: These portions can be read in a non-overlapping fashion and\n\t// allow straightforward parsing of the hierarchy that WebGL encodes\n\t// in the uniform names.\n\n\tfunction addUniform(container, uniformObject) {\n\t\tcontainer.seq.push(uniformObject);\n\t\tcontainer.map[uniformObject.id] = uniformObject;\n\t}\n\n\tfunction parseUniform(activeInfo, addr, container) {\n\t\tconst path = activeInfo.name,\n\t\t\t\t\tpathLength = path.length; // reset RegExp object, because of the early exit of a previous run\n\n\t\tRePathPart.lastIndex = 0;\n\n\t\twhile (true) {\n\t\t\tconst match = RePathPart.exec(path),\n\t\t\t\t\t\tmatchEnd = RePathPart.lastIndex;\n\t\t\tlet id = match[1];\n\t\t\tconst idIsIndex = match[2] === ']',\n\t\t\t\t\t\tsubscript = match[3];\n\t\t\tif (idIsIndex) id = id | 0; // convert to integer\n\n\t\t\tif (subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength) {\n\t\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\t\t\t\taddUniform(container, subscript === undefined ? new SingleUniform(id, activeInfo, addr) : new PureArrayUniform(id, activeInfo, addr));\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\t// step into inner node / create it in case it doesn't exist\n\t\t\t\tconst map = container.map;\n\t\t\t\tlet next = map[id];\n\n\t\t\t\tif (next === undefined) {\n\t\t\t\t\tnext = new StructuredUniform(id);\n\t\t\t\t\taddUniform(container, next);\n\t\t\t\t}\n\n\t\t\t\tcontainer = next;\n\t\t\t}\n\t\t}\n\t} // Root Container\n\n\n\tfunction WebGLUniforms(gl, program) {\n\t\tthis.seq = [];\n\t\tthis.map = {};\n\t\tconst n = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n\n\t\tfor (let i = 0; i < n; ++i) {\n\t\t\tconst info = gl.getActiveUniform(program, i),\n\t\t\t\t\t\taddr = gl.getUniformLocation(program, info.name);\n\t\t\tparseUniform(info, addr, this);\n\t\t}\n\t}\n\n\tWebGLUniforms.prototype.setValue = function (gl, name, value, textures) {\n\t\tconst u = this.map[name];\n\t\tif (u !== undefined) u.setValue(gl, value, textures);\n\t};\n\n\tWebGLUniforms.prototype.setOptional = function (gl, object, name) {\n\t\tconst v = object[name];\n\t\tif (v !== undefined) this.setValue(gl, name, v);\n\t}; // Static interface\n\n\n\tWebGLUniforms.upload = function (gl, seq, values, textures) {\n\t\tfor (let i = 0, n = seq.length; i !== n; ++i) {\n\t\t\tconst u = seq[i],\n\t\t\t\t\t\tv = values[u.id];\n\n\t\t\tif (v.needsUpdate !== false) {\n\t\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\t\tu.setValue(gl, v.value, textures);\n\t\t\t}\n\t\t}\n\t};\n\n\tWebGLUniforms.seqWithValue = function (seq, values) {\n\t\tconst r = [];\n\n\t\tfor (let i = 0, n = seq.length; i !== n; ++i) {\n\t\t\tconst u = seq[i];\n\t\t\tif (u.id in values) r.push(u);\n\t\t}\n\n\t\treturn r;\n\t};\n\n\tfunction WebGLShader(gl, type, string) {\n\t\tconst shader = gl.createShader(type);\n\t\tgl.shaderSource(shader, string);\n\t\tgl.compileShader(shader);\n\t\treturn shader;\n\t}\n\n\tlet programIdCount = 0;\n\n\tfunction addLineNumbers(string) {\n\t\tconst lines = string.split('\\n');\n\n\t\tfor (let i = 0; i < lines.length; i++) {\n\t\t\tlines[i] = i + 1 + ': ' + lines[i];\n\t\t}\n\n\t\treturn lines.join('\\n');\n\t}\n\n\tfunction getEncodingComponents(encoding) {\n\t\tswitch (encoding) {\n\t\t\tcase LinearEncoding:\n\t\t\t\treturn ['Linear', '( value )'];\n\n\t\t\tcase sRGBEncoding:\n\t\t\t\treturn ['sRGB', '( value )'];\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn('THREE.WebGLProgram: Unsupported encoding:', encoding);\n\t\t\t\treturn ['Linear', '( value )'];\n\t\t}\n\t}\n\n\tfunction getShaderErrors(gl, shader, type) {\n\t\tconst status = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n\t\tconst errors = gl.getShaderInfoLog(shader).trim();\n\t\tif (status && errors === '') return ''; // --enable-privileged-webgl-extension\n\t\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\t\treturn type.toUpperCase() + '\\n\\n' + errors + '\\n\\n' + addLineNumbers(gl.getShaderSource(shader));\n\t}\n\n\tfunction getTexelDecodingFunction(functionName, encoding) {\n\t\tconst components = getEncodingComponents(encoding);\n\t\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[0] + 'ToLinear' + components[1] + '; }';\n\t}\n\n\tfunction getTexelEncodingFunction(functionName, encoding) {\n\t\tconst components = getEncodingComponents(encoding);\n\t\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[0] + components[1] + '; }';\n\t}\n\n\tfunction getToneMappingFunction(functionName, toneMapping) {\n\t\tlet toneMappingName;\n\n\t\tswitch (toneMapping) {\n\t\t\tcase LinearToneMapping:\n\t\t\t\ttoneMappingName = 'Linear';\n\t\t\t\tbreak;\n\n\t\t\tcase ReinhardToneMapping:\n\t\t\t\ttoneMappingName = 'Reinhard';\n\t\t\t\tbreak;\n\n\t\t\tcase CineonToneMapping:\n\t\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\t\tbreak;\n\n\t\t\tcase ACESFilmicToneMapping:\n\t\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\t\tbreak;\n\n\t\t\tcase CustomToneMapping:\n\t\t\t\ttoneMappingName = 'Custom';\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn('THREE.WebGLProgram: Unsupported toneMapping:', toneMapping);\n\t\t\t\ttoneMappingName = 'Linear';\n\t\t}\n\n\t\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\t}\n\n\tfunction generateExtensions(parameters) {\n\t\tconst chunks = [parameters.extensionDerivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ? '#extension GL_OES_standard_derivatives : enable' : '', (parameters.extensionFragDepth || parameters.logarithmicDepthBuffer) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '', parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ? '#extension GL_EXT_draw_buffers : require' : '', (parameters.extensionShaderTextureLOD || parameters.envMap || parameters.transmission) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''];\n\t\treturn chunks.filter(filterEmptyLine).join('\\n');\n\t}\n\n\tfunction generateDefines(defines) {\n\t\tconst chunks = [];\n\n\t\tfor (const name in defines) {\n\t\t\tconst value = defines[name];\n\t\t\tif (value === false) continue;\n\t\t\tchunks.push('#define ' + name + ' ' + value);\n\t\t}\n\n\t\treturn chunks.join('\\n');\n\t}\n\n\tfunction fetchAttributeLocations(gl, program) {\n\t\tconst attributes = {};\n\t\tconst n = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n\n\t\tfor (let i = 0; i < n; i++) {\n\t\t\tconst info = gl.getActiveAttrib(program, i);\n\t\t\tconst name = info.name;\n\t\t\tlet locationSize = 1;\n\t\t\tif (info.type === gl.FLOAT_MAT2) locationSize = 2;\n\t\t\tif (info.type === gl.FLOAT_MAT3) locationSize = 3;\n\t\t\tif (info.type === gl.FLOAT_MAT4) locationSize = 4; // console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\t\tattributes[name] = {\n\t\t\t\ttype: info.type,\n\t\t\t\tlocation: gl.getAttribLocation(program, name),\n\t\t\t\tlocationSize: locationSize\n\t\t\t};\n\t\t}\n\n\t\treturn attributes;\n\t}\n\n\tfunction filterEmptyLine(string) {\n\t\treturn string !== '';\n\t}\n\n\tfunction replaceLightNums(string, parameters) {\n\t\treturn string.replace(/NUM_DIR_LIGHTS/g, parameters.numDirLights).replace(/NUM_SPOT_LIGHTS/g, parameters.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, parameters.numPointLights).replace(/NUM_HEMI_LIGHTS/g, parameters.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows);\n\t}\n\n\tfunction replaceClippingPlaneNums(string, parameters) {\n\t\treturn string.replace(/NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g, parameters.numClippingPlanes - parameters.numClipIntersection);\n\t} // Resolve Includes\n\n\n\tconst includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\n\tfunction resolveIncludes(string) {\n\t\treturn string.replace(includePattern, includeReplacer);\n\t}\n\n\tfunction includeReplacer(match, include) {\n\t\tconst string = ShaderChunk[include];\n\n\t\tif (string === undefined) {\n\t\t\tthrow new Error('Can not resolve #include <' + include + '>');\n\t\t}\n\n\t\treturn resolveIncludes(string);\n\t} // Unroll Loops\n\n\n\tconst deprecatedUnrollLoopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n\tconst unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\n\n\tfunction unrollLoops(string) {\n\t\treturn string.replace(unrollLoopPattern, loopReplacer).replace(deprecatedUnrollLoopPattern, deprecatedLoopReplacer);\n\t}\n\n\tfunction deprecatedLoopReplacer(match, start, end, snippet) {\n\t\tconsole.warn('WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.');\n\t\treturn loopReplacer(match, start, end, snippet);\n\t}\n\n\tfunction loopReplacer(match, start, end, snippet) {\n\t\tlet string = '';\n\n\t\tfor (let i = parseInt(start); i < parseInt(end); i++) {\n\t\t\tstring += snippet.replace(/\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]').replace(/UNROLLED_LOOP_INDEX/g, i);\n\t\t}\n\n\t\treturn string;\n\t} //\n\n\n\tfunction generatePrecision(parameters) {\n\t\tlet precisionstring = 'precision ' + parameters.precision + ' float;\\nprecision ' + parameters.precision + ' int;';\n\n\t\tif (parameters.precision === 'highp') {\n\t\t\tprecisionstring += '\\n#define HIGH_PRECISION';\n\t\t} else if (parameters.precision === 'mediump') {\n\t\t\tprecisionstring += '\\n#define MEDIUM_PRECISION';\n\t\t} else if (parameters.precision === 'lowp') {\n\t\t\tprecisionstring += '\\n#define LOW_PRECISION';\n\t\t}\n\n\t\treturn precisionstring;\n\t}\n\n\tfunction generateShadowMapTypeDefine(parameters) {\n\t\tlet shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\t\tif (parameters.shadowMapType === PCFShadowMap) {\n\t\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\t\t} else if (parameters.shadowMapType === PCFSoftShadowMap) {\n\t\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\t\t} else if (parameters.shadowMapType === VSMShadowMap) {\n\t\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\t\t}\n\n\t\treturn shadowMapTypeDefine;\n\t}\n\n\tfunction generateEnvMapTypeDefine(parameters) {\n\t\tlet envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n\t\tif (parameters.envMap) {\n\t\t\tswitch (parameters.envMapMode) {\n\t\t\t\tcase CubeReflectionMapping:\n\t\t\t\tcase CubeRefractionMapping:\n\t\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase CubeUVReflectionMapping:\n\t\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn envMapTypeDefine;\n\t}\n\n\tfunction generateEnvMapModeDefine(parameters) {\n\t\tlet envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n\t\tif (parameters.envMap) {\n\t\t\tswitch (parameters.envMapMode) {\n\t\t\t\tcase CubeRefractionMapping:\n\t\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn envMapModeDefine;\n\t}\n\n\tfunction generateEnvMapBlendingDefine(parameters) {\n\t\tlet envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n\t\tif (parameters.envMap) {\n\t\t\tswitch (parameters.combine) {\n\t\t\t\tcase MultiplyOperation:\n\t\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MixOperation:\n\t\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase AddOperation:\n\t\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn envMapBlendingDefine;\n\t}\n\n\tfunction WebGLProgram(renderer, cacheKey, parameters, bindingStates) {\n\t\t// TODO Send this event to Three.js DevTools\n\t\t// console.log( 'WebGLProgram', cacheKey );\n\t\tconst gl = renderer.getContext();\n\t\tconst defines = parameters.defines;\n\t\tlet vertexShader = parameters.vertexShader;\n\t\tlet fragmentShader = parameters.fragmentShader;\n\t\tconst shadowMapTypeDefine = generateShadowMapTypeDefine(parameters);\n\t\tconst envMapTypeDefine = generateEnvMapTypeDefine(parameters);\n\t\tconst envMapModeDefine = generateEnvMapModeDefine(parameters);\n\t\tconst envMapBlendingDefine = generateEnvMapBlendingDefine(parameters);\n\t\tconst customExtensions = parameters.isWebGL2 ? '' : generateExtensions(parameters);\n\t\tconst customDefines = generateDefines(defines);\n\t\tconst program = gl.createProgram();\n\t\tlet prefixVertex, prefixFragment;\n\t\tlet versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + '\\n' : '';\n\n\t\tif (parameters.isRawShaderMaterial) {\n\t\t\tprefixVertex = [customDefines].filter(filterEmptyLine).join('\\n');\n\n\t\t\tif (prefixVertex.length > 0) {\n\t\t\t\tprefixVertex += '\\n';\n\t\t\t}\n\n\t\t\tprefixFragment = [customExtensions, customDefines].filter(filterEmptyLine).join('\\n');\n\n\t\t\tif (prefixFragment.length > 0) {\n\t\t\t\tprefixFragment += '\\n';\n\t\t\t}\n\t\t} else {\n\t\t\tprefixVertex = [generatePrecision(parameters), '#define SHADER_NAME ' + parameters.shaderName, customDefines, parameters.instancing ? '#define USE_INSTANCING' : '', parameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '', parameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '', '#define MAX_BONES ' + parameters.maxBones, parameters.useFog && parameters.fog ? '#define USE_FOG' : '', parameters.useFog && parameters.fogExp2 ? '#define FOG_EXP2' : '', parameters.map ? '#define USE_MAP' : '', parameters.envMap ? '#define USE_ENVMAP' : '', parameters.envMap ? '#define ' + envMapModeDefine : '', parameters.lightMap ? '#define USE_LIGHTMAP' : '', parameters.aoMap ? '#define USE_AOMAP' : '', parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '', parameters.bumpMap ? '#define USE_BUMPMAP' : '', parameters.normalMap ? '#define USE_NORMALMAP' : '', parameters.normalMap && parameters.objectSpaceNormalMap ? '#define OBJECTSPACE_NORMALMAP' : '', parameters.normalMap && parameters.tangentSpaceNormalMap ? '#define TANGENTSPACE_NORMALMAP' : '', parameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '', parameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '', parameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '', parameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '', parameters.specularMap ? '#define USE_SPECULARMAP' : '', parameters.specularIntensityMap ? '#define USE_SPECULARINTENSITYMAP' : '', parameters.specularColorMap ? '#define USE_SPECULARCOLORMAP' : '', parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '', parameters.metalnessMap ? '#define USE_METALNESSMAP' : '', parameters.alphaMap ? '#define USE_ALPHAMAP' : '', parameters.transmission ? '#define USE_TRANSMISSION' : '', parameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '', parameters.thicknessMap ? '#define USE_THICKNESSMAP' : '', parameters.sheenColorMap ? '#define USE_SHEENCOLORMAP' : '', parameters.sheenRoughnessMap ? '#define USE_SHEENROUGHNESSMAP' : '', parameters.vertexTangents ? '#define USE_TANGENT' : '', parameters.vertexColors ? '#define USE_COLOR' : '', parameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '', parameters.vertexUvs ? '#define USE_UV' : '', parameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '', parameters.flatShading ? '#define FLAT_SHADED' : '', parameters.skinning ? '#define USE_SKINNING' : '', parameters.useVertexTexture ? '#define BONE_TEXTURE' : '', parameters.morphTargets ? '#define USE_MORPHTARGETS' : '', parameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '', parameters.morphTargets && parameters.isWebGL2 ? '#define MORPHTARGETS_TEXTURE' : '', parameters.morphTargets && parameters.isWebGL2 ? '#define MORPHTARGETS_COUNT ' + parameters.morphTargetsCount : '', parameters.doubleSided ? '#define DOUBLE_SIDED' : '', parameters.flipSided ? '#define FLIP_SIDED' : '', parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '', parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '', parameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '', parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '', parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ? '#define USE_LOGDEPTHBUF_EXT' : '', 'uniform mat4 modelMatrix;', 'uniform mat4 modelViewMatrix;', 'uniform mat4 projectionMatrix;', 'uniform mat4 viewMatrix;', 'uniform mat3 normalMatrix;', 'uniform vec3 cameraPosition;', 'uniform bool isOrthographic;', '#ifdef USE_INSTANCING', '\tattribute mat4 instanceMatrix;', '#endif', '#ifdef USE_INSTANCING_COLOR', '\tattribute vec3 instanceColor;', '#endif', 'attribute vec3 position;', 'attribute vec3 normal;', 'attribute vec2 uv;', '#ifdef USE_TANGENT', '\tattribute vec4 tangent;', '#endif', '#if defined( USE_COLOR_ALPHA )', '\tattribute vec4 color;', '#elif defined( USE_COLOR )', '\tattribute vec3 color;', '#endif', '#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )', '\tattribute vec3 morphTarget0;', '\tattribute vec3 morphTarget1;', '\tattribute vec3 morphTarget2;', '\tattribute vec3 morphTarget3;', '\t#ifdef USE_MORPHNORMALS', '\t\tattribute vec3 morphNormal0;', '\t\tattribute vec3 morphNormal1;', '\t\tattribute vec3 morphNormal2;', '\t\tattribute vec3 morphNormal3;', '\t#else', '\t\tattribute vec3 morphTarget4;', '\t\tattribute vec3 morphTarget5;', '\t\tattribute vec3 morphTarget6;', '\t\tattribute vec3 morphTarget7;', '\t#endif', '#endif', '#ifdef USE_SKINNING', '\tattribute vec4 skinIndex;', '\tattribute vec4 skinWeight;', '#endif', '\\n'].filter(filterEmptyLine).join('\\n');\n\t\t\tprefixFragment = [customExtensions, generatePrecision(parameters), '#define SHADER_NAME ' + parameters.shaderName, customDefines, parameters.useFog && parameters.fog ? '#define USE_FOG' : '', parameters.useFog && parameters.fogExp2 ? '#define FOG_EXP2' : '', parameters.map ? '#define USE_MAP' : '', parameters.matcap ? '#define USE_MATCAP' : '', parameters.envMap ? '#define USE_ENVMAP' : '', parameters.envMap ? '#define ' + envMapTypeDefine : '', parameters.envMap ? '#define ' + envMapModeDefine : '', parameters.envMap ? '#define ' + envMapBlendingDefine : '', parameters.lightMap ? '#define USE_LIGHTMAP' : '', parameters.aoMap ? '#define USE_AOMAP' : '', parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '', parameters.bumpMap ? '#define USE_BUMPMAP' : '', parameters.normalMap ? '#define USE_NORMALMAP' : '', parameters.normalMap && parameters.objectSpaceNormalMap ? '#define OBJECTSPACE_NORMALMAP' : '', parameters.normalMap && parameters.tangentSpaceNormalMap ? '#define TANGENTSPACE_NORMALMAP' : '', parameters.clearcoat ? '#define USE_CLEARCOAT' : '', parameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '', parameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '', parameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '', parameters.specularMap ? '#define USE_SPECULARMAP' : '', parameters.specularIntensityMap ? '#define USE_SPECULARINTENSITYMAP' : '', parameters.specularColorMap ? '#define USE_SPECULARCOLORMAP' : '', parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '', parameters.metalnessMap ? '#define USE_METALNESSMAP' : '', parameters.alphaMap ? '#define USE_ALPHAMAP' : '', parameters.alphaTest ? '#define USE_ALPHATEST' : '', parameters.sheen ? '#define USE_SHEEN' : '', parameters.sheenColorMap ? '#define USE_SHEENCOLORMAP' : '', parameters.sheenRoughnessMap ? '#define USE_SHEENROUGHNESSMAP' : '', parameters.transmission ? '#define USE_TRANSMISSION' : '', parameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '', parameters.thicknessMap ? '#define USE_THICKNESSMAP' : '', parameters.vertexTangents ? '#define USE_TANGENT' : '', parameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '', parameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '', parameters.vertexUvs ? '#define USE_UV' : '', parameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '', parameters.gradientMap ? '#define USE_GRADIENTMAP' : '', parameters.flatShading ? '#define FLAT_SHADED' : '', parameters.doubleSided ? '#define DOUBLE_SIDED' : '', parameters.flipSided ? '#define FLIP_SIDED' : '', parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '', parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '', parameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '', parameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '', parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '', parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ? '#define USE_LOGDEPTHBUF_EXT' : '', (parameters.extensionShaderTextureLOD || parameters.envMap) && parameters.rendererExtensionShaderTextureLod ? '#define TEXTURE_LOD_EXT' : '', 'uniform mat4 viewMatrix;', 'uniform vec3 cameraPosition;', 'uniform bool isOrthographic;', parameters.toneMapping !== NoToneMapping ? '#define TONE_MAPPING' : '', parameters.toneMapping !== NoToneMapping ? ShaderChunk['tonemapping_pars_fragment'] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\tparameters.toneMapping !== NoToneMapping ? getToneMappingFunction('toneMapping', parameters.toneMapping) : '', parameters.dithering ? '#define DITHERING' : '', parameters.format === RGBFormat ? '#define OPAQUE' : '', ShaderChunk['encodings_pars_fragment'], // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.map ? getTexelDecodingFunction('mapTexelToLinear', parameters.mapEncoding) : '', parameters.matcap ? getTexelDecodingFunction('matcapTexelToLinear', parameters.matcapEncoding) : '', parameters.envMap ? getTexelDecodingFunction('envMapTexelToLinear', parameters.envMapEncoding) : '', parameters.emissiveMap ? getTexelDecodingFunction('emissiveMapTexelToLinear', parameters.emissiveMapEncoding) : '', parameters.specularColorMap ? getTexelDecodingFunction('specularColorMapTexelToLinear', parameters.specularColorMapEncoding) : '', parameters.sheenColorMap ? getTexelDecodingFunction('sheenColorMapTexelToLinear', parameters.sheenColorMapEncoding) : '', parameters.lightMap ? getTexelDecodingFunction('lightMapTexelToLinear', parameters.lightMapEncoding) : '', getTexelEncodingFunction('linearToOutputTexel', parameters.outputEncoding), parameters.depthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '', '\\n'].filter(filterEmptyLine).join('\\n');\n\t\t}\n\n\t\tvertexShader = resolveIncludes(vertexShader);\n\t\tvertexShader = replaceLightNums(vertexShader, parameters);\n\t\tvertexShader = replaceClippingPlaneNums(vertexShader, parameters);\n\t\tfragmentShader = resolveIncludes(fragmentShader);\n\t\tfragmentShader = replaceLightNums(fragmentShader, parameters);\n\t\tfragmentShader = replaceClippingPlaneNums(fragmentShader, parameters);\n\t\tvertexShader = unrollLoops(vertexShader);\n\t\tfragmentShader = unrollLoops(fragmentShader);\n\n\t\tif (parameters.isWebGL2 && parameters.isRawShaderMaterial !== true) {\n\t\t\t// GLSL 3.0 conversion for built-in materials and ShaderMaterial\n\t\t\tversionString = '#version 300 es\\n';\n\t\t\tprefixVertex = ['precision mediump sampler2DArray;', '#define attribute in', '#define varying out', '#define texture2D texture'].join('\\n') + '\\n' + prefixVertex;\n\t\t\tprefixFragment = ['#define varying in', parameters.glslVersion === GLSL3 ? '' : 'layout(location = 0) out highp vec4 pc_fragColor;', parameters.glslVersion === GLSL3 ? '' : '#define gl_FragColor pc_fragColor', '#define gl_FragDepthEXT gl_FragDepth', '#define texture2D texture', '#define textureCube texture', '#define texture2DProj textureProj', '#define texture2DLodEXT textureLod', '#define texture2DProjLodEXT textureProjLod', '#define textureCubeLodEXT textureLod', '#define texture2DGradEXT textureGrad', '#define texture2DProjGradEXT textureProjGrad', '#define textureCubeGradEXT textureGrad'].join('\\n') + '\\n' + prefixFragment;\n\t\t}\n\n\t\tconst vertexGlsl = versionString + prefixVertex + vertexShader;\n\t\tconst fragmentGlsl = versionString + prefixFragment + fragmentShader; // console.log( '*VERTEX*', vertexGlsl );\n\t\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\t\tconst glVertexShader = WebGLShader(gl, gl.VERTEX_SHADER, vertexGlsl);\n\t\tconst glFragmentShader = WebGLShader(gl, gl.FRAGMENT_SHADER, fragmentGlsl);\n\t\tgl.attachShader(program, glVertexShader);\n\t\tgl.attachShader(program, glFragmentShader); // Force a particular attribute to index 0.\n\n\t\tif (parameters.index0AttributeName !== undefined) {\n\t\t\tgl.bindAttribLocation(program, 0, parameters.index0AttributeName);\n\t\t} else if (parameters.morphTargets === true) {\n\t\t\t// programs with morphTargets displace position out of attribute 0\n\t\t\tgl.bindAttribLocation(program, 0, 'position');\n\t\t}\n\n\t\tgl.linkProgram(program); // check for link errors\n\n\t\tif (renderer.debug.checkShaderErrors) {\n\t\t\tconst programLog = gl.getProgramInfoLog(program).trim();\n\t\t\tconst vertexLog = gl.getShaderInfoLog(glVertexShader).trim();\n\t\t\tconst fragmentLog = gl.getShaderInfoLog(glFragmentShader).trim();\n\t\t\tlet runnable = true;\n\t\t\tlet haveDiagnostics = true;\n\n\t\t\tif (gl.getProgramParameter(program, gl.LINK_STATUS) === false) {\n\t\t\t\trunnable = false;\n\t\t\t\tconst vertexErrors = getShaderErrors(gl, glVertexShader, 'vertex');\n\t\t\t\tconst fragmentErrors = getShaderErrors(gl, glFragmentShader, 'fragment');\n\t\t\t\tconsole.error('THREE.WebGLProgram: Shader Error ' + gl.getError() + ' - ' + 'VALIDATE_STATUS ' + gl.getProgramParameter(program, gl.VALIDATE_STATUS) + '\\n\\n' + 'Program Info Log: ' + programLog + '\\n' + vertexErrors + '\\n' + fragmentErrors);\n\t\t\t} else if (programLog !== '') {\n\t\t\t\tconsole.warn('THREE.WebGLProgram: Program Info Log:', programLog);\n\t\t\t} else if (vertexLog === '' || fragmentLog === '') {\n\t\t\t\thaveDiagnostics = false;\n\t\t\t}\n\n\t\t\tif (haveDiagnostics) {\n\t\t\t\tthis.diagnostics = {\n\t\t\t\t\trunnable: runnable,\n\t\t\t\t\tprogramLog: programLog,\n\t\t\t\t\tvertexShader: {\n\t\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\t\tprefix: prefixVertex\n\t\t\t\t\t},\n\t\t\t\t\tfragmentShader: {\n\t\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\t\tprefix: prefixFragment\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t} // Clean up\n\t\t// Crashes in iOS9 and iOS10. #18402\n\t\t// gl.detachShader( program, glVertexShader );\n\t\t// gl.detachShader( program, glFragmentShader );\n\n\n\t\tgl.deleteShader(glVertexShader);\n\t\tgl.deleteShader(glFragmentShader); // set up caching for uniform locations\n\n\t\tlet cachedUniforms;\n\n\t\tthis.getUniforms = function () {\n\t\t\tif (cachedUniforms === undefined) {\n\t\t\t\tcachedUniforms = new WebGLUniforms(gl, program);\n\t\t\t}\n\n\t\t\treturn cachedUniforms;\n\t\t}; // set up caching for attribute locations\n\n\n\t\tlet cachedAttributes;\n\n\t\tthis.getAttributes = function () {\n\t\t\tif (cachedAttributes === undefined) {\n\t\t\t\tcachedAttributes = fetchAttributeLocations(gl, program);\n\t\t\t}\n\n\t\t\treturn cachedAttributes;\n\t\t}; // free resource\n\n\n\t\tthis.destroy = function () {\n\t\t\tbindingStates.releaseStatesOfProgram(this);\n\t\t\tgl.deleteProgram(program);\n\t\t\tthis.program = undefined;\n\t\t}; //\n\n\n\t\tthis.name = parameters.shaderName;\n\t\tthis.id = programIdCount++;\n\t\tthis.cacheKey = cacheKey;\n\t\tthis.usedTimes = 1;\n\t\tthis.program = program;\n\t\tthis.vertexShader = glVertexShader;\n\t\tthis.fragmentShader = glFragmentShader;\n\t\treturn this;\n\t}\n\n\tlet _id = 0;\n\n\tclass WebGLShaderCache {\n\t\tconstructor() {\n\t\t\tthis.shaderCache = new Map();\n\t\t\tthis.materialCache = new Map();\n\t\t}\n\n\t\tupdate(material) {\n\t\t\tconst vertexShader = material.vertexShader;\n\t\t\tconst fragmentShader = material.fragmentShader;\n\n\t\t\tconst vertexShaderStage = this._getShaderStage(vertexShader);\n\n\t\t\tconst fragmentShaderStage = this._getShaderStage(fragmentShader);\n\n\t\t\tconst materialShaders = this._getShaderCacheForMaterial(material);\n\n\t\t\tif (materialShaders.has(vertexShaderStage) === false) {\n\t\t\t\tmaterialShaders.add(vertexShaderStage);\n\t\t\t\tvertexShaderStage.usedTimes++;\n\t\t\t}\n\n\t\t\tif (materialShaders.has(fragmentShaderStage) === false) {\n\t\t\t\tmaterialShaders.add(fragmentShaderStage);\n\t\t\t\tfragmentShaderStage.usedTimes++;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tremove(material) {\n\t\t\tconst materialShaders = this.materialCache.get(material);\n\n\t\t\tfor (const shaderStage of materialShaders) {\n\t\t\t\tshaderStage.usedTimes--;\n\t\t\t\tif (shaderStage.usedTimes === 0) this.shaderCache.delete(shaderStage);\n\t\t\t}\n\n\t\t\tthis.materialCache.delete(material);\n\t\t\treturn this;\n\t\t}\n\n\t\tgetVertexShaderID(material) {\n\t\t\treturn this._getShaderStage(material.vertexShader).id;\n\t\t}\n\n\t\tgetFragmentShaderID(material) {\n\t\t\treturn this._getShaderStage(material.fragmentShader).id;\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.shaderCache.clear();\n\t\t\tthis.materialCache.clear();\n\t\t}\n\n\t\t_getShaderCacheForMaterial(material) {\n\t\t\tconst cache = this.materialCache;\n\n\t\t\tif (cache.has(material) === false) {\n\t\t\t\tcache.set(material, new Set());\n\t\t\t}\n\n\t\t\treturn cache.get(material);\n\t\t}\n\n\t\t_getShaderStage(code) {\n\t\t\tconst cache = this.shaderCache;\n\n\t\t\tif (cache.has(code) === false) {\n\t\t\t\tconst stage = new WebGLShaderStage();\n\t\t\t\tcache.set(code, stage);\n\t\t\t}\n\n\t\t\treturn cache.get(code);\n\t\t}\n\n\t}\n\n\tclass WebGLShaderStage {\n\t\tconstructor() {\n\t\t\tthis.id = _id++;\n\t\t\tthis.usedTimes = 0;\n\t\t}\n\n\t}\n\n\tfunction WebGLPrograms(renderer, cubemaps, cubeuvmaps, extensions, capabilities, bindingStates, clipping) {\n\t\tconst _programLayers = new Layers();\n\n\t\tconst _customShaders = new WebGLShaderCache();\n\n\t\tconst programs = [];\n\t\tconst isWebGL2 = capabilities.isWebGL2;\n\t\tconst logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n\t\tconst floatVertexTextures = capabilities.floatVertexTextures;\n\t\tconst maxVertexUniforms = capabilities.maxVertexUniforms;\n\t\tconst vertexTextures = capabilities.vertexTextures;\n\t\tlet precision = capabilities.precision;\n\t\tconst shaderIDs = {\n\t\t\tMeshDepthMaterial: 'depth',\n\t\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\t\tMeshNormalMaterial: 'normal',\n\t\t\tMeshBasicMaterial: 'basic',\n\t\t\tMeshLambertMaterial: 'lambert',\n\t\t\tMeshPhongMaterial: 'phong',\n\t\t\tMeshToonMaterial: 'toon',\n\t\t\tMeshStandardMaterial: 'physical',\n\t\t\tMeshPhysicalMaterial: 'physical',\n\t\t\tMeshMatcapMaterial: 'matcap',\n\t\t\tLineBasicMaterial: 'basic',\n\t\t\tLineDashedMaterial: 'dashed',\n\t\t\tPointsMaterial: 'points',\n\t\t\tShadowMaterial: 'shadow',\n\t\t\tSpriteMaterial: 'sprite'\n\t\t};\n\n\t\tfunction getMaxBones(object) {\n\t\t\tconst skeleton = object.skeleton;\n\t\t\tconst bones = skeleton.bones;\n\n\t\t\tif (floatVertexTextures) {\n\t\t\t\treturn 1024;\n\t\t\t} else {\n\t\t\t\t// default for when object is not specified\n\t\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t\t//\n\t\t\t\t//\t- leave some extra space for other uniforms\n\t\t\t\t//\t- limit here is ANGLE's 254 max uniform vectors\n\t\t\t\t//\t\t(up to 54 should be safe)\n\t\t\t\tconst nVertexUniforms = maxVertexUniforms;\n\t\t\t\tconst nVertexMatrices = Math.floor((nVertexUniforms - 20) / 4);\n\t\t\t\tconst maxBones = Math.min(nVertexMatrices, bones.length);\n\n\t\t\t\tif (maxBones < bones.length) {\n\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.');\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn maxBones;\n\t\t\t}\n\t\t}\n\n\t\tfunction getTextureEncodingFromMap(map) {\n\t\t\tlet encoding;\n\n\t\t\tif (map && map.isTexture) {\n\t\t\t\tencoding = map.encoding;\n\t\t\t} else if (map && map.isWebGLRenderTarget) {\n\t\t\t\tconsole.warn('THREE.WebGLPrograms.getTextureEncodingFromMap: don\\'t use render targets as textures. Use their .texture property instead.');\n\t\t\t\tencoding = map.texture.encoding;\n\t\t\t} else {\n\t\t\t\tencoding = LinearEncoding;\n\t\t\t}\n\n\t\t\tif (isWebGL2 && map && map.isTexture && map.format === RGBAFormat && map.type === UnsignedByteType && map.encoding === sRGBEncoding) {\n\t\t\t\tencoding = LinearEncoding; // disable inline decode for sRGB textures in WebGL 2\n\t\t\t}\n\n\t\t\treturn encoding;\n\t\t}\n\n\t\tfunction getParameters(material, lights, shadows, scene, object) {\n\t\t\tconst fog = scene.fog;\n\t\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\t\tconst envMap = (material.isMeshStandardMaterial ? cubeuvmaps : cubemaps).get(material.envMap || environment);\n\t\t\tconst shaderID = shaderIDs[material.type]; // heuristics to create shader parameters according to lights in the scene\n\t\t\t// (not to blow over maxLights budget)\n\n\t\t\tconst maxBones = object.isSkinnedMesh ? getMaxBones(object) : 0;\n\n\t\t\tif (material.precision !== null) {\n\t\t\t\tprecision = capabilities.getMaxPrecision(material.precision);\n\n\t\t\t\tif (precision !== material.precision) {\n\t\t\t\t\tconsole.warn('THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet vertexShader, fragmentShader;\n\t\t\tlet customVertexShaderID, customFragmentShaderID;\n\n\t\t\tif (shaderID) {\n\t\t\t\tconst shader = ShaderLib[shaderID];\n\t\t\t\tvertexShader = shader.vertexShader;\n\t\t\t\tfragmentShader = shader.fragmentShader;\n\t\t\t} else {\n\t\t\t\tvertexShader = material.vertexShader;\n\t\t\t\tfragmentShader = material.fragmentShader;\n\n\t\t\t\t_customShaders.update(material);\n\n\t\t\t\tcustomVertexShaderID = _customShaders.getVertexShaderID(material);\n\t\t\t\tcustomFragmentShaderID = _customShaders.getFragmentShaderID(material);\n\t\t\t}\n\n\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\t\t\tconst useAlphaTest = material.alphaTest > 0;\n\t\t\tconst useClearcoat = material.clearcoat > 0;\n\t\t\tconst parameters = {\n\t\t\t\tisWebGL2: isWebGL2,\n\t\t\t\tshaderID: shaderID,\n\t\t\t\tshaderName: material.type,\n\t\t\t\tvertexShader: vertexShader,\n\t\t\t\tfragmentShader: fragmentShader,\n\t\t\t\tdefines: material.defines,\n\t\t\t\tcustomVertexShaderID: customVertexShaderID,\n\t\t\t\tcustomFragmentShaderID: customFragmentShaderID,\n\t\t\t\tisRawShaderMaterial: material.isRawShaderMaterial === true,\n\t\t\t\tglslVersion: material.glslVersion,\n\t\t\t\tprecision: precision,\n\t\t\t\tinstancing: object.isInstancedMesh === true,\n\t\t\t\tinstancingColor: object.isInstancedMesh === true && object.instanceColor !== null,\n\t\t\t\tsupportsVertexTextures: vertexTextures,\n\t\t\t\toutputEncoding: currentRenderTarget !== null ? getTextureEncodingFromMap(currentRenderTarget.texture) : renderer.outputEncoding,\n\t\t\t\tmap: !!material.map,\n\t\t\t\tmapEncoding: getTextureEncodingFromMap(material.map),\n\t\t\t\tmatcap: !!material.matcap,\n\t\t\t\tmatcapEncoding: getTextureEncodingFromMap(material.matcap),\n\t\t\t\tenvMap: !!envMap,\n\t\t\t\tenvMapMode: envMap && envMap.mapping,\n\t\t\t\tenvMapEncoding: getTextureEncodingFromMap(envMap),\n\t\t\t\tenvMapCubeUV: !!envMap && (envMap.mapping === CubeUVReflectionMapping || envMap.mapping === CubeUVRefractionMapping),\n\t\t\t\tlightMap: !!material.lightMap,\n\t\t\t\tlightMapEncoding: getTextureEncodingFromMap(material.lightMap),\n\t\t\t\taoMap: !!material.aoMap,\n\t\t\t\temissiveMap: !!material.emissiveMap,\n\t\t\t\temissiveMapEncoding: getTextureEncodingFromMap(material.emissiveMap),\n\t\t\t\tbumpMap: !!material.bumpMap,\n\t\t\t\tnormalMap: !!material.normalMap,\n\t\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n\t\t\t\tclearcoat: useClearcoat,\n\t\t\t\tclearcoatMap: useClearcoat && !!material.clearcoatMap,\n\t\t\t\tclearcoatRoughnessMap: useClearcoat && !!material.clearcoatRoughnessMap,\n\t\t\t\tclearcoatNormalMap: useClearcoat && !!material.clearcoatNormalMap,\n\t\t\t\tdisplacementMap: !!material.displacementMap,\n\t\t\t\troughnessMap: !!material.roughnessMap,\n\t\t\t\tmetalnessMap: !!material.metalnessMap,\n\t\t\t\tspecularMap: !!material.specularMap,\n\t\t\t\tspecularIntensityMap: !!material.specularIntensityMap,\n\t\t\t\tspecularColorMap: !!material.specularColorMap,\n\t\t\t\tspecularColorMapEncoding: getTextureEncodingFromMap(material.specularColorMap),\n\t\t\t\talphaMap: !!material.alphaMap,\n\t\t\t\talphaTest: useAlphaTest,\n\t\t\t\tgradientMap: !!material.gradientMap,\n\t\t\t\tsheen: material.sheen > 0,\n\t\t\t\tsheenColorMap: !!material.sheenColorMap,\n\t\t\t\tsheenColorMapEncoding: getTextureEncodingFromMap(material.sheenColorMap),\n\t\t\t\tsheenRoughnessMap: !!material.sheenRoughnessMap,\n\t\t\t\ttransmission: material.transmission > 0,\n\t\t\t\ttransmissionMap: !!material.transmissionMap,\n\t\t\t\tthicknessMap: !!material.thicknessMap,\n\t\t\t\tcombine: material.combine,\n\t\t\t\tvertexTangents: !!material.normalMap && !!object.geometry && !!object.geometry.attributes.tangent,\n\t\t\t\tvertexColors: material.vertexColors,\n\t\t\t\tvertexAlphas: material.vertexColors === true && !!object.geometry && !!object.geometry.attributes.color && object.geometry.attributes.color.itemSize === 4,\n\t\t\t\tvertexUvs: !!material.map || !!material.bumpMap || !!material.normalMap || !!material.specularMap || !!material.alphaMap || !!material.emissiveMap || !!material.roughnessMap || !!material.metalnessMap || !!material.clearcoatMap || !!material.clearcoatRoughnessMap || !!material.clearcoatNormalMap || !!material.displacementMap || !!material.transmissionMap || !!material.thicknessMap || !!material.specularIntensityMap || !!material.specularColorMap || !!material.sheenColorMap || !!material.sheenRoughnessMap,\n\t\t\t\tuvsVertexOnly: !(!!material.map || !!material.bumpMap || !!material.normalMap || !!material.specularMap || !!material.alphaMap || !!material.emissiveMap || !!material.roughnessMap || !!material.metalnessMap || !!material.clearcoatNormalMap || material.transmission > 0 || !!material.transmissionMap || !!material.thicknessMap || !!material.specularIntensityMap || !!material.specularColorMap || material.sheen > 0 || !!material.sheenColorMap || !!material.sheenRoughnessMap) && !!material.displacementMap,\n\t\t\t\tfog: !!fog,\n\t\t\t\tuseFog: material.fog,\n\t\t\t\tfogExp2: fog && fog.isFogExp2,\n\t\t\t\tflatShading: !!material.flatShading,\n\t\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\t\t\t\tskinning: object.isSkinnedMesh === true && maxBones > 0,\n\t\t\t\tmaxBones: maxBones,\n\t\t\t\tuseVertexTexture: floatVertexTextures,\n\t\t\t\tmorphTargets: !!object.geometry && !!object.geometry.morphAttributes.position,\n\t\t\t\tmorphNormals: !!object.geometry && !!object.geometry.morphAttributes.normal,\n\t\t\t\tmorphTargetsCount: !!object.geometry && !!object.geometry.morphAttributes.position ? object.geometry.morphAttributes.position.length : 0,\n\t\t\t\tnumDirLights: lights.directional.length,\n\t\t\t\tnumPointLights: lights.point.length,\n\t\t\t\tnumSpotLights: lights.spot.length,\n\t\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\t\tnumHemiLights: lights.hemi.length,\n\t\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\t\t\t\tnumClippingPlanes: clipping.numPlanes,\n\t\t\t\tnumClipIntersection: clipping.numIntersection,\n\t\t\t\tformat: material.format,\n\t\t\t\tdithering: material.dithering,\n\t\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n\t\t\t\tshadowMapType: renderer.shadowMap.type,\n\t\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\t\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\t\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\t\tflipSided: material.side === BackSide,\n\t\t\t\tdepthPacking: material.depthPacking !== undefined ? material.depthPacking : false,\n\t\t\t\tindex0AttributeName: material.index0AttributeName,\n\t\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\n\t\t\t\textensionFragDepth: material.extensions && material.extensions.fragDepth,\n\t\t\t\textensionDrawBuffers: material.extensions && material.extensions.drawBuffers,\n\t\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n\t\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.has('EXT_frag_depth'),\n\t\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.has('WEBGL_draw_buffers'),\n\t\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.has('EXT_shader_texture_lod'),\n\t\t\t\tcustomProgramCacheKey: material.customProgramCacheKey()\n\t\t\t};\n\t\t\treturn parameters;\n\t\t}\n\n\t\tfunction getProgramCacheKey(parameters) {\n\t\t\tconst array = [];\n\n\t\t\tif (parameters.shaderID) {\n\t\t\t\tarray.push(parameters.shaderID);\n\t\t\t} else {\n\t\t\t\tarray.push(parameters.customVertexShaderID);\n\t\t\t\tarray.push(parameters.customFragmentShaderID);\n\t\t\t}\n\n\t\t\tif (parameters.defines !== undefined) {\n\t\t\t\tfor (const name in parameters.defines) {\n\t\t\t\t\tarray.push(name);\n\t\t\t\t\tarray.push(parameters.defines[name]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (parameters.isRawShaderMaterial === false) {\n\t\t\t\tgetProgramCacheKeyParameters(array, parameters);\n\t\t\t\tgetProgramCacheKeyBooleans(array, parameters);\n\t\t\t\tarray.push(renderer.outputEncoding);\n\t\t\t}\n\n\t\t\tarray.push(parameters.customProgramCacheKey);\n\t\t\treturn array.join();\n\t\t}\n\n\t\tfunction getProgramCacheKeyParameters(array, parameters) {\n\t\t\tarray.push(parameters.precision);\n\t\t\tarray.push(parameters.outputEncoding);\n\t\t\tarray.push(parameters.mapEncoding);\n\t\t\tarray.push(parameters.matcapEncoding);\n\t\t\tarray.push(parameters.envMapMode);\n\t\t\tarray.push(parameters.envMapEncoding);\n\t\t\tarray.push(parameters.lightMapEncoding);\n\t\t\tarray.push(parameters.emissiveMapEncoding);\n\t\t\tarray.push(parameters.combine);\n\t\t\tarray.push(parameters.vertexUvs);\n\t\t\tarray.push(parameters.fogExp2);\n\t\t\tarray.push(parameters.sizeAttenuation);\n\t\t\tarray.push(parameters.maxBones);\n\t\t\tarray.push(parameters.morphTargetsCount);\n\t\t\tarray.push(parameters.numDirLights);\n\t\t\tarray.push(parameters.numPointLights);\n\t\t\tarray.push(parameters.numSpotLights);\n\t\t\tarray.push(parameters.numHemiLights);\n\t\t\tarray.push(parameters.numRectAreaLights);\n\t\t\tarray.push(parameters.numDirLightShadows);\n\t\t\tarray.push(parameters.numPointLightShadows);\n\t\t\tarray.push(parameters.numSpotLightShadows);\n\t\t\tarray.push(parameters.shadowMapType);\n\t\t\tarray.push(parameters.toneMapping);\n\t\t\tarray.push(parameters.numClippingPlanes);\n\t\t\tarray.push(parameters.numClipIntersection);\n\t\t\tarray.push(parameters.format);\n\t\t\tarray.push(parameters.specularColorMapEncoding);\n\t\t\tarray.push(parameters.sheenColorMapEncoding);\n\t\t}\n\n\t\tfunction getProgramCacheKeyBooleans(array, parameters) {\n\t\t\t_programLayers.disableAll();\n\n\t\t\tif (parameters.isWebGL2) _programLayers.enable(0);\n\t\t\tif (parameters.supportsVertexTextures) _programLayers.enable(1);\n\t\t\tif (parameters.instancing) _programLayers.enable(2);\n\t\t\tif (parameters.instancingColor) _programLayers.enable(3);\n\t\t\tif (parameters.map) _programLayers.enable(4);\n\t\t\tif (parameters.matcap) _programLayers.enable(5);\n\t\t\tif (parameters.envMap) _programLayers.enable(6);\n\t\t\tif (parameters.envMapCubeUV) _programLayers.enable(7);\n\t\t\tif (parameters.lightMap) _programLayers.enable(8);\n\t\t\tif (parameters.aoMap) _programLayers.enable(9);\n\t\t\tif (parameters.emissiveMap) _programLayers.enable(10);\n\t\t\tif (parameters.bumpMap) _programLayers.enable(11);\n\t\t\tif (parameters.normalMap) _programLayers.enable(12);\n\t\t\tif (parameters.objectSpaceNormalMap) _programLayers.enable(13);\n\t\t\tif (parameters.tangentSpaceNormalMap) _programLayers.enable(14);\n\t\t\tif (parameters.clearcoat) _programLayers.enable(15);\n\t\t\tif (parameters.clearcoatMap) _programLayers.enable(16);\n\t\t\tif (parameters.clearcoatRoughnessMap) _programLayers.enable(17);\n\t\t\tif (parameters.clearcoatNormalMap) _programLayers.enable(18);\n\t\t\tif (parameters.displacementMap) _programLayers.enable(19);\n\t\t\tif (parameters.specularMap) _programLayers.enable(20);\n\t\t\tif (parameters.roughnessMap) _programLayers.enable(21);\n\t\t\tif (parameters.metalnessMap) _programLayers.enable(22);\n\t\t\tif (parameters.gradientMap) _programLayers.enable(23);\n\t\t\tif (parameters.alphaMap) _programLayers.enable(24);\n\t\t\tif (parameters.alphaTest) _programLayers.enable(25);\n\t\t\tif (parameters.vertexColors) _programLayers.enable(26);\n\t\t\tif (parameters.vertexAlphas) _programLayers.enable(27);\n\t\t\tif (parameters.vertexUvs) _programLayers.enable(28);\n\t\t\tif (parameters.vertexTangents) _programLayers.enable(29);\n\t\t\tif (parameters.uvsVertexOnly) _programLayers.enable(30);\n\t\t\tif (parameters.fog) _programLayers.enable(31);\n\t\t\tarray.push(_programLayers.mask);\n\n\t\t\t_programLayers.disableAll();\n\n\t\t\tif (parameters.useFog) _programLayers.enable(0);\n\t\t\tif (parameters.flatShading) _programLayers.enable(1);\n\t\t\tif (parameters.logarithmicDepthBuffer) _programLayers.enable(2);\n\t\t\tif (parameters.skinning) _programLayers.enable(3);\n\t\t\tif (parameters.useVertexTexture) _programLayers.enable(4);\n\t\t\tif (parameters.morphTargets) _programLayers.enable(5);\n\t\t\tif (parameters.morphNormals) _programLayers.enable(6);\n\t\t\tif (parameters.premultipliedAlpha) _programLayers.enable(7);\n\t\t\tif (parameters.shadowMapEnabled) _programLayers.enable(8);\n\t\t\tif (parameters.physicallyCorrectLights) _programLayers.enable(9);\n\t\t\tif (parameters.doubleSided) _programLayers.enable(10);\n\t\t\tif (parameters.flipSided) _programLayers.enable(11);\n\t\t\tif (parameters.depthPacking) _programLayers.enable(12);\n\t\t\tif (parameters.dithering) _programLayers.enable(13);\n\t\t\tif (parameters.specularIntensityMap) _programLayers.enable(14);\n\t\t\tif (parameters.specularColorMap) _programLayers.enable(15);\n\t\t\tif (parameters.transmission) _programLayers.enable(16);\n\t\t\tif (parameters.transmissionMap) _programLayers.enable(17);\n\t\t\tif (parameters.thicknessMap) _programLayers.enable(18);\n\t\t\tif (parameters.sheen) _programLayers.enable(19);\n\t\t\tif (parameters.sheenColorMap) _programLayers.enable(20);\n\t\t\tif (parameters.sheenRoughnessMap) _programLayers.enable(21);\n\t\t\tarray.push(_programLayers.mask);\n\t\t}\n\n\t\tfunction getUniforms(material) {\n\t\t\tconst shaderID = shaderIDs[material.type];\n\t\t\tlet uniforms;\n\n\t\t\tif (shaderID) {\n\t\t\t\tconst shader = ShaderLib[shaderID];\n\t\t\t\tuniforms = UniformsUtils.clone(shader.uniforms);\n\t\t\t} else {\n\t\t\t\tuniforms = material.uniforms;\n\t\t\t}\n\n\t\t\treturn uniforms;\n\t\t}\n\n\t\tfunction acquireProgram(parameters, cacheKey) {\n\t\t\tlet program; // Check if code has been already compiled\n\n\t\t\tfor (let p = 0, pl = programs.length; p < pl; p++) {\n\t\t\t\tconst preexistingProgram = programs[p];\n\n\t\t\t\tif (preexistingProgram.cacheKey === cacheKey) {\n\t\t\t\t\tprogram = preexistingProgram;\n\t\t\t\t\t++program.usedTimes;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (program === undefined) {\n\t\t\t\tprogram = new WebGLProgram(renderer, cacheKey, parameters, bindingStates);\n\t\t\t\tprograms.push(program);\n\t\t\t}\n\n\t\t\treturn program;\n\t\t}\n\n\t\tfunction releaseProgram(program) {\n\t\t\tif (--program.usedTimes === 0) {\n\t\t\t\t// Remove from unordered set\n\t\t\t\tconst i = programs.indexOf(program);\n\t\t\t\tprograms[i] = programs[programs.length - 1];\n\t\t\t\tprograms.pop(); // Free WebGL resources\n\n\t\t\t\tprogram.destroy();\n\t\t\t}\n\t\t}\n\n\t\tfunction releaseShaderCache(material) {\n\t\t\t_customShaders.remove(material);\n\t\t}\n\n\t\tfunction dispose() {\n\t\t\t_customShaders.dispose();\n\t\t}\n\n\t\treturn {\n\t\t\tgetParameters: getParameters,\n\t\t\tgetProgramCacheKey: getProgramCacheKey,\n\t\t\tgetUniforms: getUniforms,\n\t\t\tacquireProgram: acquireProgram,\n\t\t\treleaseProgram: releaseProgram,\n\t\t\treleaseShaderCache: releaseShaderCache,\n\t\t\t// Exposed for resource monitoring & error feedback via renderer.info:\n\t\t\tprograms: programs,\n\t\t\tdispose: dispose\n\t\t};\n\t}\n\n\tfunction WebGLProperties() {\n\t\tlet properties = new WeakMap();\n\n\t\tfunction get(object) {\n\t\t\tlet map = properties.get(object);\n\n\t\t\tif (map === undefined) {\n\t\t\t\tmap = {};\n\t\t\t\tproperties.set(object, map);\n\t\t\t}\n\n\t\t\treturn map;\n\t\t}\n\n\t\tfunction remove(object) {\n\t\t\tproperties.delete(object);\n\t\t}\n\n\t\tfunction update(object, key, value) {\n\t\t\tproperties.get(object)[key] = value;\n\t\t}\n\n\t\tfunction dispose() {\n\t\t\tproperties = new WeakMap();\n\t\t}\n\n\t\treturn {\n\t\t\tget: get,\n\t\t\tremove: remove,\n\t\t\tupdate: update,\n\t\t\tdispose: dispose\n\t\t};\n\t}\n\n\tfunction painterSortStable(a, b) {\n\t\tif (a.groupOrder !== b.groupOrder) {\n\t\t\treturn a.groupOrder - b.groupOrder;\n\t\t} else if (a.renderOrder !== b.renderOrder) {\n\t\t\treturn a.renderOrder - b.renderOrder;\n\t\t} else if (a.material.id !== b.material.id) {\n\t\t\treturn a.material.id - b.material.id;\n\t\t} else if (a.z !== b.z) {\n\t\t\treturn a.z - b.z;\n\t\t} else {\n\t\t\treturn a.id - b.id;\n\t\t}\n\t}\n\n\tfunction reversePainterSortStable(a, b) {\n\t\tif (a.groupOrder !== b.groupOrder) {\n\t\t\treturn a.groupOrder - b.groupOrder;\n\t\t} else if (a.renderOrder !== b.renderOrder) {\n\t\t\treturn a.renderOrder - b.renderOrder;\n\t\t} else if (a.z !== b.z) {\n\t\t\treturn b.z - a.z;\n\t\t} else {\n\t\t\treturn a.id - b.id;\n\t\t}\n\t}\n\n\tfunction WebGLRenderList() {\n\t\tconst renderItems = [];\n\t\tlet renderItemsIndex = 0;\n\t\tconst opaque = [];\n\t\tconst transmissive = [];\n\t\tconst transparent = [];\n\n\t\tfunction init() {\n\t\t\trenderItemsIndex = 0;\n\t\t\topaque.length = 0;\n\t\t\ttransmissive.length = 0;\n\t\t\ttransparent.length = 0;\n\t\t}\n\n\t\tfunction getNextRenderItem(object, geometry, material, groupOrder, z, group) {\n\t\t\tlet renderItem = renderItems[renderItemsIndex];\n\n\t\t\tif (renderItem === undefined) {\n\t\t\t\trenderItem = {\n\t\t\t\t\tid: object.id,\n\t\t\t\t\tobject: object,\n\t\t\t\t\tgeometry: geometry,\n\t\t\t\t\tmaterial: material,\n\t\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\t\tz: z,\n\t\t\t\t\tgroup: group\n\t\t\t\t};\n\t\t\t\trenderItems[renderItemsIndex] = renderItem;\n\t\t\t} else {\n\t\t\t\trenderItem.id = object.id;\n\t\t\t\trenderItem.object = object;\n\t\t\t\trenderItem.geometry = geometry;\n\t\t\t\trenderItem.material = material;\n\t\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\t\trenderItem.z = z;\n\t\t\t\trenderItem.group = group;\n\t\t\t}\n\n\t\t\trenderItemsIndex++;\n\t\t\treturn renderItem;\n\t\t}\n\n\t\tfunction push(object, geometry, material, groupOrder, z, group) {\n\t\t\tconst renderItem = getNextRenderItem(object, geometry, material, groupOrder, z, group);\n\n\t\t\tif (material.transmission > 0.0) {\n\t\t\t\ttransmissive.push(renderItem);\n\t\t\t} else if (material.transparent === true) {\n\t\t\t\ttransparent.push(renderItem);\n\t\t\t} else {\n\t\t\t\topaque.push(renderItem);\n\t\t\t}\n\t\t}\n\n\t\tfunction unshift(object, geometry, material, groupOrder, z, group) {\n\t\t\tconst renderItem = getNextRenderItem(object, geometry, material, groupOrder, z, group);\n\n\t\t\tif (material.transmission > 0.0) {\n\t\t\t\ttransmissive.unshift(renderItem);\n\t\t\t} else if (material.transparent === true) {\n\t\t\t\ttransparent.unshift(renderItem);\n\t\t\t} else {\n\t\t\t\topaque.unshift(renderItem);\n\t\t\t}\n\t\t}\n\n\t\tfunction sort(customOpaqueSort, customTransparentSort) {\n\t\t\tif (opaque.length > 1) opaque.sort(customOpaqueSort || painterSortStable);\n\t\t\tif (transmissive.length > 1) transmissive.sort(customTransparentSort || reversePainterSortStable);\n\t\t\tif (transparent.length > 1) transparent.sort(customTransparentSort || reversePainterSortStable);\n\t\t}\n\n\t\tfunction finish() {\n\t\t\t// Clear references from inactive renderItems in the list\n\t\t\tfor (let i = renderItemsIndex, il = renderItems.length; i < il; i++) {\n\t\t\t\tconst renderItem = renderItems[i];\n\t\t\t\tif (renderItem.id === null) break;\n\t\t\t\trenderItem.id = null;\n\t\t\t\trenderItem.object = null;\n\t\t\t\trenderItem.geometry = null;\n\t\t\t\trenderItem.material = null;\n\t\t\t\trenderItem.group = null;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\topaque: opaque,\n\t\t\ttransmissive: transmissive,\n\t\t\ttransparent: transparent,\n\t\t\tinit: init,\n\t\t\tpush: push,\n\t\t\tunshift: unshift,\n\t\t\tfinish: finish,\n\t\t\tsort: sort\n\t\t};\n\t}\n\n\tfunction WebGLRenderLists() {\n\t\tlet lists = new WeakMap();\n\n\t\tfunction get(scene, renderCallDepth) {\n\t\t\tlet list;\n\n\t\t\tif (lists.has(scene) === false) {\n\t\t\t\tlist = new WebGLRenderList();\n\t\t\t\tlists.set(scene, [list]);\n\t\t\t} else {\n\t\t\t\tif (renderCallDepth >= lists.get(scene).length) {\n\t\t\t\t\tlist = new WebGLRenderList();\n\t\t\t\t\tlists.get(scene).push(list);\n\t\t\t\t} else {\n\t\t\t\t\tlist = lists.get(scene)[renderCallDepth];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list;\n\t\t}\n\n\t\tfunction dispose() {\n\t\t\tlists = new WeakMap();\n\t\t}\n\n\t\treturn {\n\t\t\tget: get,\n\t\t\tdispose: dispose\n\t\t};\n\t}\n\n\tfunction UniformsCache() {\n\t\tconst lights = {};\n\t\treturn {\n\t\t\tget: function (light) {\n\t\t\t\tif (lights[light.id] !== undefined) {\n\t\t\t\t\treturn lights[light.id];\n\t\t\t\t}\n\n\t\t\t\tlet uniforms;\n\n\t\t\t\tswitch (light.type) {\n\t\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\t\tuniforms = {\n\t\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\t\tcolor: new Color()\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SpotLight':\n\t\t\t\t\t\tuniforms = {\n\t\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PointLight':\n\t\t\t\t\t\tuniforms = {\n\t\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\t\tuniforms = {\n\t\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\t\tuniforms = {\n\t\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tlights[light.id] = uniforms;\n\t\t\t\treturn uniforms;\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction ShadowUniformsCache() {\n\t\tconst lights = {};\n\t\treturn {\n\t\t\tget: function (light) {\n\t\t\t\tif (lights[light.id] !== undefined) {\n\t\t\t\t\treturn lights[light.id];\n\t\t\t\t}\n\n\t\t\t\tlet uniforms;\n\n\t\t\t\tswitch (light.type) {\n\t\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\t\tuniforms = {\n\t\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SpotLight':\n\t\t\t\t\t\tuniforms = {\n\t\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PointLight':\n\t\t\t\t\t\tuniforms = {\n\t\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\t\t\t\t}\n\n\t\t\t\tlights[light.id] = uniforms;\n\t\t\t\treturn uniforms;\n\t\t\t}\n\t\t};\n\t}\n\n\tlet nextVersion = 0;\n\n\tfunction shadowCastingLightsFirst(lightA, lightB) {\n\t\treturn (lightB.castShadow ? 1 : 0) - (lightA.castShadow ? 1 : 0);\n\t}\n\n\tfunction WebGLLights(extensions, capabilities) {\n\t\tconst cache = new UniformsCache();\n\t\tconst shadowCache = ShadowUniformsCache();\n\t\tconst state = {\n\t\t\tversion: 0,\n\t\t\thash: {\n\t\t\t\tdirectionalLength: -1,\n\t\t\t\tpointLength: -1,\n\t\t\t\tspotLength: -1,\n\t\t\t\trectAreaLength: -1,\n\t\t\t\themiLength: -1,\n\t\t\t\tnumDirectionalShadows: -1,\n\t\t\t\tnumPointShadows: -1,\n\t\t\t\tnumSpotShadows: -1\n\t\t\t},\n\t\t\tambient: [0, 0, 0],\n\t\t\tprobe: [],\n\t\t\tdirectional: [],\n\t\t\tdirectionalShadow: [],\n\t\t\tdirectionalShadowMap: [],\n\t\t\tdirectionalShadowMatrix: [],\n\t\t\tspot: [],\n\t\t\tspotShadow: [],\n\t\t\tspotShadowMap: [],\n\t\t\tspotShadowMatrix: [],\n\t\t\trectArea: [],\n\t\t\trectAreaLTC1: null,\n\t\t\trectAreaLTC2: null,\n\t\t\tpoint: [],\n\t\t\tpointShadow: [],\n\t\t\tpointShadowMap: [],\n\t\t\tpointShadowMatrix: [],\n\t\t\themi: []\n\t\t};\n\n\t\tfor (let i = 0; i < 9; i++) state.probe.push(new Vector3());\n\n\t\tconst vector3 = new Vector3();\n\t\tconst matrix4 = new Matrix4();\n\t\tconst matrix42 = new Matrix4();\n\n\t\tfunction setup(lights, physicallyCorrectLights) {\n\t\t\tlet r = 0,\n\t\t\t\t\tg = 0,\n\t\t\t\t\tb = 0;\n\n\t\t\tfor (let i = 0; i < 9; i++) state.probe[i].set(0, 0, 0);\n\n\t\t\tlet directionalLength = 0;\n\t\t\tlet pointLength = 0;\n\t\t\tlet spotLength = 0;\n\t\t\tlet rectAreaLength = 0;\n\t\t\tlet hemiLength = 0;\n\t\t\tlet numDirectionalShadows = 0;\n\t\t\tlet numPointShadows = 0;\n\t\t\tlet numSpotShadows = 0;\n\t\t\tlights.sort(shadowCastingLightsFirst); // artist-friendly light intensity scaling factor\n\n\t\t\tconst scaleFactor = physicallyCorrectLights !== true ? Math.PI : 1;\n\n\t\t\tfor (let i = 0, l = lights.length; i < l; i++) {\n\t\t\t\tconst light = lights[i];\n\t\t\t\tconst color = light.color;\n\t\t\t\tconst intensity = light.intensity;\n\t\t\t\tconst distance = light.distance;\n\t\t\t\tconst shadowMap = light.shadow && light.shadow.map ? light.shadow.map.texture : null;\n\n\t\t\t\tif (light.isAmbientLight) {\n\t\t\t\t\tr += color.r * intensity * scaleFactor;\n\t\t\t\t\tg += color.g * intensity * scaleFactor;\n\t\t\t\t\tb += color.b * intensity * scaleFactor;\n\t\t\t\t} else if (light.isLightProbe) {\n\t\t\t\t\tfor (let j = 0; j < 9; j++) {\n\t\t\t\t\t\tstate.probe[j].addScaledVector(light.sh.coefficients[j], intensity);\n\t\t\t\t\t}\n\t\t\t\t} else if (light.isDirectionalLight) {\n\t\t\t\t\tconst uniforms = cache.get(light);\n\t\t\t\t\tuniforms.color.copy(light.color).multiplyScalar(light.intensity * scaleFactor);\n\n\t\t\t\t\tif (light.castShadow) {\n\t\t\t\t\t\tconst shadow = light.shadow;\n\t\t\t\t\t\tconst shadowUniforms = shadowCache.get(light);\n\t\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\t\tstate.directionalShadow[directionalLength] = shadowUniforms;\n\t\t\t\t\t\tstate.directionalShadowMap[directionalLength] = shadowMap;\n\t\t\t\t\t\tstate.directionalShadowMatrix[directionalLength] = light.shadow.matrix;\n\t\t\t\t\t\tnumDirectionalShadows++;\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.directional[directionalLength] = uniforms;\n\t\t\t\t\tdirectionalLength++;\n\t\t\t\t} else if (light.isSpotLight) {\n\t\t\t\t\tconst uniforms = cache.get(light);\n\t\t\t\t\tuniforms.position.setFromMatrixPosition(light.matrixWorld);\n\t\t\t\t\tuniforms.color.copy(color).multiplyScalar(intensity * scaleFactor);\n\t\t\t\t\tuniforms.distance = distance;\n\t\t\t\t\tuniforms.coneCos = Math.cos(light.angle);\n\t\t\t\t\tuniforms.penumbraCos = Math.cos(light.angle * (1 - light.penumbra));\n\t\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\t\tif (light.castShadow) {\n\t\t\t\t\t\tconst shadow = light.shadow;\n\t\t\t\t\t\tconst shadowUniforms = shadowCache.get(light);\n\t\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\t\tstate.spotShadow[spotLength] = shadowUniforms;\n\t\t\t\t\t\tstate.spotShadowMap[spotLength] = shadowMap;\n\t\t\t\t\t\tstate.spotShadowMatrix[spotLength] = light.shadow.matrix;\n\t\t\t\t\t\tnumSpotShadows++;\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.spot[spotLength] = uniforms;\n\t\t\t\t\tspotLength++;\n\t\t\t\t} else if (light.isRectAreaLight) {\n\t\t\t\t\tconst uniforms = cache.get(light); // (a) intensity is the total visible light emitted\n\t\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\t\t\t\t\t// (b) intensity is the brightness of the light\n\n\t\t\t\t\tuniforms.color.copy(color).multiplyScalar(intensity);\n\t\t\t\t\tuniforms.halfWidth.set(light.width * 0.5, 0.0, 0.0);\n\t\t\t\t\tuniforms.halfHeight.set(0.0, light.height * 0.5, 0.0);\n\t\t\t\t\tstate.rectArea[rectAreaLength] = uniforms;\n\t\t\t\t\trectAreaLength++;\n\t\t\t\t} else if (light.isPointLight) {\n\t\t\t\t\tconst uniforms = cache.get(light);\n\t\t\t\t\tuniforms.color.copy(light.color).multiplyScalar(light.intensity * scaleFactor);\n\t\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\t\tif (light.castShadow) {\n\t\t\t\t\t\tconst shadow = light.shadow;\n\t\t\t\t\t\tconst shadowUniforms = shadowCache.get(light);\n\t\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\n\t\t\t\t\t\tstate.pointShadow[pointLength] = shadowUniforms;\n\t\t\t\t\t\tstate.pointShadowMap[pointLength] = shadowMap;\n\t\t\t\t\t\tstate.pointShadowMatrix[pointLength] = light.shadow.matrix;\n\t\t\t\t\t\tnumPointShadows++;\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.point[pointLength] = uniforms;\n\t\t\t\t\tpointLength++;\n\t\t\t\t} else if (light.isHemisphereLight) {\n\t\t\t\t\tconst uniforms = cache.get(light);\n\t\t\t\t\tuniforms.skyColor.copy(light.color).multiplyScalar(intensity * scaleFactor);\n\t\t\t\t\tuniforms.groundColor.copy(light.groundColor).multiplyScalar(intensity * scaleFactor);\n\t\t\t\t\tstate.hemi[hemiLength] = uniforms;\n\t\t\t\t\themiLength++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (rectAreaLength > 0) {\n\t\t\t\tif (capabilities.isWebGL2) {\n\t\t\t\t\t// WebGL 2\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\t\t\t\t} else {\n\t\t\t\t\t// WebGL 1\n\t\t\t\t\tif (extensions.has('OES_texture_float_linear') === true) {\n\t\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\t\t\t\t\t} else if (extensions.has('OES_texture_half_float_linear') === true) {\n\t\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_HALF_1;\n\t\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_HALF_2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error('THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tstate.ambient[0] = r;\n\t\t\tstate.ambient[1] = g;\n\t\t\tstate.ambient[2] = b;\n\t\t\tconst hash = state.hash;\n\n\t\t\tif (hash.directionalLength !== directionalLength || hash.pointLength !== pointLength || hash.spotLength !== spotLength || hash.rectAreaLength !== rectAreaLength || hash.hemiLength !== hemiLength || hash.numDirectionalShadows !== numDirectionalShadows || hash.numPointShadows !== numPointShadows || hash.numSpotShadows !== numSpotShadows) {\n\t\t\t\tstate.directional.length = directionalLength;\n\t\t\t\tstate.spot.length = spotLength;\n\t\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\t\tstate.point.length = pointLength;\n\t\t\t\tstate.hemi.length = hemiLength;\n\t\t\t\tstate.directionalShadow.length = numDirectionalShadows;\n\t\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\t\tstate.pointShadow.length = numPointShadows;\n\t\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\t\tstate.spotShadow.length = numSpotShadows;\n\t\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\n\t\t\t\thash.directionalLength = directionalLength;\n\t\t\t\thash.pointLength = pointLength;\n\t\t\t\thash.spotLength = spotLength;\n\t\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\t\thash.hemiLength = hemiLength;\n\t\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\t\thash.numPointShadows = numPointShadows;\n\t\t\t\thash.numSpotShadows = numSpotShadows;\n\t\t\t\tstate.version = nextVersion++;\n\t\t\t}\n\t\t}\n\n\t\tfunction setupView(lights, camera) {\n\t\t\tlet directionalLength = 0;\n\t\t\tlet pointLength = 0;\n\t\t\tlet spotLength = 0;\n\t\t\tlet rectAreaLength = 0;\n\t\t\tlet hemiLength = 0;\n\t\t\tconst viewMatrix = camera.matrixWorldInverse;\n\n\t\t\tfor (let i = 0, l = lights.length; i < l; i++) {\n\t\t\t\tconst light = lights[i];\n\n\t\t\t\tif (light.isDirectionalLight) {\n\t\t\t\t\tconst uniforms = state.directional[directionalLength];\n\t\t\t\t\tuniforms.direction.setFromMatrixPosition(light.matrixWorld);\n\t\t\t\t\tvector3.setFromMatrixPosition(light.target.matrixWorld);\n\t\t\t\t\tuniforms.direction.sub(vector3);\n\t\t\t\t\tuniforms.direction.transformDirection(viewMatrix);\n\t\t\t\t\tdirectionalLength++;\n\t\t\t\t} else if (light.isSpotLight) {\n\t\t\t\t\tconst uniforms = state.spot[spotLength];\n\t\t\t\t\tuniforms.position.setFromMatrixPosition(light.matrixWorld);\n\t\t\t\t\tuniforms.position.applyMatrix4(viewMatrix);\n\t\t\t\t\tuniforms.direction.setFromMatrixPosition(light.matrixWorld);\n\t\t\t\t\tvector3.setFromMatrixPosition(light.target.matrixWorld);\n\t\t\t\t\tuniforms.direction.sub(vector3);\n\t\t\t\t\tuniforms.direction.transformDirection(viewMatrix);\n\t\t\t\t\tspotLength++;\n\t\t\t\t} else if (light.isRectAreaLight) {\n\t\t\t\t\tconst uniforms = state.rectArea[rectAreaLength];\n\t\t\t\t\tuniforms.position.setFromMatrixPosition(light.matrixWorld);\n\t\t\t\t\tuniforms.position.applyMatrix4(viewMatrix); // extract local rotation of light to derive width/height half vectors\n\n\t\t\t\t\tmatrix42.identity();\n\t\t\t\t\tmatrix4.copy(light.matrixWorld);\n\t\t\t\t\tmatrix4.premultiply(viewMatrix);\n\t\t\t\t\tmatrix42.extractRotation(matrix4);\n\t\t\t\t\tuniforms.halfWidth.set(light.width * 0.5, 0.0, 0.0);\n\t\t\t\t\tuniforms.halfHeight.set(0.0, light.height * 0.5, 0.0);\n\t\t\t\t\tuniforms.halfWidth.applyMatrix4(matrix42);\n\t\t\t\t\tuniforms.halfHeight.applyMatrix4(matrix42);\n\t\t\t\t\trectAreaLength++;\n\t\t\t\t} else if (light.isPointLight) {\n\t\t\t\t\tconst uniforms = state.point[pointLength];\n\t\t\t\t\tuniforms.position.setFromMatrixPosition(light.matrixWorld);\n\t\t\t\t\tuniforms.position.applyMatrix4(viewMatrix);\n\t\t\t\t\tpointLength++;\n\t\t\t\t} else if (light.isHemisphereLight) {\n\t\t\t\t\tconst uniforms = state.hemi[hemiLength];\n\t\t\t\t\tuniforms.direction.setFromMatrixPosition(light.matrixWorld);\n\t\t\t\t\tuniforms.direction.transformDirection(viewMatrix);\n\t\t\t\t\tuniforms.direction.normalize();\n\t\t\t\t\themiLength++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tsetup: setup,\n\t\t\tsetupView: setupView,\n\t\t\tstate: state\n\t\t};\n\t}\n\n\tfunction WebGLRenderState(extensions, capabilities) {\n\t\tconst lights = new WebGLLights(extensions, capabilities);\n\t\tconst lightsArray = [];\n\t\tconst shadowsArray = [];\n\n\t\tfunction init() {\n\t\t\tlightsArray.length = 0;\n\t\t\tshadowsArray.length = 0;\n\t\t}\n\n\t\tfunction pushLight(light) {\n\t\t\tlightsArray.push(light);\n\t\t}\n\n\t\tfunction pushShadow(shadowLight) {\n\t\t\tshadowsArray.push(shadowLight);\n\t\t}\n\n\t\tfunction setupLights(physicallyCorrectLights) {\n\t\t\tlights.setup(lightsArray, physicallyCorrectLights);\n\t\t}\n\n\t\tfunction setupLightsView(camera) {\n\t\t\tlights.setupView(lightsArray, camera);\n\t\t}\n\n\t\tconst state = {\n\t\t\tlightsArray: lightsArray,\n\t\t\tshadowsArray: shadowsArray,\n\t\t\tlights: lights\n\t\t};\n\t\treturn {\n\t\t\tinit: init,\n\t\t\tstate: state,\n\t\t\tsetupLights: setupLights,\n\t\t\tsetupLightsView: setupLightsView,\n\t\t\tpushLight: pushLight,\n\t\t\tpushShadow: pushShadow\n\t\t};\n\t}\n\n\tfunction WebGLRenderStates(extensions, capabilities) {\n\t\tlet renderStates = new WeakMap();\n\n\t\tfunction get(scene, renderCallDepth = 0) {\n\t\t\tlet renderState;\n\n\t\t\tif (renderStates.has(scene) === false) {\n\t\t\t\trenderState = new WebGLRenderState(extensions, capabilities);\n\t\t\t\trenderStates.set(scene, [renderState]);\n\t\t\t} else {\n\t\t\t\tif (renderCallDepth >= renderStates.get(scene).length) {\n\t\t\t\t\trenderState = new WebGLRenderState(extensions, capabilities);\n\t\t\t\t\trenderStates.get(scene).push(renderState);\n\t\t\t\t} else {\n\t\t\t\t\trenderState = renderStates.get(scene)[renderCallDepth];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn renderState;\n\t\t}\n\n\t\tfunction dispose() {\n\t\t\trenderStates = new WeakMap();\n\t\t}\n\n\t\treturn {\n\t\t\tget: get,\n\t\t\tdispose: dispose\n\t\t};\n\t}\n\n\t/**\n\t * parameters = {\n\t *\n\t *\topacity: <float>,\n\t *\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tdisplacementMap: new THREE.Texture( <Image> ),\n\t *\tdisplacementScale: <float>,\n\t *\tdisplacementBias: <float>,\n\t *\n\t *\twireframe: <boolean>,\n\t *\twireframeLinewidth: <float>\n\t * }\n\t */\n\n\tclass MeshDepthMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.type = 'MeshDepthMaterial';\n\t\t\tthis.depthPacking = BasicDepthPacking;\n\t\t\tthis.map = null;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.displacementMap = null;\n\t\t\tthis.displacementScale = 1;\n\t\t\tthis.displacementBias = 0;\n\t\t\tthis.wireframe = false;\n\t\t\tthis.wireframeLinewidth = 1;\n\t\t\tthis.fog = false;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.depthPacking = source.depthPacking;\n\t\t\tthis.map = source.map;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.displacementMap = source.displacementMap;\n\t\t\tthis.displacementScale = source.displacementScale;\n\t\t\tthis.displacementBias = source.displacementBias;\n\t\t\tthis.wireframe = source.wireframe;\n\t\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\n\t/**\n\t * parameters = {\n\t *\n\t *\treferencePosition: <float>,\n\t *\tnearDistance: <float>,\n\t *\tfarDistance: <float>,\n\t *\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tdisplacementMap: new THREE.Texture( <Image> ),\n\t *\tdisplacementScale: <float>,\n\t *\tdisplacementBias: <float>\n\t *\n\t * }\n\t */\n\n\tclass MeshDistanceMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.type = 'MeshDistanceMaterial';\n\t\t\tthis.referencePosition = new Vector3();\n\t\t\tthis.nearDistance = 1;\n\t\t\tthis.farDistance = 1000;\n\t\t\tthis.map = null;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.displacementMap = null;\n\t\t\tthis.displacementScale = 1;\n\t\t\tthis.displacementBias = 0;\n\t\t\tthis.fog = false;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.referencePosition.copy(source.referencePosition);\n\t\t\tthis.nearDistance = source.nearDistance;\n\t\t\tthis.farDistance = source.farDistance;\n\t\t\tthis.map = source.map;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.displacementMap = source.displacementMap;\n\t\t\tthis.displacementScale = source.displacementScale;\n\t\t\tthis.displacementBias = source.displacementBias;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\n\tconst vertex = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\tconst fragment = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n\\tconst float samples = float( VSM_SAMPLES );\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\\n\\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\\n\\tfor ( float i = 0.0; i < samples; i ++ ) {\\n\\t\\tfloat uvOffset = uvStart + i * uvStride;\\n\\t\\t#ifdef HORIZONTAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean / samples;\\n\\tsquared_mean = squared_mean / samples;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\n\tfunction WebGLShadowMap(_renderer, _objects, _capabilities) {\n\t\tlet _frustum = new Frustum();\n\n\t\tconst _shadowMapSize = new Vector2(),\n\t\t\t\t\t_viewportSize = new Vector2(),\n\t\t\t\t\t_viewport = new Vector4(),\n\t\t\t\t\t_depthMaterial = new MeshDepthMaterial({\n\t\t\tdepthPacking: RGBADepthPacking\n\t\t}),\n\t\t\t\t\t_distanceMaterial = new MeshDistanceMaterial(),\n\t\t\t\t\t_materialCache = {},\n\t\t\t\t\t_maxTextureSize = _capabilities.maxTextureSize;\n\n\t\tconst shadowSide = {\n\t\t\t0: BackSide,\n\t\t\t1: FrontSide,\n\t\t\t2: DoubleSide\n\t\t};\n\t\tconst shadowMaterialVertical = new ShaderMaterial({\n\t\t\tdefines: {\n\t\t\t\tVSM_SAMPLES: 8\n\t\t\t},\n\t\t\tuniforms: {\n\t\t\t\tshadow_pass: {\n\t\t\t\t\tvalue: null\n\t\t\t\t},\n\t\t\t\tresolution: {\n\t\t\t\t\tvalue: new Vector2()\n\t\t\t\t},\n\t\t\t\tradius: {\n\t\t\t\t\tvalue: 4.0\n\t\t\t\t}\n\t\t\t},\n\t\t\tvertexShader: vertex,\n\t\t\tfragmentShader: fragment\n\t\t});\n\t\tconst shadowMaterialHorizontal = shadowMaterialVertical.clone();\n\t\tshadowMaterialHorizontal.defines.HORIZONTAL_PASS = 1;\n\t\tconst fullScreenTri = new BufferGeometry();\n\t\tfullScreenTri.setAttribute('position', new BufferAttribute(new Float32Array([-1, -1, 0.5, 3, -1, 0.5, -1, 3, 0.5]), 3));\n\t\tconst fullScreenMesh = new Mesh(fullScreenTri, shadowMaterialVertical);\n\t\tconst scope = this;\n\t\tthis.enabled = false;\n\t\tthis.autoUpdate = true;\n\t\tthis.needsUpdate = false;\n\t\tthis.type = PCFShadowMap;\n\n\t\tthis.render = function (lights, scene, camera) {\n\t\t\tif (scope.enabled === false) return;\n\t\t\tif (scope.autoUpdate === false && scope.needsUpdate === false) return;\n\t\t\tif (lights.length === 0) return;\n\n\t\t\tconst currentRenderTarget = _renderer.getRenderTarget();\n\n\t\t\tconst activeCubeFace = _renderer.getActiveCubeFace();\n\n\t\t\tconst activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\t\tconst _state = _renderer.state; // Set GL state for depth map.\n\n\t\t\t_state.setBlending(NoBlending);\n\n\t\t\t_state.buffers.color.setClear(1, 1, 1, 1);\n\n\t\t\t_state.buffers.depth.setTest(true);\n\n\t\t\t_state.setScissorTest(false); // render depth map\n\n\n\t\t\tfor (let i = 0, il = lights.length; i < il; i++) {\n\t\t\t\tconst light = lights[i];\n\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\tif (shadow === undefined) {\n\t\t\t\t\tconsole.warn('THREE.WebGLShadowMap:', light, 'has no shadow.');\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (shadow.autoUpdate === false && shadow.needsUpdate === false) continue;\n\n\t\t\t\t_shadowMapSize.copy(shadow.mapSize);\n\n\t\t\t\tconst shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t\t_shadowMapSize.multiply(shadowFrameExtents);\n\n\t\t\t\t_viewportSize.copy(shadow.mapSize);\n\n\t\t\t\tif (_shadowMapSize.x > _maxTextureSize || _shadowMapSize.y > _maxTextureSize) {\n\t\t\t\t\tif (_shadowMapSize.x > _maxTextureSize) {\n\t\t\t\t\t\t_viewportSize.x = Math.floor(_maxTextureSize / shadowFrameExtents.x);\n\t\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_shadowMapSize.y > _maxTextureSize) {\n\t\t\t\t\t\t_viewportSize.y = Math.floor(_maxTextureSize / shadowFrameExtents.y);\n\t\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (shadow.map === null && !shadow.isPointLightShadow && this.type === VSMShadowMap) {\n\t\t\t\t\tconst pars = {\n\t\t\t\t\t\tminFilter: LinearFilter,\n\t\t\t\t\t\tmagFilter: LinearFilter,\n\t\t\t\t\t\tformat: RGBAFormat\n\t\t\t\t\t};\n\t\t\t\t\tshadow.map = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, pars);\n\t\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\t\t\t\t\tshadow.mapPass = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, pars);\n\t\t\t\t\tshadow.camera.updateProjectionMatrix();\n\t\t\t\t}\n\n\t\t\t\tif (shadow.map === null) {\n\t\t\t\t\tconst pars = {\n\t\t\t\t\t\tminFilter: NearestFilter,\n\t\t\t\t\t\tmagFilter: NearestFilter,\n\t\t\t\t\t\tformat: RGBAFormat\n\t\t\t\t\t};\n\t\t\t\t\tshadow.map = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, pars);\n\t\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\t\t\t\t\tshadow.camera.updateProjectionMatrix();\n\t\t\t\t}\n\n\t\t\t\t_renderer.setRenderTarget(shadow.map);\n\n\t\t\t\t_renderer.clear();\n\n\t\t\t\tconst viewportCount = shadow.getViewportCount();\n\n\t\t\t\tfor (let vp = 0; vp < viewportCount; vp++) {\n\t\t\t\t\tconst viewport = shadow.getViewport(vp);\n\n\t\t\t\t\t_viewport.set(_viewportSize.x * viewport.x, _viewportSize.y * viewport.y, _viewportSize.x * viewport.z, _viewportSize.y * viewport.w);\n\n\t\t\t\t\t_state.viewport(_viewport);\n\n\t\t\t\t\tshadow.updateMatrices(light, vp);\n\t\t\t\t\t_frustum = shadow.getFrustum();\n\t\t\t\t\trenderObject(scene, camera, shadow.camera, light, this.type);\n\t\t\t\t} // do blur pass for VSM\n\n\n\t\t\t\tif (!shadow.isPointLightShadow && this.type === VSMShadowMap) {\n\t\t\t\t\tVSMPass(shadow, camera);\n\t\t\t\t}\n\n\t\t\t\tshadow.needsUpdate = false;\n\t\t\t}\n\n\t\t\tscope.needsUpdate = false;\n\n\t\t\t_renderer.setRenderTarget(currentRenderTarget, activeCubeFace, activeMipmapLevel);\n\t\t};\n\n\t\tfunction VSMPass(shadow, camera) {\n\t\t\tconst geometry = _objects.update(fullScreenMesh);\n\n\t\t\tif (shadowMaterialVertical.defines.VSM_SAMPLES !== shadow.blurSamples) {\n\t\t\t\tshadowMaterialVertical.defines.VSM_SAMPLES = shadow.blurSamples;\n\t\t\t\tshadowMaterialHorizontal.defines.VSM_SAMPLES = shadow.blurSamples;\n\t\t\t\tshadowMaterialVertical.needsUpdate = true;\n\t\t\t\tshadowMaterialHorizontal.needsUpdate = true;\n\t\t\t} // vertical pass\n\n\n\t\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\n\t\t\t_renderer.setRenderTarget(shadow.mapPass);\n\n\t\t\t_renderer.clear();\n\n\t\t\t_renderer.renderBufferDirect(camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null); // horizontal pass\n\n\n\t\t\tshadowMaterialHorizontal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\t\tshadowMaterialHorizontal.uniforms.resolution.value = shadow.mapSize;\n\t\t\tshadowMaterialHorizontal.uniforms.radius.value = shadow.radius;\n\n\t\t\t_renderer.setRenderTarget(shadow.map);\n\n\t\t\t_renderer.clear();\n\n\t\t\t_renderer.renderBufferDirect(camera, null, geometry, shadowMaterialHorizontal, fullScreenMesh, null);\n\t\t}\n\n\t\tfunction getDepthMaterial(object, geometry, material, light, shadowCameraNear, shadowCameraFar, type) {\n\t\t\tlet result = null;\n\t\t\tconst customMaterial = light.isPointLight === true ? object.customDistanceMaterial : object.customDepthMaterial;\n\n\t\t\tif (customMaterial !== undefined) {\n\t\t\t\tresult = customMaterial;\n\t\t\t} else {\n\t\t\t\tresult = light.isPointLight === true ? _distanceMaterial : _depthMaterial;\n\t\t\t}\n\n\t\t\tif (_renderer.localClippingEnabled && material.clipShadows === true && material.clippingPlanes.length !== 0 || material.displacementMap && material.displacementScale !== 0 || material.alphaMap && material.alphaTest > 0) {\n\t\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t\t// appropriate state\n\t\t\t\tconst keyA = result.uuid,\n\t\t\t\t\t\t\tkeyB = material.uuid;\n\t\t\t\tlet materialsForVariant = _materialCache[keyA];\n\n\t\t\t\tif (materialsForVariant === undefined) {\n\t\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t\t_materialCache[keyA] = materialsForVariant;\n\t\t\t\t}\n\n\t\t\t\tlet cachedMaterial = materialsForVariant[keyB];\n\n\t\t\t\tif (cachedMaterial === undefined) {\n\t\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\t\tmaterialsForVariant[keyB] = cachedMaterial;\n\t\t\t\t}\n\n\t\t\t\tresult = cachedMaterial;\n\t\t\t}\n\n\t\t\tresult.visible = material.visible;\n\t\t\tresult.wireframe = material.wireframe;\n\n\t\t\tif (type === VSMShadowMap) {\n\t\t\t\tresult.side = material.shadowSide !== null ? material.shadowSide : material.side;\n\t\t\t} else {\n\t\t\t\tresult.side = material.shadowSide !== null ? material.shadowSide : shadowSide[material.side];\n\t\t\t}\n\n\t\t\tresult.alphaMap = material.alphaMap;\n\t\t\tresult.alphaTest = material.alphaTest;\n\t\t\tresult.clipShadows = material.clipShadows;\n\t\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\t\tresult.clipIntersection = material.clipIntersection;\n\t\t\tresult.displacementMap = material.displacementMap;\n\t\t\tresult.displacementScale = material.displacementScale;\n\t\t\tresult.displacementBias = material.displacementBias;\n\t\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\t\tresult.linewidth = material.linewidth;\n\n\t\t\tif (light.isPointLight === true && result.isMeshDistanceMaterial === true) {\n\t\t\t\tresult.referencePosition.setFromMatrixPosition(light.matrixWorld);\n\t\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\t\tresult.farDistance = shadowCameraFar;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tfunction renderObject(object, camera, shadowCamera, light, type) {\n\t\t\tif (object.visible === false) return;\n\t\t\tconst visible = object.layers.test(camera.layers);\n\n\t\t\tif (visible && (object.isMesh || object.isLine || object.isPoints)) {\n\t\t\t\tif ((object.castShadow || object.receiveShadow && type === VSMShadowMap) && (!object.frustumCulled || _frustum.intersectsObject(object))) {\n\t\t\t\t\tobject.modelViewMatrix.multiplyMatrices(shadowCamera.matrixWorldInverse, object.matrixWorld);\n\n\t\t\t\t\tconst geometry = _objects.update(object);\n\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif (Array.isArray(material)) {\n\t\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\t\tfor (let k = 0, kl = groups.length; k < kl; k++) {\n\t\t\t\t\t\t\tconst group = groups[k];\n\t\t\t\t\t\t\tconst groupMaterial = material[group.materialIndex];\n\n\t\t\t\t\t\t\tif (groupMaterial && groupMaterial.visible) {\n\t\t\t\t\t\t\t\tconst depthMaterial = getDepthMaterial(object, geometry, groupMaterial, light, shadowCamera.near, shadowCamera.far, type);\n\n\t\t\t\t\t\t\t\t_renderer.renderBufferDirect(shadowCamera, null, geometry, depthMaterial, object, group);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (material.visible) {\n\t\t\t\t\t\tconst depthMaterial = getDepthMaterial(object, geometry, material, light, shadowCamera.near, shadowCamera.far, type);\n\n\t\t\t\t\t\t_renderer.renderBufferDirect(shadowCamera, null, geometry, depthMaterial, object, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst children = object.children;\n\n\t\t\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\t\t\trenderObject(children[i], camera, shadowCamera, light, type);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction WebGLState(gl, extensions, capabilities) {\n\t\tconst isWebGL2 = capabilities.isWebGL2;\n\n\t\tfunction ColorBuffer() {\n\t\t\tlet locked = false;\n\t\t\tconst color = new Vector4();\n\t\t\tlet currentColorMask = null;\n\t\t\tconst currentColorClear = new Vector4(0, 0, 0, 0);\n\t\t\treturn {\n\t\t\t\tsetMask: function (colorMask) {\n\t\t\t\t\tif (currentColorMask !== colorMask && !locked) {\n\t\t\t\t\t\tgl.colorMask(colorMask, colorMask, colorMask, colorMask);\n\t\t\t\t\t\tcurrentColorMask = colorMask;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsetLocked: function (lock) {\n\t\t\t\t\tlocked = lock;\n\t\t\t\t},\n\t\t\t\tsetClear: function (r, g, b, a, premultipliedAlpha) {\n\t\t\t\t\tif (premultipliedAlpha === true) {\n\t\t\t\t\t\tr *= a;\n\t\t\t\t\t\tg *= a;\n\t\t\t\t\t\tb *= a;\n\t\t\t\t\t}\n\n\t\t\t\t\tcolor.set(r, g, b, a);\n\n\t\t\t\t\tif (currentColorClear.equals(color) === false) {\n\t\t\t\t\t\tgl.clearColor(r, g, b, a);\n\t\t\t\t\t\tcurrentColorClear.copy(color);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\treset: function () {\n\t\t\t\t\tlocked = false;\n\t\t\t\t\tcurrentColorMask = null;\n\t\t\t\t\tcurrentColorClear.set(-1, 0, 0, 0); // set to invalid state\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tfunction DepthBuffer() {\n\t\t\tlet locked = false;\n\t\t\tlet currentDepthMask = null;\n\t\t\tlet currentDepthFunc = null;\n\t\t\tlet currentDepthClear = null;\n\t\t\treturn {\n\t\t\t\tsetTest: function (depthTest) {\n\t\t\t\t\tif (depthTest) {\n\t\t\t\t\t\tenable(gl.DEPTH_TEST);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdisable(gl.DEPTH_TEST);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsetMask: function (depthMask) {\n\t\t\t\t\tif (currentDepthMask !== depthMask && !locked) {\n\t\t\t\t\t\tgl.depthMask(depthMask);\n\t\t\t\t\t\tcurrentDepthMask = depthMask;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsetFunc: function (depthFunc) {\n\t\t\t\t\tif (currentDepthFunc !== depthFunc) {\n\t\t\t\t\t\tif (depthFunc) {\n\t\t\t\t\t\t\tswitch (depthFunc) {\n\t\t\t\t\t\t\t\tcase NeverDepth:\n\t\t\t\t\t\t\t\t\tgl.depthFunc(gl.NEVER);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase AlwaysDepth:\n\t\t\t\t\t\t\t\t\tgl.depthFunc(gl.ALWAYS);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase LessDepth:\n\t\t\t\t\t\t\t\t\tgl.depthFunc(gl.LESS);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase LessEqualDepth:\n\t\t\t\t\t\t\t\t\tgl.depthFunc(gl.LEQUAL);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase EqualDepth:\n\t\t\t\t\t\t\t\t\tgl.depthFunc(gl.EQUAL);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\t\t\t\t\t\t\t\t\tgl.depthFunc(gl.GEQUAL);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase GreaterDepth:\n\t\t\t\t\t\t\t\t\tgl.depthFunc(gl.GREATER);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase NotEqualDepth:\n\t\t\t\t\t\t\t\t\tgl.depthFunc(gl.NOTEQUAL);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tgl.depthFunc(gl.LEQUAL);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tgl.depthFunc(gl.LEQUAL);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsetLocked: function (lock) {\n\t\t\t\t\tlocked = lock;\n\t\t\t\t},\n\t\t\t\tsetClear: function (depth) {\n\t\t\t\t\tif (currentDepthClear !== depth) {\n\t\t\t\t\t\tgl.clearDepth(depth);\n\t\t\t\t\t\tcurrentDepthClear = depth;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\treset: function () {\n\t\t\t\t\tlocked = false;\n\t\t\t\t\tcurrentDepthMask = null;\n\t\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\t\tcurrentDepthClear = null;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tfunction StencilBuffer() {\n\t\t\tlet locked = false;\n\t\t\tlet currentStencilMask = null;\n\t\t\tlet currentStencilFunc = null;\n\t\t\tlet currentStencilRef = null;\n\t\t\tlet currentStencilFuncMask = null;\n\t\t\tlet currentStencilFail = null;\n\t\t\tlet currentStencilZFail = null;\n\t\t\tlet currentStencilZPass = null;\n\t\t\tlet currentStencilClear = null;\n\t\t\treturn {\n\t\t\t\tsetTest: function (stencilTest) {\n\t\t\t\t\tif (!locked) {\n\t\t\t\t\t\tif (stencilTest) {\n\t\t\t\t\t\t\tenable(gl.STENCIL_TEST);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdisable(gl.STENCIL_TEST);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsetMask: function (stencilMask) {\n\t\t\t\t\tif (currentStencilMask !== stencilMask && !locked) {\n\t\t\t\t\t\tgl.stencilMask(stencilMask);\n\t\t\t\t\t\tcurrentStencilMask = stencilMask;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsetFunc: function (stencilFunc, stencilRef, stencilMask) {\n\t\t\t\t\tif (currentStencilFunc !== stencilFunc || currentStencilRef !== stencilRef || currentStencilFuncMask !== stencilMask) {\n\t\t\t\t\t\tgl.stencilFunc(stencilFunc, stencilRef, stencilMask);\n\t\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsetOp: function (stencilFail, stencilZFail, stencilZPass) {\n\t\t\t\t\tif (currentStencilFail !== stencilFail || currentStencilZFail !== stencilZFail || currentStencilZPass !== stencilZPass) {\n\t\t\t\t\t\tgl.stencilOp(stencilFail, stencilZFail, stencilZPass);\n\t\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsetLocked: function (lock) {\n\t\t\t\t\tlocked = lock;\n\t\t\t\t},\n\t\t\t\tsetClear: function (stencil) {\n\t\t\t\t\tif (currentStencilClear !== stencil) {\n\t\t\t\t\t\tgl.clearStencil(stencil);\n\t\t\t\t\t\tcurrentStencilClear = stencil;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\treset: function () {\n\t\t\t\t\tlocked = false;\n\t\t\t\t\tcurrentStencilMask = null;\n\t\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\t\tcurrentStencilRef = null;\n\t\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\t\tcurrentStencilFail = null;\n\t\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\t\tcurrentStencilClear = null;\n\t\t\t\t}\n\t\t\t};\n\t\t} //\n\n\n\t\tconst colorBuffer = new ColorBuffer();\n\t\tconst depthBuffer = new DepthBuffer();\n\t\tconst stencilBuffer = new StencilBuffer();\n\t\tlet enabledCapabilities = {};\n\t\tlet currentBoundFramebuffers = {};\n\t\tlet currentProgram = null;\n\t\tlet currentBlendingEnabled = false;\n\t\tlet currentBlending = null;\n\t\tlet currentBlendEquation = null;\n\t\tlet currentBlendSrc = null;\n\t\tlet currentBlendDst = null;\n\t\tlet currentBlendEquationAlpha = null;\n\t\tlet currentBlendSrcAlpha = null;\n\t\tlet currentBlendDstAlpha = null;\n\t\tlet currentPremultipledAlpha = false;\n\t\tlet currentFlipSided = null;\n\t\tlet currentCullFace = null;\n\t\tlet currentLineWidth = null;\n\t\tlet currentPolygonOffsetFactor = null;\n\t\tlet currentPolygonOffsetUnits = null;\n\t\tconst maxTextures = gl.getParameter(gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS);\n\t\tlet lineWidthAvailable = false;\n\t\tlet version = 0;\n\t\tconst glVersion = gl.getParameter(gl.VERSION);\n\n\t\tif (glVersion.indexOf('WebGL') !== -1) {\n\t\t\tversion = parseFloat(/^WebGL (\\d)/.exec(glVersion)[1]);\n\t\t\tlineWidthAvailable = version >= 1.0;\n\t\t} else if (glVersion.indexOf('OpenGL ES') !== -1) {\n\t\t\tversion = parseFloat(/^OpenGL ES (\\d)/.exec(glVersion)[1]);\n\t\t\tlineWidthAvailable = version >= 2.0;\n\t\t}\n\n\t\tlet currentTextureSlot = null;\n\t\tlet currentBoundTextures = {};\n\t\tconst scissorParam = gl.getParameter(gl.SCISSOR_BOX);\n\t\tconst viewportParam = gl.getParameter(gl.VIEWPORT);\n\t\tconst currentScissor = new Vector4().fromArray(scissorParam);\n\t\tconst currentViewport = new Vector4().fromArray(viewportParam);\n\n\t\tfunction createTexture(type, target, count) {\n\t\t\tconst data = new Uint8Array(4); // 4 is required to match default unpack alignment of 4.\n\n\t\t\tconst texture = gl.createTexture();\n\t\t\tgl.bindTexture(type, texture);\n\t\t\tgl.texParameteri(type, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n\t\t\tgl.texParameteri(type, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n\t\t\tfor (let i = 0; i < count; i++) {\n\t\t\t\tgl.texImage2D(target + i, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, data);\n\t\t\t}\n\n\t\t\treturn texture;\n\t\t}\n\n\t\tconst emptyTextures = {};\n\t\temptyTextures[gl.TEXTURE_2D] = createTexture(gl.TEXTURE_2D, gl.TEXTURE_2D, 1);\n\t\temptyTextures[gl.TEXTURE_CUBE_MAP] = createTexture(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_CUBE_MAP_POSITIVE_X, 6); // init\n\n\t\tcolorBuffer.setClear(0, 0, 0, 1);\n\t\tdepthBuffer.setClear(1);\n\t\tstencilBuffer.setClear(0);\n\t\tenable(gl.DEPTH_TEST);\n\t\tdepthBuffer.setFunc(LessEqualDepth);\n\t\tsetFlipSided(false);\n\t\tsetCullFace(CullFaceBack);\n\t\tenable(gl.CULL_FACE);\n\t\tsetBlending(NoBlending); //\n\n\t\tfunction enable(id) {\n\t\t\tif (enabledCapabilities[id] !== true) {\n\t\t\t\tgl.enable(id);\n\t\t\t\tenabledCapabilities[id] = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction disable(id) {\n\t\t\tif (enabledCapabilities[id] !== false) {\n\t\t\t\tgl.disable(id);\n\t\t\t\tenabledCapabilities[id] = false;\n\t\t\t}\n\t\t}\n\n\t\tfunction bindFramebuffer(target, framebuffer) {\n\t\t\tif (currentBoundFramebuffers[target] !== framebuffer) {\n\t\t\t\tgl.bindFramebuffer(target, framebuffer);\n\t\t\t\tcurrentBoundFramebuffers[target] = framebuffer;\n\n\t\t\t\tif (isWebGL2) {\n\t\t\t\t\t// gl.DRAW_FRAMEBUFFER is equivalent to gl.FRAMEBUFFER\n\t\t\t\t\tif (target === gl.DRAW_FRAMEBUFFER) {\n\t\t\t\t\t\tcurrentBoundFramebuffers[gl.FRAMEBUFFER] = framebuffer;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (target === gl.FRAMEBUFFER) {\n\t\t\t\t\t\tcurrentBoundFramebuffers[gl.DRAW_FRAMEBUFFER] = framebuffer;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction useProgram(program) {\n\t\t\tif (currentProgram !== program) {\n\t\t\t\tgl.useProgram(program);\n\t\t\t\tcurrentProgram = program;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tconst equationToGL = {\n\t\t\t[AddEquation]: gl.FUNC_ADD,\n\t\t\t[SubtractEquation]: gl.FUNC_SUBTRACT,\n\t\t\t[ReverseSubtractEquation]: gl.FUNC_REVERSE_SUBTRACT\n\t\t};\n\n\t\tif (isWebGL2) {\n\t\t\tequationToGL[MinEquation] = gl.MIN;\n\t\t\tequationToGL[MaxEquation] = gl.MAX;\n\t\t} else {\n\t\t\tconst extension = extensions.get('EXT_blend_minmax');\n\n\t\t\tif (extension !== null) {\n\t\t\t\tequationToGL[MinEquation] = extension.MIN_EXT;\n\t\t\t\tequationToGL[MaxEquation] = extension.MAX_EXT;\n\t\t\t}\n\t\t}\n\n\t\tconst factorToGL = {\n\t\t\t[ZeroFactor]: gl.ZERO,\n\t\t\t[OneFactor]: gl.ONE,\n\t\t\t[SrcColorFactor]: gl.SRC_COLOR,\n\t\t\t[SrcAlphaFactor]: gl.SRC_ALPHA,\n\t\t\t[SrcAlphaSaturateFactor]: gl.SRC_ALPHA_SATURATE,\n\t\t\t[DstColorFactor]: gl.DST_COLOR,\n\t\t\t[DstAlphaFactor]: gl.DST_ALPHA,\n\t\t\t[OneMinusSrcColorFactor]: gl.ONE_MINUS_SRC_COLOR,\n\t\t\t[OneMinusSrcAlphaFactor]: gl.ONE_MINUS_SRC_ALPHA,\n\t\t\t[OneMinusDstColorFactor]: gl.ONE_MINUS_DST_COLOR,\n\t\t\t[OneMinusDstAlphaFactor]: gl.ONE_MINUS_DST_ALPHA\n\t\t};\n\n\t\tfunction setBlending(blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha) {\n\t\t\tif (blending === NoBlending) {\n\t\t\t\tif (currentBlendingEnabled === true) {\n\t\t\t\t\tdisable(gl.BLEND);\n\t\t\t\t\tcurrentBlendingEnabled = false;\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (currentBlendingEnabled === false) {\n\t\t\t\tenable(gl.BLEND);\n\t\t\t\tcurrentBlendingEnabled = true;\n\t\t\t}\n\n\t\t\tif (blending !== CustomBlending) {\n\t\t\t\tif (blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha) {\n\t\t\t\t\tif (currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation) {\n\t\t\t\t\t\tgl.blendEquation(gl.FUNC_ADD);\n\t\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (premultipliedAlpha) {\n\t\t\t\t\t\tswitch (blending) {\n\t\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\t\tgl.blendFuncSeparate(gl.ONE, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\t\tgl.blendFunc(gl.ONE, gl.ONE);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\t\tgl.blendFuncSeparate(gl.ZERO, gl.ZERO, gl.ONE_MINUS_SRC_COLOR, gl.ONE_MINUS_SRC_ALPHA);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\t\tgl.blendFuncSeparate(gl.ZERO, gl.SRC_COLOR, gl.ZERO, gl.SRC_ALPHA);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tconsole.error('THREE.WebGLState: Invalid blending: ', blending);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tswitch (blending) {\n\t\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\t\tgl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\t\tgl.blendFunc(gl.ZERO, gl.ONE_MINUS_SRC_COLOR);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\t\tgl.blendFunc(gl.ZERO, gl.SRC_COLOR);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tconsole.error('THREE.WebGLState: Invalid blending: ', blending);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\t\tcurrentBlendDst = null;\n\t\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\t\tcurrentBlendDstAlpha = null;\n\t\t\t\t\tcurrentBlending = blending;\n\t\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t} // custom blending\n\n\n\t\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\t\tif (blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha) {\n\t\t\t\tgl.blendEquationSeparate(equationToGL[blendEquation], equationToGL[blendEquationAlpha]);\n\t\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\t\t\t}\n\n\t\t\tif (blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha) {\n\t\t\t\tgl.blendFuncSeparate(factorToGL[blendSrc], factorToGL[blendDst], factorToGL[blendSrcAlpha], factorToGL[blendDstAlpha]);\n\t\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\t\tcurrentBlendDst = blendDst;\n\t\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\t\t\t}\n\n\t\t\tcurrentBlending = blending;\n\t\t\tcurrentPremultipledAlpha = null;\n\t\t}\n\n\t\tfunction setMaterial(material, frontFaceCW) {\n\t\t\tmaterial.side === DoubleSide ? disable(gl.CULL_FACE) : enable(gl.CULL_FACE);\n\t\t\tlet flipSided = material.side === BackSide;\n\t\t\tif (frontFaceCW) flipSided = !flipSided;\n\t\t\tsetFlipSided(flipSided);\n\t\t\tmaterial.blending === NormalBlending && material.transparent === false ? setBlending(NoBlending) : setBlending(material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha);\n\t\t\tdepthBuffer.setFunc(material.depthFunc);\n\t\t\tdepthBuffer.setTest(material.depthTest);\n\t\t\tdepthBuffer.setMask(material.depthWrite);\n\t\t\tcolorBuffer.setMask(material.colorWrite);\n\t\t\tconst stencilWrite = material.stencilWrite;\n\t\t\tstencilBuffer.setTest(stencilWrite);\n\n\t\t\tif (stencilWrite) {\n\t\t\t\tstencilBuffer.setMask(material.stencilWriteMask);\n\t\t\t\tstencilBuffer.setFunc(material.stencilFunc, material.stencilRef, material.stencilFuncMask);\n\t\t\t\tstencilBuffer.setOp(material.stencilFail, material.stencilZFail, material.stencilZPass);\n\t\t\t}\n\n\t\t\tsetPolygonOffset(material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits);\n\t\t\tmaterial.alphaToCoverage === true ? enable(gl.SAMPLE_ALPHA_TO_COVERAGE) : disable(gl.SAMPLE_ALPHA_TO_COVERAGE);\n\t\t} //\n\n\n\t\tfunction setFlipSided(flipSided) {\n\t\t\tif (currentFlipSided !== flipSided) {\n\t\t\t\tif (flipSided) {\n\t\t\t\t\tgl.frontFace(gl.CW);\n\t\t\t\t} else {\n\t\t\t\t\tgl.frontFace(gl.CCW);\n\t\t\t\t}\n\n\t\t\t\tcurrentFlipSided = flipSided;\n\t\t\t}\n\t\t}\n\n\t\tfunction setCullFace(cullFace) {\n\t\t\tif (cullFace !== CullFaceNone) {\n\t\t\t\tenable(gl.CULL_FACE);\n\n\t\t\t\tif (cullFace !== currentCullFace) {\n\t\t\t\t\tif (cullFace === CullFaceBack) {\n\t\t\t\t\t\tgl.cullFace(gl.BACK);\n\t\t\t\t\t} else if (cullFace === CullFaceFront) {\n\t\t\t\t\t\tgl.cullFace(gl.FRONT);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgl.cullFace(gl.FRONT_AND_BACK);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdisable(gl.CULL_FACE);\n\t\t\t}\n\n\t\t\tcurrentCullFace = cullFace;\n\t\t}\n\n\t\tfunction setLineWidth(width) {\n\t\t\tif (width !== currentLineWidth) {\n\t\t\t\tif (lineWidthAvailable) gl.lineWidth(width);\n\t\t\t\tcurrentLineWidth = width;\n\t\t\t}\n\t\t}\n\n\t\tfunction setPolygonOffset(polygonOffset, factor, units) {\n\t\t\tif (polygonOffset) {\n\t\t\t\tenable(gl.POLYGON_OFFSET_FILL);\n\n\t\t\t\tif (currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units) {\n\t\t\t\t\tgl.polygonOffset(factor, units);\n\t\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\t\tcurrentPolygonOffsetUnits = units;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdisable(gl.POLYGON_OFFSET_FILL);\n\t\t\t}\n\t\t}\n\n\t\tfunction setScissorTest(scissorTest) {\n\t\t\tif (scissorTest) {\n\t\t\t\tenable(gl.SCISSOR_TEST);\n\t\t\t} else {\n\t\t\t\tdisable(gl.SCISSOR_TEST);\n\t\t\t}\n\t\t} // texture\n\n\n\t\tfunction activeTexture(webglSlot) {\n\t\t\tif (webglSlot === undefined) webglSlot = gl.TEXTURE0 + maxTextures - 1;\n\n\t\t\tif (currentTextureSlot !== webglSlot) {\n\t\t\t\tgl.activeTexture(webglSlot);\n\t\t\t\tcurrentTextureSlot = webglSlot;\n\t\t\t}\n\t\t}\n\n\t\tfunction bindTexture(webglType, webglTexture) {\n\t\t\tif (currentTextureSlot === null) {\n\t\t\t\tactiveTexture();\n\t\t\t}\n\n\t\t\tlet boundTexture = currentBoundTextures[currentTextureSlot];\n\n\t\t\tif (boundTexture === undefined) {\n\t\t\t\tboundTexture = {\n\t\t\t\t\ttype: undefined,\n\t\t\t\t\ttexture: undefined\n\t\t\t\t};\n\t\t\t\tcurrentBoundTextures[currentTextureSlot] = boundTexture;\n\t\t\t}\n\n\t\t\tif (boundTexture.type !== webglType || boundTexture.texture !== webglTexture) {\n\t\t\t\tgl.bindTexture(webglType, webglTexture || emptyTextures[webglType]);\n\t\t\t\tboundTexture.type = webglType;\n\t\t\t\tboundTexture.texture = webglTexture;\n\t\t\t}\n\t\t}\n\n\t\tfunction unbindTexture() {\n\t\t\tconst boundTexture = currentBoundTextures[currentTextureSlot];\n\n\t\t\tif (boundTexture !== undefined && boundTexture.type !== undefined) {\n\t\t\t\tgl.bindTexture(boundTexture.type, null);\n\t\t\t\tboundTexture.type = undefined;\n\t\t\t\tboundTexture.texture = undefined;\n\t\t\t}\n\t\t}\n\n\t\tfunction compressedTexImage2D() {\n\t\t\ttry {\n\t\t\t\tgl.compressedTexImage2D.apply(gl, arguments);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('THREE.WebGLState:', error);\n\t\t\t}\n\t\t}\n\n\t\tfunction texSubImage2D() {\n\t\t\ttry {\n\t\t\t\tgl.texSubImage2D.apply(gl, arguments);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('THREE.WebGLState:', error);\n\t\t\t}\n\t\t}\n\n\t\tfunction texSubImage3D() {\n\t\t\ttry {\n\t\t\t\tgl.texSubImage3D.apply(gl, arguments);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('THREE.WebGLState:', error);\n\t\t\t}\n\t\t}\n\n\t\tfunction compressedTexSubImage2D() {\n\t\t\ttry {\n\t\t\t\tgl.compressedTexSubImage2D.apply(gl, arguments);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('THREE.WebGLState:', error);\n\t\t\t}\n\t\t}\n\n\t\tfunction texStorage2D() {\n\t\t\ttry {\n\t\t\t\tgl.texStorage2D.apply(gl, arguments);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('THREE.WebGLState:', error);\n\t\t\t}\n\t\t}\n\n\t\tfunction texStorage3D() {\n\t\t\ttry {\n\t\t\t\tgl.texStorage3D.apply(gl, arguments);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('THREE.WebGLState:', error);\n\t\t\t}\n\t\t}\n\n\t\tfunction texImage2D() {\n\t\t\ttry {\n\t\t\t\tgl.texImage2D.apply(gl, arguments);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('THREE.WebGLState:', error);\n\t\t\t}\n\t\t}\n\n\t\tfunction texImage3D() {\n\t\t\ttry {\n\t\t\t\tgl.texImage3D.apply(gl, arguments);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('THREE.WebGLState:', error);\n\t\t\t}\n\t\t} //\n\n\n\t\tfunction scissor(scissor) {\n\t\t\tif (currentScissor.equals(scissor) === false) {\n\t\t\t\tgl.scissor(scissor.x, scissor.y, scissor.z, scissor.w);\n\t\t\t\tcurrentScissor.copy(scissor);\n\t\t\t}\n\t\t}\n\n\t\tfunction viewport(viewport) {\n\t\t\tif (currentViewport.equals(viewport) === false) {\n\t\t\t\tgl.viewport(viewport.x, viewport.y, viewport.z, viewport.w);\n\t\t\t\tcurrentViewport.copy(viewport);\n\t\t\t}\n\t\t} //\n\n\n\t\tfunction reset() {\n\t\t\t// reset state\n\t\t\tgl.disable(gl.BLEND);\n\t\t\tgl.disable(gl.CULL_FACE);\n\t\t\tgl.disable(gl.DEPTH_TEST);\n\t\t\tgl.disable(gl.POLYGON_OFFSET_FILL);\n\t\t\tgl.disable(gl.SCISSOR_TEST);\n\t\t\tgl.disable(gl.STENCIL_TEST);\n\t\t\tgl.disable(gl.SAMPLE_ALPHA_TO_COVERAGE);\n\t\t\tgl.blendEquation(gl.FUNC_ADD);\n\t\t\tgl.blendFunc(gl.ONE, gl.ZERO);\n\t\t\tgl.blendFuncSeparate(gl.ONE, gl.ZERO, gl.ONE, gl.ZERO);\n\t\t\tgl.colorMask(true, true, true, true);\n\t\t\tgl.clearColor(0, 0, 0, 0);\n\t\t\tgl.depthMask(true);\n\t\t\tgl.depthFunc(gl.LESS);\n\t\t\tgl.clearDepth(1);\n\t\t\tgl.stencilMask(0xffffffff);\n\t\t\tgl.stencilFunc(gl.ALWAYS, 0, 0xffffffff);\n\t\t\tgl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);\n\t\t\tgl.clearStencil(0);\n\t\t\tgl.cullFace(gl.BACK);\n\t\t\tgl.frontFace(gl.CCW);\n\t\t\tgl.polygonOffset(0, 0);\n\t\t\tgl.activeTexture(gl.TEXTURE0);\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n\t\t\tif (isWebGL2 === true) {\n\t\t\t\tgl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);\n\t\t\t\tgl.bindFramebuffer(gl.READ_FRAMEBUFFER, null);\n\t\t\t}\n\n\t\t\tgl.useProgram(null);\n\t\t\tgl.lineWidth(1);\n\t\t\tgl.scissor(0, 0, gl.canvas.width, gl.canvas.height);\n\t\t\tgl.viewport(0, 0, gl.canvas.width, gl.canvas.height); // reset internals\n\n\t\t\tenabledCapabilities = {};\n\t\t\tcurrentTextureSlot = null;\n\t\t\tcurrentBoundTextures = {};\n\t\t\tcurrentBoundFramebuffers = {};\n\t\t\tcurrentProgram = null;\n\t\t\tcurrentBlendingEnabled = false;\n\t\t\tcurrentBlending = null;\n\t\t\tcurrentBlendEquation = null;\n\t\t\tcurrentBlendSrc = null;\n\t\t\tcurrentBlendDst = null;\n\t\t\tcurrentBlendEquationAlpha = null;\n\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\tcurrentBlendDstAlpha = null;\n\t\t\tcurrentPremultipledAlpha = false;\n\t\t\tcurrentFlipSided = null;\n\t\t\tcurrentCullFace = null;\n\t\t\tcurrentLineWidth = null;\n\t\t\tcurrentPolygonOffsetFactor = null;\n\t\t\tcurrentPolygonOffsetUnits = null;\n\t\t\tcurrentScissor.set(0, 0, gl.canvas.width, gl.canvas.height);\n\t\t\tcurrentViewport.set(0, 0, gl.canvas.width, gl.canvas.height);\n\t\t\tcolorBuffer.reset();\n\t\t\tdepthBuffer.reset();\n\t\t\tstencilBuffer.reset();\n\t\t}\n\n\t\treturn {\n\t\t\tbuffers: {\n\t\t\t\tcolor: colorBuffer,\n\t\t\t\tdepth: depthBuffer,\n\t\t\t\tstencil: stencilBuffer\n\t\t\t},\n\t\t\tenable: enable,\n\t\t\tdisable: disable,\n\t\t\tbindFramebuffer: bindFramebuffer,\n\t\t\tuseProgram: useProgram,\n\t\t\tsetBlending: setBlending,\n\t\t\tsetMaterial: setMaterial,\n\t\t\tsetFlipSided: setFlipSided,\n\t\t\tsetCullFace: setCullFace,\n\t\t\tsetLineWidth: setLineWidth,\n\t\t\tsetPolygonOffset: setPolygonOffset,\n\t\t\tsetScissorTest: setScissorTest,\n\t\t\tactiveTexture: activeTexture,\n\t\t\tbindTexture: bindTexture,\n\t\t\tunbindTexture: unbindTexture,\n\t\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\t\ttexImage2D: texImage2D,\n\t\t\ttexImage3D: texImage3D,\n\t\t\ttexStorage2D: texStorage2D,\n\t\t\ttexStorage3D: texStorage3D,\n\t\t\ttexSubImage2D: texSubImage2D,\n\t\t\ttexSubImage3D: texSubImage3D,\n\t\t\tcompressedTexSubImage2D: compressedTexSubImage2D,\n\t\t\tscissor: scissor,\n\t\t\tviewport: viewport,\n\t\t\treset: reset\n\t\t};\n\t}\n\n\tfunction WebGLTextures(_gl, extensions, state, properties, capabilities, utils, info) {\n\t\tconst isWebGL2 = capabilities.isWebGL2;\n\t\tconst maxTextures = capabilities.maxTextures;\n\t\tconst maxCubemapSize = capabilities.maxCubemapSize;\n\t\tconst maxTextureSize = capabilities.maxTextureSize;\n\t\tconst maxSamples = capabilities.maxSamples;\n\t\tconst hasMultisampledRenderToTexture = extensions.has('WEBGL_multisampled_render_to_texture');\n\t\tconst MultisampledRenderToTextureExtension = hasMultisampledRenderToTexture ? extensions.get('WEBGL_multisampled_render_to_texture') : undefined;\n\n\t\tconst _videoTextures = new WeakMap();\n\n\t\tlet _canvas; // cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n\t\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n\t\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\n\t\tlet useOffscreenCanvas = false;\n\n\t\ttry {\n\t\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined' && new OffscreenCanvas(1, 1).getContext('2d') !== null;\n\t\t} catch (err) {// Ignore any errors\n\t\t}\n\n\t\tfunction createCanvas(width, height) {\n\t\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\t\t\treturn useOffscreenCanvas ? new OffscreenCanvas(width, height) : createElementNS('canvas');\n\t\t}\n\n\t\tfunction resizeImage(image, needsPowerOfTwo, needsNewCanvas, maxSize) {\n\t\t\tlet scale = 1; // handle case if texture exceeds max size\n\n\t\t\tif (image.width > maxSize || image.height > maxSize) {\n\t\t\t\tscale = maxSize / Math.max(image.width, image.height);\n\t\t\t} // only perform resize if necessary\n\n\n\t\t\tif (scale < 1 || needsPowerOfTwo === true) {\n\t\t\t\t// only perform resize for certain image types\n\t\t\t\tif (typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement || typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement || typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap) {\n\t\t\t\t\tconst floor = needsPowerOfTwo ? floorPowerOfTwo : Math.floor;\n\t\t\t\t\tconst width = floor(scale * image.width);\n\t\t\t\t\tconst height = floor(scale * image.height);\n\t\t\t\t\tif (_canvas === undefined) _canvas = createCanvas(width, height); // cube textures can't reuse the same canvas\n\n\t\t\t\t\tconst canvas = needsNewCanvas ? createCanvas(width, height) : _canvas;\n\t\t\t\t\tcanvas.width = width;\n\t\t\t\t\tcanvas.height = height;\n\t\t\t\t\tconst context = canvas.getContext('2d');\n\t\t\t\t\tcontext.drawImage(image, 0, 0, width, height);\n\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').');\n\t\t\t\t\treturn canvas;\n\t\t\t\t} else {\n\t\t\t\t\tif ('data' in image) {\n\t\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').');\n\t\t\t\t\t}\n\n\t\t\t\t\treturn image;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn image;\n\t\t}\n\n\t\tfunction isPowerOfTwo$1(image) {\n\t\t\treturn isPowerOfTwo(image.width) && isPowerOfTwo(image.height);\n\t\t}\n\n\t\tfunction textureNeedsPowerOfTwo(texture) {\n\t\t\tif (isWebGL2) return false;\n\t\t\treturn texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping || texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\t\t}\n\n\t\tfunction textureNeedsGenerateMipmaps(texture, supportsMips) {\n\t\t\treturn texture.generateMipmaps && supportsMips && texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\t\t}\n\n\t\tfunction generateMipmap(target) {\n\t\t\t_gl.generateMipmap(target);\n\t\t}\n\n\t\tfunction getInternalFormat(internalFormatName, glFormat, glType, encoding) {\n\t\t\tif (isWebGL2 === false) return glFormat;\n\n\t\t\tif (internalFormatName !== null) {\n\t\t\t\tif (_gl[internalFormatName] !== undefined) return _gl[internalFormatName];\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'');\n\t\t\t}\n\n\t\t\tlet internalFormat = glFormat;\n\n\t\t\tif (glFormat === _gl.RED) {\n\t\t\t\tif (glType === _gl.FLOAT) internalFormat = _gl.R32F;\n\t\t\t\tif (glType === _gl.HALF_FLOAT) internalFormat = _gl.R16F;\n\t\t\t\tif (glType === _gl.UNSIGNED_BYTE) internalFormat = _gl.R8;\n\t\t\t}\n\n\t\t\tif (glFormat === _gl.RGB) {\n\t\t\t\tif (glType === _gl.FLOAT) internalFormat = _gl.RGB32F;\n\t\t\t\tif (glType === _gl.HALF_FLOAT) internalFormat = _gl.RGB16F;\n\t\t\t\tif (glType === _gl.UNSIGNED_BYTE) internalFormat = _gl.RGB8;\n\t\t\t}\n\n\t\t\tif (glFormat === _gl.RGBA) {\n\t\t\t\tif (glType === _gl.FLOAT) internalFormat = _gl.RGBA32F;\n\t\t\t\tif (glType === _gl.HALF_FLOAT) internalFormat = _gl.RGBA16F;\n\t\t\t\tif (glType === _gl.UNSIGNED_BYTE) internalFormat = encoding === sRGBEncoding ? _gl.SRGB8_ALPHA8 : _gl.RGBA8;\n\t\t\t}\n\n\t\t\tif (internalFormat === _gl.R16F || internalFormat === _gl.R32F || internalFormat === _gl.RGBA16F || internalFormat === _gl.RGBA32F) {\n\t\t\t\textensions.get('EXT_color_buffer_float');\n\t\t\t}\n\n\t\t\treturn internalFormat;\n\t\t}\n\n\t\tfunction getMipLevels(texture, image, supportsMips) {\n\t\t\tif (textureNeedsGenerateMipmaps(texture, supportsMips) === true || texture.isFramebufferTexture && texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter) {\n\t\t\t\treturn Math.log2(Math.max(image.width, image.height)) + 1;\n\t\t\t} else if (texture.mipmaps !== undefined && texture.mipmaps.length > 0) {\n\t\t\t\t// user-defined mipmaps\n\t\t\t\treturn texture.mipmaps.length;\n\t\t\t} else if (texture.isCompressedTexture && Array.isArray(texture.image)) {\n\t\t\t\treturn image.mipmaps.length;\n\t\t\t} else {\n\t\t\t\t// texture without mipmaps (only base level)\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t} // Fallback filters for non-power-of-2 textures\n\n\n\t\tfunction filterFallback(f) {\n\t\t\tif (f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter) {\n\t\t\t\treturn _gl.NEAREST;\n\t\t\t}\n\n\t\t\treturn _gl.LINEAR;\n\t\t} //\n\n\n\t\tfunction onTextureDispose(event) {\n\t\t\tconst texture = event.target;\n\t\t\ttexture.removeEventListener('dispose', onTextureDispose);\n\t\t\tdeallocateTexture(texture);\n\n\t\t\tif (texture.isVideoTexture) {\n\t\t\t\t_videoTextures.delete(texture);\n\t\t\t}\n\n\t\t\tinfo.memory.textures--;\n\t\t}\n\n\t\tfunction onRenderTargetDispose(event) {\n\t\t\tconst renderTarget = event.target;\n\t\t\trenderTarget.removeEventListener('dispose', onRenderTargetDispose);\n\t\t\tdeallocateRenderTarget(renderTarget);\n\t\t} //\n\n\n\t\tfunction deallocateTexture(texture) {\n\t\t\tconst textureProperties = properties.get(texture);\n\t\t\tif (textureProperties.__webglInit === undefined) return;\n\n\t\t\t_gl.deleteTexture(textureProperties.__webglTexture);\n\n\t\t\tproperties.remove(texture);\n\t\t}\n\n\t\tfunction deallocateRenderTarget(renderTarget) {\n\t\t\tconst texture = renderTarget.texture;\n\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\t\t\tconst textureProperties = properties.get(texture);\n\t\t\tif (!renderTarget) return;\n\n\t\t\tif (textureProperties.__webglTexture !== undefined) {\n\t\t\t\t_gl.deleteTexture(textureProperties.__webglTexture);\n\n\t\t\t\tinfo.memory.textures--;\n\t\t\t}\n\n\t\t\tif (renderTarget.depthTexture) {\n\t\t\t\trenderTarget.depthTexture.dispose();\n\t\t\t}\n\n\t\t\tif (renderTarget.isWebGLCubeRenderTarget) {\n\t\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\t\t_gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer[i]);\n\n\t\t\t\t\tif (renderTargetProperties.__webglDepthbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer[i]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t_gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer);\n\n\t\t\t\tif (renderTargetProperties.__webglDepthbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer);\n\t\t\t\tif (renderTargetProperties.__webglMultisampledFramebuffer) _gl.deleteFramebuffer(renderTargetProperties.__webglMultisampledFramebuffer);\n\t\t\t\tif (renderTargetProperties.__webglColorRenderbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglColorRenderbuffer);\n\t\t\t\tif (renderTargetProperties.__webglDepthRenderbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthRenderbuffer);\n\t\t\t}\n\n\t\t\tif (renderTarget.isWebGLMultipleRenderTargets) {\n\t\t\t\tfor (let i = 0, il = texture.length; i < il; i++) {\n\t\t\t\t\tconst attachmentProperties = properties.get(texture[i]);\n\n\t\t\t\t\tif (attachmentProperties.__webglTexture) {\n\t\t\t\t\t\t_gl.deleteTexture(attachmentProperties.__webglTexture);\n\n\t\t\t\t\t\tinfo.memory.textures--;\n\t\t\t\t\t}\n\n\t\t\t\t\tproperties.remove(texture[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tproperties.remove(texture);\n\t\t\tproperties.remove(renderTarget);\n\t\t} //\n\n\n\t\tlet textureUnits = 0;\n\n\t\tfunction resetTextureUnits() {\n\t\t\ttextureUnits = 0;\n\t\t}\n\n\t\tfunction allocateTextureUnit() {\n\t\t\tconst textureUnit = textureUnits;\n\n\t\t\tif (textureUnit >= maxTextures) {\n\t\t\t\tconsole.warn('THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures);\n\t\t\t}\n\n\t\t\ttextureUnits += 1;\n\t\t\treturn textureUnit;\n\t\t} //\n\n\n\t\tfunction setTexture2D(texture, slot) {\n\t\t\tconst textureProperties = properties.get(texture);\n\t\t\tif (texture.isVideoTexture) updateVideoTexture(texture);\n\n\t\t\tif (texture.version > 0 && textureProperties.__version !== texture.version) {\n\t\t\t\tconst image = texture.image;\n\n\t\t\t\tif (image === undefined) {\n\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Texture marked for update but image is undefined');\n\t\t\t\t} else if (image.complete === false) {\n\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Texture marked for update but image is incomplete');\n\t\t\t\t} else {\n\t\t\t\t\tuploadTexture(textureProperties, texture, slot);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tstate.activeTexture(_gl.TEXTURE0 + slot);\n\t\t\tstate.bindTexture(_gl.TEXTURE_2D, textureProperties.__webglTexture);\n\t\t}\n\n\t\tfunction setTexture2DArray(texture, slot) {\n\t\t\tconst textureProperties = properties.get(texture);\n\n\t\t\tif (texture.version > 0 && textureProperties.__version !== texture.version) {\n\t\t\t\tuploadTexture(textureProperties, texture, slot);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstate.activeTexture(_gl.TEXTURE0 + slot);\n\t\t\tstate.bindTexture(_gl.TEXTURE_2D_ARRAY, textureProperties.__webglTexture);\n\t\t}\n\n\t\tfunction setTexture3D(texture, slot) {\n\t\t\tconst textureProperties = properties.get(texture);\n\n\t\t\tif (texture.version > 0 && textureProperties.__version !== texture.version) {\n\t\t\t\tuploadTexture(textureProperties, texture, slot);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstate.activeTexture(_gl.TEXTURE0 + slot);\n\t\t\tstate.bindTexture(_gl.TEXTURE_3D, textureProperties.__webglTexture);\n\t\t}\n\n\t\tfunction setTextureCube(texture, slot) {\n\t\t\tconst textureProperties = properties.get(texture);\n\n\t\t\tif (texture.version > 0 && textureProperties.__version !== texture.version) {\n\t\t\t\tuploadCubeTexture(textureProperties, texture, slot);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstate.activeTexture(_gl.TEXTURE0 + slot);\n\t\t\tstate.bindTexture(_gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture);\n\t\t}\n\n\t\tconst wrappingToGL = {\n\t\t\t[RepeatWrapping]: _gl.REPEAT,\n\t\t\t[ClampToEdgeWrapping]: _gl.CLAMP_TO_EDGE,\n\t\t\t[MirroredRepeatWrapping]: _gl.MIRRORED_REPEAT\n\t\t};\n\t\tconst filterToGL = {\n\t\t\t[NearestFilter]: _gl.NEAREST,\n\t\t\t[NearestMipmapNearestFilter]: _gl.NEAREST_MIPMAP_NEAREST,\n\t\t\t[NearestMipmapLinearFilter]: _gl.NEAREST_MIPMAP_LINEAR,\n\t\t\t[LinearFilter]: _gl.LINEAR,\n\t\t\t[LinearMipmapNearestFilter]: _gl.LINEAR_MIPMAP_NEAREST,\n\t\t\t[LinearMipmapLinearFilter]: _gl.LINEAR_MIPMAP_LINEAR\n\t\t};\n\n\t\tfunction setTextureParameters(textureType, texture, supportsMips) {\n\t\t\tif (supportsMips) {\n\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_WRAP_S, wrappingToGL[texture.wrapS]);\n\n\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_WRAP_T, wrappingToGL[texture.wrapT]);\n\n\t\t\t\tif (textureType === _gl.TEXTURE_3D || textureType === _gl.TEXTURE_2D_ARRAY) {\n\t\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_WRAP_R, wrappingToGL[texture.wrapR]);\n\t\t\t\t}\n\n\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_MAG_FILTER, filterToGL[texture.magFilter]);\n\n\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_MIN_FILTER, filterToGL[texture.minFilter]);\n\t\t\t} else {\n\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_WRAP_S, _gl.CLAMP_TO_EDGE);\n\n\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_WRAP_T, _gl.CLAMP_TO_EDGE);\n\n\t\t\t\tif (textureType === _gl.TEXTURE_3D || textureType === _gl.TEXTURE_2D_ARRAY) {\n\t\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_WRAP_R, _gl.CLAMP_TO_EDGE);\n\t\t\t\t}\n\n\t\t\t\tif (texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping) {\n\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.');\n\t\t\t\t}\n\n\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_MAG_FILTER, filterFallback(texture.magFilter));\n\n\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_MIN_FILTER, filterFallback(texture.minFilter));\n\n\t\t\t\tif (texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter) {\n\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (extensions.has('EXT_texture_filter_anisotropic') === true) {\n\t\t\t\tconst extension = extensions.get('EXT_texture_filter_anisotropic');\n\t\t\t\tif (texture.type === FloatType && extensions.has('OES_texture_float_linear') === false) return; // verify extension for WebGL 1 and WebGL 2\n\n\t\t\t\tif (isWebGL2 === false && texture.type === HalfFloatType && extensions.has('OES_texture_half_float_linear') === false) return; // verify extension for WebGL 1 only\n\n\t\t\t\tif (texture.anisotropy > 1 || properties.get(texture).__currentAnisotropy) {\n\t\t\t\t\t_gl.texParameterf(textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(texture.anisotropy, capabilities.getMaxAnisotropy()));\n\n\t\t\t\t\tproperties.get(texture).__currentAnisotropy = texture.anisotropy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction initTexture(textureProperties, texture) {\n\t\t\tif (textureProperties.__webglInit === undefined) {\n\t\t\t\ttextureProperties.__webglInit = true;\n\t\t\t\ttexture.addEventListener('dispose', onTextureDispose);\n\t\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\t\t\t\tinfo.memory.textures++;\n\t\t\t}\n\t\t}\n\n\t\tfunction uploadTexture(textureProperties, texture, slot) {\n\t\t\tlet textureType = _gl.TEXTURE_2D;\n\t\t\tif (texture.isDataTexture2DArray) textureType = _gl.TEXTURE_2D_ARRAY;\n\t\t\tif (texture.isDataTexture3D) textureType = _gl.TEXTURE_3D;\n\t\t\tinitTexture(textureProperties, texture);\n\t\t\tstate.activeTexture(_gl.TEXTURE0 + slot);\n\t\t\tstate.bindTexture(textureType, textureProperties.__webglTexture);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_FLIP_Y_WEBGL, texture.flipY);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultiplyAlpha);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_ALIGNMENT, texture.unpackAlignment);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, _gl.NONE);\n\n\t\t\tconst needsPowerOfTwo = textureNeedsPowerOfTwo(texture) && isPowerOfTwo$1(texture.image) === false;\n\t\t\tconst image = resizeImage(texture.image, needsPowerOfTwo, false, maxTextureSize);\n\t\t\tconst supportsMips = isPowerOfTwo$1(image) || isWebGL2,\n\t\t\t\t\t\tglFormat = utils.convert(texture.format);\n\t\t\tlet glType = utils.convert(texture.type),\n\t\t\t\t\tglInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType, texture.encoding);\n\t\t\tsetTextureParameters(textureType, texture, supportsMips);\n\t\t\tlet mipmap;\n\t\t\tconst mipmaps = texture.mipmaps;\n\t\t\tconst useTexStorage = isWebGL2 && texture.isVideoTexture !== true;\n\t\t\tconst allocateMemory = textureProperties.__version === undefined;\n\t\t\tconst levels = getMipLevels(texture, image, supportsMips);\n\n\t\t\tif (texture.isDepthTexture) {\n\t\t\t\t// populate depth texture with dummy data\n\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT;\n\n\t\t\t\tif (isWebGL2) {\n\t\t\t\t\tif (texture.type === FloatType) {\n\t\t\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT32F;\n\t\t\t\t\t} else if (texture.type === UnsignedIntType) {\n\t\t\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT24;\n\t\t\t\t\t} else if (texture.type === UnsignedInt248Type) {\n\t\t\t\t\t\tglInternalFormat = _gl.DEPTH24_STENCIL8;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT16; // WebGL2 requires sized internalformat for glTexImage2D\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (texture.type === FloatType) {\n\t\t\t\t\t\tconsole.error('WebGLRenderer: Floating point depth texture requires WebGL2.');\n\t\t\t\t\t}\n\t\t\t\t} // validation checks for WebGL 1\n\n\n\t\t\t\tif (texture.format === DepthFormat && glInternalFormat === _gl.DEPTH_COMPONENT) {\n\t\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\t\tif (texture.type !== UnsignedShortType && texture.type !== UnsignedIntType) {\n\t\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.');\n\t\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\t\tglType = utils.convert(texture.type);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (texture.format === DepthStencilFormat && glInternalFormat === _gl.DEPTH_COMPONENT) {\n\t\t\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\t\tglInternalFormat = _gl.DEPTH_STENCIL; // The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\n\t\t\t\t\tif (texture.type !== UnsignedInt248Type) {\n\t\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.');\n\t\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\t\tglType = utils.convert(texture.type);\n\t\t\t\t\t}\n\t\t\t\t} //\n\n\n\t\t\t\tif (useTexStorage && allocateMemory) {\n\t\t\t\t\tstate.texStorage2D(_gl.TEXTURE_2D, 1, glInternalFormat, image.width, image.height);\n\t\t\t\t} else {\n\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_2D, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null);\n\t\t\t\t}\n\t\t\t} else if (texture.isDataTexture) {\n\t\t\t\t// use manually created mipmaps if available\n\t\t\t\t// if there are no manual mipmaps\n\t\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\t\t\t\tif (mipmaps.length > 0 && supportsMips) {\n\t\t\t\t\tif (useTexStorage && allocateMemory) {\n\t\t\t\t\t\tstate.texStorage2D(_gl.TEXTURE_2D, levels, glInternalFormat, mipmaps[0].width, mipmaps[0].height);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (let i = 0, il = mipmaps.length; i < il; i++) {\n\t\t\t\t\t\tmipmap = mipmaps[i];\n\n\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_2D, 0, 0, 0, mipmap.width, mipmap.height, glFormat, glType, mipmap.data);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_2D, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\t} else {\n\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\tif (allocateMemory) {\n\t\t\t\t\t\t\tstate.texStorage2D(_gl.TEXTURE_2D, levels, glInternalFormat, image.width, image.height);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_2D, 0, 0, 0, image.width, image.height, glFormat, glType, image.data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_2D, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (texture.isCompressedTexture) {\n\t\t\t\tif (useTexStorage && allocateMemory) {\n\t\t\t\t\tstate.texStorage2D(_gl.TEXTURE_2D, levels, glInternalFormat, mipmaps[0].width, mipmaps[0].height);\n\t\t\t\t}\n\n\t\t\t\tfor (let i = 0, il = mipmaps.length; i < il; i++) {\n\t\t\t\t\tmipmap = mipmaps[i];\n\n\t\t\t\t\tif (texture.format !== RGBAFormat && texture.format !== RGBFormat) {\n\t\t\t\t\t\tif (glFormat !== null) {\n\t\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\t\tstate.compressedTexSubImage2D(_gl.TEXTURE_2D, i, 0, 0, mipmap.width, mipmap.height, glFormat, mipmap.data);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstate.compressedTexImage2D(_gl.TEXTURE_2D, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_2D, i, 0, 0, mipmap.width, mipmap.height, glFormat, glType, mipmap.data);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_2D, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (texture.isDataTexture2DArray) {\n\t\t\t\tif (useTexStorage) {\n\t\t\t\t\tif (allocateMemory) {\n\t\t\t\t\t\tstate.texStorage3D(_gl.TEXTURE_2D_ARRAY, levels, glInternalFormat, image.width, image.height, image.depth);\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.texSubImage3D(_gl.TEXTURE_2D_ARRAY, 0, 0, 0, 0, image.width, image.height, image.depth, glFormat, glType, image.data);\n\t\t\t\t} else {\n\t\t\t\t\tstate.texImage3D(_gl.TEXTURE_2D_ARRAY, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data);\n\t\t\t\t}\n\t\t\t} else if (texture.isDataTexture3D) {\n\t\t\t\tif (useTexStorage) {\n\t\t\t\t\tif (allocateMemory) {\n\t\t\t\t\t\tstate.texStorage3D(_gl.TEXTURE_3D, levels, glInternalFormat, image.width, image.height, image.depth);\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.texSubImage3D(_gl.TEXTURE_3D, 0, 0, 0, 0, image.width, image.height, image.depth, glFormat, glType, image.data);\n\t\t\t\t} else {\n\t\t\t\t\tstate.texImage3D(_gl.TEXTURE_3D, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data);\n\t\t\t\t}\n\t\t\t} else if (texture.isFramebufferTexture) {\n\t\t\t\tif (useTexStorage && allocateMemory) {\n\t\t\t\t\tstate.texStorage2D(_gl.TEXTURE_2D, levels, glInternalFormat, image.width, image.height);\n\t\t\t\t} else {\n\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_2D, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// regular Texture (image, video, canvas)\n\t\t\t\t// use manually created mipmaps if available\n\t\t\t\t// if there are no manual mipmaps\n\t\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\t\t\t\tif (mipmaps.length > 0 && supportsMips) {\n\t\t\t\t\tif (useTexStorage && allocateMemory) {\n\t\t\t\t\t\tstate.texStorage2D(_gl.TEXTURE_2D, levels, glInternalFormat, mipmaps[0].width, mipmaps[0].height);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (let i = 0, il = mipmaps.length; i < il; i++) {\n\t\t\t\t\t\tmipmap = mipmaps[i];\n\n\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_2D, i, 0, 0, glFormat, glType, mipmap);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_2D, i, glInternalFormat, glFormat, glType, mipmap);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\t} else {\n\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\tif (allocateMemory) {\n\t\t\t\t\t\t\tstate.texStorage2D(_gl.TEXTURE_2D, levels, glInternalFormat, image.width, image.height);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_2D, 0, 0, 0, glFormat, glType, image);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_2D, 0, glInternalFormat, glFormat, glType, image);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n\t\t\t\tgenerateMipmap(textureType);\n\t\t\t}\n\n\t\t\ttextureProperties.__version = texture.version;\n\t\t\tif (texture.onUpdate) texture.onUpdate(texture);\n\t\t}\n\n\t\tfunction uploadCubeTexture(textureProperties, texture, slot) {\n\t\t\tif (texture.image.length !== 6) return;\n\t\t\tinitTexture(textureProperties, texture);\n\t\t\tstate.activeTexture(_gl.TEXTURE0 + slot);\n\t\t\tstate.bindTexture(_gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_FLIP_Y_WEBGL, texture.flipY);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultiplyAlpha);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_ALIGNMENT, texture.unpackAlignment);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, _gl.NONE);\n\n\t\t\tconst isCompressed = texture && (texture.isCompressedTexture || texture.image[0].isCompressedTexture);\n\t\t\tconst isDataTexture = texture.image[0] && texture.image[0].isDataTexture;\n\t\t\tconst cubeImage = [];\n\n\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\tif (!isCompressed && !isDataTexture) {\n\t\t\t\t\tcubeImage[i] = resizeImage(texture.image[i], false, true, maxCubemapSize);\n\t\t\t\t} else {\n\t\t\t\t\tcubeImage[i] = isDataTexture ? texture.image[i].image : texture.image[i];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst image = cubeImage[0],\n\t\t\t\t\t\tsupportsMips = isPowerOfTwo$1(image) || isWebGL2,\n\t\t\t\t\t\tglFormat = utils.convert(texture.format),\n\t\t\t\t\t\tglType = utils.convert(texture.type),\n\t\t\t\t\t\tglInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType, texture.encoding);\n\t\t\tconst useTexStorage = isWebGL2 && texture.isVideoTexture !== true;\n\t\t\tconst allocateMemory = textureProperties.__version === undefined;\n\t\t\tlet levels = getMipLevels(texture, image, supportsMips);\n\t\t\tsetTextureParameters(_gl.TEXTURE_CUBE_MAP, texture, supportsMips);\n\t\t\tlet mipmaps;\n\n\t\t\tif (isCompressed) {\n\t\t\t\tif (useTexStorage && allocateMemory) {\n\t\t\t\t\tstate.texStorage2D(_gl.TEXTURE_CUBE_MAP, levels, glInternalFormat, image.width, image.height);\n\t\t\t\t}\n\n\t\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\t\tmipmaps = cubeImage[i].mipmaps;\n\n\t\t\t\t\tfor (let j = 0; j < mipmaps.length; j++) {\n\t\t\t\t\t\tconst mipmap = mipmaps[j];\n\n\t\t\t\t\t\tif (texture.format !== RGBAFormat && texture.format !== RGBFormat) {\n\t\t\t\t\t\t\tif (glFormat !== null) {\n\t\t\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\t\t\tstate.compressedTexSubImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, 0, 0, mipmap.width, mipmap.height, glFormat, mipmap.data);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tstate.compressedTexImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, 0, 0, mipmap.width, mipmap.height, glFormat, glType, mipmap.data);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\t\tif (useTexStorage && allocateMemory) {\n\t\t\t\t\t// TODO: Uniformly handle mipmap definitions\n\t\t\t\t\t// Normal textures and compressed cube textures define base level + mips with their mipmap array\n\t\t\t\t\t// Uncompressed cube textures use their mipmap array only for mips (no base level)\n\t\t\t\t\tif (mipmaps.length > 0) levels++;\n\t\t\t\t\tstate.texStorage2D(_gl.TEXTURE_CUBE_MAP, levels, glInternalFormat, cubeImage[0].width, cubeImage[0].height);\n\t\t\t\t}\n\n\t\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\t\tif (isDataTexture) {\n\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, 0, 0, cubeImage[i].width, cubeImage[i].height, glFormat, glType, cubeImage[i].data);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glInternalFormat, cubeImage[i].width, cubeImage[i].height, 0, glFormat, glType, cubeImage[i].data);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (let j = 0; j < mipmaps.length; j++) {\n\t\t\t\t\t\t\tconst mipmap = mipmaps[j];\n\t\t\t\t\t\t\tconst mipmapImage = mipmap.image[i].image;\n\n\t\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j + 1, 0, 0, mipmapImage.width, mipmapImage.height, glFormat, glType, mipmapImage.data);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, 0, 0, glFormat, glType, cubeImage[i]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glInternalFormat, glFormat, glType, cubeImage[i]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (let j = 0; j < mipmaps.length; j++) {\n\t\t\t\t\t\t\tconst mipmap = mipmaps[j];\n\n\t\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j + 1, 0, 0, glFormat, glType, mipmap.image[i]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n\t\t\t\t// We assume images for cube map have the same size.\n\t\t\t\tgenerateMipmap(_gl.TEXTURE_CUBE_MAP);\n\t\t\t}\n\n\t\t\ttextureProperties.__version = texture.version;\n\t\t\tif (texture.onUpdate) texture.onUpdate(texture);\n\t\t} // Render targets\n\t\t// Setup storage for target texture and bind it to correct framebuffer\n\n\n\t\tfunction setupFrameBufferTexture(framebuffer, renderTarget, texture, attachment, textureTarget) {\n\t\t\tconst glFormat = utils.convert(texture.format);\n\t\t\tconst glType = utils.convert(texture.type);\n\t\t\tconst glInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType, texture.encoding);\n\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\n\t\t\tif (!renderTargetProperties.__hasExternalTextures) {\n\t\t\t\tif (textureTarget === _gl.TEXTURE_3D || textureTarget === _gl.TEXTURE_2D_ARRAY) {\n\t\t\t\t\tstate.texImage3D(textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, renderTarget.depth, 0, glFormat, glType, null);\n\t\t\t\t} else {\n\t\t\t\t\tstate.texImage2D(textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);\n\n\t\t\tif (renderTarget.useRenderToTexture) {\n\t\t\t\tMultisampledRenderToTextureExtension.framebufferTexture2DMultisampleEXT(_gl.FRAMEBUFFER, attachment, textureTarget, properties.get(texture).__webglTexture, 0, getRenderTargetSamples(renderTarget));\n\t\t\t} else {\n\t\t\t\t_gl.framebufferTexture2D(_gl.FRAMEBUFFER, attachment, textureTarget, properties.get(texture).__webglTexture, 0);\n\t\t\t}\n\n\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, null);\n\t\t} // Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\n\n\t\tfunction setupRenderBufferStorage(renderbuffer, renderTarget, isMultisample) {\n\t\t\t_gl.bindRenderbuffer(_gl.RENDERBUFFER, renderbuffer);\n\n\t\t\tif (renderTarget.depthBuffer && !renderTarget.stencilBuffer) {\n\t\t\t\tlet glInternalFormat = _gl.DEPTH_COMPONENT16;\n\n\t\t\t\tif (isMultisample || renderTarget.useRenderToTexture) {\n\t\t\t\t\tconst depthTexture = renderTarget.depthTexture;\n\n\t\t\t\t\tif (depthTexture && depthTexture.isDepthTexture) {\n\t\t\t\t\t\tif (depthTexture.type === FloatType) {\n\t\t\t\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT32F;\n\t\t\t\t\t\t} else if (depthTexture.type === UnsignedIntType) {\n\t\t\t\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT24;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tconst samples = getRenderTargetSamples(renderTarget);\n\n\t\t\t\t\tif (renderTarget.useRenderToTexture) {\n\t\t\t\t\t\tMultisampledRenderToTextureExtension.renderbufferStorageMultisampleEXT(_gl.RENDERBUFFER, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_gl.renderbufferStorageMultisample(_gl.RENDERBUFFER, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t_gl.renderbufferStorage(_gl.RENDERBUFFER, glInternalFormat, renderTarget.width, renderTarget.height);\n\t\t\t\t}\n\n\t\t\t\t_gl.framebufferRenderbuffer(_gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer);\n\t\t\t} else if (renderTarget.depthBuffer && renderTarget.stencilBuffer) {\n\t\t\t\tconst samples = getRenderTargetSamples(renderTarget);\n\n\t\t\t\tif (isMultisample && renderTarget.useRenderbuffer) {\n\t\t\t\t\t_gl.renderbufferStorageMultisample(_gl.RENDERBUFFER, samples, _gl.DEPTH24_STENCIL8, renderTarget.width, renderTarget.height);\n\t\t\t\t} else if (renderTarget.useRenderToTexture) {\n\t\t\t\t\tMultisampledRenderToTextureExtension.renderbufferStorageMultisampleEXT(_gl.RENDERBUFFER, samples, _gl.DEPTH24_STENCIL8, renderTarget.width, renderTarget.height);\n\t\t\t\t} else {\n\t\t\t\t\t_gl.renderbufferStorage(_gl.RENDERBUFFER, _gl.DEPTH_STENCIL, renderTarget.width, renderTarget.height);\n\t\t\t\t}\n\n\t\t\t\t_gl.framebufferRenderbuffer(_gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer);\n\t\t\t} else {\n\t\t\t\t// Use the first texture for MRT so far\n\t\t\t\tconst texture = renderTarget.isWebGLMultipleRenderTargets === true ? renderTarget.texture[0] : renderTarget.texture;\n\t\t\t\tconst glFormat = utils.convert(texture.format);\n\t\t\t\tconst glType = utils.convert(texture.type);\n\t\t\t\tconst glInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType, texture.encoding);\n\t\t\t\tconst samples = getRenderTargetSamples(renderTarget);\n\n\t\t\t\tif (isMultisample && renderTarget.useRenderbuffer) {\n\t\t\t\t\t_gl.renderbufferStorageMultisample(_gl.RENDERBUFFER, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n\t\t\t\t} else if (renderTarget.useRenderToTexture) {\n\t\t\t\t\tMultisampledRenderToTextureExtension.renderbufferStorageMultisampleEXT(_gl.RENDERBUFFER, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n\t\t\t\t} else {\n\t\t\t\t\t_gl.renderbufferStorage(_gl.RENDERBUFFER, glInternalFormat, renderTarget.width, renderTarget.height);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_gl.bindRenderbuffer(_gl.RENDERBUFFER, null);\n\t\t} // Setup resources for a Depth Texture for a FBO (needs an extension)\n\n\n\t\tfunction setupDepthTexture(framebuffer, renderTarget) {\n\t\t\tconst isCube = renderTarget && renderTarget.isWebGLCubeRenderTarget;\n\t\t\tif (isCube) throw new Error('Depth Texture with cube render targets is not supported');\n\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);\n\n\t\t\tif (!(renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture)) {\n\t\t\t\tthrow new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');\n\t\t\t} // upload an empty depth texture with framebuffer size\n\n\n\t\t\tif (!properties.get(renderTarget.depthTexture).__webglTexture || renderTarget.depthTexture.image.width !== renderTarget.width || renderTarget.depthTexture.image.height !== renderTarget.height) {\n\t\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\t\t\t}\n\n\t\t\tsetTexture2D(renderTarget.depthTexture, 0);\n\n\t\t\tconst webglDepthTexture = properties.get(renderTarget.depthTexture).__webglTexture;\n\n\t\t\tconst samples = getRenderTargetSamples(renderTarget);\n\n\t\t\tif (renderTarget.depthTexture.format === DepthFormat) {\n\t\t\t\tif (renderTarget.useRenderToTexture) {\n\t\t\t\t\tMultisampledRenderToTextureExtension.framebufferTexture2DMultisampleEXT(_gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0, samples);\n\t\t\t\t} else {\n\t\t\t\t\t_gl.framebufferTexture2D(_gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0);\n\t\t\t\t}\n\t\t\t} else if (renderTarget.depthTexture.format === DepthStencilFormat) {\n\t\t\t\tif (renderTarget.useRenderToTexture) {\n\t\t\t\t\tMultisampledRenderToTextureExtension.framebufferTexture2DMultisampleEXT(_gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0, samples);\n\t\t\t\t} else {\n\t\t\t\t\t_gl.framebufferTexture2D(_gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error('Unknown depthTexture format');\n\t\t\t}\n\t\t} // Setup GL resources for a non-texture depth buffer\n\n\n\t\tfunction setupDepthRenderbuffer(renderTarget) {\n\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\t\t\tconst isCube = renderTarget.isWebGLCubeRenderTarget === true;\n\n\t\t\tif (renderTarget.depthTexture && !renderTargetProperties.__autoAllocateDepthBuffer) {\n\t\t\t\tif (isCube) throw new Error('target.depthTexture not supported in Cube render targets');\n\t\t\t\tsetupDepthTexture(renderTargetProperties.__webglFramebuffer, renderTarget);\n\t\t\t} else {\n\t\t\t\tif (isCube) {\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer[i]);\n\t\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[i] = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer[i], renderTarget, false);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer);\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer, renderTarget, false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, null);\n\t\t} // rebind framebuffer with external textures\n\n\n\t\tfunction rebindTextures(renderTarget, colorTexture, depthTexture) {\n\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\n\t\t\tif (colorTexture !== undefined) {\n\t\t\t\tsetupFrameBufferTexture(renderTargetProperties.__webglFramebuffer, renderTarget, renderTarget.texture, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_2D);\n\t\t\t}\n\n\t\t\tif (depthTexture !== undefined) {\n\t\t\t\tsetupDepthRenderbuffer(renderTarget);\n\t\t\t}\n\t\t} // Set up GL resources for the render target\n\n\n\t\tfunction setupRenderTarget(renderTarget) {\n\t\t\tconst texture = renderTarget.texture;\n\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\t\t\tconst textureProperties = properties.get(texture);\n\t\t\trenderTarget.addEventListener('dispose', onRenderTargetDispose);\n\n\t\t\tif (renderTarget.isWebGLMultipleRenderTargets !== true) {\n\t\t\t\tif (textureProperties.__webglTexture === undefined) {\n\t\t\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\t\t\t\t}\n\n\t\t\t\ttextureProperties.__version = texture.version;\n\t\t\t\tinfo.memory.textures++;\n\t\t\t}\n\n\t\t\tconst isCube = renderTarget.isWebGLCubeRenderTarget === true;\n\t\t\tconst isMultipleRenderTargets = renderTarget.isWebGLMultipleRenderTargets === true;\n\t\t\tconst isRenderTarget3D = texture.isDataTexture3D || texture.isDataTexture2DArray;\n\t\t\tconst supportsMips = isPowerOfTwo$1(renderTarget) || isWebGL2; // Handles WebGL2 RGBFormat fallback - #18858\n\n\t\t\tif (isWebGL2 && texture.format === RGBFormat && (texture.type === FloatType || texture.type === HalfFloatType)) {\n\t\t\t\ttexture.format = RGBAFormat;\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.');\n\t\t\t} // Setup framebuffer\n\n\n\t\t\tif (isCube) {\n\t\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\t\trenderTargetProperties.__webglFramebuffer[i] = _gl.createFramebuffer();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\t\tif (isMultipleRenderTargets) {\n\t\t\t\t\tif (capabilities.drawBuffers) {\n\t\t\t\t\t\tconst textures = renderTarget.texture;\n\n\t\t\t\t\t\tfor (let i = 0, il = textures.length; i < il; i++) {\n\t\t\t\t\t\t\tconst attachmentProperties = properties.get(textures[i]);\n\n\t\t\t\t\t\t\tif (attachmentProperties.__webglTexture === undefined) {\n\t\t\t\t\t\t\t\tattachmentProperties.__webglTexture = _gl.createTexture();\n\t\t\t\t\t\t\t\tinfo.memory.textures++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.');\n\t\t\t\t\t}\n\t\t\t\t} else if (renderTarget.useRenderbuffer) {\n\t\t\t\t\tif (isWebGL2) {\n\t\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n\t\t\t\t\t\t_gl.bindRenderbuffer(_gl.RENDERBUFFER, renderTargetProperties.__webglColorRenderbuffer);\n\n\t\t\t\t\t\tconst glFormat = utils.convert(texture.format);\n\t\t\t\t\t\tconst glType = utils.convert(texture.type);\n\t\t\t\t\t\tconst glInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType, texture.encoding);\n\t\t\t\t\t\tconst samples = getRenderTargetSamples(renderTarget);\n\n\t\t\t\t\t\t_gl.renderbufferStorageMultisample(_gl.RENDERBUFFER, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n\n\t\t\t\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, renderTargetProperties.__webglMultisampledFramebuffer);\n\n\t\t\t\t\t\t_gl.framebufferRenderbuffer(_gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, _gl.RENDERBUFFER, renderTargetProperties.__webglColorRenderbuffer);\n\n\t\t\t\t\t\t_gl.bindRenderbuffer(_gl.RENDERBUFFER, null);\n\n\t\t\t\t\t\tif (renderTarget.depthBuffer) {\n\t\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\t\t\tsetupRenderBufferStorage(renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, null);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} // Setup color buffer\n\n\n\t\t\tif (isCube) {\n\t\t\t\tstate.bindTexture(_gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture);\n\t\t\t\tsetTextureParameters(_gl.TEXTURE_CUBE_MAP, texture, supportsMips);\n\n\t\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\t\tsetupFrameBufferTexture(renderTargetProperties.__webglFramebuffer[i], renderTarget, texture, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i);\n\t\t\t\t}\n\n\t\t\t\tif (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n\t\t\t\t\tgenerateMipmap(_gl.TEXTURE_CUBE_MAP);\n\t\t\t\t}\n\n\t\t\t\tstate.unbindTexture();\n\t\t\t} else if (isMultipleRenderTargets) {\n\t\t\t\tconst textures = renderTarget.texture;\n\n\t\t\t\tfor (let i = 0, il = textures.length; i < il; i++) {\n\t\t\t\t\tconst attachment = textures[i];\n\t\t\t\t\tconst attachmentProperties = properties.get(attachment);\n\t\t\t\t\tstate.bindTexture(_gl.TEXTURE_2D, attachmentProperties.__webglTexture);\n\t\t\t\t\tsetTextureParameters(_gl.TEXTURE_2D, attachment, supportsMips);\n\t\t\t\t\tsetupFrameBufferTexture(renderTargetProperties.__webglFramebuffer, renderTarget, attachment, _gl.COLOR_ATTACHMENT0 + i, _gl.TEXTURE_2D);\n\n\t\t\t\t\tif (textureNeedsGenerateMipmaps(attachment, supportsMips)) {\n\t\t\t\t\t\tgenerateMipmap(_gl.TEXTURE_2D);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstate.unbindTexture();\n\t\t\t} else {\n\t\t\t\tlet glTextureType = _gl.TEXTURE_2D;\n\n\t\t\t\tif (isRenderTarget3D) {\n\t\t\t\t\t// Render targets containing layers, i.e: Texture 3D and 2d arrays\n\t\t\t\t\tif (isWebGL2) {\n\t\t\t\t\t\tconst isTexture3D = texture.isDataTexture3D;\n\t\t\t\t\t\tglTextureType = isTexture3D ? _gl.TEXTURE_3D : _gl.TEXTURE_2D_ARRAY;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.warn('THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstate.bindTexture(glTextureType, textureProperties.__webglTexture);\n\t\t\t\tsetTextureParameters(glTextureType, texture, supportsMips);\n\t\t\t\tsetupFrameBufferTexture(renderTargetProperties.__webglFramebuffer, renderTarget, texture, _gl.COLOR_ATTACHMENT0, glTextureType);\n\n\t\t\t\tif (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n\t\t\t\t\tgenerateMipmap(glTextureType);\n\t\t\t\t}\n\n\t\t\t\tstate.unbindTexture();\n\t\t\t} // Setup depth and stencil buffers\n\n\n\t\t\tif (renderTarget.depthBuffer) {\n\t\t\t\tsetupDepthRenderbuffer(renderTarget);\n\t\t\t}\n\t\t}\n\n\t\tfunction updateRenderTargetMipmap(renderTarget) {\n\t\t\tconst supportsMips = isPowerOfTwo$1(renderTarget) || isWebGL2;\n\t\t\tconst textures = renderTarget.isWebGLMultipleRenderTargets === true ? renderTarget.texture : [renderTarget.texture];\n\n\t\t\tfor (let i = 0, il = textures.length; i < il; i++) {\n\t\t\t\tconst texture = textures[i];\n\n\t\t\t\tif (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n\t\t\t\t\tconst target = renderTarget.isWebGLCubeRenderTarget ? _gl.TEXTURE_CUBE_MAP : _gl.TEXTURE_2D;\n\n\t\t\t\t\tconst webglTexture = properties.get(texture).__webglTexture;\n\n\t\t\t\t\tstate.bindTexture(target, webglTexture);\n\t\t\t\t\tgenerateMipmap(target);\n\t\t\t\t\tstate.unbindTexture();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction updateMultisampleRenderTarget(renderTarget) {\n\t\t\tif (renderTarget.useRenderbuffer) {\n\t\t\t\tif (isWebGL2) {\n\t\t\t\t\tconst width = renderTarget.width;\n\t\t\t\t\tconst height = renderTarget.height;\n\t\t\t\t\tlet mask = _gl.COLOR_BUFFER_BIT;\n\t\t\t\t\tconst invalidationArray = [_gl.COLOR_ATTACHMENT0];\n\t\t\t\t\tconst depthStyle = renderTarget.stencilBuffer ? _gl.DEPTH_STENCIL_ATTACHMENT : _gl.DEPTH_ATTACHMENT;\n\n\t\t\t\t\tif (renderTarget.depthBuffer) {\n\t\t\t\t\t\tinvalidationArray.push(depthStyle);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!renderTarget.ignoreDepthForMultisampleCopy) {\n\t\t\t\t\t\tif (renderTarget.depthBuffer) mask |= _gl.DEPTH_BUFFER_BIT;\n\t\t\t\t\t\tif (renderTarget.stencilBuffer) mask |= _gl.STENCIL_BUFFER_BIT;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\t\t\t\t\tstate.bindFramebuffer(_gl.READ_FRAMEBUFFER, renderTargetProperties.__webglMultisampledFramebuffer);\n\t\t\t\t\tstate.bindFramebuffer(_gl.DRAW_FRAMEBUFFER, renderTargetProperties.__webglFramebuffer);\n\n\t\t\t\t\tif (renderTarget.ignoreDepthForMultisampleCopy) {\n\t\t\t\t\t\t_gl.invalidateFramebuffer(_gl.READ_FRAMEBUFFER, [depthStyle]);\n\n\t\t\t\t\t\t_gl.invalidateFramebuffer(_gl.DRAW_FRAMEBUFFER, [depthStyle]);\n\t\t\t\t\t}\n\n\t\t\t\t\t_gl.blitFramebuffer(0, 0, width, height, 0, 0, width, height, mask, _gl.NEAREST);\n\n\t\t\t\t\t_gl.invalidateFramebuffer(_gl.READ_FRAMEBUFFER, invalidationArray);\n\n\t\t\t\t\tstate.bindFramebuffer(_gl.READ_FRAMEBUFFER, null);\n\t\t\t\t\tstate.bindFramebuffer(_gl.DRAW_FRAMEBUFFER, renderTargetProperties.__webglMultisampledFramebuffer);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction getRenderTargetSamples(renderTarget) {\n\t\t\treturn isWebGL2 && (renderTarget.useRenderbuffer || renderTarget.useRenderToTexture) ? Math.min(maxSamples, renderTarget.samples) : 0;\n\t\t}\n\n\t\tfunction updateVideoTexture(texture) {\n\t\t\tconst frame = info.render.frame; // Check the last frame we updated the VideoTexture\n\n\t\t\tif (_videoTextures.get(texture) !== frame) {\n\t\t\t\t_videoTextures.set(texture, frame);\n\n\t\t\t\ttexture.update();\n\t\t\t}\n\t\t} // backwards compatibility\n\n\n\t\tlet warnedTexture2D = false;\n\t\tlet warnedTextureCube = false;\n\n\t\tfunction safeSetTexture2D(texture, slot) {\n\t\t\tif (texture && texture.isWebGLRenderTarget) {\n\t\t\t\tif (warnedTexture2D === false) {\n\t\t\t\t\tconsole.warn('THREE.WebGLTextures.safeSetTexture2D: don\\'t use render targets as textures. Use their .texture property instead.');\n\t\t\t\t\twarnedTexture2D = true;\n\t\t\t\t}\n\n\t\t\t\ttexture = texture.texture;\n\t\t\t}\n\n\t\t\tsetTexture2D(texture, slot);\n\t\t}\n\n\t\tfunction safeSetTextureCube(texture, slot) {\n\t\t\tif (texture && texture.isWebGLCubeRenderTarget) {\n\t\t\t\tif (warnedTextureCube === false) {\n\t\t\t\t\tconsole.warn('THREE.WebGLTextures.safeSetTextureCube: don\\'t use cube render targets as textures. Use their .texture property instead.');\n\t\t\t\t\twarnedTextureCube = true;\n\t\t\t\t}\n\n\t\t\t\ttexture = texture.texture;\n\t\t\t}\n\n\t\t\tsetTextureCube(texture, slot);\n\t\t} //\n\n\n\t\tthis.allocateTextureUnit = allocateTextureUnit;\n\t\tthis.resetTextureUnits = resetTextureUnits;\n\t\tthis.setTexture2D = setTexture2D;\n\t\tthis.setTexture2DArray = setTexture2DArray;\n\t\tthis.setTexture3D = setTexture3D;\n\t\tthis.setTextureCube = setTextureCube;\n\t\tthis.rebindTextures = rebindTextures;\n\t\tthis.setupRenderTarget = setupRenderTarget;\n\t\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\t\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\t\tthis.setupDepthRenderbuffer = setupDepthRenderbuffer;\n\t\tthis.setupFrameBufferTexture = setupFrameBufferTexture;\n\t\tthis.safeSetTexture2D = safeSetTexture2D;\n\t\tthis.safeSetTextureCube = safeSetTextureCube;\n\t}\n\n\tfunction WebGLUtils(gl, extensions, capabilities) {\n\t\tconst isWebGL2 = capabilities.isWebGL2;\n\n\t\tfunction convert(p) {\n\t\t\tlet extension;\n\t\t\tif (p === UnsignedByteType) return gl.UNSIGNED_BYTE;\n\t\t\tif (p === UnsignedShort4444Type) return gl.UNSIGNED_SHORT_4_4_4_4;\n\t\t\tif (p === UnsignedShort5551Type) return gl.UNSIGNED_SHORT_5_5_5_1;\n\t\t\tif (p === UnsignedShort565Type) return gl.UNSIGNED_SHORT_5_6_5;\n\t\t\tif (p === ByteType) return gl.BYTE;\n\t\t\tif (p === ShortType) return gl.SHORT;\n\t\t\tif (p === UnsignedShortType) return gl.UNSIGNED_SHORT;\n\t\t\tif (p === IntType) return gl.INT;\n\t\t\tif (p === UnsignedIntType) return gl.UNSIGNED_INT;\n\t\t\tif (p === FloatType) return gl.FLOAT;\n\n\t\t\tif (p === HalfFloatType) {\n\t\t\t\tif (isWebGL2) return gl.HALF_FLOAT;\n\t\t\t\textension = extensions.get('OES_texture_half_float');\n\n\t\t\t\tif (extension !== null) {\n\t\t\t\t\treturn extension.HALF_FLOAT_OES;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (p === AlphaFormat) return gl.ALPHA;\n\t\t\tif (p === RGBFormat) return gl.RGB;\n\t\t\tif (p === RGBAFormat) return gl.RGBA;\n\t\t\tif (p === LuminanceFormat) return gl.LUMINANCE;\n\t\t\tif (p === LuminanceAlphaFormat) return gl.LUMINANCE_ALPHA;\n\t\t\tif (p === DepthFormat) return gl.DEPTH_COMPONENT;\n\t\t\tif (p === DepthStencilFormat) return gl.DEPTH_STENCIL;\n\t\t\tif (p === RedFormat) return gl.RED; // WebGL2 formats.\n\n\t\t\tif (p === RedIntegerFormat) return gl.RED_INTEGER;\n\t\t\tif (p === RGFormat) return gl.RG;\n\t\t\tif (p === RGIntegerFormat) return gl.RG_INTEGER;\n\t\t\tif (p === RGBIntegerFormat) return gl.RGB_INTEGER;\n\t\t\tif (p === RGBAIntegerFormat) return gl.RGBA_INTEGER;\n\n\t\t\tif (p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format || p === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format) {\n\t\t\t\textension = extensions.get('WEBGL_compressed_texture_s3tc');\n\n\t\t\t\tif (extension !== null) {\n\t\t\t\t\tif (p === RGB_S3TC_DXT1_Format) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\t\tif (p === RGBA_S3TC_DXT1_Format) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\t\tif (p === RGBA_S3TC_DXT3_Format) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\t\tif (p === RGBA_S3TC_DXT5_Format) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format || p === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format) {\n\t\t\t\textension = extensions.get('WEBGL_compressed_texture_pvrtc');\n\n\t\t\t\tif (extension !== null) {\n\t\t\t\t\tif (p === RGB_PVRTC_4BPPV1_Format) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\t\tif (p === RGB_PVRTC_2BPPV1_Format) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\t\tif (p === RGBA_PVRTC_4BPPV1_Format) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\t\tif (p === RGBA_PVRTC_2BPPV1_Format) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (p === RGB_ETC1_Format) {\n\t\t\t\textension = extensions.get('WEBGL_compressed_texture_etc1');\n\n\t\t\t\tif (extension !== null) {\n\t\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format) {\n\t\t\t\textension = extensions.get('WEBGL_compressed_texture_etc');\n\n\t\t\t\tif (extension !== null) {\n\t\t\t\t\tif (p === RGB_ETC2_Format) return extension.COMPRESSED_RGB8_ETC2;\n\t\t\t\t\tif (p === RGBA_ETC2_EAC_Format) return extension.COMPRESSED_RGBA8_ETC2_EAC;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format || p === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format || p === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format || p === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format || p === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format || p === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format || p === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format || p === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format || p === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format || p === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format) {\n\t\t\t\textension = extensions.get('WEBGL_compressed_texture_astc');\n\n\t\t\t\tif (extension !== null) {\n\t\t\t\t\t// TODO Complete?\n\t\t\t\t\treturn p;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (p === RGBA_BPTC_Format) {\n\t\t\t\textension = extensions.get('EXT_texture_compression_bptc');\n\n\t\t\t\tif (extension !== null) {\n\t\t\t\t\t// TODO Complete?\n\t\t\t\t\treturn p;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (p === UnsignedInt248Type) {\n\t\t\t\tif (isWebGL2) return gl.UNSIGNED_INT_24_8;\n\t\t\t\textension = extensions.get('WEBGL_depth_texture');\n\n\t\t\t\tif (extension !== null) {\n\t\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tconvert: convert\n\t\t};\n\t}\n\n\tclass ArrayCamera extends PerspectiveCamera {\n\t\tconstructor(array = []) {\n\t\t\tsuper();\n\t\t\tthis.cameras = array;\n\t\t}\n\n\t}\n\n\tArrayCamera.prototype.isArrayCamera = true;\n\n\tclass Group extends Object3D {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.type = 'Group';\n\t\t}\n\n\t}\n\n\tGroup.prototype.isGroup = true;\n\n\tconst _moveEvent = {\n\t\ttype: 'move'\n\t};\n\n\tclass WebXRController {\n\t\tconstructor() {\n\t\t\tthis._targetRay = null;\n\t\t\tthis._grip = null;\n\t\t\tthis._hand = null;\n\t\t}\n\n\t\tgetHandSpace() {\n\t\t\tif (this._hand === null) {\n\t\t\t\tthis._hand = new Group();\n\t\t\t\tthis._hand.matrixAutoUpdate = false;\n\t\t\t\tthis._hand.visible = false;\n\t\t\t\tthis._hand.joints = {};\n\t\t\t\tthis._hand.inputState = {\n\t\t\t\t\tpinching: false\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn this._hand;\n\t\t}\n\n\t\tgetTargetRaySpace() {\n\t\t\tif (this._targetRay === null) {\n\t\t\t\tthis._targetRay = new Group();\n\t\t\t\tthis._targetRay.matrixAutoUpdate = false;\n\t\t\t\tthis._targetRay.visible = false;\n\t\t\t\tthis._targetRay.hasLinearVelocity = false;\n\t\t\t\tthis._targetRay.linearVelocity = new Vector3();\n\t\t\t\tthis._targetRay.hasAngularVelocity = false;\n\t\t\t\tthis._targetRay.angularVelocity = new Vector3();\n\t\t\t}\n\n\t\t\treturn this._targetRay;\n\t\t}\n\n\t\tgetGripSpace() {\n\t\t\tif (this._grip === null) {\n\t\t\t\tthis._grip = new Group();\n\t\t\t\tthis._grip.matrixAutoUpdate = false;\n\t\t\t\tthis._grip.visible = false;\n\t\t\t\tthis._grip.hasLinearVelocity = false;\n\t\t\t\tthis._grip.linearVelocity = new Vector3();\n\t\t\t\tthis._grip.hasAngularVelocity = false;\n\t\t\t\tthis._grip.angularVelocity = new Vector3();\n\t\t\t}\n\n\t\t\treturn this._grip;\n\t\t}\n\n\t\tdispatchEvent(event) {\n\t\t\tif (this._targetRay !== null) {\n\t\t\t\tthis._targetRay.dispatchEvent(event);\n\t\t\t}\n\n\t\t\tif (this._grip !== null) {\n\t\t\t\tthis._grip.dispatchEvent(event);\n\t\t\t}\n\n\t\t\tif (this._hand !== null) {\n\t\t\t\tthis._hand.dispatchEvent(event);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tdisconnect(inputSource) {\n\t\t\tthis.dispatchEvent({\n\t\t\t\ttype: 'disconnected',\n\t\t\t\tdata: inputSource\n\t\t\t});\n\n\t\t\tif (this._targetRay !== null) {\n\t\t\t\tthis._targetRay.visible = false;\n\t\t\t}\n\n\t\t\tif (this._grip !== null) {\n\t\t\t\tthis._grip.visible = false;\n\t\t\t}\n\n\t\t\tif (this._hand !== null) {\n\t\t\t\tthis._hand.visible = false;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tupdate(inputSource, frame, referenceSpace) {\n\t\t\tlet inputPose = null;\n\t\t\tlet gripPose = null;\n\t\t\tlet handPose = null;\n\t\t\tconst targetRay = this._targetRay;\n\t\t\tconst grip = this._grip;\n\t\t\tconst hand = this._hand;\n\n\t\t\tif (inputSource && frame.session.visibilityState !== 'visible-blurred') {\n\t\t\t\tif (targetRay !== null) {\n\t\t\t\t\tinputPose = frame.getPose(inputSource.targetRaySpace, referenceSpace);\n\n\t\t\t\t\tif (inputPose !== null) {\n\t\t\t\t\t\ttargetRay.matrix.fromArray(inputPose.transform.matrix);\n\t\t\t\t\t\ttargetRay.matrix.decompose(targetRay.position, targetRay.rotation, targetRay.scale);\n\n\t\t\t\t\t\tif (inputPose.linearVelocity) {\n\t\t\t\t\t\t\ttargetRay.hasLinearVelocity = true;\n\t\t\t\t\t\t\ttargetRay.linearVelocity.copy(inputPose.linearVelocity);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttargetRay.hasLinearVelocity = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (inputPose.angularVelocity) {\n\t\t\t\t\t\t\ttargetRay.hasAngularVelocity = true;\n\t\t\t\t\t\t\ttargetRay.angularVelocity.copy(inputPose.angularVelocity);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttargetRay.hasAngularVelocity = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.dispatchEvent(_moveEvent);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (hand && inputSource.hand) {\n\t\t\t\t\thandPose = true;\n\n\t\t\t\t\tfor (const inputjoint of inputSource.hand.values()) {\n\t\t\t\t\t\t// Update the joints groups with the XRJoint poses\n\t\t\t\t\t\tconst jointPose = frame.getJointPose(inputjoint, referenceSpace);\n\n\t\t\t\t\t\tif (hand.joints[inputjoint.jointName] === undefined) {\n\t\t\t\t\t\t\t// The transform of this joint will be updated with the joint pose on each frame\n\t\t\t\t\t\t\tconst joint = new Group();\n\t\t\t\t\t\t\tjoint.matrixAutoUpdate = false;\n\t\t\t\t\t\t\tjoint.visible = false;\n\t\t\t\t\t\t\thand.joints[inputjoint.jointName] = joint; // ??\n\n\t\t\t\t\t\t\thand.add(joint);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst joint = hand.joints[inputjoint.jointName];\n\n\t\t\t\t\t\tif (jointPose !== null) {\n\t\t\t\t\t\t\tjoint.matrix.fromArray(jointPose.transform.matrix);\n\t\t\t\t\t\t\tjoint.matrix.decompose(joint.position, joint.rotation, joint.scale);\n\t\t\t\t\t\t\tjoint.jointRadius = jointPose.radius;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tjoint.visible = jointPose !== null;\n\t\t\t\t\t} // Custom events\n\t\t\t\t\t// Check pinchz\n\n\n\t\t\t\t\tconst indexTip = hand.joints['index-finger-tip'];\n\t\t\t\t\tconst thumbTip = hand.joints['thumb-tip'];\n\t\t\t\t\tconst distance = indexTip.position.distanceTo(thumbTip.position);\n\t\t\t\t\tconst distanceToPinch = 0.02;\n\t\t\t\t\tconst threshold = 0.005;\n\n\t\t\t\t\tif (hand.inputState.pinching && distance > distanceToPinch + threshold) {\n\t\t\t\t\t\thand.inputState.pinching = false;\n\t\t\t\t\t\tthis.dispatchEvent({\n\t\t\t\t\t\t\ttype: 'pinchend',\n\t\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\t\ttarget: this\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (!hand.inputState.pinching && distance <= distanceToPinch - threshold) {\n\t\t\t\t\t\thand.inputState.pinching = true;\n\t\t\t\t\t\tthis.dispatchEvent({\n\t\t\t\t\t\t\ttype: 'pinchstart',\n\t\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\t\ttarget: this\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (grip !== null && inputSource.gripSpace) {\n\t\t\t\t\t\tgripPose = frame.getPose(inputSource.gripSpace, referenceSpace);\n\n\t\t\t\t\t\tif (gripPose !== null) {\n\t\t\t\t\t\t\tgrip.matrix.fromArray(gripPose.transform.matrix);\n\t\t\t\t\t\t\tgrip.matrix.decompose(grip.position, grip.rotation, grip.scale);\n\n\t\t\t\t\t\t\tif (gripPose.linearVelocity) {\n\t\t\t\t\t\t\t\tgrip.hasLinearVelocity = true;\n\t\t\t\t\t\t\t\tgrip.linearVelocity.copy(gripPose.linearVelocity);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tgrip.hasLinearVelocity = false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (gripPose.angularVelocity) {\n\t\t\t\t\t\t\t\tgrip.hasAngularVelocity = true;\n\t\t\t\t\t\t\t\tgrip.angularVelocity.copy(gripPose.angularVelocity);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tgrip.hasAngularVelocity = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (targetRay !== null) {\n\t\t\t\ttargetRay.visible = inputPose !== null;\n\t\t\t}\n\n\t\t\tif (grip !== null) {\n\t\t\t\tgrip.visible = gripPose !== null;\n\t\t\t}\n\n\t\t\tif (hand !== null) {\n\t\t\t\thand.visible = handPose !== null;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass DepthTexture extends Texture {\n\t\tconstructor(width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format) {\n\t\t\tformat = format !== undefined ? format : DepthFormat;\n\n\t\t\tif (format !== DepthFormat && format !== DepthStencilFormat) {\n\t\t\t\tthrow new Error('DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat');\n\t\t\t}\n\n\t\t\tif (type === undefined && format === DepthFormat) type = UnsignedShortType;\n\t\t\tif (type === undefined && format === DepthStencilFormat) type = UnsignedInt248Type;\n\t\t\tsuper(null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n\t\t\tthis.image = {\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t};\n\t\t\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\t\t\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\t\t\tthis.flipY = false;\n\t\t\tthis.generateMipmaps = false;\n\t\t}\n\n\t}\n\n\tDepthTexture.prototype.isDepthTexture = true;\n\n\tclass WebXRManager extends EventDispatcher {\n\t\tconstructor(renderer, gl) {\n\t\t\tsuper();\n\t\t\tconst scope = this;\n\t\t\tlet session = null;\n\t\t\tlet framebufferScaleFactor = 1.0;\n\t\t\tlet referenceSpace = null;\n\t\t\tlet referenceSpaceType = 'local-floor';\n\t\t\tconst hasMultisampledRenderToTexture = renderer.extensions.has('WEBGL_multisampled_render_to_texture');\n\t\t\tlet pose = null;\n\t\t\tlet glBinding = null;\n\t\t\tlet glProjLayer = null;\n\t\t\tlet glBaseLayer = null;\n\t\t\tlet isMultisample = false;\n\t\t\tlet xrFrame = null;\n\t\t\tconst attributes = gl.getContextAttributes();\n\t\t\tlet initialRenderTarget = null;\n\t\t\tlet newRenderTarget = null;\n\t\t\tconst controllers = [];\n\t\t\tconst inputSourcesMap = new Map(); //\n\n\t\t\tconst cameraL = new PerspectiveCamera();\n\t\t\tcameraL.layers.enable(1);\n\t\t\tcameraL.viewport = new Vector4();\n\t\t\tconst cameraR = new PerspectiveCamera();\n\t\t\tcameraR.layers.enable(2);\n\t\t\tcameraR.viewport = new Vector4();\n\t\t\tconst cameras = [cameraL, cameraR];\n\t\t\tconst cameraVR = new ArrayCamera();\n\t\t\tcameraVR.layers.enable(1);\n\t\t\tcameraVR.layers.enable(2);\n\t\t\tlet _currentDepthNear = null;\n\t\t\tlet _currentDepthFar = null; //\n\n\t\t\tthis.cameraAutoUpdate = true;\n\t\t\tthis.enabled = false;\n\t\t\tthis.isPresenting = false;\n\n\t\t\tthis.getController = function (index) {\n\t\t\t\tlet controller = controllers[index];\n\n\t\t\t\tif (controller === undefined) {\n\t\t\t\t\tcontroller = new WebXRController();\n\t\t\t\t\tcontrollers[index] = controller;\n\t\t\t\t}\n\n\t\t\t\treturn controller.getTargetRaySpace();\n\t\t\t};\n\n\t\t\tthis.getControllerGrip = function (index) {\n\t\t\t\tlet controller = controllers[index];\n\n\t\t\t\tif (controller === undefined) {\n\t\t\t\t\tcontroller = new WebXRController();\n\t\t\t\t\tcontrollers[index] = controller;\n\t\t\t\t}\n\n\t\t\t\treturn controller.getGripSpace();\n\t\t\t};\n\n\t\t\tthis.getHand = function (index) {\n\t\t\t\tlet controller = controllers[index];\n\n\t\t\t\tif (controller === undefined) {\n\t\t\t\t\tcontroller = new WebXRController();\n\t\t\t\t\tcontrollers[index] = controller;\n\t\t\t\t}\n\n\t\t\t\treturn controller.getHandSpace();\n\t\t\t}; //\n\n\n\t\t\tfunction onSessionEvent(event) {\n\t\t\t\tconst controller = inputSourcesMap.get(event.inputSource);\n\n\t\t\t\tif (controller) {\n\t\t\t\t\tcontroller.dispatchEvent({\n\t\t\t\t\t\ttype: event.type,\n\t\t\t\t\t\tdata: event.inputSource\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onSessionEnd() {\n\t\t\t\tinputSourcesMap.forEach(function (controller, inputSource) {\n\t\t\t\t\tcontroller.disconnect(inputSource);\n\t\t\t\t});\n\t\t\t\tinputSourcesMap.clear();\n\t\t\t\t_currentDepthNear = null;\n\t\t\t\t_currentDepthFar = null; // restore framebuffer/rendering state\n\n\t\t\t\trenderer.setRenderTarget(initialRenderTarget);\n\t\t\t\tglBaseLayer = null;\n\t\t\t\tglProjLayer = null;\n\t\t\t\tglBinding = null;\n\t\t\t\tsession = null;\n\t\t\t\tnewRenderTarget = null; //\n\n\t\t\t\tanimation.stop();\n\t\t\t\tscope.isPresenting = false;\n\t\t\t\tscope.dispatchEvent({\n\t\t\t\t\ttype: 'sessionend'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.setFramebufferScaleFactor = function (value) {\n\t\t\t\tframebufferScaleFactor = value;\n\n\t\t\t\tif (scope.isPresenting === true) {\n\t\t\t\t\tconsole.warn('THREE.WebXRManager: Cannot change framebuffer scale while presenting.');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.setReferenceSpaceType = function (value) {\n\t\t\t\treferenceSpaceType = value;\n\n\t\t\t\tif (scope.isPresenting === true) {\n\t\t\t\t\tconsole.warn('THREE.WebXRManager: Cannot change reference space type while presenting.');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.getReferenceSpace = function () {\n\t\t\t\treturn referenceSpace;\n\t\t\t};\n\n\t\t\tthis.getBaseLayer = function () {\n\t\t\t\treturn glProjLayer !== null ? glProjLayer : glBaseLayer;\n\t\t\t};\n\n\t\t\tthis.getBinding = function () {\n\t\t\t\treturn glBinding;\n\t\t\t};\n\n\t\t\tthis.getFrame = function () {\n\t\t\t\treturn xrFrame;\n\t\t\t};\n\n\t\t\tthis.getSession = function () {\n\t\t\t\treturn session;\n\t\t\t};\n\n\t\t\tthis.setSession = async function (value) {\n\t\t\t\tsession = value;\n\n\t\t\t\tif (session !== null) {\n\t\t\t\t\tinitialRenderTarget = renderer.getRenderTarget();\n\t\t\t\t\tsession.addEventListener('select', onSessionEvent);\n\t\t\t\t\tsession.addEventListener('selectstart', onSessionEvent);\n\t\t\t\t\tsession.addEventListener('selectend', onSessionEvent);\n\t\t\t\t\tsession.addEventListener('squeeze', onSessionEvent);\n\t\t\t\t\tsession.addEventListener('squeezestart', onSessionEvent);\n\t\t\t\t\tsession.addEventListener('squeezeend', onSessionEvent);\n\t\t\t\t\tsession.addEventListener('end', onSessionEnd);\n\t\t\t\t\tsession.addEventListener('inputsourceschange', onInputSourcesChange);\n\n\t\t\t\t\tif (attributes.xrCompatible !== true) {\n\t\t\t\t\t\tawait gl.makeXRCompatible();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (session.renderState.layers === undefined || renderer.capabilities.isWebGL2 === false) {\n\t\t\t\t\t\tconst layerInit = {\n\t\t\t\t\t\t\tantialias: session.renderState.layers === undefined ? attributes.antialias : true,\n\t\t\t\t\t\t\talpha: attributes.alpha,\n\t\t\t\t\t\t\tdepth: attributes.depth,\n\t\t\t\t\t\t\tstencil: attributes.stencil,\n\t\t\t\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t\t\t\t};\n\t\t\t\t\t\tglBaseLayer = new XRWebGLLayer(session, gl, layerInit);\n\t\t\t\t\t\tsession.updateRenderState({\n\t\t\t\t\t\t\tbaseLayer: glBaseLayer\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnewRenderTarget = new WebGLRenderTarget(glBaseLayer.framebufferWidth, glBaseLayer.framebufferHeight, {\n\t\t\t\t\t\t\tformat: RGBAFormat,\n\t\t\t\t\t\t\ttype: UnsignedByteType,\n\t\t\t\t\t\t\tencoding: renderer.outputEncoding\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisMultisample = attributes.antialias;\n\t\t\t\t\t\tlet depthFormat = null;\n\t\t\t\t\t\tlet depthType = null;\n\t\t\t\t\t\tlet glDepthFormat = null;\n\n\t\t\t\t\t\tif (attributes.depth) {\n\t\t\t\t\t\t\tglDepthFormat = attributes.stencil ? gl.DEPTH24_STENCIL8 : gl.DEPTH_COMPONENT24;\n\t\t\t\t\t\t\tdepthFormat = attributes.stencil ? DepthStencilFormat : DepthFormat;\n\t\t\t\t\t\t\tdepthType = attributes.stencil ? UnsignedInt248Type : UnsignedShortType;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst projectionlayerInit = {\n\t\t\t\t\t\t\tcolorFormat: attributes.alpha || isMultisample ? gl.RGBA8 : gl.RGB8,\n\t\t\t\t\t\t\tdepthFormat: glDepthFormat,\n\t\t\t\t\t\t\tscaleFactor: framebufferScaleFactor\n\t\t\t\t\t\t};\n\t\t\t\t\t\tglBinding = new XRWebGLBinding(session, gl);\n\t\t\t\t\t\tglProjLayer = glBinding.createProjectionLayer(projectionlayerInit);\n\t\t\t\t\t\tsession.updateRenderState({\n\t\t\t\t\t\t\tlayers: [glProjLayer]\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (isMultisample) {\n\t\t\t\t\t\t\tnewRenderTarget = new WebGLMultisampleRenderTarget(glProjLayer.textureWidth, glProjLayer.textureHeight, {\n\t\t\t\t\t\t\t\tformat: RGBAFormat,\n\t\t\t\t\t\t\t\ttype: UnsignedByteType,\n\t\t\t\t\t\t\t\tdepthTexture: new DepthTexture(glProjLayer.textureWidth, glProjLayer.textureHeight, depthType, undefined, undefined, undefined, undefined, undefined, undefined, depthFormat),\n\t\t\t\t\t\t\t\tstencilBuffer: attributes.stencil,\n\t\t\t\t\t\t\t\tignoreDepth: glProjLayer.ignoreDepthValues,\n\t\t\t\t\t\t\t\tuseRenderToTexture: hasMultisampledRenderToTexture,\n\t\t\t\t\t\t\t\tencoding: renderer.outputEncoding\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnewRenderTarget = new WebGLRenderTarget(glProjLayer.textureWidth, glProjLayer.textureHeight, {\n\t\t\t\t\t\t\t\tformat: attributes.alpha ? RGBAFormat : RGBFormat,\n\t\t\t\t\t\t\t\ttype: UnsignedByteType,\n\t\t\t\t\t\t\t\tdepthTexture: new DepthTexture(glProjLayer.textureWidth, glProjLayer.textureHeight, depthType, undefined, undefined, undefined, undefined, undefined, undefined, depthFormat),\n\t\t\t\t\t\t\t\tstencilBuffer: attributes.stencil,\n\t\t\t\t\t\t\t\tignoreDepth: glProjLayer.ignoreDepthValues,\n\t\t\t\t\t\t\t\tencoding: renderer.outputEncoding\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} // Set foveation to maximum.\n\n\n\t\t\t\t\tthis.setFoveation(1.0);\n\t\t\t\t\treferenceSpace = await session.requestReferenceSpace(referenceSpaceType);\n\t\t\t\t\tanimation.setContext(session);\n\t\t\t\t\tanimation.start();\n\t\t\t\t\tscope.isPresenting = true;\n\t\t\t\t\tscope.dispatchEvent({\n\t\t\t\t\t\ttype: 'sessionstart'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfunction onInputSourcesChange(event) {\n\t\t\t\tconst inputSources = session.inputSources; // Assign inputSources to available controllers\n\n\t\t\t\tfor (let i = 0; i < controllers.length; i++) {\n\t\t\t\t\tinputSourcesMap.set(inputSources[i], controllers[i]);\n\t\t\t\t} // Notify disconnected\n\n\n\t\t\t\tfor (let i = 0; i < event.removed.length; i++) {\n\t\t\t\t\tconst inputSource = event.removed[i];\n\t\t\t\t\tconst controller = inputSourcesMap.get(inputSource);\n\n\t\t\t\t\tif (controller) {\n\t\t\t\t\t\tcontroller.dispatchEvent({\n\t\t\t\t\t\t\ttype: 'disconnected',\n\t\t\t\t\t\t\tdata: inputSource\n\t\t\t\t\t\t});\n\t\t\t\t\t\tinputSourcesMap.delete(inputSource);\n\t\t\t\t\t}\n\t\t\t\t} // Notify connected\n\n\n\t\t\t\tfor (let i = 0; i < event.added.length; i++) {\n\t\t\t\t\tconst inputSource = event.added[i];\n\t\t\t\t\tconst controller = inputSourcesMap.get(inputSource);\n\n\t\t\t\t\tif (controller) {\n\t\t\t\t\t\tcontroller.dispatchEvent({\n\t\t\t\t\t\t\ttype: 'connected',\n\t\t\t\t\t\t\tdata: inputSource\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} //\n\n\n\t\t\tconst cameraLPos = new Vector3();\n\t\t\tconst cameraRPos = new Vector3();\n\t\t\t/**\n\t\t\t * Assumes 2 cameras that are parallel and share an X-axis, and that\n\t\t\t * the cameras' projection and world matrices have already been set.\n\t\t\t * And that near and far planes are identical for both cameras.\n\t\t\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n\t\t\t */\n\n\t\t\tfunction setProjectionFromUnion(camera, cameraL, cameraR) {\n\t\t\t\tcameraLPos.setFromMatrixPosition(cameraL.matrixWorld);\n\t\t\t\tcameraRPos.setFromMatrixPosition(cameraR.matrixWorld);\n\t\t\t\tconst ipd = cameraLPos.distanceTo(cameraRPos);\n\t\t\t\tconst projL = cameraL.projectionMatrix.elements;\n\t\t\t\tconst projR = cameraR.projectionMatrix.elements; // VR systems will have identical far and near planes, and\n\t\t\t\t// most likely identical top and bottom frustum extents.\n\t\t\t\t// Use the left camera for these values.\n\n\t\t\t\tconst near = projL[14] / (projL[10] - 1);\n\t\t\t\tconst far = projL[14] / (projL[10] + 1);\n\t\t\t\tconst topFov = (projL[9] + 1) / projL[5];\n\t\t\t\tconst bottomFov = (projL[9] - 1) / projL[5];\n\t\t\t\tconst leftFov = (projL[8] - 1) / projL[0];\n\t\t\t\tconst rightFov = (projR[8] + 1) / projR[0];\n\t\t\t\tconst left = near * leftFov;\n\t\t\t\tconst right = near * rightFov; // Calculate the new camera's position offset from the\n\t\t\t\t// left camera. xOffset should be roughly half `ipd`.\n\n\t\t\t\tconst zOffset = ipd / (-leftFov + rightFov);\n\t\t\t\tconst xOffset = zOffset * -leftFov; // TODO: Better way to apply this offset?\n\n\t\t\t\tcameraL.matrixWorld.decompose(camera.position, camera.quaternion, camera.scale);\n\t\t\t\tcamera.translateX(xOffset);\n\t\t\t\tcamera.translateZ(zOffset);\n\t\t\t\tcamera.matrixWorld.compose(camera.position, camera.quaternion, camera.scale);\n\t\t\t\tcamera.matrixWorldInverse.copy(camera.matrixWorld).invert(); // Find the union of the frustum values of the cameras and scale\n\t\t\t\t// the values so that the near plane's position does not change in world space,\n\t\t\t\t// although must now be relative to the new union camera.\n\n\t\t\t\tconst near2 = near + zOffset;\n\t\t\t\tconst far2 = far + zOffset;\n\t\t\t\tconst left2 = left - xOffset;\n\t\t\t\tconst right2 = right + (ipd - xOffset);\n\t\t\t\tconst top2 = topFov * far / far2 * near2;\n\t\t\t\tconst bottom2 = bottomFov * far / far2 * near2;\n\t\t\t\tcamera.projectionMatrix.makePerspective(left2, right2, top2, bottom2, near2, far2);\n\t\t\t}\n\n\t\t\tfunction updateCamera(camera, parent) {\n\t\t\t\tif (parent === null) {\n\t\t\t\t\tcamera.matrixWorld.copy(camera.matrix);\n\t\t\t\t} else {\n\t\t\t\t\tcamera.matrixWorld.multiplyMatrices(parent.matrixWorld, camera.matrix);\n\t\t\t\t}\n\n\t\t\t\tcamera.matrixWorldInverse.copy(camera.matrixWorld).invert();\n\t\t\t}\n\n\t\t\tthis.updateCamera = function (camera) {\n\t\t\t\tif (session === null) return;\n\t\t\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\n\t\t\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n\t\t\t\tif (_currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far) {\n\t\t\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\n\t\t\t\t\tsession.updateRenderState({\n\t\t\t\t\t\tdepthNear: cameraVR.near,\n\t\t\t\t\t\tdepthFar: cameraVR.far\n\t\t\t\t\t});\n\t\t\t\t\t_currentDepthNear = cameraVR.near;\n\t\t\t\t\t_currentDepthFar = cameraVR.far;\n\t\t\t\t}\n\n\t\t\t\tconst parent = camera.parent;\n\t\t\t\tconst cameras = cameraVR.cameras;\n\t\t\t\tupdateCamera(cameraVR, parent);\n\n\t\t\t\tfor (let i = 0; i < cameras.length; i++) {\n\t\t\t\t\tupdateCamera(cameras[i], parent);\n\t\t\t\t}\n\n\t\t\t\tcameraVR.matrixWorld.decompose(cameraVR.position, cameraVR.quaternion, cameraVR.scale); // update user camera and its children\n\n\t\t\t\tcamera.position.copy(cameraVR.position);\n\t\t\t\tcamera.quaternion.copy(cameraVR.quaternion);\n\t\t\t\tcamera.scale.copy(cameraVR.scale);\n\t\t\t\tcamera.matrix.copy(cameraVR.matrix);\n\t\t\t\tcamera.matrixWorld.copy(cameraVR.matrixWorld);\n\t\t\t\tconst children = camera.children;\n\n\t\t\t\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\t\t\t\tchildren[i].updateMatrixWorld(true);\n\t\t\t\t} // update projection matrix for proper view frustum culling\n\n\n\t\t\t\tif (cameras.length === 2) {\n\t\t\t\t\tsetProjectionFromUnion(cameraVR, cameraL, cameraR);\n\t\t\t\t} else {\n\t\t\t\t\t// assume single camera setup (AR)\n\t\t\t\t\tcameraVR.projectionMatrix.copy(cameraL.projectionMatrix);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.getCamera = function () {\n\t\t\t\treturn cameraVR;\n\t\t\t};\n\n\t\t\tthis.getFoveation = function () {\n\t\t\t\tif (glProjLayer !== null) {\n\t\t\t\t\treturn glProjLayer.fixedFoveation;\n\t\t\t\t}\n\n\t\t\t\tif (glBaseLayer !== null) {\n\t\t\t\t\treturn glBaseLayer.fixedFoveation;\n\t\t\t\t}\n\n\t\t\t\treturn undefined;\n\t\t\t};\n\n\t\t\tthis.setFoveation = function (foveation) {\n\t\t\t\t// 0 = no foveation = full resolution\n\t\t\t\t// 1 = maximum foveation = the edges render at lower resolution\n\t\t\t\tif (glProjLayer !== null) {\n\t\t\t\t\tglProjLayer.fixedFoveation = foveation;\n\t\t\t\t}\n\n\t\t\t\tif (glBaseLayer !== null && glBaseLayer.fixedFoveation !== undefined) {\n\t\t\t\t\tglBaseLayer.fixedFoveation = foveation;\n\t\t\t\t}\n\t\t\t}; // Animation Loop\n\n\n\t\t\tlet onAnimationFrameCallback = null;\n\n\t\t\tfunction onAnimationFrame(time, frame) {\n\t\t\t\tpose = frame.getViewerPose(referenceSpace);\n\t\t\t\txrFrame = frame;\n\n\t\t\t\tif (pose !== null) {\n\t\t\t\t\tconst views = pose.views;\n\n\t\t\t\t\tif (glBaseLayer !== null) {\n\t\t\t\t\t\trenderer.setRenderTargetFramebuffer(newRenderTarget, glBaseLayer.framebuffer);\n\t\t\t\t\t\trenderer.setRenderTarget(newRenderTarget);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet cameraVRNeedsUpdate = false; // check if it's necessary to rebuild cameraVR's camera list\n\n\t\t\t\t\tif (views.length !== cameraVR.cameras.length) {\n\t\t\t\t\t\tcameraVR.cameras.length = 0;\n\t\t\t\t\t\tcameraVRNeedsUpdate = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (let i = 0; i < views.length; i++) {\n\t\t\t\t\t\tconst view = views[i];\n\t\t\t\t\t\tlet viewport = null;\n\n\t\t\t\t\t\tif (glBaseLayer !== null) {\n\t\t\t\t\t\t\tviewport = glBaseLayer.getViewport(view);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst glSubImage = glBinding.getViewSubImage(glProjLayer, view);\n\t\t\t\t\t\t\tviewport = glSubImage.viewport; // For side-by-side projection, we only produce a single texture for both eyes.\n\n\t\t\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\t\t\trenderer.setRenderTargetTextures(newRenderTarget, glSubImage.colorTexture, glProjLayer.ignoreDepthValues ? undefined : glSubImage.depthStencilTexture);\n\t\t\t\t\t\t\t\trenderer.setRenderTarget(newRenderTarget);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst camera = cameras[i];\n\t\t\t\t\t\tcamera.matrix.fromArray(view.transform.matrix);\n\t\t\t\t\t\tcamera.projectionMatrix.fromArray(view.projectionMatrix);\n\t\t\t\t\t\tcamera.viewport.set(viewport.x, viewport.y, viewport.width, viewport.height);\n\n\t\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\t\tcameraVR.matrix.copy(camera.matrix);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (cameraVRNeedsUpdate === true) {\n\t\t\t\t\t\t\tcameraVR.cameras.push(camera);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} //\n\n\n\t\t\t\tconst inputSources = session.inputSources;\n\n\t\t\t\tfor (let i = 0; i < controllers.length; i++) {\n\t\t\t\t\tconst controller = controllers[i];\n\t\t\t\t\tconst inputSource = inputSources[i];\n\t\t\t\t\tcontroller.update(inputSource, frame, referenceSpace);\n\t\t\t\t}\n\n\t\t\t\tif (onAnimationFrameCallback) onAnimationFrameCallback(time, frame);\n\t\t\t\txrFrame = null;\n\t\t\t}\n\n\t\t\tconst animation = new WebGLAnimation();\n\t\t\tanimation.setAnimationLoop(onAnimationFrame);\n\n\t\t\tthis.setAnimationLoop = function (callback) {\n\t\t\t\tonAnimationFrameCallback = callback;\n\t\t\t};\n\n\t\t\tthis.dispose = function () {};\n\t\t}\n\n\t}\n\n\tfunction WebGLMaterials(properties) {\n\t\tfunction refreshFogUniforms(uniforms, fog) {\n\t\t\tuniforms.fogColor.value.copy(fog.color);\n\n\t\t\tif (fog.isFog) {\n\t\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\t\tuniforms.fogFar.value = fog.far;\n\t\t\t} else if (fog.isFogExp2) {\n\t\t\t\tuniforms.fogDensity.value = fog.density;\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshMaterialUniforms(uniforms, material, pixelRatio, height, transmissionRenderTarget) {\n\t\t\tif (material.isMeshBasicMaterial) {\n\t\t\t\trefreshUniformsCommon(uniforms, material);\n\t\t\t} else if (material.isMeshLambertMaterial) {\n\t\t\t\trefreshUniformsCommon(uniforms, material);\n\t\t\t\trefreshUniformsLambert(uniforms, material);\n\t\t\t} else if (material.isMeshToonMaterial) {\n\t\t\t\trefreshUniformsCommon(uniforms, material);\n\t\t\t\trefreshUniformsToon(uniforms, material);\n\t\t\t} else if (material.isMeshPhongMaterial) {\n\t\t\t\trefreshUniformsCommon(uniforms, material);\n\t\t\t\trefreshUniformsPhong(uniforms, material);\n\t\t\t} else if (material.isMeshStandardMaterial) {\n\t\t\t\trefreshUniformsCommon(uniforms, material);\n\n\t\t\t\tif (material.isMeshPhysicalMaterial) {\n\t\t\t\t\trefreshUniformsPhysical(uniforms, material, transmissionRenderTarget);\n\t\t\t\t} else {\n\t\t\t\t\trefreshUniformsStandard(uniforms, material);\n\t\t\t\t}\n\t\t\t} else if (material.isMeshMatcapMaterial) {\n\t\t\t\trefreshUniformsCommon(uniforms, material);\n\t\t\t\trefreshUniformsMatcap(uniforms, material);\n\t\t\t} else if (material.isMeshDepthMaterial) {\n\t\t\t\trefreshUniformsCommon(uniforms, material);\n\t\t\t\trefreshUniformsDepth(uniforms, material);\n\t\t\t} else if (material.isMeshDistanceMaterial) {\n\t\t\t\trefreshUniformsCommon(uniforms, material);\n\t\t\t\trefreshUniformsDistance(uniforms, material);\n\t\t\t} else if (material.isMeshNormalMaterial) {\n\t\t\t\trefreshUniformsCommon(uniforms, material);\n\t\t\t\trefreshUniformsNormal(uniforms, material);\n\t\t\t} else if (material.isLineBasicMaterial) {\n\t\t\t\trefreshUniformsLine(uniforms, material);\n\n\t\t\t\tif (material.isLineDashedMaterial) {\n\t\t\t\t\trefreshUniformsDash(uniforms, material);\n\t\t\t\t}\n\t\t\t} else if (material.isPointsMaterial) {\n\t\t\t\trefreshUniformsPoints(uniforms, material, pixelRatio, height);\n\t\t\t} else if (material.isSpriteMaterial) {\n\t\t\t\trefreshUniformsSprites(uniforms, material);\n\t\t\t} else if (material.isShadowMaterial) {\n\t\t\t\tuniforms.color.value.copy(material.color);\n\t\t\t\tuniforms.opacity.value = material.opacity;\n\t\t\t} else if (material.isShaderMaterial) {\n\t\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsCommon(uniforms, material) {\n\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t\tif (material.color) {\n\t\t\t\tuniforms.diffuse.value.copy(material.color);\n\t\t\t}\n\n\t\t\tif (material.emissive) {\n\t\t\t\tuniforms.emissive.value.copy(material.emissive).multiplyScalar(material.emissiveIntensity);\n\t\t\t}\n\n\t\t\tif (material.map) {\n\t\t\t\tuniforms.map.value = material.map;\n\t\t\t}\n\n\t\t\tif (material.alphaMap) {\n\t\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\t\t\t}\n\n\t\t\tif (material.specularMap) {\n\t\t\t\tuniforms.specularMap.value = material.specularMap;\n\t\t\t}\n\n\t\t\tif (material.alphaTest > 0) {\n\t\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\t\t\t}\n\n\t\t\tconst envMap = properties.get(material).envMap;\n\n\t\t\tif (envMap) {\n\t\t\t\tuniforms.envMap.value = envMap;\n\t\t\t\tuniforms.flipEnvMap.value = envMap.isCubeTexture && envMap.isRenderTargetTexture === false ? -1 : 1;\n\t\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\t\tuniforms.ior.value = material.ior;\n\t\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\t\t\t}\n\n\t\t\tif (material.lightMap) {\n\t\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\t\t\t}\n\n\t\t\tif (material.aoMap) {\n\t\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\t\t\t} // uv repeat and offset setting priorities\n\t\t\t// 1. color map\n\t\t\t// 2. specular map\n\t\t\t// 3. displacementMap map\n\t\t\t// 4. normal map\n\t\t\t// 5. bump map\n\t\t\t// 6. roughnessMap map\n\t\t\t// 7. metalnessMap map\n\t\t\t// 8. alphaMap map\n\t\t\t// 9. emissiveMap map\n\t\t\t// 10. clearcoat map\n\t\t\t// 11. clearcoat normal map\n\t\t\t// 12. clearcoat roughnessMap map\n\t\t\t// 13. specular intensity map\n\t\t\t// 14. specular tint map\n\t\t\t// 15. transmission map\n\t\t\t// 16. thickness map\n\n\n\t\t\tlet uvScaleMap;\n\n\t\t\tif (material.map) {\n\t\t\t\tuvScaleMap = material.map;\n\t\t\t} else if (material.specularMap) {\n\t\t\t\tuvScaleMap = material.specularMap;\n\t\t\t} else if (material.displacementMap) {\n\t\t\t\tuvScaleMap = material.displacementMap;\n\t\t\t} else if (material.normalMap) {\n\t\t\t\tuvScaleMap = material.normalMap;\n\t\t\t} else if (material.bumpMap) {\n\t\t\t\tuvScaleMap = material.bumpMap;\n\t\t\t} else if (material.roughnessMap) {\n\t\t\t\tuvScaleMap = material.roughnessMap;\n\t\t\t} else if (material.metalnessMap) {\n\t\t\t\tuvScaleMap = material.metalnessMap;\n\t\t\t} else if (material.alphaMap) {\n\t\t\t\tuvScaleMap = material.alphaMap;\n\t\t\t} else if (material.emissiveMap) {\n\t\t\t\tuvScaleMap = material.emissiveMap;\n\t\t\t} else if (material.clearcoatMap) {\n\t\t\t\tuvScaleMap = material.clearcoatMap;\n\t\t\t} else if (material.clearcoatNormalMap) {\n\t\t\t\tuvScaleMap = material.clearcoatNormalMap;\n\t\t\t} else if (material.clearcoatRoughnessMap) {\n\t\t\t\tuvScaleMap = material.clearcoatRoughnessMap;\n\t\t\t} else if (material.specularIntensityMap) {\n\t\t\t\tuvScaleMap = material.specularIntensityMap;\n\t\t\t} else if (material.specularColorMap) {\n\t\t\t\tuvScaleMap = material.specularColorMap;\n\t\t\t} else if (material.transmissionMap) {\n\t\t\t\tuvScaleMap = material.transmissionMap;\n\t\t\t} else if (material.thicknessMap) {\n\t\t\t\tuvScaleMap = material.thicknessMap;\n\t\t\t} else if (material.sheenColorMap) {\n\t\t\t\tuvScaleMap = material.sheenColorMap;\n\t\t\t} else if (material.sheenRoughnessMap) {\n\t\t\t\tuvScaleMap = material.sheenRoughnessMap;\n\t\t\t}\n\n\t\t\tif (uvScaleMap !== undefined) {\n\t\t\t\t// backwards compatibility\n\t\t\t\tif (uvScaleMap.isWebGLRenderTarget) {\n\t\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\t\t\t\t}\n\n\t\t\t\tif (uvScaleMap.matrixAutoUpdate === true) {\n\t\t\t\t\tuvScaleMap.updateMatrix();\n\t\t\t\t}\n\n\t\t\t\tuniforms.uvTransform.value.copy(uvScaleMap.matrix);\n\t\t\t} // uv repeat and offset setting priorities for uv2\n\t\t\t// 1. ao map\n\t\t\t// 2. light map\n\n\n\t\t\tlet uv2ScaleMap;\n\n\t\t\tif (material.aoMap) {\n\t\t\t\tuv2ScaleMap = material.aoMap;\n\t\t\t} else if (material.lightMap) {\n\t\t\t\tuv2ScaleMap = material.lightMap;\n\t\t\t}\n\n\t\t\tif (uv2ScaleMap !== undefined) {\n\t\t\t\t// backwards compatibility\n\t\t\t\tif (uv2ScaleMap.isWebGLRenderTarget) {\n\t\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\n\t\t\t\t}\n\n\t\t\t\tif (uv2ScaleMap.matrixAutoUpdate === true) {\n\t\t\t\t\tuv2ScaleMap.updateMatrix();\n\t\t\t\t}\n\n\t\t\t\tuniforms.uv2Transform.value.copy(uv2ScaleMap.matrix);\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsLine(uniforms, material) {\n\t\t\tuniforms.diffuse.value.copy(material.color);\n\t\t\tuniforms.opacity.value = material.opacity;\n\t\t}\n\n\t\tfunction refreshUniformsDash(uniforms, material) {\n\t\t\tuniforms.dashSize.value = material.dashSize;\n\t\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\t\tuniforms.scale.value = material.scale;\n\t\t}\n\n\t\tfunction refreshUniformsPoints(uniforms, material, pixelRatio, height) {\n\t\t\tuniforms.diffuse.value.copy(material.color);\n\t\t\tuniforms.opacity.value = material.opacity;\n\t\t\tuniforms.size.value = material.size * pixelRatio;\n\t\t\tuniforms.scale.value = height * 0.5;\n\n\t\t\tif (material.map) {\n\t\t\t\tuniforms.map.value = material.map;\n\t\t\t}\n\n\t\t\tif (material.alphaMap) {\n\t\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\t\t\t}\n\n\t\t\tif (material.alphaTest > 0) {\n\t\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\t\t\t} // uv repeat and offset setting priorities\n\t\t\t// 1. color map\n\t\t\t// 2. alpha map\n\n\n\t\t\tlet uvScaleMap;\n\n\t\t\tif (material.map) {\n\t\t\t\tuvScaleMap = material.map;\n\t\t\t} else if (material.alphaMap) {\n\t\t\t\tuvScaleMap = material.alphaMap;\n\t\t\t}\n\n\t\t\tif (uvScaleMap !== undefined) {\n\t\t\t\tif (uvScaleMap.matrixAutoUpdate === true) {\n\t\t\t\t\tuvScaleMap.updateMatrix();\n\t\t\t\t}\n\n\t\t\t\tuniforms.uvTransform.value.copy(uvScaleMap.matrix);\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsSprites(uniforms, material) {\n\t\t\tuniforms.diffuse.value.copy(material.color);\n\t\t\tuniforms.opacity.value = material.opacity;\n\t\t\tuniforms.rotation.value = material.rotation;\n\n\t\t\tif (material.map) {\n\t\t\t\tuniforms.map.value = material.map;\n\t\t\t}\n\n\t\t\tif (material.alphaMap) {\n\t\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\t\t\t}\n\n\t\t\tif (material.alphaTest > 0) {\n\t\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\t\t\t} // uv repeat and offset setting priorities\n\t\t\t// 1. color map\n\t\t\t// 2. alpha map\n\n\n\t\t\tlet uvScaleMap;\n\n\t\t\tif (material.map) {\n\t\t\t\tuvScaleMap = material.map;\n\t\t\t} else if (material.alphaMap) {\n\t\t\t\tuvScaleMap = material.alphaMap;\n\t\t\t}\n\n\t\t\tif (uvScaleMap !== undefined) {\n\t\t\t\tif (uvScaleMap.matrixAutoUpdate === true) {\n\t\t\t\t\tuvScaleMap.updateMatrix();\n\t\t\t\t}\n\n\t\t\t\tuniforms.uvTransform.value.copy(uvScaleMap.matrix);\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsLambert(uniforms, material) {\n\t\t\tif (material.emissiveMap) {\n\t\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsPhong(uniforms, material) {\n\t\t\tuniforms.specular.value.copy(material.specular);\n\t\t\tuniforms.shininess.value = Math.max(material.shininess, 1e-4); // to prevent pow( 0.0, 0.0 )\n\n\t\t\tif (material.emissiveMap) {\n\t\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\t\t\t}\n\n\t\t\tif (material.bumpMap) {\n\t\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\t\tif (material.side === BackSide) uniforms.bumpScale.value *= -1;\n\t\t\t}\n\n\t\t\tif (material.normalMap) {\n\t\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\t\tuniforms.normalScale.value.copy(material.normalScale);\n\t\t\t\tif (material.side === BackSide) uniforms.normalScale.value.negate();\n\t\t\t}\n\n\t\t\tif (material.displacementMap) {\n\t\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsToon(uniforms, material) {\n\t\t\tif (material.gradientMap) {\n\t\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\t\t\t}\n\n\t\t\tif (material.emissiveMap) {\n\t\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\t\t\t}\n\n\t\t\tif (material.bumpMap) {\n\t\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\t\tif (material.side === BackSide) uniforms.bumpScale.value *= -1;\n\t\t\t}\n\n\t\t\tif (material.normalMap) {\n\t\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\t\tuniforms.normalScale.value.copy(material.normalScale);\n\t\t\t\tif (material.side === BackSide) uniforms.normalScale.value.negate();\n\t\t\t}\n\n\t\t\tif (material.displacementMap) {\n\t\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsStandard(uniforms, material) {\n\t\t\tuniforms.roughness.value = material.roughness;\n\t\t\tuniforms.metalness.value = material.metalness;\n\n\t\t\tif (material.roughnessMap) {\n\t\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\t\t\t}\n\n\t\t\tif (material.metalnessMap) {\n\t\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\t\t\t}\n\n\t\t\tif (material.emissiveMap) {\n\t\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\t\t\t}\n\n\t\t\tif (material.bumpMap) {\n\t\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\t\tif (material.side === BackSide) uniforms.bumpScale.value *= -1;\n\t\t\t}\n\n\t\t\tif (material.normalMap) {\n\t\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\t\tuniforms.normalScale.value.copy(material.normalScale);\n\t\t\t\tif (material.side === BackSide) uniforms.normalScale.value.negate();\n\t\t\t}\n\n\t\t\tif (material.displacementMap) {\n\t\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\t\t\t}\n\n\t\t\tconst envMap = properties.get(material).envMap;\n\n\t\t\tif (envMap) {\n\t\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsPhysical(uniforms, material, transmissionRenderTarget) {\n\t\t\trefreshUniformsStandard(uniforms, material);\n\t\t\tuniforms.ior.value = material.ior; // also part of uniforms common\n\n\t\t\tif (material.sheen > 0) {\n\t\t\t\tuniforms.sheenColor.value.copy(material.sheenColor).multiplyScalar(material.sheen);\n\t\t\t\tuniforms.sheenRoughness.value = material.sheenRoughness;\n\n\t\t\t\tif (material.sheenColorMap) {\n\t\t\t\t\tuniforms.sheenColorMap.value = material.sheenColorMap;\n\t\t\t\t}\n\n\t\t\t\tif (material.sheenRoughnessMap) {\n\t\t\t\t\tuniforms.sheenRoughnessMap.value = material.sheenRoughnessMap;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (material.clearcoat > 0) {\n\t\t\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\t\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\n\t\t\t\tif (material.clearcoatMap) {\n\t\t\t\t\tuniforms.clearcoatMap.value = material.clearcoatMap;\n\t\t\t\t}\n\n\t\t\t\tif (material.clearcoatRoughnessMap) {\n\t\t\t\t\tuniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\n\t\t\t\t}\n\n\t\t\t\tif (material.clearcoatNormalMap) {\n\t\t\t\t\tuniforms.clearcoatNormalScale.value.copy(material.clearcoatNormalScale);\n\t\t\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\t\t\tif (material.side === BackSide) {\n\t\t\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (material.transmission > 0) {\n\t\t\t\tuniforms.transmission.value = material.transmission;\n\t\t\t\tuniforms.transmissionSamplerMap.value = transmissionRenderTarget.texture;\n\t\t\t\tuniforms.transmissionSamplerSize.value.set(transmissionRenderTarget.width, transmissionRenderTarget.height);\n\n\t\t\t\tif (material.transmissionMap) {\n\t\t\t\t\tuniforms.transmissionMap.value = material.transmissionMap;\n\t\t\t\t}\n\n\t\t\t\tuniforms.thickness.value = material.thickness;\n\n\t\t\t\tif (material.thicknessMap) {\n\t\t\t\t\tuniforms.thicknessMap.value = material.thicknessMap;\n\t\t\t\t}\n\n\t\t\t\tuniforms.attenuationDistance.value = material.attenuationDistance;\n\t\t\t\tuniforms.attenuationColor.value.copy(material.attenuationColor);\n\t\t\t}\n\n\t\t\tuniforms.specularIntensity.value = material.specularIntensity;\n\t\t\tuniforms.specularColor.value.copy(material.specularColor);\n\n\t\t\tif (material.specularIntensityMap) {\n\t\t\t\tuniforms.specularIntensityMap.value = material.specularIntensityMap;\n\t\t\t}\n\n\t\t\tif (material.specularColorMap) {\n\t\t\t\tuniforms.specularColorMap.value = material.specularColorMap;\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsMatcap(uniforms, material) {\n\t\t\tif (material.matcap) {\n\t\t\t\tuniforms.matcap.value = material.matcap;\n\t\t\t}\n\n\t\t\tif (material.bumpMap) {\n\t\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\t\tif (material.side === BackSide) uniforms.bumpScale.value *= -1;\n\t\t\t}\n\n\t\t\tif (material.normalMap) {\n\t\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\t\tuniforms.normalScale.value.copy(material.normalScale);\n\t\t\t\tif (material.side === BackSide) uniforms.normalScale.value.negate();\n\t\t\t}\n\n\t\t\tif (material.displacementMap) {\n\t\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsDepth(uniforms, material) {\n\t\t\tif (material.displacementMap) {\n\t\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsDistance(uniforms, material) {\n\t\t\tif (material.displacementMap) {\n\t\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\t\t\t}\n\n\t\t\tuniforms.referencePosition.value.copy(material.referencePosition);\n\t\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\t\tuniforms.farDistance.value = material.farDistance;\n\t\t}\n\n\t\tfunction refreshUniformsNormal(uniforms, material) {\n\t\t\tif (material.bumpMap) {\n\t\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\t\tif (material.side === BackSide) uniforms.bumpScale.value *= -1;\n\t\t\t}\n\n\t\t\tif (material.normalMap) {\n\t\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\t\tuniforms.normalScale.value.copy(material.normalScale);\n\t\t\t\tif (material.side === BackSide) uniforms.normalScale.value.negate();\n\t\t\t}\n\n\t\t\tif (material.displacementMap) {\n\t\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\trefreshFogUniforms: refreshFogUniforms,\n\t\t\trefreshMaterialUniforms: refreshMaterialUniforms\n\t\t};\n\t}\n\n\tfunction createCanvasElement() {\n\t\tconst canvas = createElementNS('canvas');\n\t\tcanvas.style.display = 'block';\n\t\treturn canvas;\n\t}\n\n\tfunction WebGLRenderer(parameters = {}) {\n\t\tconst _canvas = parameters.canvas !== undefined ? parameters.canvas : createCanvasElement(),\n\t\t\t\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\t\t\t\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t\t\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t\t\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t\t\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t\t\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t\t\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t\t\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t\t\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\t\tlet currentRenderList = null;\n\t\tlet currentRenderState = null; // render() can be called from within a callback triggered by another render.\n\t\t// We track this so that the nested render call gets its list and state isolated from the parent render call.\n\n\t\tconst renderListStack = [];\n\t\tconst renderStateStack = []; // public properties\n\n\t\tthis.domElement = _canvas; // Debug configuration container\n\n\t\tthis.debug = {\n\t\t\t/**\n\t\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t\t * @type {boolean}\n\t\t\t */\n\t\t\tcheckShaderErrors: true\n\t\t}; // clearing\n\n\t\tthis.autoClear = true;\n\t\tthis.autoClearColor = true;\n\t\tthis.autoClearDepth = true;\n\t\tthis.autoClearStencil = true; // scene graph\n\n\t\tthis.sortObjects = true; // user-defined clipping\n\n\t\tthis.clippingPlanes = [];\n\t\tthis.localClippingEnabled = false; // physically based shading\n\n\t\tthis.outputEncoding = LinearEncoding; // physical lights\n\n\t\tthis.physicallyCorrectLights = false; // tone mapping\n\n\t\tthis.toneMapping = NoToneMapping;\n\t\tthis.toneMappingExposure = 1.0; // internal properties\n\n\t\tconst _this = this;\n\n\t\tlet _isContextLost = false; // internal state cache\n\n\t\tlet _currentActiveCubeFace = 0;\n\t\tlet _currentActiveMipmapLevel = 0;\n\t\tlet _currentRenderTarget = null;\n\n\t\tlet _currentMaterialId = -1;\n\n\t\tlet _currentCamera = null;\n\n\t\tconst _currentViewport = new Vector4();\n\n\t\tconst _currentScissor = new Vector4();\n\n\t\tlet _currentScissorTest = null; //\n\n\t\tlet _width = _canvas.width;\n\t\tlet _height = _canvas.height;\n\t\tlet _pixelRatio = 1;\n\t\tlet _opaqueSort = null;\n\t\tlet _transparentSort = null;\n\n\t\tconst _viewport = new Vector4(0, 0, _width, _height);\n\n\t\tconst _scissor = new Vector4(0, 0, _width, _height);\n\n\t\tlet _scissorTest = false; //\n\n\t\tconst _currentDrawBuffers = []; // frustum\n\n\t\tconst _frustum = new Frustum(); // clipping\n\n\n\t\tlet _clippingEnabled = false;\n\t\tlet _localClippingEnabled = false; // transmission\n\n\t\tlet _transmissionRenderTarget = null; // camera matrices cache\n\n\t\tconst _projScreenMatrix = new Matrix4();\n\n\t\tconst _vector3 = new Vector3();\n\n\t\tconst _emptyScene = {\n\t\t\tbackground: null,\n\t\t\tfog: null,\n\t\t\tenvironment: null,\n\t\t\toverrideMaterial: null,\n\t\t\tisScene: true\n\t\t};\n\n\t\tfunction getTargetPixelRatio() {\n\t\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\t\t} // initialize\n\n\n\t\tlet _gl = _context;\n\n\t\tfunction getContext(contextNames, contextAttributes) {\n\t\t\tfor (let i = 0; i < contextNames.length; i++) {\n\t\t\t\tconst contextName = contextNames[i];\n\n\t\t\t\tconst context = _canvas.getContext(contextName, contextAttributes);\n\n\t\t\t\tif (context !== null) return context;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\n\t\ttry {\n\t\t\tconst contextAttributes = {\n\t\t\t\talpha: _alpha,\n\t\t\t\tdepth: _depth,\n\t\t\t\tstencil: _stencil,\n\t\t\t\tantialias: _antialias,\n\t\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\t\tpowerPreference: _powerPreference,\n\t\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat\n\t\t\t}; // OffscreenCanvas does not have setAttribute, see #22811\n\n\t\t\tif ('setAttribute' in _canvas) _canvas.setAttribute('data-engine', `three.js r${REVISION}`); // event listeners must be registered before WebGL context is created, see #12753\n\n\t\t\t_canvas.addEventListener('webglcontextlost', onContextLost, false);\n\n\t\t\t_canvas.addEventListener('webglcontextrestored', onContextRestore, false);\n\n\t\t\tif (_gl === null) {\n\t\t\t\tconst contextNames = ['webgl2', 'webgl', 'experimental-webgl'];\n\n\t\t\t\tif (_this.isWebGL1Renderer === true) {\n\t\t\t\t\tcontextNames.shift();\n\t\t\t\t}\n\n\t\t\t\t_gl = getContext(contextNames, contextAttributes);\n\n\t\t\t\tif (_gl === null) {\n\t\t\t\t\tif (getContext(contextNames)) {\n\t\t\t\t\t\tthrow new Error('Error creating WebGL context with your selected attributes.');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error('Error creating WebGL context.');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} // Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\n\t\t\tif (_gl.getShaderPrecisionFormat === undefined) {\n\t\t\t\t_gl.getShaderPrecisionFormat = function () {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t'rangeMin': 1,\n\t\t\t\t\t\t'rangeMax': 1,\n\t\t\t\t\t\t'precision': 1\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('THREE.WebGLRenderer: ' + error.message);\n\t\t\tthrow error;\n\t\t}\n\n\t\tlet extensions, capabilities, state, info;\n\t\tlet properties, textures, cubemaps, cubeuvmaps, attributes, geometries, objects;\n\t\tlet programCache, materials, renderLists, renderStates, clipping, shadowMap;\n\t\tlet background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\t\tlet utils, bindingStates;\n\n\t\tfunction initGLContext() {\n\t\t\textensions = new WebGLExtensions(_gl);\n\t\t\tcapabilities = new WebGLCapabilities(_gl, extensions, parameters);\n\t\t\textensions.init(capabilities);\n\t\t\tutils = new WebGLUtils(_gl, extensions, capabilities);\n\t\t\tstate = new WebGLState(_gl, extensions, capabilities);\n\t\t\t_currentDrawBuffers[0] = _gl.BACK;\n\t\t\tinfo = new WebGLInfo(_gl);\n\t\t\tproperties = new WebGLProperties();\n\t\t\ttextures = new WebGLTextures(_gl, extensions, state, properties, capabilities, utils, info);\n\t\t\tcubemaps = new WebGLCubeMaps(_this);\n\t\t\tcubeuvmaps = new WebGLCubeUVMaps(_this);\n\t\t\tattributes = new WebGLAttributes(_gl, capabilities);\n\t\t\tbindingStates = new WebGLBindingStates(_gl, extensions, attributes, capabilities);\n\t\t\tgeometries = new WebGLGeometries(_gl, attributes, info, bindingStates);\n\t\t\tobjects = new WebGLObjects(_gl, geometries, attributes, info);\n\t\t\tmorphtargets = new WebGLMorphtargets(_gl, capabilities, textures);\n\t\t\tclipping = new WebGLClipping(properties);\n\t\t\tprogramCache = new WebGLPrograms(_this, cubemaps, cubeuvmaps, extensions, capabilities, bindingStates, clipping);\n\t\t\tmaterials = new WebGLMaterials(properties);\n\t\t\trenderLists = new WebGLRenderLists();\n\t\t\trenderStates = new WebGLRenderStates(extensions, capabilities);\n\t\t\tbackground = new WebGLBackground(_this, cubemaps, state, objects, _premultipliedAlpha);\n\t\t\tshadowMap = new WebGLShadowMap(_this, objects, capabilities);\n\t\t\tbufferRenderer = new WebGLBufferRenderer(_gl, extensions, info, capabilities);\n\t\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer(_gl, extensions, info, capabilities);\n\t\t\tinfo.programs = programCache.programs;\n\t\t\t_this.capabilities = capabilities;\n\t\t\t_this.extensions = extensions;\n\t\t\t_this.properties = properties;\n\t\t\t_this.renderLists = renderLists;\n\t\t\t_this.shadowMap = shadowMap;\n\t\t\t_this.state = state;\n\t\t\t_this.info = info;\n\t\t}\n\n\t\tinitGLContext(); // xr\n\n\t\tconst xr = new WebXRManager(_this, _gl);\n\t\tthis.xr = xr; // API\n\n\t\tthis.getContext = function () {\n\t\t\treturn _gl;\n\t\t};\n\n\t\tthis.getContextAttributes = function () {\n\t\t\treturn _gl.getContextAttributes();\n\t\t};\n\n\t\tthis.forceContextLoss = function () {\n\t\t\tconst extension = extensions.get('WEBGL_lose_context');\n\t\t\tif (extension) extension.loseContext();\n\t\t};\n\n\t\tthis.forceContextRestore = function () {\n\t\t\tconst extension = extensions.get('WEBGL_lose_context');\n\t\t\tif (extension) extension.restoreContext();\n\t\t};\n\n\t\tthis.getPixelRatio = function () {\n\t\t\treturn _pixelRatio;\n\t\t};\n\n\t\tthis.setPixelRatio = function (value) {\n\t\t\tif (value === undefined) return;\n\t\t\t_pixelRatio = value;\n\t\t\tthis.setSize(_width, _height, false);\n\t\t};\n\n\t\tthis.getSize = function (target) {\n\t\t\treturn target.set(_width, _height);\n\t\t};\n\n\t\tthis.setSize = function (width, height, updateStyle) {\n\t\t\tif (xr.isPresenting) {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_width = width;\n\t\t\t_height = height;\n\t\t\t_canvas.width = Math.floor(width * _pixelRatio);\n\t\t\t_canvas.height = Math.floor(height * _pixelRatio);\n\n\t\t\tif (updateStyle !== false) {\n\t\t\t\t_canvas.style.width = width + 'px';\n\t\t\t\t_canvas.style.height = height + 'px';\n\t\t\t}\n\n\t\t\tthis.setViewport(0, 0, width, height);\n\t\t};\n\n\t\tthis.getDrawingBufferSize = function (target) {\n\t\t\treturn target.set(_width * _pixelRatio, _height * _pixelRatio).floor();\n\t\t};\n\n\t\tthis.setDrawingBufferSize = function (width, height, pixelRatio) {\n\t\t\t_width = width;\n\t\t\t_height = height;\n\t\t\t_pixelRatio = pixelRatio;\n\t\t\t_canvas.width = Math.floor(width * pixelRatio);\n\t\t\t_canvas.height = Math.floor(height * pixelRatio);\n\t\t\tthis.setViewport(0, 0, width, height);\n\t\t};\n\n\t\tthis.getCurrentViewport = function (target) {\n\t\t\treturn target.copy(_currentViewport);\n\t\t};\n\n\t\tthis.getViewport = function (target) {\n\t\t\treturn target.copy(_viewport);\n\t\t};\n\n\t\tthis.setViewport = function (x, y, width, height) {\n\t\t\tif (x.isVector4) {\n\t\t\t\t_viewport.set(x.x, x.y, x.z, x.w);\n\t\t\t} else {\n\t\t\t\t_viewport.set(x, y, width, height);\n\t\t\t}\n\n\t\t\tstate.viewport(_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor());\n\t\t};\n\n\t\tthis.getScissor = function (target) {\n\t\t\treturn target.copy(_scissor);\n\t\t};\n\n\t\tthis.setScissor = function (x, y, width, height) {\n\t\t\tif (x.isVector4) {\n\t\t\t\t_scissor.set(x.x, x.y, x.z, x.w);\n\t\t\t} else {\n\t\t\t\t_scissor.set(x, y, width, height);\n\t\t\t}\n\n\t\t\tstate.scissor(_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor());\n\t\t};\n\n\t\tthis.getScissorTest = function () {\n\t\t\treturn _scissorTest;\n\t\t};\n\n\t\tthis.setScissorTest = function (boolean) {\n\t\t\tstate.setScissorTest(_scissorTest = boolean);\n\t\t};\n\n\t\tthis.setOpaqueSort = function (method) {\n\t\t\t_opaqueSort = method;\n\t\t};\n\n\t\tthis.setTransparentSort = function (method) {\n\t\t\t_transparentSort = method;\n\t\t}; // Clearing\n\n\n\t\tthis.getClearColor = function (target) {\n\t\t\treturn target.copy(background.getClearColor());\n\t\t};\n\n\t\tthis.setClearColor = function () {\n\t\t\tbackground.setClearColor.apply(background, arguments);\n\t\t};\n\n\t\tthis.getClearAlpha = function () {\n\t\t\treturn background.getClearAlpha();\n\t\t};\n\n\t\tthis.setClearAlpha = function () {\n\t\t\tbackground.setClearAlpha.apply(background, arguments);\n\t\t};\n\n\t\tthis.clear = function (color, depth, stencil) {\n\t\t\tlet bits = 0;\n\t\t\tif (color === undefined || color) bits |= _gl.COLOR_BUFFER_BIT;\n\t\t\tif (depth === undefined || depth) bits |= _gl.DEPTH_BUFFER_BIT;\n\t\t\tif (stencil === undefined || stencil) bits |= _gl.STENCIL_BUFFER_BIT;\n\n\t\t\t_gl.clear(bits);\n\t\t};\n\n\t\tthis.clearColor = function () {\n\t\t\tthis.clear(true, false, false);\n\t\t};\n\n\t\tthis.clearDepth = function () {\n\t\t\tthis.clear(false, true, false);\n\t\t};\n\n\t\tthis.clearStencil = function () {\n\t\t\tthis.clear(false, false, true);\n\t\t}; //\n\n\n\t\tthis.dispose = function () {\n\t\t\t_canvas.removeEventListener('webglcontextlost', onContextLost, false);\n\n\t\t\t_canvas.removeEventListener('webglcontextrestored', onContextRestore, false);\n\n\t\t\trenderLists.dispose();\n\t\t\trenderStates.dispose();\n\t\t\tproperties.dispose();\n\t\t\tcubemaps.dispose();\n\t\t\tcubeuvmaps.dispose();\n\t\t\tobjects.dispose();\n\t\t\tbindingStates.dispose();\n\t\t\tprogramCache.dispose();\n\t\t\txr.dispose();\n\t\t\txr.removeEventListener('sessionstart', onXRSessionStart);\n\t\t\txr.removeEventListener('sessionend', onXRSessionEnd);\n\n\t\t\tif (_transmissionRenderTarget) {\n\t\t\t\t_transmissionRenderTarget.dispose();\n\n\t\t\t\t_transmissionRenderTarget = null;\n\t\t\t}\n\n\t\t\tanimation.stop();\n\t\t}; // Events\n\n\n\t\tfunction onContextLost(event) {\n\t\t\tevent.preventDefault();\n\t\t\tconsole.log('THREE.WebGLRenderer: Context Lost.');\n\t\t\t_isContextLost = true;\n\t\t}\n\n\t\tfunction onContextRestore() {\n\t\t\tconsole.log('THREE.WebGLRenderer: Context Restored.');\n\t\t\t_isContextLost = false;\n\t\t\tconst infoAutoReset = info.autoReset;\n\t\t\tconst shadowMapEnabled = shadowMap.enabled;\n\t\t\tconst shadowMapAutoUpdate = shadowMap.autoUpdate;\n\t\t\tconst shadowMapNeedsUpdate = shadowMap.needsUpdate;\n\t\t\tconst shadowMapType = shadowMap.type;\n\t\t\tinitGLContext();\n\t\t\tinfo.autoReset = infoAutoReset;\n\t\t\tshadowMap.enabled = shadowMapEnabled;\n\t\t\tshadowMap.autoUpdate = shadowMapAutoUpdate;\n\t\t\tshadowMap.needsUpdate = shadowMapNeedsUpdate;\n\t\t\tshadowMap.type = shadowMapType;\n\t\t}\n\n\t\tfunction onMaterialDispose(event) {\n\t\t\tconst material = event.target;\n\t\t\tmaterial.removeEventListener('dispose', onMaterialDispose);\n\t\t\tdeallocateMaterial(material);\n\t\t} // Buffer deallocation\n\n\n\t\tfunction deallocateMaterial(material) {\n\t\t\treleaseMaterialProgramReferences(material);\n\t\t\tproperties.remove(material);\n\t\t}\n\n\t\tfunction releaseMaterialProgramReferences(material) {\n\t\t\tconst programs = properties.get(material).programs;\n\n\t\t\tif (programs !== undefined) {\n\t\t\t\tprograms.forEach(function (program) {\n\t\t\t\t\tprogramCache.releaseProgram(program);\n\t\t\t\t});\n\n\t\t\t\tif (material.isShaderMaterial) {\n\t\t\t\t\tprogramCache.releaseShaderCache(material);\n\t\t\t\t}\n\t\t\t}\n\t\t} // Buffer rendering\n\n\n\t\tthis.renderBufferDirect = function (camera, scene, geometry, material, object, group) {\n\t\t\tif (scene === null) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n\t\t\tconst frontFaceCW = object.isMesh && object.matrixWorld.determinant() < 0;\n\t\t\tconst program = setProgram(camera, scene, geometry, material, object);\n\t\t\tstate.setMaterial(material, frontFaceCW); //\n\n\t\t\tlet index = geometry.index;\n\t\t\tconst position = geometry.attributes.position; //\n\n\t\t\tif (index === null) {\n\t\t\t\tif (position === undefined || position.count === 0) return;\n\t\t\t} else if (index.count === 0) {\n\t\t\t\treturn;\n\t\t\t} //\n\n\n\t\t\tlet rangeFactor = 1;\n\n\t\t\tif (material.wireframe === true) {\n\t\t\t\tindex = geometries.getWireframeAttribute(geometry);\n\t\t\t\trangeFactor = 2;\n\t\t\t}\n\n\t\t\tbindingStates.setup(object, material, program, geometry, index);\n\t\t\tlet attribute;\n\t\t\tlet renderer = bufferRenderer;\n\n\t\t\tif (index !== null) {\n\t\t\t\tattribute = attributes.get(index);\n\t\t\t\trenderer = indexedBufferRenderer;\n\t\t\t\trenderer.setIndex(attribute);\n\t\t\t} //\n\n\n\t\t\tconst dataCount = index !== null ? index.count : position.count;\n\t\t\tconst rangeStart = geometry.drawRange.start * rangeFactor;\n\t\t\tconst rangeCount = geometry.drawRange.count * rangeFactor;\n\t\t\tconst groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\t\tconst groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\t\t\tconst drawStart = Math.max(rangeStart, groupStart);\n\t\t\tconst drawEnd = Math.min(dataCount, rangeStart + rangeCount, groupStart + groupCount) - 1;\n\t\t\tconst drawCount = Math.max(0, drawEnd - drawStart + 1);\n\t\t\tif (drawCount === 0) return; //\n\n\t\t\tif (object.isMesh) {\n\t\t\t\tif (material.wireframe === true) {\n\t\t\t\t\tstate.setLineWidth(material.wireframeLinewidth * getTargetPixelRatio());\n\t\t\t\t\trenderer.setMode(_gl.LINES);\n\t\t\t\t} else {\n\t\t\t\t\trenderer.setMode(_gl.TRIANGLES);\n\t\t\t\t}\n\t\t\t} else if (object.isLine) {\n\t\t\t\tlet lineWidth = material.linewidth;\n\t\t\t\tif (lineWidth === undefined) lineWidth = 1; // Not using Line*Material\n\n\t\t\t\tstate.setLineWidth(lineWidth * getTargetPixelRatio());\n\n\t\t\t\tif (object.isLineSegments) {\n\t\t\t\t\trenderer.setMode(_gl.LINES);\n\t\t\t\t} else if (object.isLineLoop) {\n\t\t\t\t\trenderer.setMode(_gl.LINE_LOOP);\n\t\t\t\t} else {\n\t\t\t\t\trenderer.setMode(_gl.LINE_STRIP);\n\t\t\t\t}\n\t\t\t} else if (object.isPoints) {\n\t\t\t\trenderer.setMode(_gl.POINTS);\n\t\t\t} else if (object.isSprite) {\n\t\t\t\trenderer.setMode(_gl.TRIANGLES);\n\t\t\t}\n\n\t\t\tif (object.isInstancedMesh) {\n\t\t\t\trenderer.renderInstances(drawStart, drawCount, object.count);\n\t\t\t} else if (geometry.isInstancedBufferGeometry) {\n\t\t\t\tconst instanceCount = Math.min(geometry.instanceCount, geometry._maxInstanceCount);\n\t\t\t\trenderer.renderInstances(drawStart, drawCount, instanceCount);\n\t\t\t} else {\n\t\t\t\trenderer.render(drawStart, drawCount);\n\t\t\t}\n\t\t}; // Compile\n\n\n\t\tthis.compile = function (scene, camera) {\n\t\t\tcurrentRenderState = renderStates.get(scene);\n\t\t\tcurrentRenderState.init();\n\t\t\trenderStateStack.push(currentRenderState);\n\t\t\tscene.traverseVisible(function (object) {\n\t\t\t\tif (object.isLight && object.layers.test(camera.layers)) {\n\t\t\t\t\tcurrentRenderState.pushLight(object);\n\n\t\t\t\t\tif (object.castShadow) {\n\t\t\t\t\t\tcurrentRenderState.pushShadow(object);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tcurrentRenderState.setupLights(_this.physicallyCorrectLights);\n\t\t\tscene.traverse(function (object) {\n\t\t\t\tconst material = object.material;\n\n\t\t\t\tif (material) {\n\t\t\t\t\tif (Array.isArray(material)) {\n\t\t\t\t\t\tfor (let i = 0; i < material.length; i++) {\n\t\t\t\t\t\t\tconst material2 = material[i];\n\t\t\t\t\t\t\tgetProgram(material2, scene, object);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgetProgram(material, scene, object);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\trenderStateStack.pop();\n\t\t\tcurrentRenderState = null;\n\t\t}; // Animation Loop\n\n\n\t\tlet onAnimationFrameCallback = null;\n\n\t\tfunction onAnimationFrame(time) {\n\t\t\tif (onAnimationFrameCallback) onAnimationFrameCallback(time);\n\t\t}\n\n\t\tfunction onXRSessionStart() {\n\t\t\tanimation.stop();\n\t\t}\n\n\t\tfunction onXRSessionEnd() {\n\t\t\tanimation.start();\n\t\t}\n\n\t\tconst animation = new WebGLAnimation();\n\t\tanimation.setAnimationLoop(onAnimationFrame);\n\t\tif (typeof window !== 'undefined') animation.setContext(window);\n\n\t\tthis.setAnimationLoop = function (callback) {\n\t\t\tonAnimationFrameCallback = callback;\n\t\t\txr.setAnimationLoop(callback);\n\t\t\tcallback === null ? animation.stop() : animation.start();\n\t\t};\n\n\t\txr.addEventListener('sessionstart', onXRSessionStart);\n\t\txr.addEventListener('sessionend', onXRSessionEnd); // Rendering\n\n\t\tthis.render = function (scene, camera) {\n\t\t\tif (camera !== undefined && camera.isCamera !== true) {\n\t\t\t\tconsole.error('THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_isContextLost === true) return; // update scene graph\n\n\t\t\tif (scene.autoUpdate === true) scene.updateMatrixWorld(); // update camera matrices and frustum\n\n\t\t\tif (camera.parent === null) camera.updateMatrixWorld();\n\n\t\t\tif (xr.enabled === true && xr.isPresenting === true) {\n\t\t\t\tif (xr.cameraAutoUpdate === true) xr.updateCamera(camera);\n\t\t\t\tcamera = xr.getCamera(); // use XR camera for rendering\n\t\t\t} //\n\n\n\t\t\tif (scene.isScene === true) scene.onBeforeRender(_this, scene, camera, _currentRenderTarget);\n\t\t\tcurrentRenderState = renderStates.get(scene, renderStateStack.length);\n\t\t\tcurrentRenderState.init();\n\t\t\trenderStateStack.push(currentRenderState);\n\n\t\t\t_projScreenMatrix.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);\n\n\t\t\t_frustum.setFromProjectionMatrix(_projScreenMatrix);\n\n\t\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t\t_clippingEnabled = clipping.init(this.clippingPlanes, _localClippingEnabled, camera);\n\t\t\tcurrentRenderList = renderLists.get(scene, renderListStack.length);\n\t\t\tcurrentRenderList.init();\n\t\t\trenderListStack.push(currentRenderList);\n\t\t\tprojectObject(scene, camera, 0, _this.sortObjects);\n\t\t\tcurrentRenderList.finish();\n\n\t\t\tif (_this.sortObjects === true) {\n\t\t\t\tcurrentRenderList.sort(_opaqueSort, _transparentSort);\n\t\t\t} //\n\n\n\t\t\tif (_clippingEnabled === true) clipping.beginShadows();\n\t\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\t\t\tshadowMap.render(shadowsArray, scene, camera);\n\t\t\tif (_clippingEnabled === true) clipping.endShadows(); //\n\n\t\t\tif (this.info.autoReset === true) this.info.reset(); //\n\n\t\t\tbackground.render(currentRenderList, scene); // render scene\n\n\t\t\tcurrentRenderState.setupLights(_this.physicallyCorrectLights);\n\n\t\t\tif (camera.isArrayCamera) {\n\t\t\t\tconst cameras = camera.cameras;\n\n\t\t\t\tfor (let i = 0, l = cameras.length; i < l; i++) {\n\t\t\t\t\tconst camera2 = cameras[i];\n\t\t\t\t\trenderScene(currentRenderList, scene, camera2, camera2.viewport);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\trenderScene(currentRenderList, scene, camera);\n\t\t\t} //\n\n\n\t\t\tif (_currentRenderTarget !== null) {\n\t\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\t\t\t\ttextures.updateMultisampleRenderTarget(_currentRenderTarget); // Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\t\ttextures.updateRenderTargetMipmap(_currentRenderTarget);\n\t\t\t} //\n\n\n\t\t\tif (scene.isScene === true) scene.onAfterRender(_this, scene, camera); // Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\t\tstate.buffers.depth.setTest(true);\n\t\t\tstate.buffers.depth.setMask(true);\n\t\t\tstate.buffers.color.setMask(true);\n\t\t\tstate.setPolygonOffset(false); // _gl.finish();\n\n\t\t\tbindingStates.resetDefaultState();\n\t\t\t_currentMaterialId = -1;\n\t\t\t_currentCamera = null;\n\t\t\trenderStateStack.pop();\n\n\t\t\tif (renderStateStack.length > 0) {\n\t\t\t\tcurrentRenderState = renderStateStack[renderStateStack.length - 1];\n\t\t\t} else {\n\t\t\t\tcurrentRenderState = null;\n\t\t\t}\n\n\t\t\trenderListStack.pop();\n\n\t\t\tif (renderListStack.length > 0) {\n\t\t\t\tcurrentRenderList = renderListStack[renderListStack.length - 1];\n\t\t\t} else {\n\t\t\t\tcurrentRenderList = null;\n\t\t\t}\n\t\t};\n\n\t\tfunction projectObject(object, camera, groupOrder, sortObjects) {\n\t\t\tif (object.visible === false) return;\n\t\t\tconst visible = object.layers.test(camera.layers);\n\n\t\t\tif (visible) {\n\t\t\t\tif (object.isGroup) {\n\t\t\t\t\tgroupOrder = object.renderOrder;\n\t\t\t\t} else if (object.isLOD) {\n\t\t\t\t\tif (object.autoUpdate === true) object.update(camera);\n\t\t\t\t} else if (object.isLight) {\n\t\t\t\t\tcurrentRenderState.pushLight(object);\n\n\t\t\t\t\tif (object.castShadow) {\n\t\t\t\t\t\tcurrentRenderState.pushShadow(object);\n\t\t\t\t\t}\n\t\t\t\t} else if (object.isSprite) {\n\t\t\t\t\tif (!object.frustumCulled || _frustum.intersectsSprite(object)) {\n\t\t\t\t\t\tif (sortObjects) {\n\t\t\t\t\t\t\t_vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst geometry = objects.update(object);\n\t\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\t\tif (material.visible) {\n\t\t\t\t\t\t\tcurrentRenderList.push(object, geometry, material, groupOrder, _vector3.z, null);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (object.isMesh || object.isLine || object.isPoints) {\n\t\t\t\t\tif (object.isSkinnedMesh) {\n\t\t\t\t\t\t// update skeleton only once in a frame\n\t\t\t\t\t\tif (object.skeleton.frame !== info.render.frame) {\n\t\t\t\t\t\t\tobject.skeleton.update();\n\t\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!object.frustumCulled || _frustum.intersectsObject(object)) {\n\t\t\t\t\t\tif (sortObjects) {\n\t\t\t\t\t\t\t_vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst geometry = objects.update(object);\n\t\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\t\tif (Array.isArray(material)) {\n\t\t\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\t\t\tfor (let i = 0, l = groups.length; i < l; i++) {\n\t\t\t\t\t\t\t\tconst group = groups[i];\n\t\t\t\t\t\t\t\tconst groupMaterial = material[group.materialIndex];\n\n\t\t\t\t\t\t\t\tif (groupMaterial && groupMaterial.visible) {\n\t\t\t\t\t\t\t\t\tcurrentRenderList.push(object, geometry, groupMaterial, groupOrder, _vector3.z, group);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (material.visible) {\n\t\t\t\t\t\t\tcurrentRenderList.push(object, geometry, material, groupOrder, _vector3.z, null);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst children = object.children;\n\n\t\t\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\t\t\tprojectObject(children[i], camera, groupOrder, sortObjects);\n\t\t\t}\n\t\t}\n\n\t\tfunction renderScene(currentRenderList, scene, camera, viewport) {\n\t\t\tconst opaqueObjects = currentRenderList.opaque;\n\t\t\tconst transmissiveObjects = currentRenderList.transmissive;\n\t\t\tconst transparentObjects = currentRenderList.transparent;\n\t\t\tcurrentRenderState.setupLightsView(camera);\n\t\t\tif (transmissiveObjects.length > 0) renderTransmissionPass(opaqueObjects, scene, camera);\n\t\t\tif (viewport) state.viewport(_currentViewport.copy(viewport));\n\t\t\tif (opaqueObjects.length > 0) renderObjects(opaqueObjects, scene, camera);\n\t\t\tif (transmissiveObjects.length > 0) renderObjects(transmissiveObjects, scene, camera);\n\t\t\tif (transparentObjects.length > 0) renderObjects(transparentObjects, scene, camera);\n\t\t}\n\n\t\tfunction renderTransmissionPass(opaqueObjects, scene, camera) {\n\t\t\tif (_transmissionRenderTarget === null) {\n\t\t\t\tconst needsAntialias = _antialias === true && capabilities.isWebGL2 === true;\n\t\t\t\tconst renderTargetType = needsAntialias ? WebGLMultisampleRenderTarget : WebGLRenderTarget;\n\t\t\t\t_transmissionRenderTarget = new renderTargetType(1024, 1024, {\n\t\t\t\t\tgenerateMipmaps: true,\n\t\t\t\t\ttype: utils.convert(HalfFloatType) !== null ? HalfFloatType : UnsignedByteType,\n\t\t\t\t\tminFilter: LinearMipmapLinearFilter,\n\t\t\t\t\tmagFilter: NearestFilter,\n\t\t\t\t\twrapS: ClampToEdgeWrapping,\n\t\t\t\t\twrapT: ClampToEdgeWrapping,\n\t\t\t\t\tuseRenderToTexture: extensions.has('WEBGL_multisampled_render_to_texture')\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconst currentRenderTarget = _this.getRenderTarget();\n\n\t\t\t_this.setRenderTarget(_transmissionRenderTarget);\n\n\t\t\t_this.clear(); // Turn off the features which can affect the frag color for opaque objects pass.\n\t\t\t// Otherwise they are applied twice in opaque objects pass and transmission objects pass.\n\n\n\t\t\tconst currentToneMapping = _this.toneMapping;\n\t\t\t_this.toneMapping = NoToneMapping;\n\t\t\trenderObjects(opaqueObjects, scene, camera);\n\t\t\t_this.toneMapping = currentToneMapping;\n\t\t\ttextures.updateMultisampleRenderTarget(_transmissionRenderTarget);\n\t\t\ttextures.updateRenderTargetMipmap(_transmissionRenderTarget);\n\n\t\t\t_this.setRenderTarget(currentRenderTarget);\n\t\t}\n\n\t\tfunction renderObjects(renderList, scene, camera) {\n\t\t\tconst overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\n\n\t\t\tfor (let i = 0, l = renderList.length; i < l; i++) {\n\t\t\t\tconst renderItem = renderList[i];\n\t\t\t\tconst object = renderItem.object;\n\t\t\t\tconst geometry = renderItem.geometry;\n\t\t\t\tconst material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n\t\t\t\tconst group = renderItem.group;\n\n\t\t\t\tif (object.layers.test(camera.layers)) {\n\t\t\t\t\trenderObject(object, scene, camera, geometry, material, group);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction renderObject(object, scene, camera, geometry, material, group) {\n\t\t\tobject.onBeforeRender(_this, scene, camera, geometry, material, group);\n\t\t\tobject.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, object.matrixWorld);\n\t\t\tobject.normalMatrix.getNormalMatrix(object.modelViewMatrix);\n\t\t\tmaterial.onBeforeRender(_this, scene, camera, geometry, object, group);\n\n\t\t\tif (material.transparent === true && material.side === DoubleSide) {\n\t\t\t\tmaterial.side = BackSide;\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t\t_this.renderBufferDirect(camera, scene, geometry, material, object, group);\n\n\t\t\t\tmaterial.side = FrontSide;\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t\t_this.renderBufferDirect(camera, scene, geometry, material, object, group);\n\n\t\t\t\tmaterial.side = DoubleSide;\n\t\t\t} else {\n\t\t\t\t_this.renderBufferDirect(camera, scene, geometry, material, object, group);\n\t\t\t}\n\n\t\t\tobject.onAfterRender(_this, scene, camera, geometry, material, group);\n\t\t}\n\n\t\tfunction getProgram(material, scene, object) {\n\t\t\tif (scene.isScene !== true) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\t\tconst materialProperties = properties.get(material);\n\t\t\tconst lights = currentRenderState.state.lights;\n\t\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\t\t\tconst lightsStateVersion = lights.state.version;\n\t\t\tconst parameters = programCache.getParameters(material, lights.state, shadowsArray, scene, object);\n\t\t\tconst programCacheKey = programCache.getProgramCacheKey(parameters);\n\t\t\tlet programs = materialProperties.programs; // always update environment and fog - changing these trigger an getProgram call, but it's possible that the program doesn't change\n\n\t\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\t\tmaterialProperties.fog = scene.fog;\n\t\t\tmaterialProperties.envMap = (material.isMeshStandardMaterial ? cubeuvmaps : cubemaps).get(material.envMap || materialProperties.environment);\n\n\t\t\tif (programs === undefined) {\n\t\t\t\t// new material\n\t\t\t\tmaterial.addEventListener('dispose', onMaterialDispose);\n\t\t\t\tprograms = new Map();\n\t\t\t\tmaterialProperties.programs = programs;\n\t\t\t}\n\n\t\t\tlet program = programs.get(programCacheKey);\n\n\t\t\tif (program !== undefined) {\n\t\t\t\t// early out if program and light state is identical\n\t\t\t\tif (materialProperties.currentProgram === program && materialProperties.lightsStateVersion === lightsStateVersion) {\n\t\t\t\t\tupdateCommonMaterialProperties(material, parameters);\n\t\t\t\t\treturn program;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tparameters.uniforms = programCache.getUniforms(material);\n\t\t\t\tmaterial.onBuild(object, parameters, _this);\n\t\t\t\tmaterial.onBeforeCompile(parameters, _this);\n\t\t\t\tprogram = programCache.acquireProgram(parameters, programCacheKey);\n\t\t\t\tprograms.set(programCacheKey, program);\n\t\t\t\tmaterialProperties.uniforms = parameters.uniforms;\n\t\t\t}\n\n\t\t\tconst uniforms = materialProperties.uniforms;\n\n\t\t\tif (!material.isShaderMaterial && !material.isRawShaderMaterial || material.clipping === true) {\n\t\t\t\tuniforms.clippingPlanes = clipping.uniform;\n\t\t\t}\n\n\t\t\tupdateCommonMaterialProperties(material, parameters); // store the light setup it was created for\n\n\t\t\tmaterialProperties.needsLights = materialNeedsLights(material);\n\t\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\t\tif (materialProperties.needsLights) {\n\t\t\t\t// wire up the material to this renderer's lighting state\n\t\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\n\t\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\n\t\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\t\tuniforms.ltc_1.value = lights.state.rectAreaLTC1;\n\t\t\t\tuniforms.ltc_2.value = lights.state.rectAreaLTC2;\n\t\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\n\t\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\t\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix; // TODO (abelnation): add area lights shadow info to uniforms\n\t\t\t}\n\n\t\t\tconst progUniforms = program.getUniforms();\n\t\t\tconst uniformsList = WebGLUniforms.seqWithValue(progUniforms.seq, uniforms);\n\t\t\tmaterialProperties.currentProgram = program;\n\t\t\tmaterialProperties.uniformsList = uniformsList;\n\t\t\treturn program;\n\t\t}\n\n\t\tfunction updateCommonMaterialProperties(material, parameters) {\n\t\t\tconst materialProperties = properties.get(material);\n\t\t\tmaterialProperties.outputEncoding = parameters.outputEncoding;\n\t\t\tmaterialProperties.instancing = parameters.instancing;\n\t\t\tmaterialProperties.skinning = parameters.skinning;\n\t\t\tmaterialProperties.morphTargets = parameters.morphTargets;\n\t\t\tmaterialProperties.morphNormals = parameters.morphNormals;\n\t\t\tmaterialProperties.morphTargetsCount = parameters.morphTargetsCount;\n\t\t\tmaterialProperties.numClippingPlanes = parameters.numClippingPlanes;\n\t\t\tmaterialProperties.numIntersection = parameters.numClipIntersection;\n\t\t\tmaterialProperties.vertexAlphas = parameters.vertexAlphas;\n\t\t\tmaterialProperties.vertexTangents = parameters.vertexTangents;\n\t\t\tmaterialProperties.toneMapping = parameters.toneMapping;\n\t\t}\n\n\t\tfunction setProgram(camera, scene, geometry, material, object) {\n\t\t\tif (scene.isScene !== true) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\t\ttextures.resetTextureUnits();\n\t\t\tconst fog = scene.fog;\n\t\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\t\tconst encoding = _currentRenderTarget === null ? _this.outputEncoding : _currentRenderTarget.texture.encoding;\n\t\t\tconst envMap = (material.isMeshStandardMaterial ? cubeuvmaps : cubemaps).get(material.envMap || environment);\n\t\t\tconst vertexAlphas = material.vertexColors === true && !!geometry.attributes.color && geometry.attributes.color.itemSize === 4;\n\t\t\tconst vertexTangents = !!material.normalMap && !!geometry.attributes.tangent;\n\t\t\tconst morphTargets = !!geometry.morphAttributes.position;\n\t\t\tconst morphNormals = !!geometry.morphAttributes.normal;\n\t\t\tconst morphTargetsCount = !!geometry.morphAttributes.position ? geometry.morphAttributes.position.length : 0;\n\t\t\tconst toneMapping = material.toneMapped ? _this.toneMapping : NoToneMapping;\n\t\t\tconst materialProperties = properties.get(material);\n\t\t\tconst lights = currentRenderState.state.lights;\n\n\t\t\tif (_clippingEnabled === true) {\n\t\t\t\tif (_localClippingEnabled === true || camera !== _currentCamera) {\n\t\t\t\t\tconst useCache = camera === _currentCamera && material.id === _currentMaterialId; // we might want to call this function with some ClippingGroup\n\t\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t\t// (#8465, #8379)\n\n\t\t\t\t\tclipping.setState(material, camera, useCache);\n\t\t\t\t}\n\t\t\t} //\n\n\n\t\t\tlet needsProgramChange = false;\n\n\t\t\tif (material.version === materialProperties.__version) {\n\t\t\t\tif (materialProperties.needsLights && materialProperties.lightsStateVersion !== lights.state.version) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (materialProperties.outputEncoding !== encoding) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (object.isInstancedMesh && materialProperties.instancing === false) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (!object.isInstancedMesh && materialProperties.instancing === true) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (object.isSkinnedMesh && materialProperties.skinning === false) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (!object.isSkinnedMesh && materialProperties.skinning === true) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (materialProperties.envMap !== envMap) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (material.fog && materialProperties.fog !== fog) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (materialProperties.numClippingPlanes !== undefined && (materialProperties.numClippingPlanes !== clipping.numPlanes || materialProperties.numIntersection !== clipping.numIntersection)) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (materialProperties.vertexAlphas !== vertexAlphas) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (materialProperties.vertexTangents !== vertexTangents) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (materialProperties.morphTargets !== morphTargets) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (materialProperties.morphNormals !== morphNormals) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (materialProperties.toneMapping !== toneMapping) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (capabilities.isWebGL2 === true && materialProperties.morphTargetsCount !== morphTargetsCount) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tneedsProgramChange = true;\n\t\t\t\tmaterialProperties.__version = material.version;\n\t\t\t} //\n\n\n\t\t\tlet program = materialProperties.currentProgram;\n\n\t\t\tif (needsProgramChange === true) {\n\t\t\t\tprogram = getProgram(material, scene, object);\n\t\t\t}\n\n\t\t\tlet refreshProgram = false;\n\t\t\tlet refreshMaterial = false;\n\t\t\tlet refreshLights = false;\n\t\t\tconst p_uniforms = program.getUniforms(),\n\t\t\t\t\t\tm_uniforms = materialProperties.uniforms;\n\n\t\t\tif (state.useProgram(program.program)) {\n\t\t\t\trefreshProgram = true;\n\t\t\t\trefreshMaterial = true;\n\t\t\t\trefreshLights = true;\n\t\t\t}\n\n\t\t\tif (material.id !== _currentMaterialId) {\n\t\t\t\t_currentMaterialId = material.id;\n\t\t\t\trefreshMaterial = true;\n\t\t\t}\n\n\t\t\tif (refreshProgram || _currentCamera !== camera) {\n\t\t\t\tp_uniforms.setValue(_gl, 'projectionMatrix', camera.projectionMatrix);\n\n\t\t\t\tif (capabilities.logarithmicDepthBuffer) {\n\t\t\t\t\tp_uniforms.setValue(_gl, 'logDepthBufFC', 2.0 / (Math.log(camera.far + 1.0) / Math.LN2));\n\t\t\t\t}\n\n\t\t\t\tif (_currentCamera !== camera) {\n\t\t\t\t\t_currentCamera = camera; // lighting uniforms depend on the camera so enforce an update\n\t\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\t\trefreshMaterial = true; // set to true on material change\n\n\t\t\t\t\trefreshLights = true; // remains set until update done\n\t\t\t\t} // load material specific uniforms\n\t\t\t\t// (shader material also gets them for the sake of genericity)\n\n\n\t\t\t\tif (material.isShaderMaterial || material.isMeshPhongMaterial || material.isMeshToonMaterial || material.isMeshStandardMaterial || material.envMap) {\n\t\t\t\t\tconst uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\t\tif (uCamPos !== undefined) {\n\t\t\t\t\t\tuCamPos.setValue(_gl, _vector3.setFromMatrixPosition(camera.matrixWorld));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (material.isMeshPhongMaterial || material.isMeshToonMaterial || material.isMeshLambertMaterial || material.isMeshBasicMaterial || material.isMeshStandardMaterial || material.isShaderMaterial) {\n\t\t\t\t\tp_uniforms.setValue(_gl, 'isOrthographic', camera.isOrthographicCamera === true);\n\t\t\t\t}\n\n\t\t\t\tif (material.isMeshPhongMaterial || material.isMeshToonMaterial || material.isMeshLambertMaterial || material.isMeshBasicMaterial || material.isMeshStandardMaterial || material.isShaderMaterial || material.isShadowMaterial || object.isSkinnedMesh) {\n\t\t\t\t\tp_uniforms.setValue(_gl, 'viewMatrix', camera.matrixWorldInverse);\n\t\t\t\t}\n\t\t\t} // skinning and morph target uniforms must be set even if material didn't change\n\t\t\t// auto-setting of texture unit for bone and morph texture must go before other textures\n\t\t\t// otherwise textures used for skinning and morphing can take over texture units reserved for other material textures\n\n\n\t\t\tif (object.isSkinnedMesh) {\n\t\t\t\tp_uniforms.setOptional(_gl, object, 'bindMatrix');\n\t\t\t\tp_uniforms.setOptional(_gl, object, 'bindMatrixInverse');\n\t\t\t\tconst skeleton = object.skeleton;\n\n\t\t\t\tif (skeleton) {\n\t\t\t\t\tif (capabilities.floatVertexTextures) {\n\t\t\t\t\t\tif (skeleton.boneTexture === null) skeleton.computeBoneTexture();\n\t\t\t\t\t\tp_uniforms.setValue(_gl, 'boneTexture', skeleton.boneTexture, textures);\n\t\t\t\t\t\tp_uniforms.setValue(_gl, 'boneTextureSize', skeleton.boneTextureSize);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tp_uniforms.setOptional(_gl, skeleton, 'boneMatrices');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!!geometry && (geometry.morphAttributes.position !== undefined || geometry.morphAttributes.normal !== undefined)) {\n\t\t\t\tmorphtargets.update(object, geometry, material, program);\n\t\t\t}\n\n\t\t\tif (refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow) {\n\t\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\n\t\t\t\tp_uniforms.setValue(_gl, 'receiveShadow', object.receiveShadow);\n\t\t\t}\n\n\t\t\tif (refreshMaterial) {\n\t\t\t\tp_uniforms.setValue(_gl, 'toneMappingExposure', _this.toneMappingExposure);\n\n\t\t\t\tif (materialProperties.needsLights) {\n\t\t\t\t\t// the current material requires lighting info\n\t\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t\t// values\n\t\t\t\t\t//\n\t\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t\t// the GL state when required\n\t\t\t\t\tmarkUniformsLightsNeedsUpdate(m_uniforms, refreshLights);\n\t\t\t\t} // refresh uniforms common to several materials\n\n\n\t\t\t\tif (fog && material.fog) {\n\t\t\t\t\tmaterials.refreshFogUniforms(m_uniforms, fog);\n\t\t\t\t}\n\n\t\t\t\tmaterials.refreshMaterialUniforms(m_uniforms, material, _pixelRatio, _height, _transmissionRenderTarget);\n\t\t\t\tWebGLUniforms.upload(_gl, materialProperties.uniformsList, m_uniforms, textures);\n\t\t\t}\n\n\t\t\tif (material.isShaderMaterial && material.uniformsNeedUpdate === true) {\n\t\t\t\tWebGLUniforms.upload(_gl, materialProperties.uniformsList, m_uniforms, textures);\n\t\t\t\tmaterial.uniformsNeedUpdate = false;\n\t\t\t}\n\n\t\t\tif (material.isSpriteMaterial) {\n\t\t\t\tp_uniforms.setValue(_gl, 'center', object.center);\n\t\t\t} // common matrices\n\n\n\t\t\tp_uniforms.setValue(_gl, 'modelViewMatrix', object.modelViewMatrix);\n\t\t\tp_uniforms.setValue(_gl, 'normalMatrix', object.normalMatrix);\n\t\t\tp_uniforms.setValue(_gl, 'modelMatrix', object.matrixWorld);\n\t\t\treturn program;\n\t\t} // If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\n\t\tfunction markUniformsLightsNeedsUpdate(uniforms, value) {\n\t\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\t\tuniforms.lightProbe.needsUpdate = value;\n\t\t\tuniforms.directionalLights.needsUpdate = value;\n\t\t\tuniforms.directionalLightShadows.needsUpdate = value;\n\t\t\tuniforms.pointLights.needsUpdate = value;\n\t\t\tuniforms.pointLightShadows.needsUpdate = value;\n\t\t\tuniforms.spotLights.needsUpdate = value;\n\t\t\tuniforms.spotLightShadows.needsUpdate = value;\n\t\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\t\tuniforms.hemisphereLights.needsUpdate = value;\n\t\t}\n\n\t\tfunction materialNeedsLights(material) {\n\t\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial || material.isMeshStandardMaterial || material.isShadowMaterial || material.isShaderMaterial && material.lights === true;\n\t\t}\n\n\t\tthis.getActiveCubeFace = function () {\n\t\t\treturn _currentActiveCubeFace;\n\t\t};\n\n\t\tthis.getActiveMipmapLevel = function () {\n\t\t\treturn _currentActiveMipmapLevel;\n\t\t};\n\n\t\tthis.getRenderTarget = function () {\n\t\t\treturn _currentRenderTarget;\n\t\t};\n\n\t\tthis.setRenderTargetTextures = function (renderTarget, colorTexture, depthTexture) {\n\t\t\tproperties.get(renderTarget.texture).__webglTexture = colorTexture;\n\t\t\tproperties.get(renderTarget.depthTexture).__webglTexture = depthTexture;\n\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\t\t\trenderTargetProperties.__hasExternalTextures = true;\n\n\t\t\tif (renderTargetProperties.__hasExternalTextures) {\n\t\t\t\trenderTargetProperties.__autoAllocateDepthBuffer = depthTexture === undefined;\n\n\t\t\t\tif (!renderTargetProperties.__autoAllocateDepthBuffer) {\n\t\t\t\t\t// The multisample_render_to_texture extension doesn't work properly if there\n\t\t\t\t\t// are midframe flushes and an external depth buffer. Disable use of the extension.\n\t\t\t\t\tif (renderTarget.useRenderToTexture) {\n\t\t\t\t\t\tconsole.warn('render-to-texture extension was disabled because an external texture was provided');\n\t\t\t\t\t\trenderTarget.useRenderToTexture = false;\n\t\t\t\t\t\trenderTarget.useRenderbuffer = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.setRenderTargetFramebuffer = function (renderTarget, defaultFramebuffer) {\n\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\t\t\trenderTargetProperties.__webglFramebuffer = defaultFramebuffer;\n\t\t\trenderTargetProperties.__useDefaultFramebuffer = defaultFramebuffer === undefined;\n\t\t};\n\n\t\tthis.setRenderTarget = function (renderTarget, activeCubeFace = 0, activeMipmapLevel = 0) {\n\t\t\t_currentRenderTarget = renderTarget;\n\t\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\t\t\tlet useDefaultFramebuffer = true;\n\n\t\t\tif (renderTarget) {\n\t\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\n\t\t\t\tif (renderTargetProperties.__useDefaultFramebuffer !== undefined) {\n\t\t\t\t\t// We need to make sure to rebind the framebuffer.\n\t\t\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, null);\n\t\t\t\t\tuseDefaultFramebuffer = false;\n\t\t\t\t} else if (renderTargetProperties.__webglFramebuffer === undefined) {\n\t\t\t\t\ttextures.setupRenderTarget(renderTarget);\n\t\t\t\t} else if (renderTargetProperties.__hasExternalTextures) {\n\t\t\t\t\t// Color and depth texture must be rebound in order for the swapchain to update.\n\t\t\t\t\ttextures.rebindTextures(renderTarget, properties.get(renderTarget.texture).__webglTexture, properties.get(renderTarget.depthTexture).__webglTexture);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet framebuffer = null;\n\t\t\tlet isCube = false;\n\t\t\tlet isRenderTarget3D = false;\n\n\t\t\tif (renderTarget) {\n\t\t\t\tconst texture = renderTarget.texture;\n\n\t\t\t\tif (texture.isDataTexture3D || texture.isDataTexture2DArray) {\n\t\t\t\t\tisRenderTarget3D = true;\n\t\t\t\t}\n\n\t\t\t\tconst __webglFramebuffer = properties.get(renderTarget).__webglFramebuffer;\n\n\t\t\t\tif (renderTarget.isWebGLCubeRenderTarget) {\n\t\t\t\t\tframebuffer = __webglFramebuffer[activeCubeFace];\n\t\t\t\t\tisCube = true;\n\t\t\t\t} else if (renderTarget.useRenderbuffer) {\n\t\t\t\t\tframebuffer = properties.get(renderTarget).__webglMultisampledFramebuffer;\n\t\t\t\t} else {\n\t\t\t\t\tframebuffer = __webglFramebuffer;\n\t\t\t\t}\n\n\t\t\t\t_currentViewport.copy(renderTarget.viewport);\n\n\t\t\t\t_currentScissor.copy(renderTarget.scissor);\n\n\t\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\t\t\t} else {\n\t\t\t\t_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor();\n\n\t\t\t\t_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor();\n\n\t\t\t\t_currentScissorTest = _scissorTest;\n\t\t\t}\n\n\t\t\tconst framebufferBound = state.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);\n\n\t\t\tif (framebufferBound && capabilities.drawBuffers && useDefaultFramebuffer) {\n\t\t\t\tlet needsUpdate = false;\n\n\t\t\t\tif (renderTarget) {\n\t\t\t\t\tif (renderTarget.isWebGLMultipleRenderTargets) {\n\t\t\t\t\t\tconst textures = renderTarget.texture;\n\n\t\t\t\t\t\tif (_currentDrawBuffers.length !== textures.length || _currentDrawBuffers[0] !== _gl.COLOR_ATTACHMENT0) {\n\t\t\t\t\t\t\tfor (let i = 0, il = textures.length; i < il; i++) {\n\t\t\t\t\t\t\t\t_currentDrawBuffers[i] = _gl.COLOR_ATTACHMENT0 + i;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t_currentDrawBuffers.length = textures.length;\n\t\t\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (_currentDrawBuffers.length !== 1 || _currentDrawBuffers[0] !== _gl.COLOR_ATTACHMENT0) {\n\t\t\t\t\t\t\t_currentDrawBuffers[0] = _gl.COLOR_ATTACHMENT0;\n\t\t\t\t\t\t\t_currentDrawBuffers.length = 1;\n\t\t\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (_currentDrawBuffers.length !== 1 || _currentDrawBuffers[0] !== _gl.BACK) {\n\t\t\t\t\t\t_currentDrawBuffers[0] = _gl.BACK;\n\t\t\t\t\t\t_currentDrawBuffers.length = 1;\n\t\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (needsUpdate) {\n\t\t\t\t\tif (capabilities.isWebGL2) {\n\t\t\t\t\t\t_gl.drawBuffers(_currentDrawBuffers);\n\t\t\t\t\t} else {\n\t\t\t\t\t\textensions.get('WEBGL_draw_buffers').drawBuffersWEBGL(_currentDrawBuffers);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tstate.viewport(_currentViewport);\n\t\t\tstate.scissor(_currentScissor);\n\t\t\tstate.setScissorTest(_currentScissorTest);\n\n\t\t\tif (isCube) {\n\t\t\t\tconst textureProperties = properties.get(renderTarget.texture);\n\n\t\t\t\t_gl.framebufferTexture2D(_gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + activeCubeFace, textureProperties.__webglTexture, activeMipmapLevel);\n\t\t\t} else if (isRenderTarget3D) {\n\t\t\t\tconst textureProperties = properties.get(renderTarget.texture);\n\t\t\t\tconst layer = activeCubeFace || 0;\n\n\t\t\t\t_gl.framebufferTextureLayer(_gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, textureProperties.__webglTexture, activeMipmapLevel || 0, layer);\n\t\t\t}\n\n\t\t\t_currentMaterialId = -1; // reset current material to ensure correct uniform bindings\n\t\t};\n\n\t\tthis.readRenderTargetPixels = function (renderTarget, x, y, width, height, buffer, activeCubeFaceIndex) {\n\t\t\tif (!(renderTarget && renderTarget.isWebGLRenderTarget)) {\n\t\t\t\tconsole.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet framebuffer = properties.get(renderTarget).__webglFramebuffer;\n\n\t\t\tif (renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined) {\n\t\t\t\tframebuffer = framebuffer[activeCubeFaceIndex];\n\t\t\t}\n\n\t\t\tif (framebuffer) {\n\t\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);\n\n\t\t\t\ttry {\n\t\t\t\t\tconst texture = renderTarget.texture;\n\t\t\t\t\tconst textureFormat = texture.format;\n\t\t\t\t\tconst textureType = texture.type;\n\n\t\t\t\t\tif (textureFormat !== RGBAFormat && utils.convert(textureFormat) !== _gl.getParameter(_gl.IMPLEMENTATION_COLOR_READ_FORMAT)) {\n\t\t\t\t\t\tconsole.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst halfFloatSupportedByExt = textureType === HalfFloatType && (extensions.has('EXT_color_buffer_half_float') || capabilities.isWebGL2 && extensions.has('EXT_color_buffer_float'));\n\n\t\t\t\t\tif (textureType !== UnsignedByteType && utils.convert(textureType) !== _gl.getParameter(_gl.IMPLEMENTATION_COLOR_READ_TYPE) && // Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t!(textureType === FloatType && (capabilities.isWebGL2 || extensions.has('OES_texture_float') || extensions.has('WEBGL_color_buffer_float'))) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t!halfFloatSupportedByExt) {\n\t\t\t\t\t\tconsole.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_gl.checkFramebufferStatus(_gl.FRAMEBUFFER) === _gl.FRAMEBUFFER_COMPLETE) {\n\t\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\t\t\t\t\t\tif (x >= 0 && x <= renderTarget.width - width && y >= 0 && y <= renderTarget.height - height) {\n\t\t\t\t\t\t\t_gl.readPixels(x, y, width, height, utils.convert(textureFormat), utils.convert(textureType), buffer);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error('THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.');\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\t// restore framebuffer of current render target if necessary\n\t\t\t\t\tconst framebuffer = _currentRenderTarget !== null ? properties.get(_currentRenderTarget).__webglFramebuffer : null;\n\t\t\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.copyFramebufferToTexture = function (position, texture, level = 0) {\n\t\t\tif (texture.isFramebufferTexture !== true) {\n\t\t\t\tconsole.error('THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst levelScale = Math.pow(2, -level);\n\t\t\tconst width = Math.floor(texture.image.width * levelScale);\n\t\t\tconst height = Math.floor(texture.image.height * levelScale);\n\t\t\ttextures.setTexture2D(texture, 0);\n\n\t\t\t_gl.copyTexSubImage2D(_gl.TEXTURE_2D, level, 0, 0, position.x, position.y, width, height);\n\n\t\t\tstate.unbindTexture();\n\t\t};\n\n\t\tthis.copyTextureToTexture = function (position, srcTexture, dstTexture, level = 0) {\n\t\t\tconst width = srcTexture.image.width;\n\t\t\tconst height = srcTexture.image.height;\n\t\t\tconst glFormat = utils.convert(dstTexture.format);\n\t\t\tconst glType = utils.convert(dstTexture.type);\n\t\t\ttextures.setTexture2D(dstTexture, 0); // As another texture upload may have changed pixelStorei\n\t\t\t// parameters, make sure they are correct for the dstTexture\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_FLIP_Y_WEBGL, dstTexture.flipY);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, dstTexture.premultiplyAlpha);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_ALIGNMENT, dstTexture.unpackAlignment);\n\n\t\t\tif (srcTexture.isDataTexture) {\n\t\t\t\t_gl.texSubImage2D(_gl.TEXTURE_2D, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data);\n\t\t\t} else {\n\t\t\t\tif (srcTexture.isCompressedTexture) {\n\t\t\t\t\t_gl.compressedTexSubImage2D(_gl.TEXTURE_2D, level, position.x, position.y, srcTexture.mipmaps[0].width, srcTexture.mipmaps[0].height, glFormat, srcTexture.mipmaps[0].data);\n\t\t\t\t} else {\n\t\t\t\t\t_gl.texSubImage2D(_gl.TEXTURE_2D, level, position.x, position.y, glFormat, glType, srcTexture.image);\n\t\t\t\t}\n\t\t\t} // Generate mipmaps only when copying level 0\n\n\n\t\t\tif (level === 0 && dstTexture.generateMipmaps) _gl.generateMipmap(_gl.TEXTURE_2D);\n\t\t\tstate.unbindTexture();\n\t\t};\n\n\t\tthis.copyTextureToTexture3D = function (sourceBox, position, srcTexture, dstTexture, level = 0) {\n\t\t\tif (_this.isWebGL1Renderer) {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst width = sourceBox.max.x - sourceBox.min.x + 1;\n\t\t\tconst height = sourceBox.max.y - sourceBox.min.y + 1;\n\t\t\tconst depth = sourceBox.max.z - sourceBox.min.z + 1;\n\t\t\tconst glFormat = utils.convert(dstTexture.format);\n\t\t\tconst glType = utils.convert(dstTexture.type);\n\t\t\tlet glTarget;\n\n\t\t\tif (dstTexture.isDataTexture3D) {\n\t\t\t\ttextures.setTexture3D(dstTexture, 0);\n\t\t\t\tglTarget = _gl.TEXTURE_3D;\n\t\t\t} else if (dstTexture.isDataTexture2DArray) {\n\t\t\t\ttextures.setTexture2DArray(dstTexture, 0);\n\t\t\t\tglTarget = _gl.TEXTURE_2D_ARRAY;\n\t\t\t} else {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_FLIP_Y_WEBGL, dstTexture.flipY);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, dstTexture.premultiplyAlpha);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_ALIGNMENT, dstTexture.unpackAlignment);\n\n\t\t\tconst unpackRowLen = _gl.getParameter(_gl.UNPACK_ROW_LENGTH);\n\n\t\t\tconst unpackImageHeight = _gl.getParameter(_gl.UNPACK_IMAGE_HEIGHT);\n\n\t\t\tconst unpackSkipPixels = _gl.getParameter(_gl.UNPACK_SKIP_PIXELS);\n\n\t\t\tconst unpackSkipRows = _gl.getParameter(_gl.UNPACK_SKIP_ROWS);\n\n\t\t\tconst unpackSkipImages = _gl.getParameter(_gl.UNPACK_SKIP_IMAGES);\n\n\t\t\tconst image = srcTexture.isCompressedTexture ? srcTexture.mipmaps[0] : srcTexture.image;\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_ROW_LENGTH, image.width);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_IMAGE_HEIGHT, image.height);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_SKIP_PIXELS, sourceBox.min.x);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_SKIP_ROWS, sourceBox.min.y);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_SKIP_IMAGES, sourceBox.min.z);\n\n\t\t\tif (srcTexture.isDataTexture || srcTexture.isDataTexture3D) {\n\t\t\t\t_gl.texSubImage3D(glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, glType, image.data);\n\t\t\t} else {\n\t\t\t\tif (srcTexture.isCompressedTexture) {\n\t\t\t\t\tconsole.warn('THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture.');\n\n\t\t\t\t\t_gl.compressedTexSubImage3D(glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, image.data);\n\t\t\t\t} else {\n\t\t\t\t\t_gl.texSubImage3D(glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, glType, image);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_ROW_LENGTH, unpackRowLen);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_IMAGE_HEIGHT, unpackImageHeight);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_SKIP_PIXELS, unpackSkipPixels);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_SKIP_ROWS, unpackSkipRows);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_SKIP_IMAGES, unpackSkipImages); // Generate mipmaps only when copying level 0\n\n\n\t\t\tif (level === 0 && dstTexture.generateMipmaps) _gl.generateMipmap(glTarget);\n\t\t\tstate.unbindTexture();\n\t\t};\n\n\t\tthis.initTexture = function (texture) {\n\t\t\ttextures.setTexture2D(texture, 0);\n\t\t\tstate.unbindTexture();\n\t\t};\n\n\t\tthis.resetState = function () {\n\t\t\t_currentActiveCubeFace = 0;\n\t\t\t_currentActiveMipmapLevel = 0;\n\t\t\t_currentRenderTarget = null;\n\t\t\tstate.reset();\n\t\t\tbindingStates.reset();\n\t\t};\n\n\t\tif (typeof __THREE_DEVTOOLS__ !== 'undefined') {\n\t\t\t__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe', {\n\t\t\t\tdetail: this\n\t\t\t}));\n\t\t}\n\t}\n\n\tWebGLRenderer.prototype.isWebGLRenderer = true;\n\n\tclass WebGL1Renderer extends WebGLRenderer {}\n\n\tWebGL1Renderer.prototype.isWebGL1Renderer = true;\n\n\tclass FogExp2 {\n\t\tconstructor(color, density = 0.00025) {\n\t\t\tthis.name = '';\n\t\t\tthis.color = new Color(color);\n\t\t\tthis.density = density;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new FogExp2(this.color, this.density);\n\t\t}\n\n\t\ttoJSON() {\n\t\t\treturn {\n\t\t\t\ttype: 'FogExp2',\n\t\t\t\tcolor: this.color.getHex(),\n\t\t\t\tdensity: this.density\n\t\t\t};\n\t\t}\n\n\t}\n\n\tFogExp2.prototype.isFogExp2 = true;\n\n\tclass Fog {\n\t\tconstructor(color, near = 1, far = 1000) {\n\t\t\tthis.name = '';\n\t\t\tthis.color = new Color(color);\n\t\t\tthis.near = near;\n\t\t\tthis.far = far;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new Fog(this.color, this.near, this.far);\n\t\t}\n\n\t\ttoJSON() {\n\t\t\treturn {\n\t\t\t\ttype: 'Fog',\n\t\t\t\tcolor: this.color.getHex(),\n\t\t\t\tnear: this.near,\n\t\t\t\tfar: this.far\n\t\t\t};\n\t\t}\n\n\t}\n\n\tFog.prototype.isFog = true;\n\n\tclass Scene extends Object3D {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.type = 'Scene';\n\t\t\tthis.background = null;\n\t\t\tthis.environment = null;\n\t\t\tthis.fog = null;\n\t\t\tthis.overrideMaterial = null;\n\t\t\tthis.autoUpdate = true; // checked by the renderer\n\n\t\t\tif (typeof __THREE_DEVTOOLS__ !== 'undefined') {\n\t\t\t\t__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe', {\n\t\t\t\t\tdetail: this\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\t\t\tif (source.background !== null) this.background = source.background.clone();\n\t\t\tif (source.environment !== null) this.environment = source.environment.clone();\n\t\t\tif (source.fog !== null) this.fog = source.fog.clone();\n\t\t\tif (source.overrideMaterial !== null) this.overrideMaterial = source.overrideMaterial.clone();\n\t\t\tthis.autoUpdate = source.autoUpdate;\n\t\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst data = super.toJSON(meta);\n\t\t\tif (this.fog !== null) data.object.fog = this.fog.toJSON();\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tScene.prototype.isScene = true;\n\n\tclass InterleavedBuffer {\n\t\tconstructor(array, stride) {\n\t\t\tthis.array = array;\n\t\t\tthis.stride = stride;\n\t\t\tthis.count = array !== undefined ? array.length / stride : 0;\n\t\t\tthis.usage = StaticDrawUsage;\n\t\t\tthis.updateRange = {\n\t\t\t\toffset: 0,\n\t\t\t\tcount: -1\n\t\t\t};\n\t\t\tthis.version = 0;\n\t\t\tthis.uuid = generateUUID();\n\t\t}\n\n\t\tonUploadCallback() {}\n\n\t\tset needsUpdate(value) {\n\t\t\tif (value === true) this.version++;\n\t\t}\n\n\t\tsetUsage(value) {\n\t\t\tthis.usage = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tthis.array = new source.array.constructor(source.array);\n\t\t\tthis.count = source.count;\n\t\t\tthis.stride = source.stride;\n\t\t\tthis.usage = source.usage;\n\t\t\treturn this;\n\t\t}\n\n\t\tcopyAt(index1, attribute, index2) {\n\t\t\tindex1 *= this.stride;\n\t\t\tindex2 *= attribute.stride;\n\n\t\t\tfor (let i = 0, l = this.stride; i < l; i++) {\n\t\t\t\tthis.array[index1 + i] = attribute.array[index2 + i];\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tset(value, offset = 0) {\n\t\t\tthis.array.set(value, offset);\n\t\t\treturn this;\n\t\t}\n\n\t\tclone(data) {\n\t\t\tif (data.arrayBuffers === undefined) {\n\t\t\t\tdata.arrayBuffers = {};\n\t\t\t}\n\n\t\t\tif (this.array.buffer._uuid === undefined) {\n\t\t\t\tthis.array.buffer._uuid = generateUUID();\n\t\t\t}\n\n\t\t\tif (data.arrayBuffers[this.array.buffer._uuid] === undefined) {\n\t\t\t\tdata.arrayBuffers[this.array.buffer._uuid] = this.array.slice(0).buffer;\n\t\t\t}\n\n\t\t\tconst array = new this.array.constructor(data.arrayBuffers[this.array.buffer._uuid]);\n\t\t\tconst ib = new this.constructor(array, this.stride);\n\t\t\tib.setUsage(this.usage);\n\t\t\treturn ib;\n\t\t}\n\n\t\tonUpload(callback) {\n\t\t\tthis.onUploadCallback = callback;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON(data) {\n\t\t\tif (data.arrayBuffers === undefined) {\n\t\t\t\tdata.arrayBuffers = {};\n\t\t\t} // generate UUID for array buffer if necessary\n\n\n\t\t\tif (this.array.buffer._uuid === undefined) {\n\t\t\t\tthis.array.buffer._uuid = generateUUID();\n\t\t\t}\n\n\t\t\tif (data.arrayBuffers[this.array.buffer._uuid] === undefined) {\n\t\t\t\tdata.arrayBuffers[this.array.buffer._uuid] = Array.prototype.slice.call(new Uint32Array(this.array.buffer));\n\t\t\t} //\n\n\n\t\t\treturn {\n\t\t\t\tuuid: this.uuid,\n\t\t\t\tbuffer: this.array.buffer._uuid,\n\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\tstride: this.stride\n\t\t\t};\n\t\t}\n\n\t}\n\n\tInterleavedBuffer.prototype.isInterleavedBuffer = true;\n\n\tconst _vector$6 = /*@__PURE__*/new Vector3();\n\n\tclass InterleavedBufferAttribute {\n\t\tconstructor(interleavedBuffer, itemSize, offset, normalized = false) {\n\t\t\tthis.name = '';\n\t\t\tthis.data = interleavedBuffer;\n\t\t\tthis.itemSize = itemSize;\n\t\t\tthis.offset = offset;\n\t\t\tthis.normalized = normalized === true;\n\t\t}\n\n\t\tget count() {\n\t\t\treturn this.data.count;\n\t\t}\n\n\t\tget array() {\n\t\t\treturn this.data.array;\n\t\t}\n\n\t\tset needsUpdate(value) {\n\t\t\tthis.data.needsUpdate = value;\n\t\t}\n\n\t\tapplyMatrix4(m) {\n\t\t\tfor (let i = 0, l = this.data.count; i < l; i++) {\n\t\t\t\t_vector$6.x = this.getX(i);\n\t\t\t\t_vector$6.y = this.getY(i);\n\t\t\t\t_vector$6.z = this.getZ(i);\n\n\t\t\t\t_vector$6.applyMatrix4(m);\n\n\t\t\t\tthis.setXYZ(i, _vector$6.x, _vector$6.y, _vector$6.z);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyNormalMatrix(m) {\n\t\t\tfor (let i = 0, l = this.count; i < l; i++) {\n\t\t\t\t_vector$6.x = this.getX(i);\n\t\t\t\t_vector$6.y = this.getY(i);\n\t\t\t\t_vector$6.z = this.getZ(i);\n\n\t\t\t\t_vector$6.applyNormalMatrix(m);\n\n\t\t\t\tthis.setXYZ(i, _vector$6.x, _vector$6.y, _vector$6.z);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttransformDirection(m) {\n\t\t\tfor (let i = 0, l = this.count; i < l; i++) {\n\t\t\t\t_vector$6.x = this.getX(i);\n\t\t\t\t_vector$6.y = this.getY(i);\n\t\t\t\t_vector$6.z = this.getZ(i);\n\n\t\t\t\t_vector$6.transformDirection(m);\n\n\t\t\t\tthis.setXYZ(i, _vector$6.x, _vector$6.y, _vector$6.z);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetX(index, x) {\n\t\t\tthis.data.array[index * this.data.stride + this.offset] = x;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetY(index, y) {\n\t\t\tthis.data.array[index * this.data.stride + this.offset + 1] = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetZ(index, z) {\n\t\t\tthis.data.array[index * this.data.stride + this.offset + 2] = z;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetW(index, w) {\n\t\t\tthis.data.array[index * this.data.stride + this.offset + 3] = w;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetX(index) {\n\t\t\treturn this.data.array[index * this.data.stride + this.offset];\n\t\t}\n\n\t\tgetY(index) {\n\t\t\treturn this.data.array[index * this.data.stride + this.offset + 1];\n\t\t}\n\n\t\tgetZ(index) {\n\t\t\treturn this.data.array[index * this.data.stride + this.offset + 2];\n\t\t}\n\n\t\tgetW(index) {\n\t\t\treturn this.data.array[index * this.data.stride + this.offset + 3];\n\t\t}\n\n\t\tsetXY(index, x, y) {\n\t\t\tindex = index * this.data.stride + this.offset;\n\t\t\tthis.data.array[index + 0] = x;\n\t\t\tthis.data.array[index + 1] = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetXYZ(index, x, y, z) {\n\t\t\tindex = index * this.data.stride + this.offset;\n\t\t\tthis.data.array[index + 0] = x;\n\t\t\tthis.data.array[index + 1] = y;\n\t\t\tthis.data.array[index + 2] = z;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetXYZW(index, x, y, z, w) {\n\t\t\tindex = index * this.data.stride + this.offset;\n\t\t\tthis.data.array[index + 0] = x;\n\t\t\tthis.data.array[index + 1] = y;\n\t\t\tthis.data.array[index + 2] = z;\n\t\t\tthis.data.array[index + 3] = w;\n\t\t\treturn this;\n\t\t}\n\n\t\tclone(data) {\n\t\t\tif (data === undefined) {\n\t\t\t\tconsole.log('THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.');\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor (let i = 0; i < this.count; i++) {\n\t\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\t\tfor (let j = 0; j < this.itemSize; j++) {\n\t\t\t\t\t\tarray.push(this.data.array[index + j]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn new BufferAttribute(new this.array.constructor(array), this.itemSize, this.normalized);\n\t\t\t} else {\n\t\t\t\tif (data.interleavedBuffers === undefined) {\n\t\t\t\t\tdata.interleavedBuffers = {};\n\t\t\t\t}\n\n\t\t\t\tif (data.interleavedBuffers[this.data.uuid] === undefined) {\n\t\t\t\t\tdata.interleavedBuffers[this.data.uuid] = this.data.clone(data);\n\t\t\t\t}\n\n\t\t\t\treturn new InterleavedBufferAttribute(data.interleavedBuffers[this.data.uuid], this.itemSize, this.offset, this.normalized);\n\t\t\t}\n\t\t}\n\n\t\ttoJSON(data) {\n\t\t\tif (data === undefined) {\n\t\t\t\tconsole.log('THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.');\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor (let i = 0; i < this.count; i++) {\n\t\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\t\tfor (let j = 0; j < this.itemSize; j++) {\n\t\t\t\t\t\tarray.push(this.data.array[index + j]);\n\t\t\t\t\t}\n\t\t\t\t} // deinterleave data and save it as an ordinary buffer attribute for now\n\n\n\t\t\t\treturn {\n\t\t\t\t\titemSize: this.itemSize,\n\t\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\t\tarray: array,\n\t\t\t\t\tnormalized: this.normalized\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\t// save as true interlaved attribtue\n\t\t\t\tif (data.interleavedBuffers === undefined) {\n\t\t\t\t\tdata.interleavedBuffers = {};\n\t\t\t\t}\n\n\t\t\t\tif (data.interleavedBuffers[this.data.uuid] === undefined) {\n\t\t\t\t\tdata.interleavedBuffers[this.data.uuid] = this.data.toJSON(data);\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tisInterleavedBufferAttribute: true,\n\t\t\t\t\titemSize: this.itemSize,\n\t\t\t\t\tdata: this.data.uuid,\n\t\t\t\t\toffset: this.offset,\n\t\t\t\t\tnormalized: this.normalized\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t}\n\n\tInterleavedBufferAttribute.prototype.isInterleavedBufferAttribute = true;\n\n\t/**\n\t * parameters = {\n\t *\tcolor: <hex>,\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\trotation: <float>,\n\t *\tsizeAttenuation: <bool>\n\t * }\n\t */\n\n\tclass SpriteMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.type = 'SpriteMaterial';\n\t\t\tthis.color = new Color(0xffffff);\n\t\t\tthis.map = null;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.rotation = 0;\n\t\t\tthis.sizeAttenuation = true;\n\t\t\tthis.transparent = true;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.map = source.map;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.rotation = source.rotation;\n\t\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tSpriteMaterial.prototype.isSpriteMaterial = true;\n\n\tlet _geometry;\n\n\tconst _intersectPoint = /*@__PURE__*/new Vector3();\n\n\tconst _worldScale = /*@__PURE__*/new Vector3();\n\n\tconst _mvPosition = /*@__PURE__*/new Vector3();\n\n\tconst _alignedPosition = /*@__PURE__*/new Vector2();\n\n\tconst _rotatedPosition = /*@__PURE__*/new Vector2();\n\n\tconst _viewWorldMatrix = /*@__PURE__*/new Matrix4();\n\n\tconst _vA = /*@__PURE__*/new Vector3();\n\n\tconst _vB = /*@__PURE__*/new Vector3();\n\n\tconst _vC = /*@__PURE__*/new Vector3();\n\n\tconst _uvA = /*@__PURE__*/new Vector2();\n\n\tconst _uvB = /*@__PURE__*/new Vector2();\n\n\tconst _uvC = /*@__PURE__*/new Vector2();\n\n\tclass Sprite extends Object3D {\n\t\tconstructor(material) {\n\t\t\tsuper();\n\t\t\tthis.type = 'Sprite';\n\n\t\t\tif (_geometry === undefined) {\n\t\t\t\t_geometry = new BufferGeometry();\n\t\t\t\tconst float32Array = new Float32Array([-0.5, -0.5, 0, 0, 0, 0.5, -0.5, 0, 1, 0, 0.5, 0.5, 0, 1, 1, -0.5, 0.5, 0, 0, 1]);\n\t\t\t\tconst interleavedBuffer = new InterleavedBuffer(float32Array, 5);\n\n\t\t\t\t_geometry.setIndex([0, 1, 2, 0, 2, 3]);\n\n\t\t\t\t_geometry.setAttribute('position', new InterleavedBufferAttribute(interleavedBuffer, 3, 0, false));\n\n\t\t\t\t_geometry.setAttribute('uv', new InterleavedBufferAttribute(interleavedBuffer, 2, 3, false));\n\t\t\t}\n\n\t\t\tthis.geometry = _geometry;\n\t\t\tthis.material = material !== undefined ? material : new SpriteMaterial();\n\t\t\tthis.center = new Vector2(0.5, 0.5);\n\t\t}\n\n\t\traycast(raycaster, intersects) {\n\t\t\tif (raycaster.camera === null) {\n\t\t\t\tconsole.error('THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.');\n\t\t\t}\n\n\t\t\t_worldScale.setFromMatrixScale(this.matrixWorld);\n\n\t\t\t_viewWorldMatrix.copy(raycaster.camera.matrixWorld);\n\n\t\t\tthis.modelViewMatrix.multiplyMatrices(raycaster.camera.matrixWorldInverse, this.matrixWorld);\n\n\t\t\t_mvPosition.setFromMatrixPosition(this.modelViewMatrix);\n\n\t\t\tif (raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false) {\n\t\t\t\t_worldScale.multiplyScalar(-_mvPosition.z);\n\t\t\t}\n\n\t\t\tconst rotation = this.material.rotation;\n\t\t\tlet sin, cos;\n\n\t\t\tif (rotation !== 0) {\n\t\t\t\tcos = Math.cos(rotation);\n\t\t\t\tsin = Math.sin(rotation);\n\t\t\t}\n\n\t\t\tconst center = this.center;\n\t\t\ttransformVertex(_vA.set(-0.5, -0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n\t\t\ttransformVertex(_vB.set(0.5, -0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n\t\t\ttransformVertex(_vC.set(0.5, 0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n\n\t\t\t_uvA.set(0, 0);\n\n\t\t\t_uvB.set(1, 0);\n\n\t\t\t_uvC.set(1, 1); // check first triangle\n\n\n\t\t\tlet intersect = raycaster.ray.intersectTriangle(_vA, _vB, _vC, false, _intersectPoint);\n\n\t\t\tif (intersect === null) {\n\t\t\t\t// check second triangle\n\t\t\t\ttransformVertex(_vB.set(-0.5, 0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n\n\t\t\t\t_uvB.set(0, 1);\n\n\t\t\t\tintersect = raycaster.ray.intersectTriangle(_vA, _vC, _vB, false, _intersectPoint);\n\n\t\t\t\tif (intersect === null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst distance = raycaster.ray.origin.distanceTo(_intersectPoint);\n\t\t\tif (distance < raycaster.near || distance > raycaster.far) return;\n\t\t\tintersects.push({\n\t\t\t\tdistance: distance,\n\t\t\t\tpoint: _intersectPoint.clone(),\n\t\t\t\tuv: Triangle.getUV(_intersectPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2()),\n\t\t\t\tface: null,\n\t\t\t\tobject: this\n\t\t\t});\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tif (source.center !== undefined) this.center.copy(source.center);\n\t\t\tthis.material = source.material;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tSprite.prototype.isSprite = true;\n\n\tfunction transformVertex(vertexPosition, mvPosition, center, scale, sin, cos) {\n\t\t// compute position in camera space\n\t\t_alignedPosition.subVectors(vertexPosition, center).addScalar(0.5).multiply(scale); // to check if rotation is not zero\n\n\n\t\tif (sin !== undefined) {\n\t\t\t_rotatedPosition.x = cos * _alignedPosition.x - sin * _alignedPosition.y;\n\t\t\t_rotatedPosition.y = sin * _alignedPosition.x + cos * _alignedPosition.y;\n\t\t} else {\n\t\t\t_rotatedPosition.copy(_alignedPosition);\n\t\t}\n\n\t\tvertexPosition.copy(mvPosition);\n\t\tvertexPosition.x += _rotatedPosition.x;\n\t\tvertexPosition.y += _rotatedPosition.y; // transform to world space\n\n\t\tvertexPosition.applyMatrix4(_viewWorldMatrix);\n\t}\n\n\tconst _v1$2 = /*@__PURE__*/new Vector3();\n\n\tconst _v2$1 = /*@__PURE__*/new Vector3();\n\n\tclass LOD extends Object3D {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis._currentLevel = 0;\n\t\t\tthis.type = 'LOD';\n\t\t\tObject.defineProperties(this, {\n\t\t\t\tlevels: {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tvalue: []\n\t\t\t\t},\n\t\t\t\tisLOD: {\n\t\t\t\t\tvalue: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.autoUpdate = true;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source, false);\n\t\t\tconst levels = source.levels;\n\n\t\t\tfor (let i = 0, l = levels.length; i < l; i++) {\n\t\t\t\tconst level = levels[i];\n\t\t\t\tthis.addLevel(level.object.clone(), level.distance);\n\t\t\t}\n\n\t\t\tthis.autoUpdate = source.autoUpdate;\n\t\t\treturn this;\n\t\t}\n\n\t\taddLevel(object, distance = 0) {\n\t\t\tdistance = Math.abs(distance);\n\t\t\tconst levels = this.levels;\n\t\t\tlet l;\n\n\t\t\tfor (l = 0; l < levels.length; l++) {\n\t\t\t\tif (distance < levels[l].distance) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlevels.splice(l, 0, {\n\t\t\t\tdistance: distance,\n\t\t\t\tobject: object\n\t\t\t});\n\t\t\tthis.add(object);\n\t\t\treturn this;\n\t\t}\n\n\t\tgetCurrentLevel() {\n\t\t\treturn this._currentLevel;\n\t\t}\n\n\t\tgetObjectForDistance(distance) {\n\t\t\tconst levels = this.levels;\n\n\t\t\tif (levels.length > 0) {\n\t\t\t\tlet i, l;\n\n\t\t\t\tfor (i = 1, l = levels.length; i < l; i++) {\n\t\t\t\t\tif (distance < levels[i].distance) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn levels[i - 1].object;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\n\t\traycast(raycaster, intersects) {\n\t\t\tconst levels = this.levels;\n\n\t\t\tif (levels.length > 0) {\n\t\t\t\t_v1$2.setFromMatrixPosition(this.matrixWorld);\n\n\t\t\t\tconst distance = raycaster.ray.origin.distanceTo(_v1$2);\n\t\t\t\tthis.getObjectForDistance(distance).raycast(raycaster, intersects);\n\t\t\t}\n\t\t}\n\n\t\tupdate(camera) {\n\t\t\tconst levels = this.levels;\n\n\t\t\tif (levels.length > 1) {\n\t\t\t\t_v1$2.setFromMatrixPosition(camera.matrixWorld);\n\n\t\t\t\t_v2$1.setFromMatrixPosition(this.matrixWorld);\n\n\t\t\t\tconst distance = _v1$2.distanceTo(_v2$1) / camera.zoom;\n\t\t\t\tlevels[0].object.visible = true;\n\t\t\t\tlet i, l;\n\n\t\t\t\tfor (i = 1, l = levels.length; i < l; i++) {\n\t\t\t\t\tif (distance >= levels[i].distance) {\n\t\t\t\t\t\tlevels[i - 1].object.visible = false;\n\t\t\t\t\t\tlevels[i].object.visible = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._currentLevel = i - 1;\n\n\t\t\t\tfor (; i < l; i++) {\n\t\t\t\t\tlevels[i].object.visible = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst data = super.toJSON(meta);\n\t\t\tif (this.autoUpdate === false) data.object.autoUpdate = false;\n\t\t\tdata.object.levels = [];\n\t\t\tconst levels = this.levels;\n\n\t\t\tfor (let i = 0, l = levels.length; i < l; i++) {\n\t\t\t\tconst level = levels[i];\n\t\t\t\tdata.object.levels.push({\n\t\t\t\t\tobject: level.object.uuid,\n\t\t\t\t\tdistance: level.distance\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tconst _basePosition = /*@__PURE__*/new Vector3();\n\n\tconst _skinIndex = /*@__PURE__*/new Vector4();\n\n\tconst _skinWeight = /*@__PURE__*/new Vector4();\n\n\tconst _vector$5 = /*@__PURE__*/new Vector3();\n\n\tconst _matrix = /*@__PURE__*/new Matrix4();\n\n\tclass SkinnedMesh extends Mesh {\n\t\tconstructor(geometry, material) {\n\t\t\tsuper(geometry, material);\n\t\t\tthis.type = 'SkinnedMesh';\n\t\t\tthis.bindMode = 'attached';\n\t\t\tthis.bindMatrix = new Matrix4();\n\t\t\tthis.bindMatrixInverse = new Matrix4();\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.bindMode = source.bindMode;\n\t\t\tthis.bindMatrix.copy(source.bindMatrix);\n\t\t\tthis.bindMatrixInverse.copy(source.bindMatrixInverse);\n\t\t\tthis.skeleton = source.skeleton;\n\t\t\treturn this;\n\t\t}\n\n\t\tbind(skeleton, bindMatrix) {\n\t\t\tthis.skeleton = skeleton;\n\n\t\t\tif (bindMatrix === undefined) {\n\t\t\t\tthis.updateMatrixWorld(true);\n\t\t\t\tthis.skeleton.calculateInverses();\n\t\t\t\tbindMatrix = this.matrixWorld;\n\t\t\t}\n\n\t\t\tthis.bindMatrix.copy(bindMatrix);\n\t\t\tthis.bindMatrixInverse.copy(bindMatrix).invert();\n\t\t}\n\n\t\tpose() {\n\t\t\tthis.skeleton.pose();\n\t\t}\n\n\t\tnormalizeSkinWeights() {\n\t\t\tconst vector = new Vector4();\n\t\t\tconst skinWeight = this.geometry.attributes.skinWeight;\n\n\t\t\tfor (let i = 0, l = skinWeight.count; i < l; i++) {\n\t\t\t\tvector.x = skinWeight.getX(i);\n\t\t\t\tvector.y = skinWeight.getY(i);\n\t\t\t\tvector.z = skinWeight.getZ(i);\n\t\t\t\tvector.w = skinWeight.getW(i);\n\t\t\t\tconst scale = 1.0 / vector.manhattanLength();\n\n\t\t\t\tif (scale !== Infinity) {\n\t\t\t\t\tvector.multiplyScalar(scale);\n\t\t\t\t} else {\n\t\t\t\t\tvector.set(1, 0, 0, 0); // do something reasonable\n\t\t\t\t}\n\n\t\t\t\tskinWeight.setXYZW(i, vector.x, vector.y, vector.z, vector.w);\n\t\t\t}\n\t\t}\n\n\t\tupdateMatrixWorld(force) {\n\t\t\tsuper.updateMatrixWorld(force);\n\n\t\t\tif (this.bindMode === 'attached') {\n\t\t\t\tthis.bindMatrixInverse.copy(this.matrixWorld).invert();\n\t\t\t} else if (this.bindMode === 'detached') {\n\t\t\t\tthis.bindMatrixInverse.copy(this.bindMatrix).invert();\n\t\t\t} else {\n\t\t\t\tconsole.warn('THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode);\n\t\t\t}\n\t\t}\n\n\t\tboneTransform(index, target) {\n\t\t\tconst skeleton = this.skeleton;\n\t\t\tconst geometry = this.geometry;\n\n\t\t\t_skinIndex.fromBufferAttribute(geometry.attributes.skinIndex, index);\n\n\t\t\t_skinWeight.fromBufferAttribute(geometry.attributes.skinWeight, index);\n\n\t\t\t_basePosition.copy(target).applyMatrix4(this.bindMatrix);\n\n\t\t\ttarget.set(0, 0, 0);\n\n\t\t\tfor (let i = 0; i < 4; i++) {\n\t\t\t\tconst weight = _skinWeight.getComponent(i);\n\n\t\t\t\tif (weight !== 0) {\n\t\t\t\t\tconst boneIndex = _skinIndex.getComponent(i);\n\n\t\t\t\t\t_matrix.multiplyMatrices(skeleton.bones[boneIndex].matrixWorld, skeleton.boneInverses[boneIndex]);\n\n\t\t\t\t\ttarget.addScaledVector(_vector$5.copy(_basePosition).applyMatrix4(_matrix), weight);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn target.applyMatrix4(this.bindMatrixInverse);\n\t\t}\n\n\t}\n\n\tSkinnedMesh.prototype.isSkinnedMesh = true;\n\n\tclass Bone extends Object3D {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.type = 'Bone';\n\t\t}\n\n\t}\n\n\tBone.prototype.isBone = true;\n\n\tclass DataTexture extends Texture {\n\t\tconstructor(data = null, width = 1, height = 1, format, type, mapping, wrapS, wrapT, magFilter = NearestFilter, minFilter = NearestFilter, anisotropy, encoding) {\n\t\t\tsuper(null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n\t\t\tthis.image = {\n\t\t\t\tdata: data,\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t};\n\t\t\tthis.magFilter = magFilter;\n\t\t\tthis.minFilter = minFilter;\n\t\t\tthis.generateMipmaps = false;\n\t\t\tthis.flipY = false;\n\t\t\tthis.unpackAlignment = 1;\n\t\t}\n\n\t}\n\n\tDataTexture.prototype.isDataTexture = true;\n\n\tconst _offsetMatrix = /*@__PURE__*/new Matrix4();\n\n\tconst _identityMatrix = /*@__PURE__*/new Matrix4();\n\n\tclass Skeleton {\n\t\tconstructor(bones = [], boneInverses = []) {\n\t\t\tthis.uuid = generateUUID();\n\t\t\tthis.bones = bones.slice(0);\n\t\t\tthis.boneInverses = boneInverses;\n\t\t\tthis.boneMatrices = null;\n\t\t\tthis.boneTexture = null;\n\t\t\tthis.boneTextureSize = 0;\n\t\t\tthis.frame = -1;\n\t\t\tthis.init();\n\t\t}\n\n\t\tinit() {\n\t\t\tconst bones = this.bones;\n\t\t\tconst boneInverses = this.boneInverses;\n\t\t\tthis.boneMatrices = new Float32Array(bones.length * 16); // calculate inverse bone matrices if necessary\n\n\t\t\tif (boneInverses.length === 0) {\n\t\t\t\tthis.calculateInverses();\n\t\t\t} else {\n\t\t\t\t// handle special case\n\t\t\t\tif (bones.length !== boneInverses.length) {\n\t\t\t\t\tconsole.warn('THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.');\n\t\t\t\t\tthis.boneInverses = [];\n\n\t\t\t\t\tfor (let i = 0, il = this.bones.length; i < il; i++) {\n\t\t\t\t\t\tthis.boneInverses.push(new Matrix4());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcalculateInverses() {\n\t\t\tthis.boneInverses.length = 0;\n\n\t\t\tfor (let i = 0, il = this.bones.length; i < il; i++) {\n\t\t\t\tconst inverse = new Matrix4();\n\n\t\t\t\tif (this.bones[i]) {\n\t\t\t\t\tinverse.copy(this.bones[i].matrixWorld).invert();\n\t\t\t\t}\n\n\t\t\t\tthis.boneInverses.push(inverse);\n\t\t\t}\n\t\t}\n\n\t\tpose() {\n\t\t\t// recover the bind-time world matrices\n\t\t\tfor (let i = 0, il = this.bones.length; i < il; i++) {\n\t\t\t\tconst bone = this.bones[i];\n\n\t\t\t\tif (bone) {\n\t\t\t\t\tbone.matrixWorld.copy(this.boneInverses[i]).invert();\n\t\t\t\t}\n\t\t\t} // compute the local matrices, positions, rotations and scales\n\n\n\t\t\tfor (let i = 0, il = this.bones.length; i < il; i++) {\n\t\t\t\tconst bone = this.bones[i];\n\n\t\t\t\tif (bone) {\n\t\t\t\t\tif (bone.parent && bone.parent.isBone) {\n\t\t\t\t\t\tbone.matrix.copy(bone.parent.matrixWorld).invert();\n\t\t\t\t\t\tbone.matrix.multiply(bone.matrixWorld);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbone.matrix.copy(bone.matrixWorld);\n\t\t\t\t\t}\n\n\t\t\t\t\tbone.matrix.decompose(bone.position, bone.quaternion, bone.scale);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tupdate() {\n\t\t\tconst bones = this.bones;\n\t\t\tconst boneInverses = this.boneInverses;\n\t\t\tconst boneMatrices = this.boneMatrices;\n\t\t\tconst boneTexture = this.boneTexture; // flatten bone matrices to array\n\n\t\t\tfor (let i = 0, il = bones.length; i < il; i++) {\n\t\t\t\t// compute the offset between the current and the original transform\n\t\t\t\tconst matrix = bones[i] ? bones[i].matrixWorld : _identityMatrix;\n\n\t\t\t\t_offsetMatrix.multiplyMatrices(matrix, boneInverses[i]);\n\n\t\t\t\t_offsetMatrix.toArray(boneMatrices, i * 16);\n\t\t\t}\n\n\t\t\tif (boneTexture !== null) {\n\t\t\t\tboneTexture.needsUpdate = true;\n\t\t\t}\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new Skeleton(this.bones, this.boneInverses);\n\t\t}\n\n\t\tcomputeBoneTexture() {\n\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t//\t\t\tRGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t//\twith\t8x8\tpixel texture max\t 16 bones * 4 pixels =\t(8 * 8)\n\t\t\t//\t\t\t 16x16 pixel texture max\t 64 bones * 4 pixels = (16 * 16)\n\t\t\t//\t\t\t 32x32 pixel texture max\t256 bones * 4 pixels = (32 * 32)\n\t\t\t//\t\t\t 64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\t\t\tlet size = Math.sqrt(this.bones.length * 4); // 4 pixels needed for 1 matrix\n\n\t\t\tsize = ceilPowerOfTwo(size);\n\t\t\tsize = Math.max(size, 4);\n\t\t\tconst boneMatrices = new Float32Array(size * size * 4); // 4 floats per RGBA pixel\n\n\t\t\tboneMatrices.set(this.boneMatrices); // copy current values\n\n\t\t\tconst boneTexture = new DataTexture(boneMatrices, size, size, RGBAFormat, FloatType);\n\t\t\tboneTexture.needsUpdate = true;\n\t\t\tthis.boneMatrices = boneMatrices;\n\t\t\tthis.boneTexture = boneTexture;\n\t\t\tthis.boneTextureSize = size;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetBoneByName(name) {\n\t\t\tfor (let i = 0, il = this.bones.length; i < il; i++) {\n\t\t\t\tconst bone = this.bones[i];\n\n\t\t\t\tif (bone.name === name) {\n\t\t\t\t\treturn bone;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t}\n\n\t\tdispose() {\n\t\t\tif (this.boneTexture !== null) {\n\t\t\t\tthis.boneTexture.dispose();\n\t\t\t\tthis.boneTexture = null;\n\t\t\t}\n\t\t}\n\n\t\tfromJSON(json, bones) {\n\t\t\tthis.uuid = json.uuid;\n\n\t\t\tfor (let i = 0, l = json.bones.length; i < l; i++) {\n\t\t\t\tconst uuid = json.bones[i];\n\t\t\t\tlet bone = bones[uuid];\n\n\t\t\t\tif (bone === undefined) {\n\t\t\t\t\tconsole.warn('THREE.Skeleton: No bone found with UUID:', uuid);\n\t\t\t\t\tbone = new Bone();\n\t\t\t\t}\n\n\t\t\t\tthis.bones.push(bone);\n\t\t\t\tthis.boneInverses.push(new Matrix4().fromArray(json.boneInverses[i]));\n\t\t\t}\n\n\t\t\tthis.init();\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = {\n\t\t\t\tmetadata: {\n\t\t\t\t\tversion: 4.5,\n\t\t\t\t\ttype: 'Skeleton',\n\t\t\t\t\tgenerator: 'Skeleton.toJSON'\n\t\t\t\t},\n\t\t\t\tbones: [],\n\t\t\t\tboneInverses: []\n\t\t\t};\n\t\t\tdata.uuid = this.uuid;\n\t\t\tconst bones = this.bones;\n\t\t\tconst boneInverses = this.boneInverses;\n\n\t\t\tfor (let i = 0, l = bones.length; i < l; i++) {\n\t\t\t\tconst bone = bones[i];\n\t\t\t\tdata.bones.push(bone.uuid);\n\t\t\t\tconst boneInverse = boneInverses[i];\n\t\t\t\tdata.boneInverses.push(boneInverse.toArray());\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tclass InstancedBufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized, meshPerAttribute = 1) {\n\t\t\tif (typeof normalized === 'number') {\n\t\t\t\tmeshPerAttribute = normalized;\n\t\t\t\tnormalized = false;\n\t\t\t\tconsole.error('THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.');\n\t\t\t}\n\n\t\t\tsuper(array, itemSize, normalized);\n\t\t\tthis.meshPerAttribute = meshPerAttribute;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\t\t\tdata.isInstancedBufferAttribute = true;\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tInstancedBufferAttribute.prototype.isInstancedBufferAttribute = true;\n\n\tconst _instanceLocalMatrix = /*@__PURE__*/new Matrix4();\n\n\tconst _instanceWorldMatrix = /*@__PURE__*/new Matrix4();\n\n\tconst _instanceIntersects = [];\n\n\tconst _mesh = /*@__PURE__*/new Mesh();\n\n\tclass InstancedMesh extends Mesh {\n\t\tconstructor(geometry, material, count) {\n\t\t\tsuper(geometry, material);\n\t\t\tthis.instanceMatrix = new InstancedBufferAttribute(new Float32Array(count * 16), 16);\n\t\t\tthis.instanceColor = null;\n\t\t\tthis.count = count;\n\t\t\tthis.frustumCulled = false;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.instanceMatrix.copy(source.instanceMatrix);\n\t\t\tif (source.instanceColor !== null) this.instanceColor = source.instanceColor.clone();\n\t\t\tthis.count = source.count;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetColorAt(index, color) {\n\t\t\tcolor.fromArray(this.instanceColor.array, index * 3);\n\t\t}\n\n\t\tgetMatrixAt(index, matrix) {\n\t\t\tmatrix.fromArray(this.instanceMatrix.array, index * 16);\n\t\t}\n\n\t\traycast(raycaster, intersects) {\n\t\t\tconst matrixWorld = this.matrixWorld;\n\t\t\tconst raycastTimes = this.count;\n\t\t\t_mesh.geometry = this.geometry;\n\t\t\t_mesh.material = this.material;\n\t\t\tif (_mesh.material === undefined) return;\n\n\t\t\tfor (let instanceId = 0; instanceId < raycastTimes; instanceId++) {\n\t\t\t\t// calculate the world matrix for each instance\n\t\t\t\tthis.getMatrixAt(instanceId, _instanceLocalMatrix);\n\n\t\t\t\t_instanceWorldMatrix.multiplyMatrices(matrixWorld, _instanceLocalMatrix); // the mesh represents this single instance\n\n\n\t\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\n\n\t\t\t\t_mesh.raycast(raycaster, _instanceIntersects); // process the result of raycast\n\n\n\t\t\t\tfor (let i = 0, l = _instanceIntersects.length; i < l; i++) {\n\t\t\t\t\tconst intersect = _instanceIntersects[i];\n\t\t\t\t\tintersect.instanceId = instanceId;\n\t\t\t\t\tintersect.object = this;\n\t\t\t\t\tintersects.push(intersect);\n\t\t\t\t}\n\n\t\t\t\t_instanceIntersects.length = 0;\n\t\t\t}\n\t\t}\n\n\t\tsetColorAt(index, color) {\n\t\t\tif (this.instanceColor === null) {\n\t\t\t\tthis.instanceColor = new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count * 3), 3);\n\t\t\t}\n\n\t\t\tcolor.toArray(this.instanceColor.array, index * 3);\n\t\t}\n\n\t\tsetMatrixAt(index, matrix) {\n\t\t\tmatrix.toArray(this.instanceMatrix.array, index * 16);\n\t\t}\n\n\t\tupdateMorphTargets() {}\n\n\t\tdispose() {\n\t\t\tthis.dispatchEvent({\n\t\t\t\ttype: 'dispose'\n\t\t\t});\n\t\t}\n\n\t}\n\n\tInstancedMesh.prototype.isInstancedMesh = true;\n\n\t/**\n\t * parameters = {\n\t *\tcolor: <hex>,\n\t *\topacity: <float>,\n\t *\n\t *\tlinewidth: <float>,\n\t *\tlinecap: \"round\",\n\t *\tlinejoin: \"round\"\n\t * }\n\t */\n\n\tclass LineBasicMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.type = 'LineBasicMaterial';\n\t\t\tthis.color = new Color(0xffffff);\n\t\t\tthis.linewidth = 1;\n\t\t\tthis.linecap = 'round';\n\t\t\tthis.linejoin = 'round';\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.linewidth = source.linewidth;\n\t\t\tthis.linecap = source.linecap;\n\t\t\tthis.linejoin = source.linejoin;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\n\tconst _start$1 = /*@__PURE__*/new Vector3();\n\n\tconst _end$1 = /*@__PURE__*/new Vector3();\n\n\tconst _inverseMatrix$1 = /*@__PURE__*/new Matrix4();\n\n\tconst _ray$1 = /*@__PURE__*/new Ray();\n\n\tconst _sphere$1 = /*@__PURE__*/new Sphere();\n\n\tclass Line extends Object3D {\n\t\tconstructor(geometry = new BufferGeometry(), material = new LineBasicMaterial()) {\n\t\t\tsuper();\n\t\t\tthis.type = 'Line';\n\t\t\tthis.geometry = geometry;\n\t\t\tthis.material = material;\n\t\t\tthis.updateMorphTargets();\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.material = source.material;\n\t\t\tthis.geometry = source.geometry;\n\t\t\treturn this;\n\t\t}\n\n\t\tcomputeLineDistances() {\n\t\t\tconst geometry = this.geometry;\n\n\t\t\tif (geometry.isBufferGeometry) {\n\t\t\t\t// we assume non-indexed geometry\n\t\t\t\tif (geometry.index === null) {\n\t\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\t\tconst lineDistances = [0];\n\n\t\t\t\t\tfor (let i = 1, l = positionAttribute.count; i < l; i++) {\n\t\t\t\t\t\t_start$1.fromBufferAttribute(positionAttribute, i - 1);\n\n\t\t\t\t\t\t_end$1.fromBufferAttribute(positionAttribute, i);\n\n\t\t\t\t\t\tlineDistances[i] = lineDistances[i - 1];\n\t\t\t\t\t\tlineDistances[i] += _start$1.distanceTo(_end$1);\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.setAttribute('lineDistance', new Float32BufferAttribute(lineDistances, 1));\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn('THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');\n\t\t\t\t}\n\t\t\t} else if (geometry.isGeometry) {\n\t\t\t\tconsole.error('THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\traycast(raycaster, intersects) {\n\t\t\tconst geometry = this.geometry;\n\t\t\tconst matrixWorld = this.matrixWorld;\n\t\t\tconst threshold = raycaster.params.Line.threshold;\n\t\t\tconst drawRange = geometry.drawRange; // Checking boundingSphere distance to ray\n\n\t\t\tif (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n\t\t\t_sphere$1.copy(geometry.boundingSphere);\n\n\t\t\t_sphere$1.applyMatrix4(matrixWorld);\n\n\t\t\t_sphere$1.radius += threshold;\n\t\t\tif (raycaster.ray.intersectsSphere(_sphere$1) === false) return; //\n\n\t\t\t_inverseMatrix$1.copy(matrixWorld).invert();\n\n\t\t\t_ray$1.copy(raycaster.ray).applyMatrix4(_inverseMatrix$1);\n\n\t\t\tconst localThreshold = threshold / ((this.scale.x + this.scale.y + this.scale.z) / 3);\n\t\t\tconst localThresholdSq = localThreshold * localThreshold;\n\t\t\tconst vStart = new Vector3();\n\t\t\tconst vEnd = new Vector3();\n\t\t\tconst interSegment = new Vector3();\n\t\t\tconst interRay = new Vector3();\n\t\t\tconst step = this.isLineSegments ? 2 : 1;\n\n\t\t\tif (geometry.isBufferGeometry) {\n\t\t\t\tconst index = geometry.index;\n\t\t\t\tconst attributes = geometry.attributes;\n\t\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\t\tif (index !== null) {\n\t\t\t\t\tconst start = Math.max(0, drawRange.start);\n\t\t\t\t\tconst end = Math.min(index.count, drawRange.start + drawRange.count);\n\n\t\t\t\t\tfor (let i = start, l = end - 1; i < l; i += step) {\n\t\t\t\t\t\tconst a = index.getX(i);\n\t\t\t\t\t\tconst b = index.getX(i + 1);\n\t\t\t\t\t\tvStart.fromBufferAttribute(positionAttribute, a);\n\t\t\t\t\t\tvEnd.fromBufferAttribute(positionAttribute, b);\n\n\t\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment(vStart, vEnd, interRay, interSegment);\n\n\t\t\t\t\t\tif (distSq > localThresholdSq) continue;\n\t\t\t\t\t\tinterRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n\t\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo(interRay);\n\t\t\t\t\t\tif (distance < raycaster.near || distance > raycaster.far) continue;\n\t\t\t\t\t\tintersects.push({\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4(this.matrixWorld),\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: this\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst start = Math.max(0, drawRange.start);\n\t\t\t\t\tconst end = Math.min(positionAttribute.count, drawRange.start + drawRange.count);\n\n\t\t\t\t\tfor (let i = start, l = end - 1; i < l; i += step) {\n\t\t\t\t\t\tvStart.fromBufferAttribute(positionAttribute, i);\n\t\t\t\t\t\tvEnd.fromBufferAttribute(positionAttribute, i + 1);\n\n\t\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment(vStart, vEnd, interRay, interSegment);\n\n\t\t\t\t\t\tif (distSq > localThresholdSq) continue;\n\t\t\t\t\t\tinterRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n\t\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo(interRay);\n\t\t\t\t\t\tif (distance < raycaster.near || distance > raycaster.far) continue;\n\t\t\t\t\t\tintersects.push({\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4(this.matrixWorld),\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: this\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (geometry.isGeometry) {\n\t\t\t\tconsole.error('THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n\t\t\t}\n\t\t}\n\n\t\tupdateMorphTargets() {\n\t\t\tconst geometry = this.geometry;\n\n\t\t\tif (geometry.isBufferGeometry) {\n\t\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\t\tconst keys = Object.keys(morphAttributes);\n\n\t\t\t\tif (keys.length > 0) {\n\t\t\t\t\tconst morphAttribute = morphAttributes[keys[0]];\n\n\t\t\t\t\tif (morphAttribute !== undefined) {\n\t\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\t\tfor (let m = 0, ml = morphAttribute.length; m < ml; m++) {\n\t\t\t\t\t\t\tconst name = morphAttribute[m].name || String(m);\n\t\t\t\t\t\t\tthis.morphTargetInfluences.push(0);\n\t\t\t\t\t\t\tthis.morphTargetDictionary[name] = m;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\t\tif (morphTargets !== undefined && morphTargets.length > 0) {\n\t\t\t\t\tconsole.error('THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\tLine.prototype.isLine = true;\n\n\tconst _start = /*@__PURE__*/new Vector3();\n\n\tconst _end = /*@__PURE__*/new Vector3();\n\n\tclass LineSegments extends Line {\n\t\tconstructor(geometry, material) {\n\t\t\tsuper(geometry, material);\n\t\t\tthis.type = 'LineSegments';\n\t\t}\n\n\t\tcomputeLineDistances() {\n\t\t\tconst geometry = this.geometry;\n\n\t\t\tif (geometry.isBufferGeometry) {\n\t\t\t\t// we assume non-indexed geometry\n\t\t\t\tif (geometry.index === null) {\n\t\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\t\tconst lineDistances = [];\n\n\t\t\t\t\tfor (let i = 0, l = positionAttribute.count; i < l; i += 2) {\n\t\t\t\t\t\t_start.fromBufferAttribute(positionAttribute, i);\n\n\t\t\t\t\t\t_end.fromBufferAttribute(positionAttribute, i + 1);\n\n\t\t\t\t\t\tlineDistances[i] = i === 0 ? 0 : lineDistances[i - 1];\n\t\t\t\t\t\tlineDistances[i + 1] = lineDistances[i] + _start.distanceTo(_end);\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.setAttribute('lineDistance', new Float32BufferAttribute(lineDistances, 1));\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn('THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');\n\t\t\t\t}\n\t\t\t} else if (geometry.isGeometry) {\n\t\t\t\tconsole.error('THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tLineSegments.prototype.isLineSegments = true;\n\n\tclass LineLoop extends Line {\n\t\tconstructor(geometry, material) {\n\t\t\tsuper(geometry, material);\n\t\t\tthis.type = 'LineLoop';\n\t\t}\n\n\t}\n\n\tLineLoop.prototype.isLineLoop = true;\n\n\t/**\n\t * parameters = {\n\t *\tcolor: <hex>,\n\t *\topacity: <float>,\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tsize: <float>,\n\t *\tsizeAttenuation: <bool>\n\t *\n\t * }\n\t */\n\n\tclass PointsMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.type = 'PointsMaterial';\n\t\t\tthis.color = new Color(0xffffff);\n\t\t\tthis.map = null;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.size = 1;\n\t\t\tthis.sizeAttenuation = true;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.map = source.map;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.size = source.size;\n\t\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tPointsMaterial.prototype.isPointsMaterial = true;\n\n\tconst _inverseMatrix = /*@__PURE__*/new Matrix4();\n\n\tconst _ray = /*@__PURE__*/new Ray();\n\n\tconst _sphere = /*@__PURE__*/new Sphere();\n\n\tconst _position$2 = /*@__PURE__*/new Vector3();\n\n\tclass Points extends Object3D {\n\t\tconstructor(geometry = new BufferGeometry(), material = new PointsMaterial()) {\n\t\t\tsuper();\n\t\t\tthis.type = 'Points';\n\t\t\tthis.geometry = geometry;\n\t\t\tthis.material = material;\n\t\t\tthis.updateMorphTargets();\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.material = source.material;\n\t\t\tthis.geometry = source.geometry;\n\t\t\treturn this;\n\t\t}\n\n\t\traycast(raycaster, intersects) {\n\t\t\tconst geometry = this.geometry;\n\t\t\tconst matrixWorld = this.matrixWorld;\n\t\t\tconst threshold = raycaster.params.Points.threshold;\n\t\t\tconst drawRange = geometry.drawRange; // Checking boundingSphere distance to ray\n\n\t\t\tif (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n\t\t\t_sphere.copy(geometry.boundingSphere);\n\n\t\t\t_sphere.applyMatrix4(matrixWorld);\n\n\t\t\t_sphere.radius += threshold;\n\t\t\tif (raycaster.ray.intersectsSphere(_sphere) === false) return; //\n\n\t\t\t_inverseMatrix.copy(matrixWorld).invert();\n\n\t\t\t_ray.copy(raycaster.ray).applyMatrix4(_inverseMatrix);\n\n\t\t\tconst localThreshold = threshold / ((this.scale.x + this.scale.y + this.scale.z) / 3);\n\t\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\t\tif (geometry.isBufferGeometry) {\n\t\t\t\tconst index = geometry.index;\n\t\t\t\tconst attributes = geometry.attributes;\n\t\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\t\tif (index !== null) {\n\t\t\t\t\tconst start = Math.max(0, drawRange.start);\n\t\t\t\t\tconst end = Math.min(index.count, drawRange.start + drawRange.count);\n\n\t\t\t\t\tfor (let i = start, il = end; i < il; i++) {\n\t\t\t\t\t\tconst a = index.getX(i);\n\n\t\t\t\t\t\t_position$2.fromBufferAttribute(positionAttribute, a);\n\n\t\t\t\t\t\ttestPoint(_position$2, a, localThresholdSq, matrixWorld, raycaster, intersects, this);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst start = Math.max(0, drawRange.start);\n\t\t\t\t\tconst end = Math.min(positionAttribute.count, drawRange.start + drawRange.count);\n\n\t\t\t\t\tfor (let i = start, l = end; i < l; i++) {\n\t\t\t\t\t\t_position$2.fromBufferAttribute(positionAttribute, i);\n\n\t\t\t\t\t\ttestPoint(_position$2, i, localThresholdSq, matrixWorld, raycaster, intersects, this);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.error('THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n\t\t\t}\n\t\t}\n\n\t\tupdateMorphTargets() {\n\t\t\tconst geometry = this.geometry;\n\n\t\t\tif (geometry.isBufferGeometry) {\n\t\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\t\tconst keys = Object.keys(morphAttributes);\n\n\t\t\t\tif (keys.length > 0) {\n\t\t\t\t\tconst morphAttribute = morphAttributes[keys[0]];\n\n\t\t\t\t\tif (morphAttribute !== undefined) {\n\t\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\t\tfor (let m = 0, ml = morphAttribute.length; m < ml; m++) {\n\t\t\t\t\t\t\tconst name = morphAttribute[m].name || String(m);\n\t\t\t\t\t\t\tthis.morphTargetInfluences.push(0);\n\t\t\t\t\t\t\tthis.morphTargetDictionary[name] = m;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\t\tif (morphTargets !== undefined && morphTargets.length > 0) {\n\t\t\t\t\tconsole.error('THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\tPoints.prototype.isPoints = true;\n\n\tfunction testPoint(point, index, localThresholdSq, matrixWorld, raycaster, intersects, object) {\n\t\tconst rayPointDistanceSq = _ray.distanceSqToPoint(point);\n\n\t\tif (rayPointDistanceSq < localThresholdSq) {\n\t\t\tconst intersectPoint = new Vector3();\n\n\t\t\t_ray.closestPointToPoint(point, intersectPoint);\n\n\t\t\tintersectPoint.applyMatrix4(matrixWorld);\n\t\t\tconst distance = raycaster.ray.origin.distanceTo(intersectPoint);\n\t\t\tif (distance < raycaster.near || distance > raycaster.far) return;\n\t\t\tintersects.push({\n\t\t\t\tdistance: distance,\n\t\t\t\tdistanceToRay: Math.sqrt(rayPointDistanceSq),\n\t\t\t\tpoint: intersectPoint,\n\t\t\t\tindex: index,\n\t\t\t\tface: null,\n\t\t\t\tobject: object\n\t\t\t});\n\t\t}\n\t}\n\n\tclass VideoTexture extends Texture {\n\t\tconstructor(video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) {\n\t\t\tsuper(video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n\t\t\tthis.format = format !== undefined ? format : RGBFormat;\n\t\t\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\t\t\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\t\t\tthis.generateMipmaps = false;\n\t\t\tconst scope = this;\n\n\t\t\tfunction updateVideo() {\n\t\t\t\tscope.needsUpdate = true;\n\t\t\t\tvideo.requestVideoFrameCallback(updateVideo);\n\t\t\t}\n\n\t\t\tif ('requestVideoFrameCallback' in video) {\n\t\t\t\tvideo.requestVideoFrameCallback(updateVideo);\n\t\t\t}\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor(this.image).copy(this);\n\t\t}\n\n\t\tupdate() {\n\t\t\tconst video = this.image;\n\t\t\tconst hasVideoFrameCallback = ('requestVideoFrameCallback' in video);\n\n\t\t\tif (hasVideoFrameCallback === false && video.readyState >= video.HAVE_CURRENT_DATA) {\n\t\t\t\tthis.needsUpdate = true;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tVideoTexture.prototype.isVideoTexture = true;\n\n\tclass FramebufferTexture extends Texture {\n\t\tconstructor(width, height, format) {\n\t\t\tsuper({\n\t\t\t\twidth,\n\t\t\t\theight\n\t\t\t});\n\t\t\tthis.format = format;\n\t\t\tthis.magFilter = NearestFilter;\n\t\t\tthis.minFilter = NearestFilter;\n\t\t\tthis.generateMipmaps = false;\n\t\t\tthis.needsUpdate = true;\n\t\t}\n\n\t}\n\n\tFramebufferTexture.prototype.isFramebufferTexture = true;\n\n\tclass CompressedTexture extends Texture {\n\t\tconstructor(mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding) {\n\t\t\tsuper(null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n\t\t\tthis.image = {\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t};\n\t\t\tthis.mipmaps = mipmaps; // no flipping for cube textures\n\t\t\t// (also flipping doesn't work for compressed textures )\n\n\t\t\tthis.flipY = false; // can't generate mipmaps for compressed textures\n\t\t\t// mips must be embedded in DDS files\n\n\t\t\tthis.generateMipmaps = false;\n\t\t}\n\n\t}\n\n\tCompressedTexture.prototype.isCompressedTexture = true;\n\n\tclass CanvasTexture extends Texture {\n\t\tconstructor(canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) {\n\t\t\tsuper(canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n\t\t\tthis.needsUpdate = true;\n\t\t}\n\n\t}\n\n\tCanvasTexture.prototype.isCanvasTexture = true;\n\n\tclass CircleGeometry extends BufferGeometry {\n\t\tconstructor(radius = 1, segments = 8, thetaStart = 0, thetaLength = Math.PI * 2) {\n\t\t\tsuper();\n\t\t\tthis.type = 'CircleGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\tsegments: segments,\n\t\t\t\tthetaStart: thetaStart,\n\t\t\t\tthetaLength: thetaLength\n\t\t\t};\n\t\t\tsegments = Math.max(3, segments); // buffers\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = []; // helper variables\n\n\t\t\tconst vertex = new Vector3();\n\t\t\tconst uv = new Vector2(); // center point\n\n\t\t\tvertices.push(0, 0, 0);\n\t\t\tnormals.push(0, 0, 1);\n\t\t\tuvs.push(0.5, 0.5);\n\n\t\t\tfor (let s = 0, i = 3; s <= segments; s++, i += 3) {\n\t\t\t\tconst segment = thetaStart + s / segments * thetaLength; // vertex\n\n\t\t\t\tvertex.x = radius * Math.cos(segment);\n\t\t\t\tvertex.y = radius * Math.sin(segment);\n\t\t\t\tvertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n\t\t\t\tnormals.push(0, 0, 1); // uvs\n\n\t\t\t\tuv.x = (vertices[i] / radius + 1) / 2;\n\t\t\t\tuv.y = (vertices[i + 1] / radius + 1) / 2;\n\t\t\t\tuvs.push(uv.x, uv.y);\n\t\t\t} // indices\n\n\n\t\t\tfor (let i = 1; i <= segments; i++) {\n\t\t\t\tindices.push(i, i + 1, 0);\n\t\t\t} // build geometry\n\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new CircleGeometry(data.radius, data.segments, data.thetaStart, data.thetaLength);\n\t\t}\n\n\t}\n\n\tclass CylinderGeometry extends BufferGeometry {\n\t\tconstructor(radiusTop = 1, radiusBottom = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2) {\n\t\t\tsuper();\n\t\t\tthis.type = 'CylinderGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradiusTop: radiusTop,\n\t\t\t\tradiusBottom: radiusBottom,\n\t\t\t\theight: height,\n\t\t\t\tradialSegments: radialSegments,\n\t\t\t\theightSegments: heightSegments,\n\t\t\t\topenEnded: openEnded,\n\t\t\t\tthetaStart: thetaStart,\n\t\t\t\tthetaLength: thetaLength\n\t\t\t};\n\t\t\tconst scope = this;\n\t\t\tradialSegments = Math.floor(radialSegments);\n\t\t\theightSegments = Math.floor(heightSegments); // buffers\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = []; // helper variables\n\n\t\t\tlet index = 0;\n\t\t\tconst indexArray = [];\n\t\t\tconst halfHeight = height / 2;\n\t\t\tlet groupStart = 0; // generate geometry\n\n\t\t\tgenerateTorso();\n\n\t\t\tif (openEnded === false) {\n\t\t\t\tif (radiusTop > 0) generateCap(true);\n\t\t\t\tif (radiusBottom > 0) generateCap(false);\n\t\t\t} // build geometry\n\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n\t\t\tfunction generateTorso() {\n\t\t\t\tconst normal = new Vector3();\n\t\t\t\tconst vertex = new Vector3();\n\t\t\t\tlet groupCount = 0; // this will be used to calculate the normal\n\n\t\t\t\tconst slope = (radiusBottom - radiusTop) / height; // generate vertices, normals and uvs\n\n\t\t\t\tfor (let y = 0; y <= heightSegments; y++) {\n\t\t\t\t\tconst indexRow = [];\n\t\t\t\t\tconst v = y / heightSegments; // calculate the radius of the current row\n\n\t\t\t\t\tconst radius = v * (radiusBottom - radiusTop) + radiusTop;\n\n\t\t\t\t\tfor (let x = 0; x <= radialSegments; x++) {\n\t\t\t\t\t\tconst u = x / radialSegments;\n\t\t\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\t\t\t\t\t\tconst sinTheta = Math.sin(theta);\n\t\t\t\t\t\tconst cosTheta = Math.cos(theta); // vertex\n\n\t\t\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\t\t\tvertex.y = -v * height + halfHeight;\n\t\t\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\t\t\tvertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n\t\t\t\t\t\tnormal.set(sinTheta, slope, cosTheta).normalize();\n\t\t\t\t\t\tnormals.push(normal.x, normal.y, normal.z); // uv\n\n\t\t\t\t\t\tuvs.push(u, 1 - v); // save index of vertex in respective row\n\n\t\t\t\t\t\tindexRow.push(index++);\n\t\t\t\t\t} // now save vertices of the row in our index array\n\n\n\t\t\t\t\tindexArray.push(indexRow);\n\t\t\t\t} // generate indices\n\n\n\t\t\t\tfor (let x = 0; x < radialSegments; x++) {\n\t\t\t\t\tfor (let y = 0; y < heightSegments; y++) {\n\t\t\t\t\t\t// we use the index array to access the correct indices\n\t\t\t\t\t\tconst a = indexArray[y][x];\n\t\t\t\t\t\tconst b = indexArray[y + 1][x];\n\t\t\t\t\t\tconst c = indexArray[y + 1][x + 1];\n\t\t\t\t\t\tconst d = indexArray[y][x + 1]; // faces\n\n\t\t\t\t\t\tindices.push(a, b, d);\n\t\t\t\t\t\tindices.push(b, c, d); // update group counter\n\n\t\t\t\t\t\tgroupCount += 6;\n\t\t\t\t\t}\n\t\t\t\t} // add a group to the geometry. this will ensure multi material support\n\n\n\t\t\t\tscope.addGroup(groupStart, groupCount, 0); // calculate new start value for groups\n\n\t\t\t\tgroupStart += groupCount;\n\t\t\t}\n\n\t\t\tfunction generateCap(top) {\n\t\t\t\t// save the index of the first center vertex\n\t\t\t\tconst centerIndexStart = index;\n\t\t\t\tconst uv = new Vector2();\n\t\t\t\tconst vertex = new Vector3();\n\t\t\t\tlet groupCount = 0;\n\t\t\t\tconst radius = top === true ? radiusTop : radiusBottom;\n\t\t\t\tconst sign = top === true ? 1 : -1; // first we generate the center vertex data of the cap.\n\t\t\t\t// because the geometry needs one set of uvs per face,\n\t\t\t\t// we must generate a center vertex per face/segment\n\n\t\t\t\tfor (let x = 1; x <= radialSegments; x++) {\n\t\t\t\t\t// vertex\n\t\t\t\t\tvertices.push(0, halfHeight * sign, 0); // normal\n\n\t\t\t\t\tnormals.push(0, sign, 0); // uv\n\n\t\t\t\t\tuvs.push(0.5, 0.5); // increase index\n\n\t\t\t\t\tindex++;\n\t\t\t\t} // save the index of the last center vertex\n\n\n\t\t\t\tconst centerIndexEnd = index; // now we generate the surrounding vertices, normals and uvs\n\n\t\t\t\tfor (let x = 0; x <= radialSegments; x++) {\n\t\t\t\t\tconst u = x / radialSegments;\n\t\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\t\t\t\t\tconst cosTheta = Math.cos(theta);\n\t\t\t\t\tconst sinTheta = Math.sin(theta); // vertex\n\n\t\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\t\tvertex.y = halfHeight * sign;\n\t\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\t\tvertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n\t\t\t\t\tnormals.push(0, sign, 0); // uv\n\n\t\t\t\t\tuv.x = cosTheta * 0.5 + 0.5;\n\t\t\t\t\tuv.y = sinTheta * 0.5 * sign + 0.5;\n\t\t\t\t\tuvs.push(uv.x, uv.y); // increase index\n\n\t\t\t\t\tindex++;\n\t\t\t\t} // generate indices\n\n\n\t\t\t\tfor (let x = 0; x < radialSegments; x++) {\n\t\t\t\t\tconst c = centerIndexStart + x;\n\t\t\t\t\tconst i = centerIndexEnd + x;\n\n\t\t\t\t\tif (top === true) {\n\t\t\t\t\t\t// face top\n\t\t\t\t\t\tindices.push(i, i + 1, c);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// face bottom\n\t\t\t\t\t\tindices.push(i + 1, i, c);\n\t\t\t\t\t}\n\n\t\t\t\t\tgroupCount += 3;\n\t\t\t\t} // add a group to the geometry. this will ensure multi material support\n\n\n\t\t\t\tscope.addGroup(groupStart, groupCount, top === true ? 1 : 2); // calculate new start value for groups\n\n\t\t\t\tgroupStart += groupCount;\n\t\t\t}\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new CylinderGeometry(data.radiusTop, data.radiusBottom, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength);\n\t\t}\n\n\t}\n\n\tclass ConeGeometry extends CylinderGeometry {\n\t\tconstructor(radius = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2) {\n\t\t\tsuper(0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength);\n\t\t\tthis.type = 'ConeGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\theight: height,\n\t\t\t\tradialSegments: radialSegments,\n\t\t\t\theightSegments: heightSegments,\n\t\t\t\topenEnded: openEnded,\n\t\t\t\tthetaStart: thetaStart,\n\t\t\t\tthetaLength: thetaLength\n\t\t\t};\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new ConeGeometry(data.radius, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength);\n\t\t}\n\n\t}\n\n\tclass PolyhedronGeometry extends BufferGeometry {\n\t\tconstructor(vertices = [], indices = [], radius = 1, detail = 0) {\n\t\t\tsuper();\n\t\t\tthis.type = 'PolyhedronGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tvertices: vertices,\n\t\t\t\tindices: indices,\n\t\t\t\tradius: radius,\n\t\t\t\tdetail: detail\n\t\t\t}; // default buffer data\n\n\t\t\tconst vertexBuffer = [];\n\t\t\tconst uvBuffer = []; // the subdivision creates the vertex buffer data\n\n\t\t\tsubdivide(detail); // all vertices should lie on a conceptual sphere with a given radius\n\n\t\t\tapplyRadius(radius); // finally, create the uv data\n\n\t\t\tgenerateUVs(); // build non-indexed geometry\n\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertexBuffer, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(vertexBuffer.slice(), 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvBuffer, 2));\n\n\t\t\tif (detail === 0) {\n\t\t\t\tthis.computeVertexNormals(); // flat normals\n\t\t\t} else {\n\t\t\t\tthis.normalizeNormals(); // smooth normals\n\t\t\t} // helper functions\n\n\n\t\t\tfunction subdivide(detail) {\n\t\t\t\tconst a = new Vector3();\n\t\t\t\tconst b = new Vector3();\n\t\t\t\tconst c = new Vector3(); // iterate over all faces and apply a subdivison with the given detail value\n\n\t\t\t\tfor (let i = 0; i < indices.length; i += 3) {\n\t\t\t\t\t// get the vertices of the face\n\t\t\t\t\tgetVertexByIndex(indices[i + 0], a);\n\t\t\t\t\tgetVertexByIndex(indices[i + 1], b);\n\t\t\t\t\tgetVertexByIndex(indices[i + 2], c); // perform subdivision\n\n\t\t\t\t\tsubdivideFace(a, b, c, detail);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction subdivideFace(a, b, c, detail) {\n\t\t\t\tconst cols = detail + 1; // we use this multidimensional array as a data structure for creating the subdivision\n\n\t\t\t\tconst v = []; // construct all of the vertices for this subdivision\n\n\t\t\t\tfor (let i = 0; i <= cols; i++) {\n\t\t\t\t\tv[i] = [];\n\t\t\t\t\tconst aj = a.clone().lerp(c, i / cols);\n\t\t\t\t\tconst bj = b.clone().lerp(c, i / cols);\n\t\t\t\t\tconst rows = cols - i;\n\n\t\t\t\t\tfor (let j = 0; j <= rows; j++) {\n\t\t\t\t\t\tif (j === 0 && i === cols) {\n\t\t\t\t\t\t\tv[i][j] = aj;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tv[i][j] = aj.clone().lerp(bj, j / rows);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} // construct all of the faces\n\n\n\t\t\t\tfor (let i = 0; i < cols; i++) {\n\t\t\t\t\tfor (let j = 0; j < 2 * (cols - i) - 1; j++) {\n\t\t\t\t\t\tconst k = Math.floor(j / 2);\n\n\t\t\t\t\t\tif (j % 2 === 0) {\n\t\t\t\t\t\t\tpushVertex(v[i][k + 1]);\n\t\t\t\t\t\t\tpushVertex(v[i + 1][k]);\n\t\t\t\t\t\t\tpushVertex(v[i][k]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpushVertex(v[i][k + 1]);\n\t\t\t\t\t\t\tpushVertex(v[i + 1][k + 1]);\n\t\t\t\t\t\t\tpushVertex(v[i + 1][k]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction applyRadius(radius) {\n\t\t\t\tconst vertex = new Vector3(); // iterate over the entire buffer and apply the radius to each vertex\n\n\t\t\t\tfor (let i = 0; i < vertexBuffer.length; i += 3) {\n\t\t\t\t\tvertex.x = vertexBuffer[i + 0];\n\t\t\t\t\tvertex.y = vertexBuffer[i + 1];\n\t\t\t\t\tvertex.z = vertexBuffer[i + 2];\n\t\t\t\t\tvertex.normalize().multiplyScalar(radius);\n\t\t\t\t\tvertexBuffer[i + 0] = vertex.x;\n\t\t\t\t\tvertexBuffer[i + 1] = vertex.y;\n\t\t\t\t\tvertexBuffer[i + 2] = vertex.z;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction generateUVs() {\n\t\t\t\tconst vertex = new Vector3();\n\n\t\t\t\tfor (let i = 0; i < vertexBuffer.length; i += 3) {\n\t\t\t\t\tvertex.x = vertexBuffer[i + 0];\n\t\t\t\t\tvertex.y = vertexBuffer[i + 1];\n\t\t\t\t\tvertex.z = vertexBuffer[i + 2];\n\t\t\t\t\tconst u = azimuth(vertex) / 2 / Math.PI + 0.5;\n\t\t\t\t\tconst v = inclination(vertex) / Math.PI + 0.5;\n\t\t\t\t\tuvBuffer.push(u, 1 - v);\n\t\t\t\t}\n\n\t\t\t\tcorrectUVs();\n\t\t\t\tcorrectSeam();\n\t\t\t}\n\n\t\t\tfunction correctSeam() {\n\t\t\t\t// handle case when face straddles the seam, see #3269\n\t\t\t\tfor (let i = 0; i < uvBuffer.length; i += 6) {\n\t\t\t\t\t// uv data of a single face\n\t\t\t\t\tconst x0 = uvBuffer[i + 0];\n\t\t\t\t\tconst x1 = uvBuffer[i + 2];\n\t\t\t\t\tconst x2 = uvBuffer[i + 4];\n\t\t\t\t\tconst max = Math.max(x0, x1, x2);\n\t\t\t\t\tconst min = Math.min(x0, x1, x2); // 0.9 is somewhat arbitrary\n\n\t\t\t\t\tif (max > 0.9 && min < 0.1) {\n\t\t\t\t\t\tif (x0 < 0.2) uvBuffer[i + 0] += 1;\n\t\t\t\t\t\tif (x1 < 0.2) uvBuffer[i + 2] += 1;\n\t\t\t\t\t\tif (x2 < 0.2) uvBuffer[i + 4] += 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction pushVertex(vertex) {\n\t\t\t\tvertexBuffer.push(vertex.x, vertex.y, vertex.z);\n\t\t\t}\n\n\t\t\tfunction getVertexByIndex(index, vertex) {\n\t\t\t\tconst stride = index * 3;\n\t\t\t\tvertex.x = vertices[stride + 0];\n\t\t\t\tvertex.y = vertices[stride + 1];\n\t\t\t\tvertex.z = vertices[stride + 2];\n\t\t\t}\n\n\t\t\tfunction correctUVs() {\n\t\t\t\tconst a = new Vector3();\n\t\t\t\tconst b = new Vector3();\n\t\t\t\tconst c = new Vector3();\n\t\t\t\tconst centroid = new Vector3();\n\t\t\t\tconst uvA = new Vector2();\n\t\t\t\tconst uvB = new Vector2();\n\t\t\t\tconst uvC = new Vector2();\n\n\t\t\t\tfor (let i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6) {\n\t\t\t\t\ta.set(vertexBuffer[i + 0], vertexBuffer[i + 1], vertexBuffer[i + 2]);\n\t\t\t\t\tb.set(vertexBuffer[i + 3], vertexBuffer[i + 4], vertexBuffer[i + 5]);\n\t\t\t\t\tc.set(vertexBuffer[i + 6], vertexBuffer[i + 7], vertexBuffer[i + 8]);\n\t\t\t\t\tuvA.set(uvBuffer[j + 0], uvBuffer[j + 1]);\n\t\t\t\t\tuvB.set(uvBuffer[j + 2], uvBuffer[j + 3]);\n\t\t\t\t\tuvC.set(uvBuffer[j + 4], uvBuffer[j + 5]);\n\t\t\t\t\tcentroid.copy(a).add(b).add(c).divideScalar(3);\n\t\t\t\t\tconst azi = azimuth(centroid);\n\t\t\t\t\tcorrectUV(uvA, j + 0, a, azi);\n\t\t\t\t\tcorrectUV(uvB, j + 2, b, azi);\n\t\t\t\t\tcorrectUV(uvC, j + 4, c, azi);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction correctUV(uv, stride, vector, azimuth) {\n\t\t\t\tif (azimuth < 0 && uv.x === 1) {\n\t\t\t\t\tuvBuffer[stride] = uv.x - 1;\n\t\t\t\t}\n\n\t\t\t\tif (vector.x === 0 && vector.z === 0) {\n\t\t\t\t\tuvBuffer[stride] = azimuth / 2 / Math.PI + 0.5;\n\t\t\t\t}\n\t\t\t} // Angle around the Y axis, counter-clockwise when looking from above.\n\n\n\t\t\tfunction azimuth(vector) {\n\t\t\t\treturn Math.atan2(vector.z, -vector.x);\n\t\t\t} // Angle above the XZ plane.\n\n\n\t\t\tfunction inclination(vector) {\n\t\t\t\treturn Math.atan2(-vector.y, Math.sqrt(vector.x * vector.x + vector.z * vector.z));\n\t\t\t}\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new PolyhedronGeometry(data.vertices, data.indices, data.radius, data.details);\n\t\t}\n\n\t}\n\n\tclass DodecahedronGeometry extends PolyhedronGeometry {\n\t\tconstructor(radius = 1, detail = 0) {\n\t\t\tconst t = (1 + Math.sqrt(5)) / 2;\n\t\t\tconst r = 1 / t;\n\t\t\tconst vertices = [// (1, 1, 1)\n\t\t\t-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, // (0, 1/, )\n\t\t\t0, -r, -t, 0, -r, t, 0, r, -t, 0, r, t, // (1/, , 0)\n\t\t\t-r, -t, 0, -r, t, 0, r, -t, 0, r, t, 0, // (, 0, 1/)\n\t\t\t-t, 0, -r, t, 0, -r, -t, 0, r, t, 0, r];\n\t\t\tconst indices = [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9];\n\t\t\tsuper(vertices, indices, radius, detail);\n\t\t\tthis.type = 'DodecahedronGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\tdetail: detail\n\t\t\t};\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new DodecahedronGeometry(data.radius, data.detail);\n\t\t}\n\n\t}\n\n\tconst _v0 = new Vector3();\n\n\tconst _v1$1 = new Vector3();\n\n\tconst _normal = new Vector3();\n\n\tconst _triangle = new Triangle();\n\n\tclass EdgesGeometry extends BufferGeometry {\n\t\tconstructor(geometry = null, thresholdAngle = 1) {\n\t\t\tsuper();\n\t\t\tthis.type = 'EdgesGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tgeometry: geometry,\n\t\t\t\tthresholdAngle: thresholdAngle\n\t\t\t};\n\n\t\t\tif (geometry !== null) {\n\t\t\t\tconst precisionPoints = 4;\n\t\t\t\tconst precision = Math.pow(10, precisionPoints);\n\t\t\t\tconst thresholdDot = Math.cos(DEG2RAD * thresholdAngle);\n\t\t\t\tconst indexAttr = geometry.getIndex();\n\t\t\t\tconst positionAttr = geometry.getAttribute('position');\n\t\t\t\tconst indexCount = indexAttr ? indexAttr.count : positionAttr.count;\n\t\t\t\tconst indexArr = [0, 0, 0];\n\t\t\t\tconst vertKeys = ['a', 'b', 'c'];\n\t\t\t\tconst hashes = new Array(3);\n\t\t\t\tconst edgeData = {};\n\t\t\t\tconst vertices = [];\n\n\t\t\t\tfor (let i = 0; i < indexCount; i += 3) {\n\t\t\t\t\tif (indexAttr) {\n\t\t\t\t\t\tindexArr[0] = indexAttr.getX(i);\n\t\t\t\t\t\tindexArr[1] = indexAttr.getX(i + 1);\n\t\t\t\t\t\tindexArr[2] = indexAttr.getX(i + 2);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tindexArr[0] = i;\n\t\t\t\t\t\tindexArr[1] = i + 1;\n\t\t\t\t\t\tindexArr[2] = i + 2;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst {\n\t\t\t\t\t\ta,\n\t\t\t\t\t\tb,\n\t\t\t\t\t\tc\n\t\t\t\t\t} = _triangle;\n\t\t\t\t\ta.fromBufferAttribute(positionAttr, indexArr[0]);\n\t\t\t\t\tb.fromBufferAttribute(positionAttr, indexArr[1]);\n\t\t\t\t\tc.fromBufferAttribute(positionAttr, indexArr[2]);\n\n\t\t\t\t\t_triangle.getNormal(_normal); // create hashes for the edge from the vertices\n\n\n\t\t\t\t\thashes[0] = `${Math.round(a.x * precision)},${Math.round(a.y * precision)},${Math.round(a.z * precision)}`;\n\t\t\t\t\thashes[1] = `${Math.round(b.x * precision)},${Math.round(b.y * precision)},${Math.round(b.z * precision)}`;\n\t\t\t\t\thashes[2] = `${Math.round(c.x * precision)},${Math.round(c.y * precision)},${Math.round(c.z * precision)}`; // skip degenerate triangles\n\n\t\t\t\t\tif (hashes[0] === hashes[1] || hashes[1] === hashes[2] || hashes[2] === hashes[0]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} // iterate over every edge\n\n\n\t\t\t\t\tfor (let j = 0; j < 3; j++) {\n\t\t\t\t\t\t// get the first and next vertex making up the edge\n\t\t\t\t\t\tconst jNext = (j + 1) % 3;\n\t\t\t\t\t\tconst vecHash0 = hashes[j];\n\t\t\t\t\t\tconst vecHash1 = hashes[jNext];\n\t\t\t\t\t\tconst v0 = _triangle[vertKeys[j]];\n\t\t\t\t\t\tconst v1 = _triangle[vertKeys[jNext]];\n\t\t\t\t\t\tconst hash = `${vecHash0}_${vecHash1}`;\n\t\t\t\t\t\tconst reverseHash = `${vecHash1}_${vecHash0}`;\n\n\t\t\t\t\t\tif (reverseHash in edgeData && edgeData[reverseHash]) {\n\t\t\t\t\t\t\t// if we found a sibling edge add it into the vertex array if\n\t\t\t\t\t\t\t// it meets the angle threshold and delete the edge from the map.\n\t\t\t\t\t\t\tif (_normal.dot(edgeData[reverseHash].normal) <= thresholdDot) {\n\t\t\t\t\t\t\t\tvertices.push(v0.x, v0.y, v0.z);\n\t\t\t\t\t\t\t\tvertices.push(v1.x, v1.y, v1.z);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tedgeData[reverseHash] = null;\n\t\t\t\t\t\t} else if (!(hash in edgeData)) {\n\t\t\t\t\t\t\t// if we've already got an edge here then skip adding a new one\n\t\t\t\t\t\t\tedgeData[hash] = {\n\t\t\t\t\t\t\t\tindex0: indexArr[j],\n\t\t\t\t\t\t\t\tindex1: indexArr[jNext],\n\t\t\t\t\t\t\t\tnormal: _normal.clone()\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} // iterate over all remaining, unmatched edges and add them to the vertex array\n\n\n\t\t\t\tfor (const key in edgeData) {\n\t\t\t\t\tif (edgeData[key]) {\n\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\tindex0,\n\t\t\t\t\t\t\tindex1\n\t\t\t\t\t\t} = edgeData[key];\n\n\t\t\t\t\t\t_v0.fromBufferAttribute(positionAttr, index0);\n\n\t\t\t\t\t\t_v1$1.fromBufferAttribute(positionAttr, index1);\n\n\t\t\t\t\t\tvertices.push(_v0.x, _v0.y, _v0.z);\n\t\t\t\t\t\tvertices.push(_v1$1.x, _v1$1.y, _v1$1.z);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Extensible curve object.\n\t *\n\t * Some common of curve methods:\n\t * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )\n\t * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )\n\t * .getPoints(), .getSpacedPoints()\n\t * .getLength()\n\t * .updateArcLengths()\n\t *\n\t * This following curves inherit from THREE.Curve:\n\t *\n\t * -- 2D curves --\n\t * THREE.ArcCurve\n\t * THREE.CubicBezierCurve\n\t * THREE.EllipseCurve\n\t * THREE.LineCurve\n\t * THREE.QuadraticBezierCurve\n\t * THREE.SplineCurve\n\t *\n\t * -- 3D curves --\n\t * THREE.CatmullRomCurve3\n\t * THREE.CubicBezierCurve3\n\t * THREE.LineCurve3\n\t * THREE.QuadraticBezierCurve3\n\t *\n\t * A series of curves can be represented as a THREE.CurvePath.\n\t *\n\t **/\n\n\tclass Curve {\n\t\tconstructor() {\n\t\t\tthis.type = 'Curve';\n\t\t\tthis.arcLengthDivisions = 200;\n\t\t} // Virtual base class method to overwrite and implement in subclasses\n\t\t//\t- t [0 .. 1]\n\n\n\t\tgetPoint() {\n\t\t\tconsole.warn('THREE.Curve: .getPoint() not implemented.');\n\t\t\treturn null;\n\t\t} // Get point at relative position in curve according to arc length\n\t\t// - u [0 .. 1]\n\n\n\t\tgetPointAt(u, optionalTarget) {\n\t\t\tconst t = this.getUtoTmapping(u);\n\t\t\treturn this.getPoint(t, optionalTarget);\n\t\t} // Get sequence of points using getPoint( t )\n\n\n\t\tgetPoints(divisions = 5) {\n\t\t\tconst points = [];\n\n\t\t\tfor (let d = 0; d <= divisions; d++) {\n\t\t\t\tpoints.push(this.getPoint(d / divisions));\n\t\t\t}\n\n\t\t\treturn points;\n\t\t} // Get sequence of points using getPointAt( u )\n\n\n\t\tgetSpacedPoints(divisions = 5) {\n\t\t\tconst points = [];\n\n\t\t\tfor (let d = 0; d <= divisions; d++) {\n\t\t\t\tpoints.push(this.getPointAt(d / divisions));\n\t\t\t}\n\n\t\t\treturn points;\n\t\t} // Get total curve arc length\n\n\n\t\tgetLength() {\n\t\t\tconst lengths = this.getLengths();\n\t\t\treturn lengths[lengths.length - 1];\n\t\t} // Get list of cumulative segment lengths\n\n\n\t\tgetLengths(divisions = this.arcLengthDivisions) {\n\t\t\tif (this.cacheArcLengths && this.cacheArcLengths.length === divisions + 1 && !this.needsUpdate) {\n\t\t\t\treturn this.cacheArcLengths;\n\t\t\t}\n\n\t\t\tthis.needsUpdate = false;\n\t\t\tconst cache = [];\n\t\t\tlet current,\n\t\t\t\t\tlast = this.getPoint(0);\n\t\t\tlet sum = 0;\n\t\t\tcache.push(0);\n\n\t\t\tfor (let p = 1; p <= divisions; p++) {\n\t\t\t\tcurrent = this.getPoint(p / divisions);\n\t\t\t\tsum += current.distanceTo(last);\n\t\t\t\tcache.push(sum);\n\t\t\t\tlast = current;\n\t\t\t}\n\n\t\t\tthis.cacheArcLengths = cache;\n\t\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\t\t}\n\n\t\tupdateArcLengths() {\n\t\t\tthis.needsUpdate = true;\n\t\t\tthis.getLengths();\n\t\t} // Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\n\t\tgetUtoTmapping(u, distance) {\n\t\t\tconst arcLengths = this.getLengths();\n\t\t\tlet i = 0;\n\t\t\tconst il = arcLengths.length;\n\t\t\tlet targetArcLength; // The targeted u distance value to get\n\n\t\t\tif (distance) {\n\t\t\t\ttargetArcLength = distance;\n\t\t\t} else {\n\t\t\t\ttargetArcLength = u * arcLengths[il - 1];\n\t\t\t} // binary search for the index with largest value smaller than target u distance\n\n\n\t\t\tlet low = 0,\n\t\t\t\t\thigh = il - 1,\n\t\t\t\t\tcomparison;\n\n\t\t\twhile (low <= high) {\n\t\t\t\ti = Math.floor(low + (high - low) / 2); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\t\tcomparison = arcLengths[i] - targetArcLength;\n\n\t\t\t\tif (comparison < 0) {\n\t\t\t\t\tlow = i + 1;\n\t\t\t\t} else if (comparison > 0) {\n\t\t\t\t\thigh = i - 1;\n\t\t\t\t} else {\n\t\t\t\t\thigh = i;\n\t\t\t\t\tbreak; // DONE\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ti = high;\n\n\t\t\tif (arcLengths[i] === targetArcLength) {\n\t\t\t\treturn i / (il - 1);\n\t\t\t} // we could get finer grain at lengths, or use simple interpolation between two points\n\n\n\t\t\tconst lengthBefore = arcLengths[i];\n\t\t\tconst lengthAfter = arcLengths[i + 1];\n\t\t\tconst segmentLength = lengthAfter - lengthBefore; // determine where we are between the 'before' and 'after' points\n\n\t\t\tconst segmentFraction = (targetArcLength - lengthBefore) / segmentLength; // add that fractional amount to t\n\n\t\t\tconst t = (i + segmentFraction) / (il - 1);\n\t\t\treturn t;\n\t\t} // Returns a unit vector tangent at t\n\t\t// In case any sub curve does not implement its tangent derivation,\n\t\t// 2 points a small delta apart will be used to find its gradient\n\t\t// which seems to give a reasonable approximation\n\n\n\t\tgetTangent(t, optionalTarget) {\n\t\t\tconst delta = 0.0001;\n\t\t\tlet t1 = t - delta;\n\t\t\tlet t2 = t + delta; // Capping in case of danger\n\n\t\t\tif (t1 < 0) t1 = 0;\n\t\t\tif (t2 > 1) t2 = 1;\n\t\t\tconst pt1 = this.getPoint(t1);\n\t\t\tconst pt2 = this.getPoint(t2);\n\t\t\tconst tangent = optionalTarget || (pt1.isVector2 ? new Vector2() : new Vector3());\n\t\t\ttangent.copy(pt2).sub(pt1).normalize();\n\t\t\treturn tangent;\n\t\t}\n\n\t\tgetTangentAt(u, optionalTarget) {\n\t\t\tconst t = this.getUtoTmapping(u);\n\t\t\treturn this.getTangent(t, optionalTarget);\n\t\t}\n\n\t\tcomputeFrenetFrames(segments, closed) {\n\t\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\t\t\tconst normal = new Vector3();\n\t\t\tconst tangents = [];\n\t\t\tconst normals = [];\n\t\t\tconst binormals = [];\n\t\t\tconst vec = new Vector3();\n\t\t\tconst mat = new Matrix4(); // compute the tangent vectors for each segment on the curve\n\n\t\t\tfor (let i = 0; i <= segments; i++) {\n\t\t\t\tconst u = i / segments;\n\t\t\t\ttangents[i] = this.getTangentAt(u, new Vector3());\n\t\t\t} // select an initial normal vector perpendicular to the first tangent vector,\n\t\t\t// and in the direction of the minimum tangent xyz component\n\n\n\t\t\tnormals[0] = new Vector3();\n\t\t\tbinormals[0] = new Vector3();\n\t\t\tlet min = Number.MAX_VALUE;\n\t\t\tconst tx = Math.abs(tangents[0].x);\n\t\t\tconst ty = Math.abs(tangents[0].y);\n\t\t\tconst tz = Math.abs(tangents[0].z);\n\n\t\t\tif (tx <= min) {\n\t\t\t\tmin = tx;\n\t\t\t\tnormal.set(1, 0, 0);\n\t\t\t}\n\n\t\t\tif (ty <= min) {\n\t\t\t\tmin = ty;\n\t\t\t\tnormal.set(0, 1, 0);\n\t\t\t}\n\n\t\t\tif (tz <= min) {\n\t\t\t\tnormal.set(0, 0, 1);\n\t\t\t}\n\n\t\t\tvec.crossVectors(tangents[0], normal).normalize();\n\t\t\tnormals[0].crossVectors(tangents[0], vec);\n\t\t\tbinormals[0].crossVectors(tangents[0], normals[0]); // compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\t\tfor (let i = 1; i <= segments; i++) {\n\t\t\t\tnormals[i] = normals[i - 1].clone();\n\t\t\t\tbinormals[i] = binormals[i - 1].clone();\n\t\t\t\tvec.crossVectors(tangents[i - 1], tangents[i]);\n\n\t\t\t\tif (vec.length() > Number.EPSILON) {\n\t\t\t\t\tvec.normalize();\n\t\t\t\t\tconst theta = Math.acos(clamp(tangents[i - 1].dot(tangents[i]), -1, 1)); // clamp for floating pt errors\n\n\t\t\t\t\tnormals[i].applyMatrix4(mat.makeRotationAxis(vec, theta));\n\t\t\t\t}\n\n\t\t\t\tbinormals[i].crossVectors(tangents[i], normals[i]);\n\t\t\t} // if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\n\t\t\tif (closed === true) {\n\t\t\t\tlet theta = Math.acos(clamp(normals[0].dot(normals[segments]), -1, 1));\n\t\t\t\ttheta /= segments;\n\n\t\t\t\tif (tangents[0].dot(vec.crossVectors(normals[0], normals[segments])) > 0) {\n\t\t\t\t\ttheta = -theta;\n\t\t\t\t}\n\n\t\t\t\tfor (let i = 1; i <= segments; i++) {\n\t\t\t\t\t// twist a little...\n\t\t\t\t\tnormals[i].applyMatrix4(mat.makeRotationAxis(tangents[i], theta * i));\n\t\t\t\t\tbinormals[i].crossVectors(tangents[i], normals[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttangents: tangents,\n\t\t\t\tnormals: normals,\n\t\t\t\tbinormals: binormals\n\t\t\t};\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = {\n\t\t\t\tmetadata: {\n\t\t\t\t\tversion: 4.5,\n\t\t\t\t\ttype: 'Curve',\n\t\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t\t}\n\t\t\t};\n\t\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\t\tdata.type = this.type;\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass EllipseCurve extends Curve {\n\t\tconstructor(aX = 0, aY = 0, xRadius = 1, yRadius = 1, aStartAngle = 0, aEndAngle = Math.PI * 2, aClockwise = false, aRotation = 0) {\n\t\t\tsuper();\n\t\t\tthis.type = 'EllipseCurve';\n\t\t\tthis.aX = aX;\n\t\t\tthis.aY = aY;\n\t\t\tthis.xRadius = xRadius;\n\t\t\tthis.yRadius = yRadius;\n\t\t\tthis.aStartAngle = aStartAngle;\n\t\t\tthis.aEndAngle = aEndAngle;\n\t\t\tthis.aClockwise = aClockwise;\n\t\t\tthis.aRotation = aRotation;\n\t\t}\n\n\t\tgetPoint(t, optionalTarget) {\n\t\t\tconst point = optionalTarget || new Vector2();\n\t\t\tconst twoPi = Math.PI * 2;\n\t\t\tlet deltaAngle = this.aEndAngle - this.aStartAngle;\n\t\t\tconst samePoints = Math.abs(deltaAngle) < Number.EPSILON; // ensures that deltaAngle is 0 .. 2 PI\n\n\t\t\twhile (deltaAngle < 0) deltaAngle += twoPi;\n\n\t\t\twhile (deltaAngle > twoPi) deltaAngle -= twoPi;\n\n\t\t\tif (deltaAngle < Number.EPSILON) {\n\t\t\t\tif (samePoints) {\n\t\t\t\t\tdeltaAngle = 0;\n\t\t\t\t} else {\n\t\t\t\t\tdeltaAngle = twoPi;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.aClockwise === true && !samePoints) {\n\t\t\t\tif (deltaAngle === twoPi) {\n\t\t\t\t\tdeltaAngle = -twoPi;\n\t\t\t\t} else {\n\t\t\t\t\tdeltaAngle = deltaAngle - twoPi;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst angle = this.aStartAngle + t * deltaAngle;\n\t\t\tlet x = this.aX + this.xRadius * Math.cos(angle);\n\t\t\tlet y = this.aY + this.yRadius * Math.sin(angle);\n\n\t\t\tif (this.aRotation !== 0) {\n\t\t\t\tconst cos = Math.cos(this.aRotation);\n\t\t\t\tconst sin = Math.sin(this.aRotation);\n\t\t\t\tconst tx = x - this.aX;\n\t\t\t\tconst ty = y - this.aY; // Rotate the point about the center of the ellipse.\n\n\t\t\t\tx = tx * cos - ty * sin + this.aX;\n\t\t\t\ty = tx * sin + ty * cos + this.aY;\n\t\t\t}\n\n\t\t\treturn point.set(x, y);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.aX = source.aX;\n\t\t\tthis.aY = source.aY;\n\t\t\tthis.xRadius = source.xRadius;\n\t\t\tthis.yRadius = source.yRadius;\n\t\t\tthis.aStartAngle = source.aStartAngle;\n\t\t\tthis.aEndAngle = source.aEndAngle;\n\t\t\tthis.aClockwise = source.aClockwise;\n\t\t\tthis.aRotation = source.aRotation;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.aX = this.aX;\n\t\t\tdata.aY = this.aY;\n\t\t\tdata.xRadius = this.xRadius;\n\t\t\tdata.yRadius = this.yRadius;\n\t\t\tdata.aStartAngle = this.aStartAngle;\n\t\t\tdata.aEndAngle = this.aEndAngle;\n\t\t\tdata.aClockwise = this.aClockwise;\n\t\t\tdata.aRotation = this.aRotation;\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.aX = json.aX;\n\t\t\tthis.aY = json.aY;\n\t\t\tthis.xRadius = json.xRadius;\n\t\t\tthis.yRadius = json.yRadius;\n\t\t\tthis.aStartAngle = json.aStartAngle;\n\t\t\tthis.aEndAngle = json.aEndAngle;\n\t\t\tthis.aClockwise = json.aClockwise;\n\t\t\tthis.aRotation = json.aRotation;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tEllipseCurve.prototype.isEllipseCurve = true;\n\n\tclass ArcCurve extends EllipseCurve {\n\t\tconstructor(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n\t\t\tsuper(aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);\n\t\t\tthis.type = 'ArcCurve';\n\t\t}\n\n\t}\n\n\tArcCurve.prototype.isArcCurve = true;\n\n\t/**\n\t * Centripetal CatmullRom Curve - which is useful for avoiding\n\t * cusps and self-intersections in non-uniform catmull rom curves.\n\t * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n\t *\n\t * curve.type accepts centripetal(default), chordal and catmullrom\n\t * curve.tension is used for catmullrom which defaults to 0.5\n\t */\n\n\t/*\n\tBased on an optimized c++ solution in\n\t - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n\t - http://ideone.com/NoEbVM\n\n\tThis CubicPoly class could be used for reusing some variables and calculations,\n\tbut for three.js curve use, it could be possible inlined and flatten into a single function call\n\twhich can be placed in CurveUtils.\n\t*/\n\n\tfunction CubicPoly() {\n\t\tlet c0 = 0,\n\t\t\t\tc1 = 0,\n\t\t\t\tc2 = 0,\n\t\t\t\tc3 = 0;\n\t\t/*\n\t\t * Compute coefficients for a cubic polynomial\n\t\t *\t p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t\t * such that\n\t\t *\t p(0) = x0, p(1) = x1\n\t\t *\tand\n\t\t *\t p'(0) = t0, p'(1) = t1.\n\t\t */\n\n\t\tfunction init(x0, x1, t0, t1) {\n\t\t\tc0 = x0;\n\t\t\tc1 = t0;\n\t\t\tc2 = -3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\t\t}\n\n\t\treturn {\n\t\t\tinitCatmullRom: function (x0, x1, x2, x3, tension) {\n\t\t\t\tinit(x1, x2, tension * (x2 - x0), tension * (x3 - x1));\n\t\t\t},\n\t\t\tinitNonuniformCatmullRom: function (x0, x1, x2, x3, dt0, dt1, dt2) {\n\t\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\t\tlet t1 = (x1 - x0) / dt0 - (x2 - x0) / (dt0 + dt1) + (x2 - x1) / dt1;\n\t\t\t\tlet t2 = (x2 - x1) / dt1 - (x3 - x1) / (dt1 + dt2) + (x3 - x2) / dt2; // rescale tangents for parametrization in [0,1]\n\n\t\t\t\tt1 *= dt1;\n\t\t\t\tt2 *= dt1;\n\t\t\t\tinit(x1, x2, t1, t2);\n\t\t\t},\n\t\t\tcalc: function (t) {\n\t\t\t\tconst t2 = t * t;\n\t\t\t\tconst t3 = t2 * t;\n\t\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\t\t\t}\n\t\t};\n\t} //\n\n\n\tconst tmp = new Vector3();\n\tconst px = new CubicPoly(),\n\t\t\t\tpy = new CubicPoly(),\n\t\t\t\tpz = new CubicPoly();\n\n\tclass CatmullRomCurve3 extends Curve {\n\t\tconstructor(points = [], closed = false, curveType = 'centripetal', tension = 0.5) {\n\t\t\tsuper();\n\t\t\tthis.type = 'CatmullRomCurve3';\n\t\t\tthis.points = points;\n\t\t\tthis.closed = closed;\n\t\t\tthis.curveType = curveType;\n\t\t\tthis.tension = tension;\n\t\t}\n\n\t\tgetPoint(t, optionalTarget = new Vector3()) {\n\t\t\tconst point = optionalTarget;\n\t\t\tconst points = this.points;\n\t\t\tconst l = points.length;\n\t\t\tconst p = (l - (this.closed ? 0 : 1)) * t;\n\t\t\tlet intPoint = Math.floor(p);\n\t\t\tlet weight = p - intPoint;\n\n\t\t\tif (this.closed) {\n\t\t\t\tintPoint += intPoint > 0 ? 0 : (Math.floor(Math.abs(intPoint) / l) + 1) * l;\n\t\t\t} else if (weight === 0 && intPoint === l - 1) {\n\t\t\t\tintPoint = l - 2;\n\t\t\t\tweight = 1;\n\t\t\t}\n\n\t\t\tlet p0, p3; // 4 points (p1 & p2 defined below)\n\n\t\t\tif (this.closed || intPoint > 0) {\n\t\t\t\tp0 = points[(intPoint - 1) % l];\n\t\t\t} else {\n\t\t\t\t// extrapolate first point\n\t\t\t\ttmp.subVectors(points[0], points[1]).add(points[0]);\n\t\t\t\tp0 = tmp;\n\t\t\t}\n\n\t\t\tconst p1 = points[intPoint % l];\n\t\t\tconst p2 = points[(intPoint + 1) % l];\n\n\t\t\tif (this.closed || intPoint + 2 < l) {\n\t\t\t\tp3 = points[(intPoint + 2) % l];\n\t\t\t} else {\n\t\t\t\t// extrapolate last point\n\t\t\t\ttmp.subVectors(points[l - 1], points[l - 2]).add(points[l - 1]);\n\t\t\t\tp3 = tmp;\n\t\t\t}\n\n\t\t\tif (this.curveType === 'centripetal' || this.curveType === 'chordal') {\n\t\t\t\t// init Centripetal / Chordal Catmull-Rom\n\t\t\t\tconst pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\t\t\tlet dt0 = Math.pow(p0.distanceToSquared(p1), pow);\n\t\t\t\tlet dt1 = Math.pow(p1.distanceToSquared(p2), pow);\n\t\t\t\tlet dt2 = Math.pow(p2.distanceToSquared(p3), pow); // safety check for repeated points\n\n\t\t\t\tif (dt1 < 1e-4) dt1 = 1.0;\n\t\t\t\tif (dt0 < 1e-4) dt0 = dt1;\n\t\t\t\tif (dt2 < 1e-4) dt2 = dt1;\n\t\t\t\tpx.initNonuniformCatmullRom(p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2);\n\t\t\t\tpy.initNonuniformCatmullRom(p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2);\n\t\t\t\tpz.initNonuniformCatmullRom(p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2);\n\t\t\t} else if (this.curveType === 'catmullrom') {\n\t\t\t\tpx.initCatmullRom(p0.x, p1.x, p2.x, p3.x, this.tension);\n\t\t\t\tpy.initCatmullRom(p0.y, p1.y, p2.y, p3.y, this.tension);\n\t\t\t\tpz.initCatmullRom(p0.z, p1.z, p2.z, p3.z, this.tension);\n\t\t\t}\n\n\t\t\tpoint.set(px.calc(weight), py.calc(weight), pz.calc(weight));\n\t\t\treturn point;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.points = [];\n\n\t\t\tfor (let i = 0, l = source.points.length; i < l; i++) {\n\t\t\t\tconst point = source.points[i];\n\t\t\t\tthis.points.push(point.clone());\n\t\t\t}\n\n\t\t\tthis.closed = source.closed;\n\t\t\tthis.curveType = source.curveType;\n\t\t\tthis.tension = source.tension;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.points = [];\n\n\t\t\tfor (let i = 0, l = this.points.length; i < l; i++) {\n\t\t\t\tconst point = this.points[i];\n\t\t\t\tdata.points.push(point.toArray());\n\t\t\t}\n\n\t\t\tdata.closed = this.closed;\n\t\t\tdata.curveType = this.curveType;\n\t\t\tdata.tension = this.tension;\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.points = [];\n\n\t\t\tfor (let i = 0, l = json.points.length; i < l; i++) {\n\t\t\t\tconst point = json.points[i];\n\t\t\t\tthis.points.push(new Vector3().fromArray(point));\n\t\t\t}\n\n\t\t\tthis.closed = json.closed;\n\t\t\tthis.curveType = json.curveType;\n\t\t\tthis.tension = json.tension;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\n\t/**\n\t * Bezier Curves formulas obtained from\n\t * https://en.wikipedia.org/wiki/B%C3%A9zier_curve\n\t */\n\tfunction CatmullRom(t, p0, p1, p2, p3) {\n\t\tconst v0 = (p2 - p0) * 0.5;\n\t\tconst v1 = (p3 - p1) * 0.5;\n\t\tconst t2 = t * t;\n\t\tconst t3 = t * t2;\n\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\t} //\n\n\n\tfunction QuadraticBezierP0(t, p) {\n\t\tconst k = 1 - t;\n\t\treturn k * k * p;\n\t}\n\n\tfunction QuadraticBezierP1(t, p) {\n\t\treturn 2 * (1 - t) * t * p;\n\t}\n\n\tfunction QuadraticBezierP2(t, p) {\n\t\treturn t * t * p;\n\t}\n\n\tfunction QuadraticBezier(t, p0, p1, p2) {\n\t\treturn QuadraticBezierP0(t, p0) + QuadraticBezierP1(t, p1) + QuadraticBezierP2(t, p2);\n\t} //\n\n\n\tfunction CubicBezierP0(t, p) {\n\t\tconst k = 1 - t;\n\t\treturn k * k * k * p;\n\t}\n\n\tfunction CubicBezierP1(t, p) {\n\t\tconst k = 1 - t;\n\t\treturn 3 * k * k * t * p;\n\t}\n\n\tfunction CubicBezierP2(t, p) {\n\t\treturn 3 * (1 - t) * t * t * p;\n\t}\n\n\tfunction CubicBezierP3(t, p) {\n\t\treturn t * t * t * p;\n\t}\n\n\tfunction CubicBezier(t, p0, p1, p2, p3) {\n\t\treturn CubicBezierP0(t, p0) + CubicBezierP1(t, p1) + CubicBezierP2(t, p2) + CubicBezierP3(t, p3);\n\t}\n\n\tclass CubicBezierCurve extends Curve {\n\t\tconstructor(v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2(), v3 = new Vector2()) {\n\t\t\tsuper();\n\t\t\tthis.type = 'CubicBezierCurve';\n\t\t\tthis.v0 = v0;\n\t\t\tthis.v1 = v1;\n\t\t\tthis.v2 = v2;\n\t\t\tthis.v3 = v3;\n\t\t}\n\n\t\tgetPoint(t, optionalTarget = new Vector2()) {\n\t\t\tconst point = optionalTarget;\n\t\t\tconst v0 = this.v0,\n\t\t\t\t\t\tv1 = this.v1,\n\t\t\t\t\t\tv2 = this.v2,\n\t\t\t\t\t\tv3 = this.v3;\n\t\t\tpoint.set(CubicBezier(t, v0.x, v1.x, v2.x, v3.x), CubicBezier(t, v0.y, v1.y, v2.y, v3.y));\n\t\t\treturn point;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.v0.copy(source.v0);\n\t\t\tthis.v1.copy(source.v1);\n\t\t\tthis.v2.copy(source.v2);\n\t\t\tthis.v3.copy(source.v3);\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.v0 = this.v0.toArray();\n\t\t\tdata.v1 = this.v1.toArray();\n\t\t\tdata.v2 = this.v2.toArray();\n\t\t\tdata.v3 = this.v3.toArray();\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.v0.fromArray(json.v0);\n\t\t\tthis.v1.fromArray(json.v1);\n\t\t\tthis.v2.fromArray(json.v2);\n\t\t\tthis.v3.fromArray(json.v3);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\n\tclass CubicBezierCurve3 extends Curve {\n\t\tconstructor(v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3(), v3 = new Vector3()) {\n\t\t\tsuper();\n\t\t\tthis.type = 'CubicBezierCurve3';\n\t\t\tthis.v0 = v0;\n\t\t\tthis.v1 = v1;\n\t\t\tthis.v2 = v2;\n\t\t\tthis.v3 = v3;\n\t\t}\n\n\t\tgetPoint(t, optionalTarget = new Vector3()) {\n\t\t\tconst point = optionalTarget;\n\t\t\tconst v0 = this.v0,\n\t\t\t\t\t\tv1 = this.v1,\n\t\t\t\t\t\tv2 = this.v2,\n\t\t\t\t\t\tv3 = this.v3;\n\t\t\tpoint.set(CubicBezier(t, v0.x, v1.x, v2.x, v3.x), CubicBezier(t, v0.y, v1.y, v2.y, v3.y), CubicBezier(t, v0.z, v1.z, v2.z, v3.z));\n\t\t\treturn point;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.v0.copy(source.v0);\n\t\t\tthis.v1.copy(source.v1);\n\t\t\tthis.v2.copy(source.v2);\n\t\t\tthis.v3.copy(source.v3);\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.v0 = this.v0.toArray();\n\t\t\tdata.v1 = this.v1.toArray();\n\t\t\tdata.v2 = this.v2.toArray();\n\t\t\tdata.v3 = this.v3.toArray();\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.v0.fromArray(json.v0);\n\t\t\tthis.v1.fromArray(json.v1);\n\t\t\tthis.v2.fromArray(json.v2);\n\t\t\tthis.v3.fromArray(json.v3);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\n\tclass LineCurve extends Curve {\n\t\tconstructor(v1 = new Vector2(), v2 = new Vector2()) {\n\t\t\tsuper();\n\t\t\tthis.type = 'LineCurve';\n\t\t\tthis.v1 = v1;\n\t\t\tthis.v2 = v2;\n\t\t}\n\n\t\tgetPoint(t, optionalTarget = new Vector2()) {\n\t\t\tconst point = optionalTarget;\n\n\t\t\tif (t === 1) {\n\t\t\t\tpoint.copy(this.v2);\n\t\t\t} else {\n\t\t\t\tpoint.copy(this.v2).sub(this.v1);\n\t\t\t\tpoint.multiplyScalar(t).add(this.v1);\n\t\t\t}\n\n\t\t\treturn point;\n\t\t} // Line curve is linear, so we can overwrite default getPointAt\n\n\n\t\tgetPointAt(u, optionalTarget) {\n\t\t\treturn this.getPoint(u, optionalTarget);\n\t\t}\n\n\t\tgetTangent(t, optionalTarget) {\n\t\t\tconst tangent = optionalTarget || new Vector2();\n\t\t\ttangent.copy(this.v2).sub(this.v1).normalize();\n\t\t\treturn tangent;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.v1.copy(source.v1);\n\t\t\tthis.v2.copy(source.v2);\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.v1 = this.v1.toArray();\n\t\t\tdata.v2 = this.v2.toArray();\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.v1.fromArray(json.v1);\n\t\t\tthis.v2.fromArray(json.v2);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tLineCurve.prototype.isLineCurve = true;\n\n\tclass LineCurve3 extends Curve {\n\t\tconstructor(v1 = new Vector3(), v2 = new Vector3()) {\n\t\t\tsuper();\n\t\t\tthis.type = 'LineCurve3';\n\t\t\tthis.isLineCurve3 = true;\n\t\t\tthis.v1 = v1;\n\t\t\tthis.v2 = v2;\n\t\t}\n\n\t\tgetPoint(t, optionalTarget = new Vector3()) {\n\t\t\tconst point = optionalTarget;\n\n\t\t\tif (t === 1) {\n\t\t\t\tpoint.copy(this.v2);\n\t\t\t} else {\n\t\t\t\tpoint.copy(this.v2).sub(this.v1);\n\t\t\t\tpoint.multiplyScalar(t).add(this.v1);\n\t\t\t}\n\n\t\t\treturn point;\n\t\t} // Line curve is linear, so we can overwrite default getPointAt\n\n\n\t\tgetPointAt(u, optionalTarget) {\n\t\t\treturn this.getPoint(u, optionalTarget);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.v1.copy(source.v1);\n\t\t\tthis.v2.copy(source.v2);\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.v1 = this.v1.toArray();\n\t\t\tdata.v2 = this.v2.toArray();\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.v1.fromArray(json.v1);\n\t\t\tthis.v2.fromArray(json.v2);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass QuadraticBezierCurve extends Curve {\n\t\tconstructor(v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2()) {\n\t\t\tsuper();\n\t\t\tthis.type = 'QuadraticBezierCurve';\n\t\t\tthis.v0 = v0;\n\t\t\tthis.v1 = v1;\n\t\t\tthis.v2 = v2;\n\t\t}\n\n\t\tgetPoint(t, optionalTarget = new Vector2()) {\n\t\t\tconst point = optionalTarget;\n\t\t\tconst v0 = this.v0,\n\t\t\t\t\t\tv1 = this.v1,\n\t\t\t\t\t\tv2 = this.v2;\n\t\t\tpoint.set(QuadraticBezier(t, v0.x, v1.x, v2.x), QuadraticBezier(t, v0.y, v1.y, v2.y));\n\t\t\treturn point;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.v0.copy(source.v0);\n\t\t\tthis.v1.copy(source.v1);\n\t\t\tthis.v2.copy(source.v2);\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.v0 = this.v0.toArray();\n\t\t\tdata.v1 = this.v1.toArray();\n\t\t\tdata.v2 = this.v2.toArray();\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.v0.fromArray(json.v0);\n\t\t\tthis.v1.fromArray(json.v1);\n\t\t\tthis.v2.fromArray(json.v2);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\n\tclass QuadraticBezierCurve3 extends Curve {\n\t\tconstructor(v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3()) {\n\t\t\tsuper();\n\t\t\tthis.type = 'QuadraticBezierCurve3';\n\t\t\tthis.v0 = v0;\n\t\t\tthis.v1 = v1;\n\t\t\tthis.v2 = v2;\n\t\t}\n\n\t\tgetPoint(t, optionalTarget = new Vector3()) {\n\t\t\tconst point = optionalTarget;\n\t\t\tconst v0 = this.v0,\n\t\t\t\t\t\tv1 = this.v1,\n\t\t\t\t\t\tv2 = this.v2;\n\t\t\tpoint.set(QuadraticBezier(t, v0.x, v1.x, v2.x), QuadraticBezier(t, v0.y, v1.y, v2.y), QuadraticBezier(t, v0.z, v1.z, v2.z));\n\t\t\treturn point;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.v0.copy(source.v0);\n\t\t\tthis.v1.copy(source.v1);\n\t\t\tthis.v2.copy(source.v2);\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.v0 = this.v0.toArray();\n\t\t\tdata.v1 = this.v1.toArray();\n\t\t\tdata.v2 = this.v2.toArray();\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.v0.fromArray(json.v0);\n\t\t\tthis.v1.fromArray(json.v1);\n\t\t\tthis.v2.fromArray(json.v2);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\n\tclass SplineCurve extends Curve {\n\t\tconstructor(points = []) {\n\t\t\tsuper();\n\t\t\tthis.type = 'SplineCurve';\n\t\t\tthis.points = points;\n\t\t}\n\n\t\tgetPoint(t, optionalTarget = new Vector2()) {\n\t\t\tconst point = optionalTarget;\n\t\t\tconst points = this.points;\n\t\t\tconst p = (points.length - 1) * t;\n\t\t\tconst intPoint = Math.floor(p);\n\t\t\tconst weight = p - intPoint;\n\t\t\tconst p0 = points[intPoint === 0 ? intPoint : intPoint - 1];\n\t\t\tconst p1 = points[intPoint];\n\t\t\tconst p2 = points[intPoint > points.length - 2 ? points.length - 1 : intPoint + 1];\n\t\t\tconst p3 = points[intPoint > points.length - 3 ? points.length - 1 : intPoint + 2];\n\t\t\tpoint.set(CatmullRom(weight, p0.x, p1.x, p2.x, p3.x), CatmullRom(weight, p0.y, p1.y, p2.y, p3.y));\n\t\t\treturn point;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.points = [];\n\n\t\t\tfor (let i = 0, l = source.points.length; i < l; i++) {\n\t\t\t\tconst point = source.points[i];\n\t\t\t\tthis.points.push(point.clone());\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.points = [];\n\n\t\t\tfor (let i = 0, l = this.points.length; i < l; i++) {\n\t\t\t\tconst point = this.points[i];\n\t\t\t\tdata.points.push(point.toArray());\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.points = [];\n\n\t\t\tfor (let i = 0, l = json.points.length; i < l; i++) {\n\t\t\t\tconst point = json.points[i];\n\t\t\t\tthis.points.push(new Vector2().fromArray(point));\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tSplineCurve.prototype.isSplineCurve = true;\n\n\tvar Curves = /*#__PURE__*/Object.freeze({\n\t\t__proto__: null,\n\t\tArcCurve: ArcCurve,\n\t\tCatmullRomCurve3: CatmullRomCurve3,\n\t\tCubicBezierCurve: CubicBezierCurve,\n\t\tCubicBezierCurve3: CubicBezierCurve3,\n\t\tEllipseCurve: EllipseCurve,\n\t\tLineCurve: LineCurve,\n\t\tLineCurve3: LineCurve3,\n\t\tQuadraticBezierCurve: QuadraticBezierCurve,\n\t\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\t\tSplineCurve: SplineCurve\n\t});\n\n\t/**************************************************************\n\t *\tCurved Path - a curve path is simply a array of connected\n\t *\tcurves, but retains the api of a curve\n\t **************************************************************/\n\n\tclass CurvePath extends Curve {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.type = 'CurvePath';\n\t\t\tthis.curves = [];\n\t\t\tthis.autoClose = false; // Automatically closes the path\n\t\t}\n\n\t\tadd(curve) {\n\t\t\tthis.curves.push(curve);\n\t\t}\n\n\t\tclosePath() {\n\t\t\t// Add a line curve if start and end of lines are not connected\n\t\t\tconst startPoint = this.curves[0].getPoint(0);\n\t\t\tconst endPoint = this.curves[this.curves.length - 1].getPoint(1);\n\n\t\t\tif (!startPoint.equals(endPoint)) {\n\t\t\t\tthis.curves.push(new LineCurve(endPoint, startPoint));\n\t\t\t}\n\t\t} // To get accurate point with reference to\n\t\t// entire path distance at time t,\n\t\t// following has to be done:\n\t\t// 1. Length of each sub path have to be known\n\t\t// 2. Locate and identify type of curve\n\t\t// 3. Get t for the curve\n\t\t// 4. Return curve.getPointAt(t')\n\n\n\t\tgetPoint(t, optionalTarget) {\n\t\t\tconst d = t * this.getLength();\n\t\t\tconst curveLengths = this.getCurveLengths();\n\t\t\tlet i = 0; // To think about boundaries points.\n\n\t\t\twhile (i < curveLengths.length) {\n\t\t\t\tif (curveLengths[i] >= d) {\n\t\t\t\t\tconst diff = curveLengths[i] - d;\n\t\t\t\t\tconst curve = this.curves[i];\n\t\t\t\t\tconst segmentLength = curve.getLength();\n\t\t\t\t\tconst u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\t\t\t\t\treturn curve.getPointAt(u, optionalTarget);\n\t\t\t\t}\n\n\t\t\t\ti++;\n\t\t\t}\n\n\t\t\treturn null; // loop where sum != 0, sum > d , sum+1 <d\n\t\t} // We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t\t// getPoint() depends on getLength\n\n\n\t\tgetLength() {\n\t\t\tconst lens = this.getCurveLengths();\n\t\t\treturn lens[lens.length - 1];\n\t\t} // cacheLengths must be recalculated.\n\n\n\t\tupdateArcLengths() {\n\t\t\tthis.needsUpdate = true;\n\t\t\tthis.cacheLengths = null;\n\t\t\tthis.getCurveLengths();\n\t\t} // Compute lengths and cache them\n\t\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\n\t\tgetCurveLengths() {\n\t\t\t// We use cache values if curves and cache array are same length\n\t\t\tif (this.cacheLengths && this.cacheLengths.length === this.curves.length) {\n\t\t\t\treturn this.cacheLengths;\n\t\t\t} // Get length of sub-curve\n\t\t\t// Push sums into cached array\n\n\n\t\t\tconst lengths = [];\n\t\t\tlet sums = 0;\n\n\t\t\tfor (let i = 0, l = this.curves.length; i < l; i++) {\n\t\t\t\tsums += this.curves[i].getLength();\n\t\t\t\tlengths.push(sums);\n\t\t\t}\n\n\t\t\tthis.cacheLengths = lengths;\n\t\t\treturn lengths;\n\t\t}\n\n\t\tgetSpacedPoints(divisions = 40) {\n\t\t\tconst points = [];\n\n\t\t\tfor (let i = 0; i <= divisions; i++) {\n\t\t\t\tpoints.push(this.getPoint(i / divisions));\n\t\t\t}\n\n\t\t\tif (this.autoClose) {\n\t\t\t\tpoints.push(points[0]);\n\t\t\t}\n\n\t\t\treturn points;\n\t\t}\n\n\t\tgetPoints(divisions = 12) {\n\t\t\tconst points = [];\n\t\t\tlet last;\n\n\t\t\tfor (let i = 0, curves = this.curves; i < curves.length; i++) {\n\t\t\t\tconst curve = curves[i];\n\t\t\t\tconst resolution = curve && curve.isEllipseCurve ? divisions * 2 : curve && (curve.isLineCurve || curve.isLineCurve3) ? 1 : curve && curve.isSplineCurve ? divisions * curve.points.length : divisions;\n\t\t\t\tconst pts = curve.getPoints(resolution);\n\n\t\t\t\tfor (let j = 0; j < pts.length; j++) {\n\t\t\t\t\tconst point = pts[j];\n\t\t\t\t\tif (last && last.equals(point)) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\t\tpoints.push(point);\n\t\t\t\t\tlast = point;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.autoClose && points.length > 1 && !points[points.length - 1].equals(points[0])) {\n\t\t\t\tpoints.push(points[0]);\n\t\t\t}\n\n\t\t\treturn points;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.curves = [];\n\n\t\t\tfor (let i = 0, l = source.curves.length; i < l; i++) {\n\t\t\t\tconst curve = source.curves[i];\n\t\t\t\tthis.curves.push(curve.clone());\n\t\t\t}\n\n\t\t\tthis.autoClose = source.autoClose;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.autoClose = this.autoClose;\n\t\t\tdata.curves = [];\n\n\t\t\tfor (let i = 0, l = this.curves.length; i < l; i++) {\n\t\t\t\tconst curve = this.curves[i];\n\t\t\t\tdata.curves.push(curve.toJSON());\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.autoClose = json.autoClose;\n\t\t\tthis.curves = [];\n\n\t\t\tfor (let i = 0, l = json.curves.length; i < l; i++) {\n\t\t\t\tconst curve = json.curves[i];\n\t\t\t\tthis.curves.push(new Curves[curve.type]().fromJSON(curve));\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass Path extends CurvePath {\n\t\tconstructor(points) {\n\t\t\tsuper();\n\t\t\tthis.type = 'Path';\n\t\t\tthis.currentPoint = new Vector2();\n\n\t\t\tif (points) {\n\t\t\t\tthis.setFromPoints(points);\n\t\t\t}\n\t\t}\n\n\t\tsetFromPoints(points) {\n\t\t\tthis.moveTo(points[0].x, points[0].y);\n\n\t\t\tfor (let i = 1, l = points.length; i < l; i++) {\n\t\t\t\tthis.lineTo(points[i].x, points[i].y);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tmoveTo(x, y) {\n\t\t\tthis.currentPoint.set(x, y); // TODO consider referencing vectors instead of copying?\n\n\t\t\treturn this;\n\t\t}\n\n\t\tlineTo(x, y) {\n\t\t\tconst curve = new LineCurve(this.currentPoint.clone(), new Vector2(x, y));\n\t\t\tthis.curves.push(curve);\n\t\t\tthis.currentPoint.set(x, y);\n\t\t\treturn this;\n\t\t}\n\n\t\tquadraticCurveTo(aCPx, aCPy, aX, aY) {\n\t\t\tconst curve = new QuadraticBezierCurve(this.currentPoint.clone(), new Vector2(aCPx, aCPy), new Vector2(aX, aY));\n\t\t\tthis.curves.push(curve);\n\t\t\tthis.currentPoint.set(aX, aY);\n\t\t\treturn this;\n\t\t}\n\n\t\tbezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {\n\t\t\tconst curve = new CubicBezierCurve(this.currentPoint.clone(), new Vector2(aCP1x, aCP1y), new Vector2(aCP2x, aCP2y), new Vector2(aX, aY));\n\t\t\tthis.curves.push(curve);\n\t\t\tthis.currentPoint.set(aX, aY);\n\t\t\treturn this;\n\t\t}\n\n\t\tsplineThru(pts\n\t\t/*Array of Vector*/\n\t\t) {\n\t\t\tconst npts = [this.currentPoint.clone()].concat(pts);\n\t\t\tconst curve = new SplineCurve(npts);\n\t\t\tthis.curves.push(curve);\n\t\t\tthis.currentPoint.copy(pts[pts.length - 1]);\n\t\t\treturn this;\n\t\t}\n\n\t\tarc(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n\t\t\tconst x0 = this.currentPoint.x;\n\t\t\tconst y0 = this.currentPoint.y;\n\t\t\tthis.absarc(aX + x0, aY + y0, aRadius, aStartAngle, aEndAngle, aClockwise);\n\t\t\treturn this;\n\t\t}\n\n\t\tabsarc(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n\t\t\tthis.absellipse(aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);\n\t\t\treturn this;\n\t\t}\n\n\t\tellipse(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n\t\t\tconst x0 = this.currentPoint.x;\n\t\t\tconst y0 = this.currentPoint.y;\n\t\t\tthis.absellipse(aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\n\t\t\treturn this;\n\t\t}\n\n\t\tabsellipse(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n\t\t\tconst curve = new EllipseCurve(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\n\n\t\t\tif (this.curves.length > 0) {\n\t\t\t\t// if a previous curve is present, attempt to join\n\t\t\t\tconst firstPoint = curve.getPoint(0);\n\n\t\t\t\tif (!firstPoint.equals(this.currentPoint)) {\n\t\t\t\t\tthis.lineTo(firstPoint.x, firstPoint.y);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.curves.push(curve);\n\t\t\tconst lastPoint = curve.getPoint(1);\n\t\t\tthis.currentPoint.copy(lastPoint);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.currentPoint.copy(source.currentPoint);\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.currentPoint = this.currentPoint.toArray();\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.currentPoint.fromArray(json.currentPoint);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass Shape extends Path {\n\t\tconstructor(points) {\n\t\t\tsuper(points);\n\t\t\tthis.uuid = generateUUID();\n\t\t\tthis.type = 'Shape';\n\t\t\tthis.holes = [];\n\t\t}\n\n\t\tgetPointsHoles(divisions) {\n\t\t\tconst holesPts = [];\n\n\t\t\tfor (let i = 0, l = this.holes.length; i < l; i++) {\n\t\t\t\tholesPts[i] = this.holes[i].getPoints(divisions);\n\t\t\t}\n\n\t\t\treturn holesPts;\n\t\t} // get points of shape and holes (keypoints based on segments parameter)\n\n\n\t\textractPoints(divisions) {\n\t\t\treturn {\n\t\t\t\tshape: this.getPoints(divisions),\n\t\t\t\tholes: this.getPointsHoles(divisions)\n\t\t\t};\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.holes = [];\n\n\t\t\tfor (let i = 0, l = source.holes.length; i < l; i++) {\n\t\t\t\tconst hole = source.holes[i];\n\t\t\t\tthis.holes.push(hole.clone());\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.uuid = this.uuid;\n\t\t\tdata.holes = [];\n\n\t\t\tfor (let i = 0, l = this.holes.length; i < l; i++) {\n\t\t\t\tconst hole = this.holes[i];\n\t\t\t\tdata.holes.push(hole.toJSON());\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.uuid = json.uuid;\n\t\t\tthis.holes = [];\n\n\t\t\tfor (let i = 0, l = json.holes.length; i < l; i++) {\n\t\t\t\tconst hole = json.holes[i];\n\t\t\t\tthis.holes.push(new Path().fromJSON(hole));\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\t/**\n\t * Port from https://github.com/mapbox/earcut (v2.2.2)\n\t */\n\tconst Earcut = {\n\t\ttriangulate: function (data, holeIndices, dim = 2) {\n\t\t\tconst hasHoles = holeIndices && holeIndices.length;\n\t\t\tconst outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n\t\t\tlet outerNode = linkedList(data, 0, outerLen, dim, true);\n\t\t\tconst triangles = [];\n\t\t\tif (!outerNode || outerNode.next === outerNode.prev) return triangles;\n\t\t\tlet minX, minY, maxX, maxY, x, y, invSize;\n\t\t\tif (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim); // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\n\t\t\tif (data.length > 80 * dim) {\n\t\t\t\tminX = maxX = data[0];\n\t\t\t\tminY = maxY = data[1];\n\n\t\t\t\tfor (let i = dim; i < outerLen; i += dim) {\n\t\t\t\t\tx = data[i];\n\t\t\t\t\ty = data[i + 1];\n\t\t\t\t\tif (x < minX) minX = x;\n\t\t\t\t\tif (y < minY) minY = y;\n\t\t\t\t\tif (x > maxX) maxX = x;\n\t\t\t\t\tif (y > maxY) maxY = y;\n\t\t\t\t} // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\n\n\t\t\t\tinvSize = Math.max(maxX - minX, maxY - minY);\n\t\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\t\t\t}\n\n\t\t\tearcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n\t\t\treturn triangles;\n\t\t}\n\t}; // create a circular doubly linked list from polygon points in the specified winding order\n\n\tfunction linkedList(data, start, end, dim, clockwise) {\n\t\tlet i, last;\n\n\t\tif (clockwise === signedArea(data, start, end, dim) > 0) {\n\t\t\tfor (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n\t\t} else {\n\t\t\tfor (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n\t\t}\n\n\t\tif (last && equals(last, last.next)) {\n\t\t\tremoveNode(last);\n\t\t\tlast = last.next;\n\t\t}\n\n\t\treturn last;\n\t} // eliminate colinear or duplicate points\n\n\n\tfunction filterPoints(start, end) {\n\t\tif (!start) return start;\n\t\tif (!end) end = start;\n\t\tlet p = start,\n\t\t\t\tagain;\n\n\t\tdo {\n\t\t\tagain = false;\n\n\t\t\tif (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n\t\t\t\tremoveNode(p);\n\t\t\t\tp = end = p.prev;\n\t\t\t\tif (p === p.next) break;\n\t\t\t\tagain = true;\n\t\t\t} else {\n\t\t\t\tp = p.next;\n\t\t\t}\n\t\t} while (again || p !== end);\n\n\t\treturn end;\n\t} // main ear slicing loop which triangulates a polygon (given as a linked list)\n\n\n\tfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n\t\tif (!ear) return; // interlink polygon nodes in z-order\n\n\t\tif (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n\t\tlet stop = ear,\n\t\t\t\tprev,\n\t\t\t\tnext; // iterate through ears, slicing them one by one\n\n\t\twhile (ear.prev !== ear.next) {\n\t\t\tprev = ear.prev;\n\t\t\tnext = ear.next;\n\n\t\t\tif (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n\t\t\t\t// cut off the triangle\n\t\t\t\ttriangles.push(prev.i / dim);\n\t\t\t\ttriangles.push(ear.i / dim);\n\t\t\t\ttriangles.push(next.i / dim);\n\t\t\t\tremoveNode(ear); // skipping the next vertex leads to less sliver triangles\n\n\t\t\t\tear = next.next;\n\t\t\t\tstop = next.next;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tear = next; // if we looped through the whole remaining polygon and can't find any more ears\n\n\t\t\tif (ear === stop) {\n\t\t\t\t// try filtering points and slicing again\n\t\t\t\tif (!pass) {\n\t\t\t\t\tearcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1); // if this didn't work, try curing all small self-intersections locally\n\t\t\t\t} else if (pass === 1) {\n\t\t\t\t\tear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n\t\t\t\t\tearcutLinked(ear, triangles, dim, minX, minY, invSize, 2); // as a last resort, try splitting the remaining polygon into two\n\t\t\t\t} else if (pass === 2) {\n\t\t\t\t\tsplitEarcut(ear, triangles, dim, minX, minY, invSize);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t} // check whether a polygon node forms a valid ear with adjacent nodes\n\n\n\tfunction isEar(ear) {\n\t\tconst a = ear.prev,\n\t\t\t\t\tb = ear,\n\t\t\t\t\tc = ear.next;\n\t\tif (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\t\t// now make sure we don't have other points inside the potential ear\n\n\t\tlet p = ear.next.next;\n\n\t\twhile (p !== ear.prev) {\n\t\t\tif (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n\t\t\tp = p.next;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tfunction isEarHashed(ear, minX, minY, invSize) {\n\t\tconst a = ear.prev,\n\t\t\t\t\tb = ear,\n\t\t\t\t\tc = ear.next;\n\t\tif (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\t\t// triangle bbox; min & max are calculated like this for speed\n\n\t\tconst minTX = a.x < b.x ? a.x < c.x ? a.x : c.x : b.x < c.x ? b.x : c.x,\n\t\t\t\t\tminTY = a.y < b.y ? a.y < c.y ? a.y : c.y : b.y < c.y ? b.y : c.y,\n\t\t\t\t\tmaxTX = a.x > b.x ? a.x > c.x ? a.x : c.x : b.x > c.x ? b.x : c.x,\n\t\t\t\t\tmaxTY = a.y > b.y ? a.y > c.y ? a.y : c.y : b.y > c.y ? b.y : c.y; // z-order range for the current triangle bbox;\n\n\t\tconst minZ = zOrder(minTX, minTY, minX, minY, invSize),\n\t\t\t\t\tmaxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n\t\tlet p = ear.prevZ,\n\t\t\t\tn = ear.nextZ; // look for points inside the triangle in both directions\n\n\t\twhile (p && p.z >= minZ && n && n.z <= maxZ) {\n\t\t\tif (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n\t\t\tp = p.prevZ;\n\t\t\tif (n !== ear.prev && n !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n\t\t\tn = n.nextZ;\n\t\t} // look for remaining points in decreasing z-order\n\n\n\t\twhile (p && p.z >= minZ) {\n\t\t\tif (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n\t\t\tp = p.prevZ;\n\t\t} // look for remaining points in increasing z-order\n\n\n\t\twhile (n && n.z <= maxZ) {\n\t\t\tif (n !== ear.prev && n !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n\t\t\tn = n.nextZ;\n\t\t}\n\n\t\treturn true;\n\t} // go through all polygon nodes and cure small local self-intersections\n\n\n\tfunction cureLocalIntersections(start, triangles, dim) {\n\t\tlet p = start;\n\n\t\tdo {\n\t\t\tconst a = p.prev,\n\t\t\t\t\t\tb = p.next.next;\n\n\t\t\tif (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\t\t\t\ttriangles.push(a.i / dim);\n\t\t\t\ttriangles.push(p.i / dim);\n\t\t\t\ttriangles.push(b.i / dim); // remove two nodes involved\n\n\t\t\t\tremoveNode(p);\n\t\t\t\tremoveNode(p.next);\n\t\t\t\tp = start = b;\n\t\t\t}\n\n\t\t\tp = p.next;\n\t\t} while (p !== start);\n\n\t\treturn filterPoints(p);\n\t} // try splitting polygon into two and triangulate them independently\n\n\n\tfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n\t\t// look for a valid diagonal that divides the polygon into two\n\t\tlet a = start;\n\n\t\tdo {\n\t\t\tlet b = a.next.next;\n\n\t\t\twhile (b !== a.prev) {\n\t\t\t\tif (a.i !== b.i && isValidDiagonal(a, b)) {\n\t\t\t\t\t// split the polygon in two by the diagonal\n\t\t\t\t\tlet c = splitPolygon(a, b); // filter colinear points around the cuts\n\n\t\t\t\t\ta = filterPoints(a, a.next);\n\t\t\t\t\tc = filterPoints(c, c.next); // run earcut on each half\n\n\t\t\t\t\tearcutLinked(a, triangles, dim, minX, minY, invSize);\n\t\t\t\t\tearcutLinked(c, triangles, dim, minX, minY, invSize);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tb = b.next;\n\t\t\t}\n\n\t\t\ta = a.next;\n\t\t} while (a !== start);\n\t} // link every hole into the outer loop, producing a single-ring polygon without holes\n\n\n\tfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n\t\tconst queue = [];\n\t\tlet i, len, start, end, list;\n\n\t\tfor (i = 0, len = holeIndices.length; i < len; i++) {\n\t\t\tstart = holeIndices[i] * dim;\n\t\t\tend = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n\t\t\tlist = linkedList(data, start, end, dim, false);\n\t\t\tif (list === list.next) list.steiner = true;\n\t\t\tqueue.push(getLeftmost(list));\n\t\t}\n\n\t\tqueue.sort(compareX); // process holes from left to right\n\n\t\tfor (i = 0; i < queue.length; i++) {\n\t\t\teliminateHole(queue[i], outerNode);\n\t\t\touterNode = filterPoints(outerNode, outerNode.next);\n\t\t}\n\n\t\treturn outerNode;\n\t}\n\n\tfunction compareX(a, b) {\n\t\treturn a.x - b.x;\n\t} // find a bridge between vertices that connects hole with an outer ring and and link it\n\n\n\tfunction eliminateHole(hole, outerNode) {\n\t\touterNode = findHoleBridge(hole, outerNode);\n\n\t\tif (outerNode) {\n\t\t\tconst b = splitPolygon(outerNode, hole); // filter collinear points around the cuts\n\n\t\t\tfilterPoints(outerNode, outerNode.next);\n\t\t\tfilterPoints(b, b.next);\n\t\t}\n\t} // David Eberly's algorithm for finding a bridge between hole and outer polygon\n\n\n\tfunction findHoleBridge(hole, outerNode) {\n\t\tlet p = outerNode;\n\t\tconst hx = hole.x;\n\t\tconst hy = hole.y;\n\t\tlet qx = -Infinity,\n\t\t\t\tm; // find a segment intersected by a ray from the hole's leftmost point to the left;\n\t\t// segment's endpoint with lesser x will be potential connection point\n\n\t\tdo {\n\t\t\tif (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n\t\t\t\tconst x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n\n\t\t\t\tif (x <= hx && x > qx) {\n\t\t\t\t\tqx = x;\n\n\t\t\t\t\tif (x === hx) {\n\t\t\t\t\t\tif (hy === p.y) return p;\n\t\t\t\t\t\tif (hy === p.next.y) return p.next;\n\t\t\t\t\t}\n\n\t\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tp = p.next;\n\t\t} while (p !== outerNode);\n\n\t\tif (!m) return null;\n\t\tif (hx === qx) return m; // hole touches outer segment; pick leftmost endpoint\n\t\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t\t// if there are no points found, we have a valid connection;\n\t\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\t\tconst stop = m,\n\t\t\t\t\tmx = m.x,\n\t\t\t\t\tmy = m.y;\n\t\tlet tanMin = Infinity,\n\t\t\t\ttan;\n\t\tp = m;\n\n\t\tdo {\n\t\t\tif (hx >= p.x && p.x >= mx && hx !== p.x && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\t\t\t\ttan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n\t\t\t\tif (locallyInside(p, hole) && (tan < tanMin || tan === tanMin && (p.x > m.x || p.x === m.x && sectorContainsSector(m, p)))) {\n\t\t\t\t\tm = p;\n\t\t\t\t\ttanMin = tan;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tp = p.next;\n\t\t} while (p !== stop);\n\n\t\treturn m;\n\t} // whether sector in vertex m contains sector in vertex p in the same coordinates\n\n\n\tfunction sectorContainsSector(m, p) {\n\t\treturn area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n\t} // interlink polygon nodes in z-order\n\n\n\tfunction indexCurve(start, minX, minY, invSize) {\n\t\tlet p = start;\n\n\t\tdo {\n\t\t\tif (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n\t\t\tp.prevZ = p.prev;\n\t\t\tp.nextZ = p.next;\n\t\t\tp = p.next;\n\t\t} while (p !== start);\n\n\t\tp.prevZ.nextZ = null;\n\t\tp.prevZ = null;\n\t\tsortLinked(p);\n\t} // Simon Tatham's linked list merge sort algorithm\n\t// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\n\n\n\tfunction sortLinked(list) {\n\t\tlet i,\n\t\t\t\tp,\n\t\t\t\tq,\n\t\t\t\te,\n\t\t\t\ttail,\n\t\t\t\tnumMerges,\n\t\t\t\tpSize,\n\t\t\t\tqSize,\n\t\t\t\tinSize = 1;\n\n\t\tdo {\n\t\t\tp = list;\n\t\t\tlist = null;\n\t\t\ttail = null;\n\t\t\tnumMerges = 0;\n\n\t\t\twhile (p) {\n\t\t\t\tnumMerges++;\n\t\t\t\tq = p;\n\t\t\t\tpSize = 0;\n\n\t\t\t\tfor (i = 0; i < inSize; i++) {\n\t\t\t\t\tpSize++;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tif (!q) break;\n\t\t\t\t}\n\n\t\t\t\tqSize = inSize;\n\n\t\t\t\twhile (pSize > 0 || qSize > 0 && q) {\n\t\t\t\t\tif (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n\t\t\t\t\t\te = p;\n\t\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\t\tpSize--;\n\t\t\t\t\t} else {\n\t\t\t\t\t\te = q;\n\t\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\t\tqSize--;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (tail) tail.nextZ = e;else list = e;\n\t\t\t\t\te.prevZ = tail;\n\t\t\t\t\ttail = e;\n\t\t\t\t}\n\n\t\t\t\tp = q;\n\t\t\t}\n\n\t\t\ttail.nextZ = null;\n\t\t\tinSize *= 2;\n\t\t} while (numMerges > 1);\n\n\t\treturn list;\n\t} // z-order of a point given coords and inverse of the longer side of data bbox\n\n\n\tfunction zOrder(x, y, minX, minY, invSize) {\n\t\t// coords are transformed into non-negative 15-bit integer range\n\t\tx = 32767 * (x - minX) * invSize;\n\t\ty = 32767 * (y - minY) * invSize;\n\t\tx = (x | x << 8) & 0x00FF00FF;\n\t\tx = (x | x << 4) & 0x0F0F0F0F;\n\t\tx = (x | x << 2) & 0x33333333;\n\t\tx = (x | x << 1) & 0x55555555;\n\t\ty = (y | y << 8) & 0x00FF00FF;\n\t\ty = (y | y << 4) & 0x0F0F0F0F;\n\t\ty = (y | y << 2) & 0x33333333;\n\t\ty = (y | y << 1) & 0x55555555;\n\t\treturn x | y << 1;\n\t} // find the leftmost node of a polygon ring\n\n\n\tfunction getLeftmost(start) {\n\t\tlet p = start,\n\t\t\t\tleftmost = start;\n\n\t\tdo {\n\t\t\tif (p.x < leftmost.x || p.x === leftmost.x && p.y < leftmost.y) leftmost = p;\n\t\t\tp = p.next;\n\t\t} while (p !== start);\n\n\t\treturn leftmost;\n\t} // check if a point lies within a convex triangle\n\n\n\tfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n\t\treturn (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 && (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 && (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n\t} // check if a diagonal between two polygon nodes is valid (lies in polygon interior)\n\n\n\tfunction isValidDiagonal(a, b) {\n\t\treturn a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && ( // dones't intersect other edges\n\t\tlocallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && ( // locally visible\n\t\tarea(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors\n\t\tequals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\n\t} // signed area of a triangle\n\n\n\tfunction area(p, q, r) {\n\t\treturn (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n\t} // check if two points are equal\n\n\n\tfunction equals(p1, p2) {\n\t\treturn p1.x === p2.x && p1.y === p2.y;\n\t} // check if two segments intersect\n\n\n\tfunction intersects(p1, q1, p2, q2) {\n\t\tconst o1 = sign(area(p1, q1, p2));\n\t\tconst o2 = sign(area(p1, q1, q2));\n\t\tconst o3 = sign(area(p2, q2, p1));\n\t\tconst o4 = sign(area(p2, q2, q1));\n\t\tif (o1 !== o2 && o3 !== o4) return true; // general case\n\n\t\tif (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n\n\t\tif (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n\n\t\tif (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n\n\t\tif (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n\t\treturn false;\n\t} // for collinear points p, q, r, check if point q lies on segment pr\n\n\n\tfunction onSegment(p, q, r) {\n\t\treturn q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n\t}\n\n\tfunction sign(num) {\n\t\treturn num > 0 ? 1 : num < 0 ? -1 : 0;\n\t} // check if a polygon diagonal intersects any polygon segments\n\n\n\tfunction intersectsPolygon(a, b) {\n\t\tlet p = a;\n\n\t\tdo {\n\t\t\tif (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b)) return true;\n\t\t\tp = p.next;\n\t\t} while (p !== a);\n\n\t\treturn false;\n\t} // check if a polygon diagonal is locally inside the polygon\n\n\n\tfunction locallyInside(a, b) {\n\t\treturn area(a.prev, a, a.next) < 0 ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n\t} // check if the middle point of a polygon diagonal is inside the polygon\n\n\n\tfunction middleInside(a, b) {\n\t\tlet p = a,\n\t\t\t\tinside = false;\n\t\tconst px = (a.x + b.x) / 2,\n\t\t\t\t\tpy = (a.y + b.y) / 2;\n\n\t\tdo {\n\t\t\tif (p.y > py !== p.next.y > py && p.next.y !== p.y && px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x) inside = !inside;\n\t\t\tp = p.next;\n\t\t} while (p !== a);\n\n\t\treturn inside;\n\t} // link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n\t// if one belongs to the outer ring and another to a hole, it merges it into a single ring\n\n\n\tfunction splitPolygon(a, b) {\n\t\tconst a2 = new Node(a.i, a.x, a.y),\n\t\t\t\t\tb2 = new Node(b.i, b.x, b.y),\n\t\t\t\t\tan = a.next,\n\t\t\t\t\tbp = b.prev;\n\t\ta.next = b;\n\t\tb.prev = a;\n\t\ta2.next = an;\n\t\tan.prev = a2;\n\t\tb2.next = a2;\n\t\ta2.prev = b2;\n\t\tbp.next = b2;\n\t\tb2.prev = bp;\n\t\treturn b2;\n\t} // create a node and optionally link it with previous one (in a circular doubly linked list)\n\n\n\tfunction insertNode(i, x, y, last) {\n\t\tconst p = new Node(i, x, y);\n\n\t\tif (!last) {\n\t\t\tp.prev = p;\n\t\t\tp.next = p;\n\t\t} else {\n\t\t\tp.next = last.next;\n\t\t\tp.prev = last;\n\t\t\tlast.next.prev = p;\n\t\t\tlast.next = p;\n\t\t}\n\n\t\treturn p;\n\t}\n\n\tfunction removeNode(p) {\n\t\tp.next.prev = p.prev;\n\t\tp.prev.next = p.next;\n\t\tif (p.prevZ) p.prevZ.nextZ = p.nextZ;\n\t\tif (p.nextZ) p.nextZ.prevZ = p.prevZ;\n\t}\n\n\tfunction Node(i, x, y) {\n\t\t// vertex index in coordinates array\n\t\tthis.i = i; // vertex coordinates\n\n\t\tthis.x = x;\n\t\tthis.y = y; // previous and next vertex nodes in a polygon ring\n\n\t\tthis.prev = null;\n\t\tthis.next = null; // z-order curve value\n\n\t\tthis.z = null; // previous and next nodes in z-order\n\n\t\tthis.prevZ = null;\n\t\tthis.nextZ = null; // indicates whether this is a steiner point\n\n\t\tthis.steiner = false;\n\t}\n\n\tfunction signedArea(data, start, end, dim) {\n\t\tlet sum = 0;\n\n\t\tfor (let i = start, j = end - dim; i < end; i += dim) {\n\t\t\tsum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n\t\t\tj = i;\n\t\t}\n\n\t\treturn sum;\n\t}\n\n\tclass ShapeUtils {\n\t\t// calculate area of the contour polygon\n\t\tstatic area(contour) {\n\t\t\tconst n = contour.length;\n\t\t\tlet a = 0.0;\n\n\t\t\tfor (let p = n - 1, q = 0; q < n; p = q++) {\n\t\t\t\ta += contour[p].x * contour[q].y - contour[q].x * contour[p].y;\n\t\t\t}\n\n\t\t\treturn a * 0.5;\n\t\t}\n\n\t\tstatic isClockWise(pts) {\n\t\t\treturn ShapeUtils.area(pts) < 0;\n\t\t}\n\n\t\tstatic triangulateShape(contour, holes) {\n\t\t\tconst vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\n\t\t\tconst holeIndices = []; // array of hole indices\n\n\t\t\tconst faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\t\tremoveDupEndPts(contour);\n\t\t\taddContour(vertices, contour); //\n\n\t\t\tlet holeIndex = contour.length;\n\t\t\tholes.forEach(removeDupEndPts);\n\n\t\t\tfor (let i = 0; i < holes.length; i++) {\n\t\t\t\tholeIndices.push(holeIndex);\n\t\t\t\tholeIndex += holes[i].length;\n\t\t\t\taddContour(vertices, holes[i]);\n\t\t\t} //\n\n\n\t\t\tconst triangles = Earcut.triangulate(vertices, holeIndices); //\n\n\t\t\tfor (let i = 0; i < triangles.length; i += 3) {\n\t\t\t\tfaces.push(triangles.slice(i, i + 3));\n\t\t\t}\n\n\t\t\treturn faces;\n\t\t}\n\n\t}\n\n\tfunction removeDupEndPts(points) {\n\t\tconst l = points.length;\n\n\t\tif (l > 2 && points[l - 1].equals(points[0])) {\n\t\t\tpoints.pop();\n\t\t}\n\t}\n\n\tfunction addContour(vertices, contour) {\n\t\tfor (let i = 0; i < contour.length; i++) {\n\t\t\tvertices.push(contour[i].x);\n\t\t\tvertices.push(contour[i].y);\n\t\t}\n\t}\n\n\t/**\n\t * Creates extruded geometry from a path shape.\n\t *\n\t * parameters = {\n\t *\n\t *\tcurveSegments: <int>, // number of points on the curves\n\t *\tsteps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n\t *\tdepth: <float>, // Depth to extrude the shape\n\t *\n\t *\tbevelEnabled: <bool>, // turn on bevel\n\t *\tbevelThickness: <float>, // how deep into the original shape bevel goes\n\t *\tbevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n\t *\tbevelOffset: <float>, // how far from shape outline does bevel start\n\t *\tbevelSegments: <int>, // number of bevel layers\n\t *\n\t *\textrudePath: <THREE.Curve> // curve to extrude shape along\n\t *\n\t *\tUVGenerator: <Object> // object that provides UV generator functions\n\t *\n\t * }\n\t */\n\n\tclass ExtrudeGeometry extends BufferGeometry {\n\t\tconstructor(shapes = new Shape([new Vector2(0.5, 0.5), new Vector2(-0.5, 0.5), new Vector2(-0.5, -0.5), new Vector2(0.5, -0.5)]), options = {}) {\n\t\t\tsuper();\n\t\t\tthis.type = 'ExtrudeGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tshapes: shapes,\n\t\t\t\toptions: options\n\t\t\t};\n\t\t\tshapes = Array.isArray(shapes) ? shapes : [shapes];\n\t\t\tconst scope = this;\n\t\t\tconst verticesArray = [];\n\t\t\tconst uvArray = [];\n\n\t\t\tfor (let i = 0, l = shapes.length; i < l; i++) {\n\t\t\t\tconst shape = shapes[i];\n\t\t\t\taddShape(shape);\n\t\t\t} // build geometry\n\n\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(verticesArray, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvArray, 2));\n\t\t\tthis.computeVertexNormals(); // functions\n\n\t\t\tfunction addShape(shape) {\n\t\t\t\tconst placeholder = []; // options\n\n\t\t\t\tconst curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\t\t\tconst steps = options.steps !== undefined ? options.steps : 1;\n\t\t\t\tlet depth = options.depth !== undefined ? options.depth : 1;\n\t\t\t\tlet bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\t\t\tlet bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 0.2;\n\t\t\t\tlet bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 0.1;\n\t\t\t\tlet bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\t\t\tlet bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\t\t\t\tconst extrudePath = options.extrudePath;\n\t\t\t\tconst uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator; // deprecated options\n\n\t\t\t\tif (options.amount !== undefined) {\n\t\t\t\t\tconsole.warn('THREE.ExtrudeBufferGeometry: amount has been renamed to depth.');\n\t\t\t\t\tdepth = options.amount;\n\t\t\t\t} //\n\n\n\t\t\t\tlet extrudePts,\n\t\t\t\t\t\textrudeByPath = false;\n\t\t\t\tlet splineTube, binormal, normal, position2;\n\n\t\t\t\tif (extrudePath) {\n\t\t\t\t\textrudePts = extrudePath.getSpacedPoints(steps);\n\t\t\t\t\textrudeByPath = true;\n\t\t\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\t\t\t\t\t// SETUP TNB variables\n\t\t\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\t\t\tsplineTube = extrudePath.computeFrenetFrames(steps, false); // console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\t\t\tbinormal = new Vector3();\n\t\t\t\t\tnormal = new Vector3();\n\t\t\t\t\tposition2 = new Vector3();\n\t\t\t\t} // Safeguards if bevels are not enabled\n\n\n\t\t\t\tif (!bevelEnabled) {\n\t\t\t\t\tbevelSegments = 0;\n\t\t\t\t\tbevelThickness = 0;\n\t\t\t\t\tbevelSize = 0;\n\t\t\t\t\tbevelOffset = 0;\n\t\t\t\t} // Variables initialization\n\n\n\t\t\t\tconst shapePoints = shape.extractPoints(curveSegments);\n\t\t\t\tlet vertices = shapePoints.shape;\n\t\t\t\tconst holes = shapePoints.holes;\n\t\t\t\tconst reverse = !ShapeUtils.isClockWise(vertices);\n\n\t\t\t\tif (reverse) {\n\t\t\t\t\tvertices = vertices.reverse(); // Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\t\t\tfor (let h = 0, hl = holes.length; h < hl; h++) {\n\t\t\t\t\t\tconst ahole = holes[h];\n\n\t\t\t\t\t\tif (ShapeUtils.isClockWise(ahole)) {\n\t\t\t\t\t\t\tholes[h] = ahole.reverse();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst faces = ShapeUtils.triangulateShape(vertices, holes);\n\t\t\t\t/* Vertices */\n\n\t\t\t\tconst contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\t\t\tfor (let h = 0, hl = holes.length; h < hl; h++) {\n\t\t\t\t\tconst ahole = holes[h];\n\t\t\t\t\tvertices = vertices.concat(ahole);\n\t\t\t\t}\n\n\t\t\t\tfunction scalePt2(pt, vec, size) {\n\t\t\t\t\tif (!vec) console.error('THREE.ExtrudeGeometry: vec does not exist');\n\t\t\t\t\treturn vec.clone().multiplyScalar(size).add(pt);\n\t\t\t\t}\n\n\t\t\t\tconst vlen = vertices.length,\n\t\t\t\t\t\t\tflen = faces.length; // Find directions for point movement\n\n\t\t\t\tfunction getBevelVec(inPt, inPrev, inNext) {\n\t\t\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t\t\t//\t shifted by 1 unit (length of normalized vector) to the left\n\t\t\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t\t\t//\n\t\t\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t\t\t//\tadjacent edges of inPt at a distance of 1 unit on the left side.\n\t\t\t\t\tlet v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\t\t\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\t\t\tconst v_prev_x = inPt.x - inPrev.x,\n\t\t\t\t\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\t\t\tconst v_next_x = inNext.x - inPt.x,\n\t\t\t\t\t\t\t\tv_next_y = inNext.y - inPt.y;\n\t\t\t\t\tconst v_prev_lensq = v_prev_x * v_prev_x + v_prev_y * v_prev_y; // check for collinear edges\n\n\t\t\t\t\tconst collinear0 = v_prev_x * v_next_y - v_prev_y * v_next_x;\n\n\t\t\t\t\tif (Math.abs(collinear0) > Number.EPSILON) {\n\t\t\t\t\t\t// not collinear\n\t\t\t\t\t\t// length of vectors for normalizing\n\t\t\t\t\t\tconst v_prev_len = Math.sqrt(v_prev_lensq);\n\t\t\t\t\t\tconst v_next_len = Math.sqrt(v_next_x * v_next_x + v_next_y * v_next_y); // shift adjacent points by unit vectors to the left\n\n\t\t\t\t\t\tconst ptPrevShift_x = inPrev.x - v_prev_y / v_prev_len;\n\t\t\t\t\t\tconst ptPrevShift_y = inPrev.y + v_prev_x / v_prev_len;\n\t\t\t\t\t\tconst ptNextShift_x = inNext.x - v_next_y / v_next_len;\n\t\t\t\t\t\tconst ptNextShift_y = inNext.y + v_next_x / v_next_len; // scaling factor for v_prev to intersection point\n\n\t\t\t\t\t\tconst sf = ((ptNextShift_x - ptPrevShift_x) * v_next_y - (ptNextShift_y - ptPrevShift_y) * v_next_x) / (v_prev_x * v_next_y - v_prev_y * v_next_x); // vector from inPt to intersection point\n\n\t\t\t\t\t\tv_trans_x = ptPrevShift_x + v_prev_x * sf - inPt.x;\n\t\t\t\t\t\tv_trans_y = ptPrevShift_y + v_prev_y * sf - inPt.y; // Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t\t\t//\tbut prevent crazy spikes\n\n\t\t\t\t\t\tconst v_trans_lensq = v_trans_x * v_trans_x + v_trans_y * v_trans_y;\n\n\t\t\t\t\t\tif (v_trans_lensq <= 2) {\n\t\t\t\t\t\t\treturn new Vector2(v_trans_x, v_trans_y);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tshrink_by = Math.sqrt(v_trans_lensq / 2);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// handle special case of collinear edges\n\t\t\t\t\t\tlet direction_eq = false; // assumes: opposite\n\n\t\t\t\t\t\tif (v_prev_x > Number.EPSILON) {\n\t\t\t\t\t\t\tif (v_next_x > Number.EPSILON) {\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (v_prev_x < -Number.EPSILON) {\n\t\t\t\t\t\t\t\tif (v_next_x < -Number.EPSILON) {\n\t\t\t\t\t\t\t\t\tdirection_eq = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (Math.sign(v_prev_y) === Math.sign(v_next_y)) {\n\t\t\t\t\t\t\t\t\tdirection_eq = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (direction_eq) {\n\t\t\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\t\t\tv_trans_x = -v_prev_y;\n\t\t\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\t\t\tshrink_by = Math.sqrt(v_prev_lensq);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\t\t\tshrink_by = Math.sqrt(v_prev_lensq / 2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn new Vector2(v_trans_x / shrink_by, v_trans_y / shrink_by);\n\t\t\t\t}\n\n\t\t\t\tconst contourMovements = [];\n\n\t\t\t\tfor (let i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i++, j++, k++) {\n\t\t\t\t\tif (j === il) j = 0;\n\t\t\t\t\tif (k === il) k = 0; //\t(j)---(i)---(k)\n\t\t\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\t\t\tcontourMovements[i] = getBevelVec(contour[i], contour[j], contour[k]);\n\t\t\t\t}\n\n\t\t\t\tconst holesMovements = [];\n\t\t\t\tlet oneHoleMovements,\n\t\t\t\t\t\tverticesMovements = contourMovements.concat();\n\n\t\t\t\tfor (let h = 0, hl = holes.length; h < hl; h++) {\n\t\t\t\t\tconst ahole = holes[h];\n\t\t\t\t\toneHoleMovements = [];\n\n\t\t\t\t\tfor (let i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i++, j++, k++) {\n\t\t\t\t\t\tif (j === il) j = 0;\n\t\t\t\t\t\tif (k === il) k = 0; //\t(j)---(i)---(k)\n\n\t\t\t\t\t\toneHoleMovements[i] = getBevelVec(ahole[i], ahole[j], ahole[k]);\n\t\t\t\t\t}\n\n\t\t\t\t\tholesMovements.push(oneHoleMovements);\n\t\t\t\t\tverticesMovements = verticesMovements.concat(oneHoleMovements);\n\t\t\t\t} // Loop bevelSegments, 1 for the front, 1 for the back\n\n\n\t\t\t\tfor (let b = 0; b < bevelSegments; b++) {\n\t\t\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\t\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\t\tconst z = bevelThickness * Math.cos(t * Math.PI / 2);\n\t\t\t\t\tconst bs = bevelSize * Math.sin(t * Math.PI / 2) + bevelOffset; // contract shape\n\n\t\t\t\t\tfor (let i = 0, il = contour.length; i < il; i++) {\n\t\t\t\t\t\tconst vert = scalePt2(contour[i], contourMovements[i], bs);\n\t\t\t\t\t\tv(vert.x, vert.y, -z);\n\t\t\t\t\t} // expand holes\n\n\n\t\t\t\t\tfor (let h = 0, hl = holes.length; h < hl; h++) {\n\t\t\t\t\t\tconst ahole = holes[h];\n\t\t\t\t\t\toneHoleMovements = holesMovements[h];\n\n\t\t\t\t\t\tfor (let i = 0, il = ahole.length; i < il; i++) {\n\t\t\t\t\t\t\tconst vert = scalePt2(ahole[i], oneHoleMovements[i], bs);\n\t\t\t\t\t\t\tv(vert.x, vert.y, -z);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst bs = bevelSize + bevelOffset; // Back facing vertices\n\n\t\t\t\tfor (let i = 0; i < vlen; i++) {\n\t\t\t\t\tconst vert = bevelEnabled ? scalePt2(vertices[i], verticesMovements[i], bs) : vertices[i];\n\n\t\t\t\t\tif (!extrudeByPath) {\n\t\t\t\t\t\tv(vert.x, vert.y, 0);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\t\t\t\t\t\tnormal.copy(splineTube.normals[0]).multiplyScalar(vert.x);\n\t\t\t\t\t\tbinormal.copy(splineTube.binormals[0]).multiplyScalar(vert.y);\n\t\t\t\t\t\tposition2.copy(extrudePts[0]).add(normal).add(binormal);\n\t\t\t\t\t\tv(position2.x, position2.y, position2.z);\n\t\t\t\t\t}\n\t\t\t\t} // Add stepped vertices...\n\t\t\t\t// Including front facing vertices\n\n\n\t\t\t\tfor (let s = 1; s <= steps; s++) {\n\t\t\t\t\tfor (let i = 0; i < vlen; i++) {\n\t\t\t\t\t\tconst vert = bevelEnabled ? scalePt2(vertices[i], verticesMovements[i], bs) : vertices[i];\n\n\t\t\t\t\t\tif (!extrudeByPath) {\n\t\t\t\t\t\t\tv(vert.x, vert.y, depth / steps * s);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\t\t\t\t\t\t\tnormal.copy(splineTube.normals[s]).multiplyScalar(vert.x);\n\t\t\t\t\t\t\tbinormal.copy(splineTube.binormals[s]).multiplyScalar(vert.y);\n\t\t\t\t\t\t\tposition2.copy(extrudePts[s]).add(normal).add(binormal);\n\t\t\t\t\t\t\tv(position2.x, position2.y, position2.z);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} // Add bevel segments planes\n\t\t\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\n\n\t\t\t\tfor (let b = bevelSegments - 1; b >= 0; b--) {\n\t\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\t\tconst z = bevelThickness * Math.cos(t * Math.PI / 2);\n\t\t\t\t\tconst bs = bevelSize * Math.sin(t * Math.PI / 2) + bevelOffset; // contract shape\n\n\t\t\t\t\tfor (let i = 0, il = contour.length; i < il; i++) {\n\t\t\t\t\t\tconst vert = scalePt2(contour[i], contourMovements[i], bs);\n\t\t\t\t\t\tv(vert.x, vert.y, depth + z);\n\t\t\t\t\t} // expand holes\n\n\n\t\t\t\t\tfor (let h = 0, hl = holes.length; h < hl; h++) {\n\t\t\t\t\t\tconst ahole = holes[h];\n\t\t\t\t\t\toneHoleMovements = holesMovements[h];\n\n\t\t\t\t\t\tfor (let i = 0, il = ahole.length; i < il; i++) {\n\t\t\t\t\t\t\tconst vert = scalePt2(ahole[i], oneHoleMovements[i], bs);\n\n\t\t\t\t\t\t\tif (!extrudeByPath) {\n\t\t\t\t\t\t\t\tv(vert.x, vert.y, depth + z);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tv(vert.x, vert.y + extrudePts[steps - 1].y, extrudePts[steps - 1].x + z);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t/* Faces */\n\t\t\t\t// Top and bottom faces\n\n\n\t\t\t\tbuildLidFaces(); // Sides faces\n\n\t\t\t\tbuildSideFaces(); /////\tInternal functions\n\n\t\t\t\tfunction buildLidFaces() {\n\t\t\t\t\tconst start = verticesArray.length / 3;\n\n\t\t\t\t\tif (bevelEnabled) {\n\t\t\t\t\t\tlet layer = 0; // steps + 1\n\n\t\t\t\t\t\tlet offset = vlen * layer; // Bottom faces\n\n\t\t\t\t\t\tfor (let i = 0; i < flen; i++) {\n\t\t\t\t\t\t\tconst face = faces[i];\n\t\t\t\t\t\t\tf3(face[2] + offset, face[1] + offset, face[0] + offset);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\t\t\toffset = vlen * layer; // Top faces\n\n\t\t\t\t\t\tfor (let i = 0; i < flen; i++) {\n\t\t\t\t\t\t\tconst face = faces[i];\n\t\t\t\t\t\t\tf3(face[0] + offset, face[1] + offset, face[2] + offset);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Bottom faces\n\t\t\t\t\t\tfor (let i = 0; i < flen; i++) {\n\t\t\t\t\t\t\tconst face = faces[i];\n\t\t\t\t\t\t\tf3(face[2], face[1], face[0]);\n\t\t\t\t\t\t} // Top faces\n\n\n\t\t\t\t\t\tfor (let i = 0; i < flen; i++) {\n\t\t\t\t\t\t\tconst face = faces[i];\n\t\t\t\t\t\t\tf3(face[0] + vlen * steps, face[1] + vlen * steps, face[2] + vlen * steps);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.addGroup(start, verticesArray.length / 3 - start, 0);\n\t\t\t\t} // Create faces for the z-sides of the shape\n\n\n\t\t\t\tfunction buildSideFaces() {\n\t\t\t\t\tconst start = verticesArray.length / 3;\n\t\t\t\t\tlet layeroffset = 0;\n\t\t\t\t\tsidewalls(contour, layeroffset);\n\t\t\t\t\tlayeroffset += contour.length;\n\n\t\t\t\t\tfor (let h = 0, hl = holes.length; h < hl; h++) {\n\t\t\t\t\t\tconst ahole = holes[h];\n\t\t\t\t\t\tsidewalls(ahole, layeroffset); //, true\n\n\t\t\t\t\t\tlayeroffset += ahole.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.addGroup(start, verticesArray.length / 3 - start, 1);\n\t\t\t\t}\n\n\t\t\t\tfunction sidewalls(contour, layeroffset) {\n\t\t\t\t\tlet i = contour.length;\n\n\t\t\t\t\twhile (--i >= 0) {\n\t\t\t\t\t\tconst j = i;\n\t\t\t\t\t\tlet k = i - 1;\n\t\t\t\t\t\tif (k < 0) k = contour.length - 1; //console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\t\t\tfor (let s = 0, sl = steps + bevelSegments * 2; s < sl; s++) {\n\t\t\t\t\t\t\tconst slen1 = vlen * s;\n\t\t\t\t\t\t\tconst slen2 = vlen * (s + 1);\n\t\t\t\t\t\t\tconst a = layeroffset + j + slen1,\n\t\t\t\t\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\t\t\t\t\td = layeroffset + j + slen2;\n\t\t\t\t\t\t\tf4(a, b, c, d);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction v(x, y, z) {\n\t\t\t\t\tplaceholder.push(x);\n\t\t\t\t\tplaceholder.push(y);\n\t\t\t\t\tplaceholder.push(z);\n\t\t\t\t}\n\n\t\t\t\tfunction f3(a, b, c) {\n\t\t\t\t\taddVertex(a);\n\t\t\t\t\taddVertex(b);\n\t\t\t\t\taddVertex(c);\n\t\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\t\tconst uvs = uvgen.generateTopUV(scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1);\n\t\t\t\t\taddUV(uvs[0]);\n\t\t\t\t\taddUV(uvs[1]);\n\t\t\t\t\taddUV(uvs[2]);\n\t\t\t\t}\n\n\t\t\t\tfunction f4(a, b, c, d) {\n\t\t\t\t\taddVertex(a);\n\t\t\t\t\taddVertex(b);\n\t\t\t\t\taddVertex(d);\n\t\t\t\t\taddVertex(b);\n\t\t\t\t\taddVertex(c);\n\t\t\t\t\taddVertex(d);\n\t\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\t\tconst uvs = uvgen.generateSideWallUV(scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1);\n\t\t\t\t\taddUV(uvs[0]);\n\t\t\t\t\taddUV(uvs[1]);\n\t\t\t\t\taddUV(uvs[3]);\n\t\t\t\t\taddUV(uvs[1]);\n\t\t\t\t\taddUV(uvs[2]);\n\t\t\t\t\taddUV(uvs[3]);\n\t\t\t\t}\n\n\t\t\t\tfunction addVertex(index) {\n\t\t\t\t\tverticesArray.push(placeholder[index * 3 + 0]);\n\t\t\t\t\tverticesArray.push(placeholder[index * 3 + 1]);\n\t\t\t\t\tverticesArray.push(placeholder[index * 3 + 2]);\n\t\t\t\t}\n\n\t\t\t\tfunction addUV(vector2) {\n\t\t\t\t\tuvArray.push(vector2.x);\n\t\t\t\t\tuvArray.push(vector2.y);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tconst shapes = this.parameters.shapes;\n\t\t\tconst options = this.parameters.options;\n\t\t\treturn toJSON$1(shapes, options, data);\n\t\t}\n\n\t\tstatic fromJSON(data, shapes) {\n\t\t\tconst geometryShapes = [];\n\n\t\t\tfor (let j = 0, jl = data.shapes.length; j < jl; j++) {\n\t\t\t\tconst shape = shapes[data.shapes[j]];\n\t\t\t\tgeometryShapes.push(shape);\n\t\t\t}\n\n\t\t\tconst extrudePath = data.options.extrudePath;\n\n\t\t\tif (extrudePath !== undefined) {\n\t\t\t\tdata.options.extrudePath = new Curves[extrudePath.type]().fromJSON(extrudePath);\n\t\t\t}\n\n\t\t\treturn new ExtrudeGeometry(geometryShapes, data.options);\n\t\t}\n\n\t}\n\n\tconst WorldUVGenerator = {\n\t\tgenerateTopUV: function (geometry, vertices, indexA, indexB, indexC) {\n\t\t\tconst a_x = vertices[indexA * 3];\n\t\t\tconst a_y = vertices[indexA * 3 + 1];\n\t\t\tconst b_x = vertices[indexB * 3];\n\t\t\tconst b_y = vertices[indexB * 3 + 1];\n\t\t\tconst c_x = vertices[indexC * 3];\n\t\t\tconst c_y = vertices[indexC * 3 + 1];\n\t\t\treturn [new Vector2(a_x, a_y), new Vector2(b_x, b_y), new Vector2(c_x, c_y)];\n\t\t},\n\t\tgenerateSideWallUV: function (geometry, vertices, indexA, indexB, indexC, indexD) {\n\t\t\tconst a_x = vertices[indexA * 3];\n\t\t\tconst a_y = vertices[indexA * 3 + 1];\n\t\t\tconst a_z = vertices[indexA * 3 + 2];\n\t\t\tconst b_x = vertices[indexB * 3];\n\t\t\tconst b_y = vertices[indexB * 3 + 1];\n\t\t\tconst b_z = vertices[indexB * 3 + 2];\n\t\t\tconst c_x = vertices[indexC * 3];\n\t\t\tconst c_y = vertices[indexC * 3 + 1];\n\t\t\tconst c_z = vertices[indexC * 3 + 2];\n\t\t\tconst d_x = vertices[indexD * 3];\n\t\t\tconst d_y = vertices[indexD * 3 + 1];\n\t\t\tconst d_z = vertices[indexD * 3 + 2];\n\n\t\t\tif (Math.abs(a_y - b_y) < Math.abs(a_x - b_x)) {\n\t\t\t\treturn [new Vector2(a_x, 1 - a_z), new Vector2(b_x, 1 - b_z), new Vector2(c_x, 1 - c_z), new Vector2(d_x, 1 - d_z)];\n\t\t\t} else {\n\t\t\t\treturn [new Vector2(a_y, 1 - a_z), new Vector2(b_y, 1 - b_z), new Vector2(c_y, 1 - c_z), new Vector2(d_y, 1 - d_z)];\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction toJSON$1(shapes, options, data) {\n\t\tdata.shapes = [];\n\n\t\tif (Array.isArray(shapes)) {\n\t\t\tfor (let i = 0, l = shapes.length; i < l; i++) {\n\t\t\t\tconst shape = shapes[i];\n\t\t\t\tdata.shapes.push(shape.uuid);\n\t\t\t}\n\t\t} else {\n\t\t\tdata.shapes.push(shapes.uuid);\n\t\t}\n\n\t\tif (options.extrudePath !== undefined) data.options.extrudePath = options.extrudePath.toJSON();\n\t\treturn data;\n\t}\n\n\tclass IcosahedronGeometry extends PolyhedronGeometry {\n\t\tconstructor(radius = 1, detail = 0) {\n\t\t\tconst t = (1 + Math.sqrt(5)) / 2;\n\t\t\tconst vertices = [-1, t, 0, 1, t, 0, -1, -t, 0, 1, -t, 0, 0, -1, t, 0, 1, t, 0, -1, -t, 0, 1, -t, t, 0, -1, t, 0, 1, -t, 0, -1, -t, 0, 1];\n\t\t\tconst indices = [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1];\n\t\t\tsuper(vertices, indices, radius, detail);\n\t\t\tthis.type = 'IcosahedronGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\tdetail: detail\n\t\t\t};\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new IcosahedronGeometry(data.radius, data.detail);\n\t\t}\n\n\t}\n\n\tclass LatheGeometry extends BufferGeometry {\n\t\tconstructor(points = [new Vector2(0, 0.5), new Vector2(0.5, 0), new Vector2(0, -0.5)], segments = 12, phiStart = 0, phiLength = Math.PI * 2) {\n\t\t\tsuper();\n\t\t\tthis.type = 'LatheGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tpoints: points,\n\t\t\t\tsegments: segments,\n\t\t\t\tphiStart: phiStart,\n\t\t\t\tphiLength: phiLength\n\t\t\t};\n\t\t\tsegments = Math.floor(segments); // clamp phiLength so it's in range of [ 0, 2PI ]\n\n\t\t\tphiLength = clamp(phiLength, 0, Math.PI * 2); // buffers\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst uvs = [];\n\t\t\tconst initNormals = [];\n\t\t\tconst normals = []; // helper variables\n\n\t\t\tconst inverseSegments = 1.0 / segments;\n\t\t\tconst vertex = new Vector3();\n\t\t\tconst uv = new Vector2();\n\t\t\tconst normal = new Vector3();\n\t\t\tconst curNormal = new Vector3();\n\t\t\tconst prevNormal = new Vector3();\n\t\t\tlet dx = 0;\n\t\t\tlet dy = 0; // pre-compute normals for initial \"meridian\"\n\n\t\t\tfor (let j = 0; j <= points.length - 1; j++) {\n\t\t\t\tswitch (j) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\t// special handling for 1st vertex on path\n\t\t\t\t\t\tdx = points[j + 1].x - points[j].x;\n\t\t\t\t\t\tdy = points[j + 1].y - points[j].y;\n\t\t\t\t\t\tnormal.x = dy * 1.0;\n\t\t\t\t\t\tnormal.y = -dx;\n\t\t\t\t\t\tnormal.z = dy * 0.0;\n\t\t\t\t\t\tprevNormal.copy(normal);\n\t\t\t\t\t\tnormal.normalize();\n\t\t\t\t\t\tinitNormals.push(normal.x, normal.y, normal.z);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase points.length - 1:\n\t\t\t\t\t\t// special handling for last Vertex on path\n\t\t\t\t\t\tinitNormals.push(prevNormal.x, prevNormal.y, prevNormal.z);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t// default handling for all vertices in between\n\t\t\t\t\t\tdx = points[j + 1].x - points[j].x;\n\t\t\t\t\t\tdy = points[j + 1].y - points[j].y;\n\t\t\t\t\t\tnormal.x = dy * 1.0;\n\t\t\t\t\t\tnormal.y = -dx;\n\t\t\t\t\t\tnormal.z = dy * 0.0;\n\t\t\t\t\t\tcurNormal.copy(normal);\n\t\t\t\t\t\tnormal.x += prevNormal.x;\n\t\t\t\t\t\tnormal.y += prevNormal.y;\n\t\t\t\t\t\tnormal.z += prevNormal.z;\n\t\t\t\t\t\tnormal.normalize();\n\t\t\t\t\t\tinitNormals.push(normal.x, normal.y, normal.z);\n\t\t\t\t\t\tprevNormal.copy(curNormal);\n\t\t\t\t}\n\t\t\t} // generate vertices, uvs and normals\n\n\n\t\t\tfor (let i = 0; i <= segments; i++) {\n\t\t\t\tconst phi = phiStart + i * inverseSegments * phiLength;\n\t\t\t\tconst sin = Math.sin(phi);\n\t\t\t\tconst cos = Math.cos(phi);\n\n\t\t\t\tfor (let j = 0; j <= points.length - 1; j++) {\n\t\t\t\t\t// vertex\n\t\t\t\t\tvertex.x = points[j].x * sin;\n\t\t\t\t\tvertex.y = points[j].y;\n\t\t\t\t\tvertex.z = points[j].x * cos;\n\t\t\t\t\tvertices.push(vertex.x, vertex.y, vertex.z); // uv\n\n\t\t\t\t\tuv.x = i / segments;\n\t\t\t\t\tuv.y = j / (points.length - 1);\n\t\t\t\t\tuvs.push(uv.x, uv.y); // normal\n\n\t\t\t\t\tconst x = initNormals[3 * j + 0] * sin;\n\t\t\t\t\tconst y = initNormals[3 * j + 1];\n\t\t\t\t\tconst z = initNormals[3 * j + 0] * cos;\n\t\t\t\t\tnormals.push(x, y, z);\n\t\t\t\t}\n\t\t\t} // indices\n\n\n\t\t\tfor (let i = 0; i < segments; i++) {\n\t\t\t\tfor (let j = 0; j < points.length - 1; j++) {\n\t\t\t\t\tconst base = j + i * points.length;\n\t\t\t\t\tconst a = base;\n\t\t\t\t\tconst b = base + points.length;\n\t\t\t\t\tconst c = base + points.length + 1;\n\t\t\t\t\tconst d = base + 1; // faces\n\n\t\t\t\t\tindices.push(a, b, d);\n\t\t\t\t\tindices.push(b, c, d);\n\t\t\t\t}\n\t\t\t} // build geometry\n\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new LatheGeometry(data.points, data.segments, data.phiStart, data.phiLength);\n\t\t}\n\n\t}\n\n\tclass OctahedronGeometry extends PolyhedronGeometry {\n\t\tconstructor(radius = 1, detail = 0) {\n\t\t\tconst vertices = [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1];\n\t\t\tconst indices = [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2];\n\t\t\tsuper(vertices, indices, radius, detail);\n\t\t\tthis.type = 'OctahedronGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\tdetail: detail\n\t\t\t};\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new OctahedronGeometry(data.radius, data.detail);\n\t\t}\n\n\t}\n\n\tclass RingGeometry extends BufferGeometry {\n\t\tconstructor(innerRadius = 0.5, outerRadius = 1, thetaSegments = 8, phiSegments = 1, thetaStart = 0, thetaLength = Math.PI * 2) {\n\t\t\tsuper();\n\t\t\tthis.type = 'RingGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tinnerRadius: innerRadius,\n\t\t\t\touterRadius: outerRadius,\n\t\t\t\tthetaSegments: thetaSegments,\n\t\t\t\tphiSegments: phiSegments,\n\t\t\t\tthetaStart: thetaStart,\n\t\t\t\tthetaLength: thetaLength\n\t\t\t};\n\t\t\tthetaSegments = Math.max(3, thetaSegments);\n\t\t\tphiSegments = Math.max(1, phiSegments); // buffers\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = []; // some helper variables\n\n\t\t\tlet radius = innerRadius;\n\t\t\tconst radiusStep = (outerRadius - innerRadius) / phiSegments;\n\t\t\tconst vertex = new Vector3();\n\t\t\tconst uv = new Vector2(); // generate vertices, normals and uvs\n\n\t\t\tfor (let j = 0; j <= phiSegments; j++) {\n\t\t\t\tfor (let i = 0; i <= thetaSegments; i++) {\n\t\t\t\t\t// values are generate from the inside of the ring to the outside\n\t\t\t\t\tconst segment = thetaStart + i / thetaSegments * thetaLength; // vertex\n\n\t\t\t\t\tvertex.x = radius * Math.cos(segment);\n\t\t\t\t\tvertex.y = radius * Math.sin(segment);\n\t\t\t\t\tvertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n\t\t\t\t\tnormals.push(0, 0, 1); // uv\n\n\t\t\t\t\tuv.x = (vertex.x / outerRadius + 1) / 2;\n\t\t\t\t\tuv.y = (vertex.y / outerRadius + 1) / 2;\n\t\t\t\t\tuvs.push(uv.x, uv.y);\n\t\t\t\t} // increase the radius for next row of vertices\n\n\n\t\t\t\tradius += radiusStep;\n\t\t\t} // indices\n\n\n\t\t\tfor (let j = 0; j < phiSegments; j++) {\n\t\t\t\tconst thetaSegmentLevel = j * (thetaSegments + 1);\n\n\t\t\t\tfor (let i = 0; i < thetaSegments; i++) {\n\t\t\t\t\tconst segment = i + thetaSegmentLevel;\n\t\t\t\t\tconst a = segment;\n\t\t\t\t\tconst b = segment + thetaSegments + 1;\n\t\t\t\t\tconst c = segment + thetaSegments + 2;\n\t\t\t\t\tconst d = segment + 1; // faces\n\n\t\t\t\t\tindices.push(a, b, d);\n\t\t\t\t\tindices.push(b, c, d);\n\t\t\t\t}\n\t\t\t} // build geometry\n\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new RingGeometry(data.innerRadius, data.outerRadius, data.thetaSegments, data.phiSegments, data.thetaStart, data.thetaLength);\n\t\t}\n\n\t}\n\n\tclass ShapeGeometry extends BufferGeometry {\n\t\tconstructor(shapes = new Shape([new Vector2(0, 0.5), new Vector2(-0.5, -0.5), new Vector2(0.5, -0.5)]), curveSegments = 12) {\n\t\t\tsuper();\n\t\t\tthis.type = 'ShapeGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tshapes: shapes,\n\t\t\t\tcurveSegments: curveSegments\n\t\t\t}; // buffers\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = []; // helper variables\n\n\t\t\tlet groupStart = 0;\n\t\t\tlet groupCount = 0; // allow single and array values for \"shapes\" parameter\n\n\t\t\tif (Array.isArray(shapes) === false) {\n\t\t\t\taddShape(shapes);\n\t\t\t} else {\n\t\t\t\tfor (let i = 0; i < shapes.length; i++) {\n\t\t\t\t\taddShape(shapes[i]);\n\t\t\t\t\tthis.addGroup(groupStart, groupCount, i); // enables MultiMaterial support\n\n\t\t\t\t\tgroupStart += groupCount;\n\t\t\t\t\tgroupCount = 0;\n\t\t\t\t}\n\t\t\t} // build geometry\n\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2)); // helper functions\n\n\t\t\tfunction addShape(shape) {\n\t\t\t\tconst indexOffset = vertices.length / 3;\n\t\t\t\tconst points = shape.extractPoints(curveSegments);\n\t\t\t\tlet shapeVertices = points.shape;\n\t\t\t\tconst shapeHoles = points.holes; // check direction of vertices\n\n\t\t\t\tif (ShapeUtils.isClockWise(shapeVertices) === false) {\n\t\t\t\t\tshapeVertices = shapeVertices.reverse();\n\t\t\t\t}\n\n\t\t\t\tfor (let i = 0, l = shapeHoles.length; i < l; i++) {\n\t\t\t\t\tconst shapeHole = shapeHoles[i];\n\n\t\t\t\t\tif (ShapeUtils.isClockWise(shapeHole) === true) {\n\t\t\t\t\t\tshapeHoles[i] = shapeHole.reverse();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst faces = ShapeUtils.triangulateShape(shapeVertices, shapeHoles); // join vertices of inner and outer paths to a single array\n\n\t\t\t\tfor (let i = 0, l = shapeHoles.length; i < l; i++) {\n\t\t\t\t\tconst shapeHole = shapeHoles[i];\n\t\t\t\t\tshapeVertices = shapeVertices.concat(shapeHole);\n\t\t\t\t} // vertices, normals, uvs\n\n\n\t\t\t\tfor (let i = 0, l = shapeVertices.length; i < l; i++) {\n\t\t\t\t\tconst vertex = shapeVertices[i];\n\t\t\t\t\tvertices.push(vertex.x, vertex.y, 0);\n\t\t\t\t\tnormals.push(0, 0, 1);\n\t\t\t\t\tuvs.push(vertex.x, vertex.y); // world uvs\n\t\t\t\t} // incides\n\n\n\t\t\t\tfor (let i = 0, l = faces.length; i < l; i++) {\n\t\t\t\t\tconst face = faces[i];\n\t\t\t\t\tconst a = face[0] + indexOffset;\n\t\t\t\t\tconst b = face[1] + indexOffset;\n\t\t\t\t\tconst c = face[2] + indexOffset;\n\t\t\t\t\tindices.push(a, b, c);\n\t\t\t\t\tgroupCount += 3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tconst shapes = this.parameters.shapes;\n\t\t\treturn toJSON(shapes, data);\n\t\t}\n\n\t\tstatic fromJSON(data, shapes) {\n\t\t\tconst geometryShapes = [];\n\n\t\t\tfor (let j = 0, jl = data.shapes.length; j < jl; j++) {\n\t\t\t\tconst shape = shapes[data.shapes[j]];\n\t\t\t\tgeometryShapes.push(shape);\n\t\t\t}\n\n\t\t\treturn new ShapeGeometry(geometryShapes, data.curveSegments);\n\t\t}\n\n\t}\n\n\tfunction toJSON(shapes, data) {\n\t\tdata.shapes = [];\n\n\t\tif (Array.isArray(shapes)) {\n\t\t\tfor (let i = 0, l = shapes.length; i < l; i++) {\n\t\t\t\tconst shape = shapes[i];\n\t\t\t\tdata.shapes.push(shape.uuid);\n\t\t\t}\n\t\t} else {\n\t\t\tdata.shapes.push(shapes.uuid);\n\t\t}\n\n\t\treturn data;\n\t}\n\n\tclass SphereGeometry extends BufferGeometry {\n\t\tconstructor(radius = 1, widthSegments = 32, heightSegments = 16, phiStart = 0, phiLength = Math.PI * 2, thetaStart = 0, thetaLength = Math.PI) {\n\t\t\tsuper();\n\t\t\tthis.type = 'SphereGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\twidthSegments: widthSegments,\n\t\t\t\theightSegments: heightSegments,\n\t\t\t\tphiStart: phiStart,\n\t\t\t\tphiLength: phiLength,\n\t\t\t\tthetaStart: thetaStart,\n\t\t\t\tthetaLength: thetaLength\n\t\t\t};\n\t\t\twidthSegments = Math.max(3, Math.floor(widthSegments));\n\t\t\theightSegments = Math.max(2, Math.floor(heightSegments));\n\t\t\tconst thetaEnd = Math.min(thetaStart + thetaLength, Math.PI);\n\t\t\tlet index = 0;\n\t\t\tconst grid = [];\n\t\t\tconst vertex = new Vector3();\n\t\t\tconst normal = new Vector3(); // buffers\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = []; // generate vertices, normals and uvs\n\n\t\t\tfor (let iy = 0; iy <= heightSegments; iy++) {\n\t\t\t\tconst verticesRow = [];\n\t\t\t\tconst v = iy / heightSegments; // special case for the poles\n\n\t\t\t\tlet uOffset = 0;\n\n\t\t\t\tif (iy == 0 && thetaStart == 0) {\n\t\t\t\t\tuOffset = 0.5 / widthSegments;\n\t\t\t\t} else if (iy == heightSegments && thetaEnd == Math.PI) {\n\t\t\t\t\tuOffset = -0.5 / widthSegments;\n\t\t\t\t}\n\n\t\t\t\tfor (let ix = 0; ix <= widthSegments; ix++) {\n\t\t\t\t\tconst u = ix / widthSegments; // vertex\n\n\t\t\t\t\tvertex.x = -radius * Math.cos(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\n\t\t\t\t\tvertex.y = radius * Math.cos(thetaStart + v * thetaLength);\n\t\t\t\t\tvertex.z = radius * Math.sin(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\n\t\t\t\t\tvertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n\t\t\t\t\tnormal.copy(vertex).normalize();\n\t\t\t\t\tnormals.push(normal.x, normal.y, normal.z); // uv\n\n\t\t\t\t\tuvs.push(u + uOffset, 1 - v);\n\t\t\t\t\tverticesRow.push(index++);\n\t\t\t\t}\n\n\t\t\t\tgrid.push(verticesRow);\n\t\t\t} // indices\n\n\n\t\t\tfor (let iy = 0; iy < heightSegments; iy++) {\n\t\t\t\tfor (let ix = 0; ix < widthSegments; ix++) {\n\t\t\t\t\tconst a = grid[iy][ix + 1];\n\t\t\t\t\tconst b = grid[iy][ix];\n\t\t\t\t\tconst c = grid[iy + 1][ix];\n\t\t\t\t\tconst d = grid[iy + 1][ix + 1];\n\t\t\t\t\tif (iy !== 0 || thetaStart > 0) indices.push(a, b, d);\n\t\t\t\t\tif (iy !== heightSegments - 1 || thetaEnd < Math.PI) indices.push(b, c, d);\n\t\t\t\t}\n\t\t\t} // build geometry\n\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new SphereGeometry(data.radius, data.widthSegments, data.heightSegments, data.phiStart, data.phiLength, data.thetaStart, data.thetaLength);\n\t\t}\n\n\t}\n\n\tclass TetrahedronGeometry extends PolyhedronGeometry {\n\t\tconstructor(radius = 1, detail = 0) {\n\t\t\tconst vertices = [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1];\n\t\t\tconst indices = [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1];\n\t\t\tsuper(vertices, indices, radius, detail);\n\t\t\tthis.type = 'TetrahedronGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\tdetail: detail\n\t\t\t};\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new TetrahedronGeometry(data.radius, data.detail);\n\t\t}\n\n\t}\n\n\tclass TorusGeometry extends BufferGeometry {\n\t\tconstructor(radius = 1, tube = 0.4, radialSegments = 8, tubularSegments = 6, arc = Math.PI * 2) {\n\t\t\tsuper();\n\t\t\tthis.type = 'TorusGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\ttube: tube,\n\t\t\t\tradialSegments: radialSegments,\n\t\t\t\ttubularSegments: tubularSegments,\n\t\t\t\tarc: arc\n\t\t\t};\n\t\t\tradialSegments = Math.floor(radialSegments);\n\t\t\ttubularSegments = Math.floor(tubularSegments); // buffers\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = []; // helper variables\n\n\t\t\tconst center = new Vector3();\n\t\t\tconst vertex = new Vector3();\n\t\t\tconst normal = new Vector3(); // generate vertices, normals and uvs\n\n\t\t\tfor (let j = 0; j <= radialSegments; j++) {\n\t\t\t\tfor (let i = 0; i <= tubularSegments; i++) {\n\t\t\t\t\tconst u = i / tubularSegments * arc;\n\t\t\t\t\tconst v = j / radialSegments * Math.PI * 2; // vertex\n\n\t\t\t\t\tvertex.x = (radius + tube * Math.cos(v)) * Math.cos(u);\n\t\t\t\t\tvertex.y = (radius + tube * Math.cos(v)) * Math.sin(u);\n\t\t\t\t\tvertex.z = tube * Math.sin(v);\n\t\t\t\t\tvertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n\t\t\t\t\tcenter.x = radius * Math.cos(u);\n\t\t\t\t\tcenter.y = radius * Math.sin(u);\n\t\t\t\t\tnormal.subVectors(vertex, center).normalize();\n\t\t\t\t\tnormals.push(normal.x, normal.y, normal.z); // uv\n\n\t\t\t\t\tuvs.push(i / tubularSegments);\n\t\t\t\t\tuvs.push(j / radialSegments);\n\t\t\t\t}\n\t\t\t} // generate indices\n\n\n\t\t\tfor (let j = 1; j <= radialSegments; j++) {\n\t\t\t\tfor (let i = 1; i <= tubularSegments; i++) {\n\t\t\t\t\t// indices\n\t\t\t\t\tconst a = (tubularSegments + 1) * j + i - 1;\n\t\t\t\t\tconst b = (tubularSegments + 1) * (j - 1) + i - 1;\n\t\t\t\t\tconst c = (tubularSegments + 1) * (j - 1) + i;\n\t\t\t\t\tconst d = (tubularSegments + 1) * j + i; // faces\n\n\t\t\t\t\tindices.push(a, b, d);\n\t\t\t\t\tindices.push(b, c, d);\n\t\t\t\t}\n\t\t\t} // build geometry\n\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new TorusGeometry(data.radius, data.tube, data.radialSegments, data.tubularSegments, data.arc);\n\t\t}\n\n\t}\n\n\tclass TorusKnotGeometry extends BufferGeometry {\n\t\tconstructor(radius = 1, tube = 0.4, tubularSegments = 64, radialSegments = 8, p = 2, q = 3) {\n\t\t\tsuper();\n\t\t\tthis.type = 'TorusKnotGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\ttube: tube,\n\t\t\t\ttubularSegments: tubularSegments,\n\t\t\t\tradialSegments: radialSegments,\n\t\t\t\tp: p,\n\t\t\t\tq: q\n\t\t\t};\n\t\t\ttubularSegments = Math.floor(tubularSegments);\n\t\t\tradialSegments = Math.floor(radialSegments); // buffers\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = []; // helper variables\n\n\t\t\tconst vertex = new Vector3();\n\t\t\tconst normal = new Vector3();\n\t\t\tconst P1 = new Vector3();\n\t\t\tconst P2 = new Vector3();\n\t\t\tconst B = new Vector3();\n\t\t\tconst T = new Vector3();\n\t\t\tconst N = new Vector3(); // generate vertices, normals and uvs\n\n\t\t\tfor (let i = 0; i <= tubularSegments; ++i) {\n\t\t\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\t\t\t\tconst u = i / tubularSegments * p * Math.PI * 2; // now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\t\t\tcalculatePositionOnCurve(u, p, q, radius, P1);\n\t\t\t\tcalculatePositionOnCurve(u + 0.01, p, q, radius, P2); // calculate orthonormal basis\n\n\t\t\t\tT.subVectors(P2, P1);\n\t\t\t\tN.addVectors(P2, P1);\n\t\t\t\tB.crossVectors(T, N);\n\t\t\t\tN.crossVectors(B, T); // normalize B, N. T can be ignored, we don't use it\n\n\t\t\t\tB.normalize();\n\t\t\t\tN.normalize();\n\n\t\t\t\tfor (let j = 0; j <= radialSegments; ++j) {\n\t\t\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\t\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\t\t\t\t\tconst cx = -tube * Math.cos(v);\n\t\t\t\t\tconst cy = tube * Math.sin(v); // now calculate the final vertex position.\n\t\t\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n\t\t\t\t\tvertex.x = P1.x + (cx * N.x + cy * B.x);\n\t\t\t\t\tvertex.y = P1.y + (cx * N.y + cy * B.y);\n\t\t\t\t\tvertex.z = P1.z + (cx * N.z + cy * B.z);\n\t\t\t\t\tvertices.push(vertex.x, vertex.y, vertex.z); // normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\t\t\tnormal.subVectors(vertex, P1).normalize();\n\t\t\t\t\tnormals.push(normal.x, normal.y, normal.z); // uv\n\n\t\t\t\t\tuvs.push(i / tubularSegments);\n\t\t\t\t\tuvs.push(j / radialSegments);\n\t\t\t\t}\n\t\t\t} // generate indices\n\n\n\t\t\tfor (let j = 1; j <= tubularSegments; j++) {\n\t\t\t\tfor (let i = 1; i <= radialSegments; i++) {\n\t\t\t\t\t// indices\n\t\t\t\t\tconst a = (radialSegments + 1) * (j - 1) + (i - 1);\n\t\t\t\t\tconst b = (radialSegments + 1) * j + (i - 1);\n\t\t\t\t\tconst c = (radialSegments + 1) * j + i;\n\t\t\t\t\tconst d = (radialSegments + 1) * (j - 1) + i; // faces\n\n\t\t\t\t\tindices.push(a, b, d);\n\t\t\t\t\tindices.push(b, c, d);\n\t\t\t\t}\n\t\t\t} // build geometry\n\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2)); // this function calculates the current position on the torus curve\n\n\t\t\tfunction calculatePositionOnCurve(u, p, q, radius, position) {\n\t\t\t\tconst cu = Math.cos(u);\n\t\t\t\tconst su = Math.sin(u);\n\t\t\t\tconst quOverP = q / p * u;\n\t\t\t\tconst cs = Math.cos(quOverP);\n\t\t\t\tposition.x = radius * (2 + cs) * 0.5 * cu;\n\t\t\t\tposition.y = radius * (2 + cs) * su * 0.5;\n\t\t\t\tposition.z = radius * Math.sin(quOverP) * 0.5;\n\t\t\t}\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new TorusKnotGeometry(data.radius, data.tube, data.tubularSegments, data.radialSegments, data.p, data.q);\n\t\t}\n\n\t}\n\n\tclass TubeGeometry extends BufferGeometry {\n\t\tconstructor(path = new QuadraticBezierCurve3(new Vector3(-1, -1, 0), new Vector3(-1, 1, 0), new Vector3(1, 1, 0)), tubularSegments = 64, radius = 1, radialSegments = 8, closed = false) {\n\t\t\tsuper();\n\t\t\tthis.type = 'TubeGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tpath: path,\n\t\t\t\ttubularSegments: tubularSegments,\n\t\t\t\tradius: radius,\n\t\t\t\tradialSegments: radialSegments,\n\t\t\t\tclosed: closed\n\t\t\t};\n\t\t\tconst frames = path.computeFrenetFrames(tubularSegments, closed); // expose internals\n\n\t\t\tthis.tangents = frames.tangents;\n\t\t\tthis.normals = frames.normals;\n\t\t\tthis.binormals = frames.binormals; // helper variables\n\n\t\t\tconst vertex = new Vector3();\n\t\t\tconst normal = new Vector3();\n\t\t\tconst uv = new Vector2();\n\t\t\tlet P = new Vector3(); // buffer\n\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = [];\n\t\t\tconst indices = []; // create buffer data\n\n\t\t\tgenerateBufferData(); // build geometry\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2)); // functions\n\n\t\t\tfunction generateBufferData() {\n\t\t\t\tfor (let i = 0; i < tubularSegments; i++) {\n\t\t\t\t\tgenerateSegment(i);\n\t\t\t\t} // if the geometry is not closed, generate the last row of vertices and normals\n\t\t\t\t// at the regular position on the given path\n\t\t\t\t//\n\t\t\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\n\t\t\t\tgenerateSegment(closed === false ? tubularSegments : 0); // uvs are generated in a separate function.\n\t\t\t\t// this makes it easy compute correct values for closed geometries\n\n\t\t\t\tgenerateUVs(); // finally create faces\n\n\t\t\t\tgenerateIndices();\n\t\t\t}\n\n\t\t\tfunction generateSegment(i) {\n\t\t\t\t// we use getPointAt to sample evenly distributed points from the given path\n\t\t\t\tP = path.getPointAt(i / tubularSegments, P); // retrieve corresponding normal and binormal\n\n\t\t\t\tconst N = frames.normals[i];\n\t\t\t\tconst B = frames.binormals[i]; // generate normals and vertices for the current segment\n\n\t\t\t\tfor (let j = 0; j <= radialSegments; j++) {\n\t\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\t\t\t\t\tconst sin = Math.sin(v);\n\t\t\t\t\tconst cos = -Math.cos(v); // normal\n\n\t\t\t\t\tnormal.x = cos * N.x + sin * B.x;\n\t\t\t\t\tnormal.y = cos * N.y + sin * B.y;\n\t\t\t\t\tnormal.z = cos * N.z + sin * B.z;\n\t\t\t\t\tnormal.normalize();\n\t\t\t\t\tnormals.push(normal.x, normal.y, normal.z); // vertex\n\n\t\t\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\t\t\tvertex.z = P.z + radius * normal.z;\n\t\t\t\t\tvertices.push(vertex.x, vertex.y, vertex.z);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction generateIndices() {\n\t\t\t\tfor (let j = 1; j <= tubularSegments; j++) {\n\t\t\t\t\tfor (let i = 1; i <= radialSegments; i++) {\n\t\t\t\t\t\tconst a = (radialSegments + 1) * (j - 1) + (i - 1);\n\t\t\t\t\t\tconst b = (radialSegments + 1) * j + (i - 1);\n\t\t\t\t\t\tconst c = (radialSegments + 1) * j + i;\n\t\t\t\t\t\tconst d = (radialSegments + 1) * (j - 1) + i; // faces\n\n\t\t\t\t\t\tindices.push(a, b, d);\n\t\t\t\t\t\tindices.push(b, c, d);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction generateUVs() {\n\t\t\t\tfor (let i = 0; i <= tubularSegments; i++) {\n\t\t\t\t\tfor (let j = 0; j <= radialSegments; j++) {\n\t\t\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\t\t\tuv.y = j / radialSegments;\n\t\t\t\t\t\tuvs.push(uv.x, uv.y);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.path = this.parameters.path.toJSON();\n\t\t\treturn data;\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\t\treturn new TubeGeometry(new Curves[data.path.type]().fromJSON(data.path), data.tubularSegments, data.radius, data.radialSegments, data.closed);\n\t\t}\n\n\t}\n\n\tclass WireframeGeometry extends BufferGeometry {\n\t\tconstructor(geometry = null) {\n\t\t\tsuper();\n\t\t\tthis.type = 'WireframeGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tgeometry: geometry\n\t\t\t};\n\n\t\t\tif (geometry !== null) {\n\t\t\t\t// buffer\n\t\t\t\tconst vertices = [];\n\t\t\t\tconst edges = new Set(); // helper variables\n\n\t\t\t\tconst start = new Vector3();\n\t\t\t\tconst end = new Vector3();\n\n\t\t\t\tif (geometry.index !== null) {\n\t\t\t\t\t// indexed BufferGeometry\n\t\t\t\t\tconst position = geometry.attributes.position;\n\t\t\t\t\tconst indices = geometry.index;\n\t\t\t\t\tlet groups = geometry.groups;\n\n\t\t\t\t\tif (groups.length === 0) {\n\t\t\t\t\t\tgroups = [{\n\t\t\t\t\t\t\tstart: 0,\n\t\t\t\t\t\t\tcount: indices.count,\n\t\t\t\t\t\t\tmaterialIndex: 0\n\t\t\t\t\t\t}];\n\t\t\t\t\t} // create a data structure that contains all eges without duplicates\n\n\n\t\t\t\t\tfor (let o = 0, ol = groups.length; o < ol; ++o) {\n\t\t\t\t\t\tconst group = groups[o];\n\t\t\t\t\t\tconst groupStart = group.start;\n\t\t\t\t\t\tconst groupCount = group.count;\n\n\t\t\t\t\t\tfor (let i = groupStart, l = groupStart + groupCount; i < l; i += 3) {\n\t\t\t\t\t\t\tfor (let j = 0; j < 3; j++) {\n\t\t\t\t\t\t\t\tconst index1 = indices.getX(i + j);\n\t\t\t\t\t\t\t\tconst index2 = indices.getX(i + (j + 1) % 3);\n\t\t\t\t\t\t\t\tstart.fromBufferAttribute(position, index1);\n\t\t\t\t\t\t\t\tend.fromBufferAttribute(position, index2);\n\n\t\t\t\t\t\t\t\tif (isUniqueEdge(start, end, edges) === true) {\n\t\t\t\t\t\t\t\t\tvertices.push(start.x, start.y, start.z);\n\t\t\t\t\t\t\t\t\tvertices.push(end.x, end.y, end.z);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// non-indexed BufferGeometry\n\t\t\t\t\tconst position = geometry.attributes.position;\n\n\t\t\t\t\tfor (let i = 0, l = position.count / 3; i < l; i++) {\n\t\t\t\t\t\tfor (let j = 0; j < 3; j++) {\n\t\t\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\t\t\t\t\t\t\tconst index1 = 3 * i + j;\n\t\t\t\t\t\t\tconst index2 = 3 * i + (j + 1) % 3;\n\t\t\t\t\t\t\tstart.fromBufferAttribute(position, index1);\n\t\t\t\t\t\t\tend.fromBufferAttribute(position, index2);\n\n\t\t\t\t\t\t\tif (isUniqueEdge(start, end, edges) === true) {\n\t\t\t\t\t\t\t\tvertices.push(start.x, start.y, start.z);\n\t\t\t\t\t\t\t\tvertices.push(end.x, end.y, end.z);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} // build geometry\n\n\n\t\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\t}\n\t\t}\n\n\t}\n\n\tfunction isUniqueEdge(start, end, edges) {\n\t\tconst hash1 = `${start.x},${start.y},${start.z}-${end.x},${end.y},${end.z}`;\n\t\tconst hash2 = `${end.x},${end.y},${end.z}-${start.x},${start.y},${start.z}`; // coincident edge\n\n\t\tif (edges.has(hash1) === true || edges.has(hash2) === true) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\tedges.add(hash1, hash2);\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tvar Geometries = /*#__PURE__*/Object.freeze({\n\t\t__proto__: null,\n\t\tBoxGeometry: BoxGeometry,\n\t\tBoxBufferGeometry: BoxGeometry,\n\t\tCircleGeometry: CircleGeometry,\n\t\tCircleBufferGeometry: CircleGeometry,\n\t\tConeGeometry: ConeGeometry,\n\t\tConeBufferGeometry: ConeGeometry,\n\t\tCylinderGeometry: CylinderGeometry,\n\t\tCylinderBufferGeometry: CylinderGeometry,\n\t\tDodecahedronGeometry: DodecahedronGeometry,\n\t\tDodecahedronBufferGeometry: DodecahedronGeometry,\n\t\tEdgesGeometry: EdgesGeometry,\n\t\tExtrudeGeometry: ExtrudeGeometry,\n\t\tExtrudeBufferGeometry: ExtrudeGeometry,\n\t\tIcosahedronGeometry: IcosahedronGeometry,\n\t\tIcosahedronBufferGeometry: IcosahedronGeometry,\n\t\tLatheGeometry: LatheGeometry,\n\t\tLatheBufferGeometry: LatheGeometry,\n\t\tOctahedronGeometry: OctahedronGeometry,\n\t\tOctahedronBufferGeometry: OctahedronGeometry,\n\t\tPlaneGeometry: PlaneGeometry,\n\t\tPlaneBufferGeometry: PlaneGeometry,\n\t\tPolyhedronGeometry: PolyhedronGeometry,\n\t\tPolyhedronBufferGeometry: PolyhedronGeometry,\n\t\tRingGeometry: RingGeometry,\n\t\tRingBufferGeometry: RingGeometry,\n\t\tShapeGeometry: ShapeGeometry,\n\t\tShapeBufferGeometry: ShapeGeometry,\n\t\tSphereGeometry: SphereGeometry,\n\t\tSphereBufferGeometry: SphereGeometry,\n\t\tTetrahedronGeometry: TetrahedronGeometry,\n\t\tTetrahedronBufferGeometry: TetrahedronGeometry,\n\t\tTorusGeometry: TorusGeometry,\n\t\tTorusBufferGeometry: TorusGeometry,\n\t\tTorusKnotGeometry: TorusKnotGeometry,\n\t\tTorusKnotBufferGeometry: TorusKnotGeometry,\n\t\tTubeGeometry: TubeGeometry,\n\t\tTubeBufferGeometry: TubeGeometry,\n\t\tWireframeGeometry: WireframeGeometry\n\t});\n\n\t/**\n\t * parameters = {\n\t *\tcolor: <THREE.Color>\n\t * }\n\t */\n\n\tclass ShadowMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.type = 'ShadowMaterial';\n\t\t\tthis.color = new Color(0x000000);\n\t\t\tthis.transparent = true;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.color.copy(source.color);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tShadowMaterial.prototype.isShadowMaterial = true;\n\n\t/**\n\t * parameters = {\n\t *\tcolor: <hex>,\n\t *\troughness: <float>,\n\t *\tmetalness: <float>,\n\t *\topacity: <float>,\n\t *\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\n\t *\tlightMap: new THREE.Texture( <Image> ),\n\t *\tlightMapIntensity: <float>\n\t *\n\t *\taoMap: new THREE.Texture( <Image> ),\n\t *\taoMapIntensity: <float>\n\t *\n\t *\temissive: <hex>,\n\t *\temissiveIntensity: <float>\n\t *\temissiveMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tbumpMap: new THREE.Texture( <Image> ),\n\t *\tbumpScale: <float>,\n\t *\n\t *\tnormalMap: new THREE.Texture( <Image> ),\n\t *\tnormalMapType: THREE.TangentSpaceNormalMap,\n\t *\tnormalScale: <Vector2>,\n\t *\n\t *\tdisplacementMap: new THREE.Texture( <Image> ),\n\t *\tdisplacementScale: <float>,\n\t *\tdisplacementBias: <float>,\n\t *\n\t *\troughnessMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tmetalnessMap: new THREE.Texture( <Image> ),\n\t *\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tenvMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n\t *\tenvMapIntensity: <float>\n\t *\n\t *\trefractionRatio: <float>,\n\t *\n\t *\twireframe: <boolean>,\n\t *\twireframeLinewidth: <float>,\n\t *\n\t *\tflatShading: <bool>\n\t * }\n\t */\n\n\tclass MeshStandardMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.defines = {\n\t\t\t\t'STANDARD': ''\n\t\t\t};\n\t\t\tthis.type = 'MeshStandardMaterial';\n\t\t\tthis.color = new Color(0xffffff); // diffuse\n\n\t\t\tthis.roughness = 1.0;\n\t\t\tthis.metalness = 0.0;\n\t\t\tthis.map = null;\n\t\t\tthis.lightMap = null;\n\t\t\tthis.lightMapIntensity = 1.0;\n\t\t\tthis.aoMap = null;\n\t\t\tthis.aoMapIntensity = 1.0;\n\t\t\tthis.emissive = new Color(0x000000);\n\t\t\tthis.emissiveIntensity = 1.0;\n\t\t\tthis.emissiveMap = null;\n\t\t\tthis.bumpMap = null;\n\t\t\tthis.bumpScale = 1;\n\t\t\tthis.normalMap = null;\n\t\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\t\tthis.normalScale = new Vector2(1, 1);\n\t\t\tthis.displacementMap = null;\n\t\t\tthis.displacementScale = 1;\n\t\t\tthis.displacementBias = 0;\n\t\t\tthis.roughnessMap = null;\n\t\t\tthis.metalnessMap = null;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.envMap = null;\n\t\t\tthis.envMapIntensity = 1.0;\n\t\t\tthis.refractionRatio = 0.98;\n\t\t\tthis.wireframe = false;\n\t\t\tthis.wireframeLinewidth = 1;\n\t\t\tthis.wireframeLinecap = 'round';\n\t\t\tthis.wireframeLinejoin = 'round';\n\t\t\tthis.flatShading = false;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.defines = {\n\t\t\t\t'STANDARD': ''\n\t\t\t};\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.roughness = source.roughness;\n\t\t\tthis.metalness = source.metalness;\n\t\t\tthis.map = source.map;\n\t\t\tthis.lightMap = source.lightMap;\n\t\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\t\t\tthis.aoMap = source.aoMap;\n\t\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\t\t\tthis.emissive.copy(source.emissive);\n\t\t\tthis.emissiveMap = source.emissiveMap;\n\t\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\t\t\tthis.bumpMap = source.bumpMap;\n\t\t\tthis.bumpScale = source.bumpScale;\n\t\t\tthis.normalMap = source.normalMap;\n\t\t\tthis.normalMapType = source.normalMapType;\n\t\t\tthis.normalScale.copy(source.normalScale);\n\t\t\tthis.displacementMap = source.displacementMap;\n\t\t\tthis.displacementScale = source.displacementScale;\n\t\t\tthis.displacementBias = source.displacementBias;\n\t\t\tthis.roughnessMap = source.roughnessMap;\n\t\t\tthis.metalnessMap = source.metalnessMap;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.envMap = source.envMap;\n\t\t\tthis.envMapIntensity = source.envMapIntensity;\n\t\t\tthis.refractionRatio = source.refractionRatio;\n\t\t\tthis.wireframe = source.wireframe;\n\t\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\t\t\tthis.flatShading = source.flatShading;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\n\t/**\n\t * parameters = {\n\t *\tclearcoat: <float>,\n\t *\tclearcoatMap: new THREE.Texture( <Image> ),\n\t *\tclearcoatRoughness: <float>,\n\t *\tclearcoatRoughnessMap: new THREE.Texture( <Image> ),\n\t *\tclearcoatNormalScale: <Vector2>,\n\t *\tclearcoatNormalMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tior: <float>,\n\t *\treflectivity: <float>,\n\t *\n\t *\tsheen: <float>,\n\t *\tsheenColor: <Color>,\n\t *\tsheenColorMap: new THREE.Texture( <Image> ),\n\t *\tsheenRoughness: <float>,\n\t *\tsheenRoughnessMap: new THREE.Texture( <Image> ),\n\t *\n\t *\ttransmission: <float>,\n\t *\ttransmissionMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tthickness: <float>,\n\t *\tthicknessMap: new THREE.Texture( <Image> ),\n\t *\tattenuationDistance: <float>,\n\t *\tattenuationColor: <Color>,\n\t *\n\t *\tspecularIntensity: <float>,\n\t *\tspecularIntensityMap: new THREE.Texture( <Image> ),\n\t *\tspecularColor: <Color>,\n\t *\tspecularColorMap: new THREE.Texture( <Image> )\n\t * }\n\t */\n\n\tclass MeshPhysicalMaterial extends MeshStandardMaterial {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.defines = {\n\t\t\t\t'STANDARD': '',\n\t\t\t\t'PHYSICAL': ''\n\t\t\t};\n\t\t\tthis.type = 'MeshPhysicalMaterial';\n\t\t\tthis.clearcoatMap = null;\n\t\t\tthis.clearcoatRoughness = 0.0;\n\t\t\tthis.clearcoatRoughnessMap = null;\n\t\t\tthis.clearcoatNormalScale = new Vector2(1, 1);\n\t\t\tthis.clearcoatNormalMap = null;\n\t\t\tthis.ior = 1.5;\n\t\t\tObject.defineProperty(this, 'reflectivity', {\n\t\t\t\tget: function () {\n\t\t\t\t\treturn clamp(2.5 * (this.ior - 1) / (this.ior + 1), 0, 1);\n\t\t\t\t},\n\t\t\t\tset: function (reflectivity) {\n\t\t\t\t\tthis.ior = (1 + 0.4 * reflectivity) / (1 - 0.4 * reflectivity);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.sheenColor = new Color(0x000000);\n\t\t\tthis.sheenColorMap = null;\n\t\t\tthis.sheenRoughness = 1.0;\n\t\t\tthis.sheenRoughnessMap = null;\n\t\t\tthis.transmissionMap = null;\n\t\t\tthis.thickness = 0;\n\t\t\tthis.thicknessMap = null;\n\t\t\tthis.attenuationDistance = 0.0;\n\t\t\tthis.attenuationColor = new Color(1, 1, 1);\n\t\t\tthis.specularIntensity = 1.0;\n\t\t\tthis.specularIntensityMap = null;\n\t\t\tthis.specularColor = new Color(1, 1, 1);\n\t\t\tthis.specularColorMap = null;\n\t\t\tthis._sheen = 0.0;\n\t\t\tthis._clearcoat = 0;\n\t\t\tthis._transmission = 0;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tget sheen() {\n\t\t\treturn this._sheen;\n\t\t}\n\n\t\tset sheen(value) {\n\t\t\tif (this._sheen > 0 !== value > 0) {\n\t\t\t\tthis.version++;\n\t\t\t}\n\n\t\t\tthis._sheen = value;\n\t\t}\n\n\t\tget clearcoat() {\n\t\t\treturn this._clearcoat;\n\t\t}\n\n\t\tset clearcoat(value) {\n\t\t\tif (this._clearcoat > 0 !== value > 0) {\n\t\t\t\tthis.version++;\n\t\t\t}\n\n\t\t\tthis._clearcoat = value;\n\t\t}\n\n\t\tget transmission() {\n\t\t\treturn this._transmission;\n\t\t}\n\n\t\tset transmission(value) {\n\t\t\tif (this._transmission > 0 !== value > 0) {\n\t\t\t\tthis.version++;\n\t\t\t}\n\n\t\t\tthis._transmission = value;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.defines = {\n\t\t\t\t'STANDARD': '',\n\t\t\t\t'PHYSICAL': ''\n\t\t\t};\n\t\t\tthis.clearcoat = source.clearcoat;\n\t\t\tthis.clearcoatMap = source.clearcoatMap;\n\t\t\tthis.clearcoatRoughness = source.clearcoatRoughness;\n\t\t\tthis.clearcoatRoughnessMap = source.clearcoatRoughnessMap;\n\t\t\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\n\t\t\tthis.clearcoatNormalScale.copy(source.clearcoatNormalScale);\n\t\t\tthis.ior = source.ior;\n\t\t\tthis.sheen = source.sheen;\n\t\t\tthis.sheenColor.copy(source.sheenColor);\n\t\t\tthis.sheenColorMap = source.sheenColorMap;\n\t\t\tthis.sheenRoughness = source.sheenRoughness;\n\t\t\tthis.sheenRoughnessMap = source.sheenRoughnessMap;\n\t\t\tthis.transmission = source.transmission;\n\t\t\tthis.transmissionMap = source.transmissionMap;\n\t\t\tthis.thickness = source.thickness;\n\t\t\tthis.thicknessMap = source.thicknessMap;\n\t\t\tthis.attenuationDistance = source.attenuationDistance;\n\t\t\tthis.attenuationColor.copy(source.attenuationColor);\n\t\t\tthis.specularIntensity = source.specularIntensity;\n\t\t\tthis.specularIntensityMap = source.specularIntensityMap;\n\t\t\tthis.specularColor.copy(source.specularColor);\n\t\t\tthis.specularColorMap = source.specularColorMap;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\n\t/**\n\t * parameters = {\n\t *\tcolor: <hex>,\n\t *\tspecular: <hex>,\n\t *\tshininess: <float>,\n\t *\topacity: <float>,\n\t *\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\n\t *\tlightMap: new THREE.Texture( <Image> ),\n\t *\tlightMapIntensity: <float>\n\t *\n\t *\taoMap: new THREE.Texture( <Image> ),\n\t *\taoMapIntensity: <float>\n\t *\n\t *\temissive: <hex>,\n\t *\temissiveIntensity: <float>\n\t *\temissiveMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tbumpMap: new THREE.Texture( <Image> ),\n\t *\tbumpScale: <float>,\n\t *\n\t *\tnormalMap: new THREE.Texture( <Image> ),\n\t *\tnormalMapType: THREE.TangentSpaceNormalMap,\n\t *\tnormalScale: <Vector2>,\n\t *\n\t *\tdisplacementMap: new THREE.Texture( <Image> ),\n\t *\tdisplacementScale: <float>,\n\t *\tdisplacementBias: <float>,\n\t *\n\t *\tspecularMap: new THREE.Texture( <Image> ),\n\t *\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tenvMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n\t *\tcombine: THREE.MultiplyOperation,\n\t *\treflectivity: <float>,\n\t *\trefractionRatio: <float>,\n\t *\n\t *\twireframe: <boolean>,\n\t *\twireframeLinewidth: <float>,\n\t *\n\t *\tflatShading: <bool>\n\t * }\n\t */\n\n\tclass MeshPhongMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.type = 'MeshPhongMaterial';\n\t\t\tthis.color = new Color(0xffffff); // diffuse\n\n\t\t\tthis.specular = new Color(0x111111);\n\t\t\tthis.shininess = 30;\n\t\t\tthis.map = null;\n\t\t\tthis.lightMap = null;\n\t\t\tthis.lightMapIntensity = 1.0;\n\t\t\tthis.aoMap = null;\n\t\t\tthis.aoMapIntensity = 1.0;\n\t\t\tthis.emissive = new Color(0x000000);\n\t\t\tthis.emissiveIntensity = 1.0;\n\t\t\tthis.emissiveMap = null;\n\t\t\tthis.bumpMap = null;\n\t\t\tthis.bumpScale = 1;\n\t\t\tthis.normalMap = null;\n\t\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\t\tthis.normalScale = new Vector2(1, 1);\n\t\t\tthis.displacementMap = null;\n\t\t\tthis.displacementScale = 1;\n\t\t\tthis.displacementBias = 0;\n\t\t\tthis.specularMap = null;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.envMap = null;\n\t\t\tthis.combine = MultiplyOperation;\n\t\t\tthis.reflectivity = 1;\n\t\t\tthis.refractionRatio = 0.98;\n\t\t\tthis.wireframe = false;\n\t\t\tthis.wireframeLinewidth = 1;\n\t\t\tthis.wireframeLinecap = 'round';\n\t\t\tthis.wireframeLinejoin = 'round';\n\t\t\tthis.flatShading = false;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.specular.copy(source.specular);\n\t\t\tthis.shininess = source.shininess;\n\t\t\tthis.map = source.map;\n\t\t\tthis.lightMap = source.lightMap;\n\t\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\t\t\tthis.aoMap = source.aoMap;\n\t\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\t\t\tthis.emissive.copy(source.emissive);\n\t\t\tthis.emissiveMap = source.emissiveMap;\n\t\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\t\t\tthis.bumpMap = source.bumpMap;\n\t\t\tthis.bumpScale = source.bumpScale;\n\t\t\tthis.normalMap = source.normalMap;\n\t\t\tthis.normalMapType = source.normalMapType;\n\t\t\tthis.normalScale.copy(source.normalScale);\n\t\t\tthis.displacementMap = source.displacementMap;\n\t\t\tthis.displacementScale = source.displacementScale;\n\t\t\tthis.displacementBias = source.displacementBias;\n\t\t\tthis.specularMap = source.specularMap;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.envMap = source.envMap;\n\t\t\tthis.combine = source.combine;\n\t\t\tthis.reflectivity = source.reflectivity;\n\t\t\tthis.refractionRatio = source.refractionRatio;\n\t\t\tthis.wireframe = source.wireframe;\n\t\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\t\t\tthis.flatShading = source.flatShading;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\n\t/**\n\t * parameters = {\n\t *\tcolor: <hex>,\n\t *\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\tgradientMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tlightMap: new THREE.Texture( <Image> ),\n\t *\tlightMapIntensity: <float>\n\t *\n\t *\taoMap: new THREE.Texture( <Image> ),\n\t *\taoMapIntensity: <float>\n\t *\n\t *\temissive: <hex>,\n\t *\temissiveIntensity: <float>\n\t *\temissiveMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tbumpMap: new THREE.Texture( <Image> ),\n\t *\tbumpScale: <float>,\n\t *\n\t *\tnormalMap: new THREE.Texture( <Image> ),\n\t *\tnormalMapType: THREE.TangentSpaceNormalMap,\n\t *\tnormalScale: <Vector2>,\n\t *\n\t *\tdisplacementMap: new THREE.Texture( <Image> ),\n\t *\tdisplacementScale: <float>,\n\t *\tdisplacementBias: <float>,\n\t *\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *\twireframe: <boolean>,\n\t *\twireframeLinewidth: <float>,\n\t *\n\t * }\n\t */\n\n\tclass MeshToonMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.defines = {\n\t\t\t\t'TOON': ''\n\t\t\t};\n\t\t\tthis.type = 'MeshToonMaterial';\n\t\t\tthis.color = new Color(0xffffff);\n\t\t\tthis.map = null;\n\t\t\tthis.gradientMap = null;\n\t\t\tthis.lightMap = null;\n\t\t\tthis.lightMapIntensity = 1.0;\n\t\t\tthis.aoMap = null;\n\t\t\tthis.aoMapIntensity = 1.0;\n\t\t\tthis.emissive = new Color(0x000000);\n\t\t\tthis.emissiveIntensity = 1.0;\n\t\t\tthis.emissiveMap = null;\n\t\t\tthis.bumpMap = null;\n\t\t\tthis.bumpScale = 1;\n\t\t\tthis.normalMap = null;\n\t\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\t\tthis.normalScale = new Vector2(1, 1);\n\t\t\tthis.displacementMap = null;\n\t\t\tthis.displacementScale = 1;\n\t\t\tthis.displacementBias = 0;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.wireframe = false;\n\t\t\tthis.wireframeLinewidth = 1;\n\t\t\tthis.wireframeLinecap = 'round';\n\t\t\tthis.wireframeLinejoin = 'round';\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.map = source.map;\n\t\t\tthis.gradientMap = source.gradientMap;\n\t\t\tthis.lightMap = source.lightMap;\n\t\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\t\t\tthis.aoMap = source.aoMap;\n\t\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\t\t\tthis.emissive.copy(source.emissive);\n\t\t\tthis.emissiveMap = source.emissiveMap;\n\t\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\t\t\tthis.bumpMap = source.bumpMap;\n\t\t\tthis.bumpScale = source.bumpScale;\n\t\t\tthis.normalMap = source.normalMap;\n\t\t\tthis.normalMapType = source.normalMapType;\n\t\t\tthis.normalScale.copy(source.normalScale);\n\t\t\tthis.displacementMap = source.displacementMap;\n\t\t\tthis.displacementScale = source.displacementScale;\n\t\t\tthis.displacementBias = source.displacementBias;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.wireframe = source.wireframe;\n\t\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\n\t/**\n\t * parameters = {\n\t *\topacity: <float>,\n\t *\n\t *\tbumpMap: new THREE.Texture( <Image> ),\n\t *\tbumpScale: <float>,\n\t *\n\t *\tnormalMap: new THREE.Texture( <Image> ),\n\t *\tnormalMapType: THREE.TangentSpaceNormalMap,\n\t *\tnormalScale: <Vector2>,\n\t *\n\t *\tdisplacementMap: new THREE.Texture( <Image> ),\n\t *\tdisplacementScale: <float>,\n\t *\tdisplacementBias: <float>,\n\t *\n\t *\twireframe: <boolean>,\n\t *\twireframeLinewidth: <float>\n\t *\n\t *\tflatShading: <bool>\n\t * }\n\t */\n\n\tclass MeshNormalMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.type = 'MeshNormalMaterial';\n\t\t\tthis.bumpMap = null;\n\t\t\tthis.bumpScale = 1;\n\t\t\tthis.normalMap = null;\n\t\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\t\tthis.normalScale = new Vector2(1, 1);\n\t\t\tthis.displacementMap = null;\n\t\t\tthis.displacementScale = 1;\n\t\t\tthis.displacementBias = 0;\n\t\t\tthis.wireframe = false;\n\t\t\tthis.wireframeLinewidth = 1;\n\t\t\tthis.fog = false;\n\t\t\tthis.flatShading = false;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.bumpMap = source.bumpMap;\n\t\t\tthis.bumpScale = source.bumpScale;\n\t\t\tthis.normalMap = source.normalMap;\n\t\t\tthis.normalMapType = source.normalMapType;\n\t\t\tthis.normalScale.copy(source.normalScale);\n\t\t\tthis.displacementMap = source.displacementMap;\n\t\t\tthis.displacementScale = source.displacementScale;\n\t\t\tthis.displacementBias = source.displacementBias;\n\t\t\tthis.wireframe = source.wireframe;\n\t\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\t\tthis.flatShading = source.flatShading;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\n\t/**\n\t * parameters = {\n\t *\tcolor: <hex>,\n\t *\topacity: <float>,\n\t *\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\n\t *\tlightMap: new THREE.Texture( <Image> ),\n\t *\tlightMapIntensity: <float>\n\t *\n\t *\taoMap: new THREE.Texture( <Image> ),\n\t *\taoMapIntensity: <float>\n\t *\n\t *\temissive: <hex>,\n\t *\temissiveIntensity: <float>\n\t *\temissiveMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tspecularMap: new THREE.Texture( <Image> ),\n\t *\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tenvMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n\t *\tcombine: THREE.Multiply,\n\t *\treflectivity: <float>,\n\t *\trefractionRatio: <float>,\n\t *\n\t *\twireframe: <boolean>,\n\t *\twireframeLinewidth: <float>,\n\t *\n\t * }\n\t */\n\n\tclass MeshLambertMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.type = 'MeshLambertMaterial';\n\t\t\tthis.color = new Color(0xffffff); // diffuse\n\n\t\t\tthis.map = null;\n\t\t\tthis.lightMap = null;\n\t\t\tthis.lightMapIntensity = 1.0;\n\t\t\tthis.aoMap = null;\n\t\t\tthis.aoMapIntensity = 1.0;\n\t\t\tthis.emissive = new Color(0x000000);\n\t\t\tthis.emissiveIntensity = 1.0;\n\t\t\tthis.emissiveMap = null;\n\t\t\tthis.specularMap = null;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.envMap = null;\n\t\t\tthis.combine = MultiplyOperation;\n\t\t\tthis.reflectivity = 1;\n\t\t\tthis.refractionRatio = 0.98;\n\t\t\tthis.wireframe = false;\n\t\t\tthis.wireframeLinewidth = 1;\n\t\t\tthis.wireframeLinecap = 'round';\n\t\t\tthis.wireframeLinejoin = 'round';\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.map = source.map;\n\t\t\tthis.lightMap = source.lightMap;\n\t\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\t\t\tthis.aoMap = source.aoMap;\n\t\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\t\t\tthis.emissive.copy(source.emissive);\n\t\t\tthis.emissiveMap = source.emissiveMap;\n\t\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\t\t\tthis.specularMap = source.specularMap;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.envMap = source.envMap;\n\t\t\tthis.combine = source.combine;\n\t\t\tthis.reflectivity = source.reflectivity;\n\t\t\tthis.refractionRatio = source.refractionRatio;\n\t\t\tthis.wireframe = source.wireframe;\n\t\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\n\t/**\n\t * parameters = {\n\t *\tcolor: <hex>,\n\t *\topacity: <float>,\n\t *\n\t *\tmatcap: new THREE.Texture( <Image> ),\n\t *\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\n\t *\tbumpMap: new THREE.Texture( <Image> ),\n\t *\tbumpScale: <float>,\n\t *\n\t *\tnormalMap: new THREE.Texture( <Image> ),\n\t *\tnormalMapType: THREE.TangentSpaceNormalMap,\n\t *\tnormalScale: <Vector2>,\n\t *\n\t *\tdisplacementMap: new THREE.Texture( <Image> ),\n\t *\tdisplacementScale: <float>,\n\t *\tdisplacementBias: <float>,\n\t *\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tflatShading: <bool>\n\t * }\n\t */\n\n\tclass MeshMatcapMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.defines = {\n\t\t\t\t'MATCAP': ''\n\t\t\t};\n\t\t\tthis.type = 'MeshMatcapMaterial';\n\t\t\tthis.color = new Color(0xffffff); // diffuse\n\n\t\t\tthis.matcap = null;\n\t\t\tthis.map = null;\n\t\t\tthis.bumpMap = null;\n\t\t\tthis.bumpScale = 1;\n\t\t\tthis.normalMap = null;\n\t\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\t\tthis.normalScale = new Vector2(1, 1);\n\t\t\tthis.displacementMap = null;\n\t\t\tthis.displacementScale = 1;\n\t\t\tthis.displacementBias = 0;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.flatShading = false;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.defines = {\n\t\t\t\t'MATCAP': ''\n\t\t\t};\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.matcap = source.matcap;\n\t\t\tthis.map = source.map;\n\t\t\tthis.bumpMap = source.bumpMap;\n\t\t\tthis.bumpScale = source.bumpScale;\n\t\t\tthis.normalMap = source.normalMap;\n\t\t\tthis.normalMapType = source.normalMapType;\n\t\t\tthis.normalScale.copy(source.normalScale);\n\t\t\tthis.displacementMap = source.displacementMap;\n\t\t\tthis.displacementScale = source.displacementScale;\n\t\t\tthis.displacementBias = source.displacementBias;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.flatShading = source.flatShading;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\n\t/**\n\t * parameters = {\n\t *\tcolor: <hex>,\n\t *\topacity: <float>,\n\t *\n\t *\tlinewidth: <float>,\n\t *\n\t *\tscale: <float>,\n\t *\tdashSize: <float>,\n\t *\tgapSize: <float>\n\t * }\n\t */\n\n\tclass LineDashedMaterial extends LineBasicMaterial {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.type = 'LineDashedMaterial';\n\t\t\tthis.scale = 1;\n\t\t\tthis.dashSize = 3;\n\t\t\tthis.gapSize = 1;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.scale = source.scale;\n\t\t\tthis.dashSize = source.dashSize;\n\t\t\tthis.gapSize = source.gapSize;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\n\tvar Materials = /*#__PURE__*/Object.freeze({\n\t\t__proto__: null,\n\t\tShadowMaterial: ShadowMaterial,\n\t\tSpriteMaterial: SpriteMaterial,\n\t\tRawShaderMaterial: RawShaderMaterial,\n\t\tShaderMaterial: ShaderMaterial,\n\t\tPointsMaterial: PointsMaterial,\n\t\tMeshPhysicalMaterial: MeshPhysicalMaterial,\n\t\tMeshStandardMaterial: MeshStandardMaterial,\n\t\tMeshPhongMaterial: MeshPhongMaterial,\n\t\tMeshToonMaterial: MeshToonMaterial,\n\t\tMeshNormalMaterial: MeshNormalMaterial,\n\t\tMeshLambertMaterial: MeshLambertMaterial,\n\t\tMeshDepthMaterial: MeshDepthMaterial,\n\t\tMeshDistanceMaterial: MeshDistanceMaterial,\n\t\tMeshBasicMaterial: MeshBasicMaterial,\n\t\tMeshMatcapMaterial: MeshMatcapMaterial,\n\t\tLineDashedMaterial: LineDashedMaterial,\n\t\tLineBasicMaterial: LineBasicMaterial,\n\t\tMaterial: Material\n\t});\n\n\tconst AnimationUtils = {\n\t\t// same as Array.prototype.slice, but also works on typed arrays\n\t\tarraySlice: function (array, from, to) {\n\t\t\tif (AnimationUtils.isTypedArray(array)) {\n\t\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\t\treturn new array.constructor(array.subarray(from, to !== undefined ? to : array.length));\n\t\t\t}\n\n\t\t\treturn array.slice(from, to);\n\t\t},\n\t\t// converts an array to a specific type\n\t\tconvertArray: function (array, type, forceClone) {\n\t\t\tif (!array || // let 'undefined' and 'null' pass\n\t\t\t!forceClone && array.constructor === type) return array;\n\n\t\t\tif (typeof type.BYTES_PER_ELEMENT === 'number') {\n\t\t\t\treturn new type(array); // create typed array\n\t\t\t}\n\n\t\t\treturn Array.prototype.slice.call(array); // create Array\n\t\t},\n\t\tisTypedArray: function (object) {\n\t\t\treturn ArrayBuffer.isView(object) && !(object instanceof DataView);\n\t\t},\n\t\t// returns an array by which times and values can be sorted\n\t\tgetKeyframeOrder: function (times) {\n\t\t\tfunction compareTime(i, j) {\n\t\t\t\treturn times[i] - times[j];\n\t\t\t}\n\n\t\t\tconst n = times.length;\n\t\t\tconst result = new Array(n);\n\n\t\t\tfor (let i = 0; i !== n; ++i) result[i] = i;\n\n\t\t\tresult.sort(compareTime);\n\t\t\treturn result;\n\t\t},\n\t\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\t\tsortedArray: function (values, stride, order) {\n\t\t\tconst nValues = values.length;\n\t\t\tconst result = new values.constructor(nValues);\n\n\t\t\tfor (let i = 0, dstOffset = 0; dstOffset !== nValues; ++i) {\n\t\t\t\tconst srcOffset = order[i] * stride;\n\n\t\t\t\tfor (let j = 0; j !== stride; ++j) {\n\t\t\t\t\tresult[dstOffset++] = values[srcOffset + j];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\t// function for parsing AOS keyframe formats\n\t\tflattenJSON: function (jsonKeys, times, values, valuePropertyName) {\n\t\t\tlet i = 1,\n\t\t\t\t\tkey = jsonKeys[0];\n\n\t\t\twhile (key !== undefined && key[valuePropertyName] === undefined) {\n\t\t\t\tkey = jsonKeys[i++];\n\t\t\t}\n\n\t\t\tif (key === undefined) return; // no data\n\n\t\t\tlet value = key[valuePropertyName];\n\t\t\tif (value === undefined) return; // no data\n\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\tdo {\n\t\t\t\t\tvalue = key[valuePropertyName];\n\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\ttimes.push(key.time);\n\t\t\t\t\t\tvalues.push.apply(values, value); // push all elements\n\t\t\t\t\t}\n\n\t\t\t\t\tkey = jsonKeys[i++];\n\t\t\t\t} while (key !== undefined);\n\t\t\t} else if (value.toArray !== undefined) {\n\t\t\t\t// ...assume THREE.Math-ish\n\t\t\t\tdo {\n\t\t\t\t\tvalue = key[valuePropertyName];\n\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\ttimes.push(key.time);\n\t\t\t\t\t\tvalue.toArray(values, values.length);\n\t\t\t\t\t}\n\n\t\t\t\t\tkey = jsonKeys[i++];\n\t\t\t\t} while (key !== undefined);\n\t\t\t} else {\n\t\t\t\t// otherwise push as-is\n\t\t\t\tdo {\n\t\t\t\t\tvalue = key[valuePropertyName];\n\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\ttimes.push(key.time);\n\t\t\t\t\t\tvalues.push(value);\n\t\t\t\t\t}\n\n\t\t\t\t\tkey = jsonKeys[i++];\n\t\t\t\t} while (key !== undefined);\n\t\t\t}\n\t\t},\n\t\tsubclip: function (sourceClip, name, startFrame, endFrame, fps = 30) {\n\t\t\tconst clip = sourceClip.clone();\n\t\t\tclip.name = name;\n\t\t\tconst tracks = [];\n\n\t\t\tfor (let i = 0; i < clip.tracks.length; ++i) {\n\t\t\t\tconst track = clip.tracks[i];\n\t\t\t\tconst valueSize = track.getValueSize();\n\t\t\t\tconst times = [];\n\t\t\t\tconst values = [];\n\n\t\t\t\tfor (let j = 0; j < track.times.length; ++j) {\n\t\t\t\t\tconst frame = track.times[j] * fps;\n\t\t\t\t\tif (frame < startFrame || frame >= endFrame) continue;\n\t\t\t\t\ttimes.push(track.times[j]);\n\n\t\t\t\t\tfor (let k = 0; k < valueSize; ++k) {\n\t\t\t\t\t\tvalues.push(track.values[j * valueSize + k]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (times.length === 0) continue;\n\t\t\t\ttrack.times = AnimationUtils.convertArray(times, track.times.constructor);\n\t\t\t\ttrack.values = AnimationUtils.convertArray(values, track.values.constructor);\n\t\t\t\ttracks.push(track);\n\t\t\t}\n\n\t\t\tclip.tracks = tracks; // find minimum .times value across all tracks in the trimmed clip\n\n\t\t\tlet minStartTime = Infinity;\n\n\t\t\tfor (let i = 0; i < clip.tracks.length; ++i) {\n\t\t\t\tif (minStartTime > clip.tracks[i].times[0]) {\n\t\t\t\t\tminStartTime = clip.tracks[i].times[0];\n\t\t\t\t}\n\t\t\t} // shift all tracks such that clip begins at t=0\n\n\n\t\t\tfor (let i = 0; i < clip.tracks.length; ++i) {\n\t\t\t\tclip.tracks[i].shift(-1 * minStartTime);\n\t\t\t}\n\n\t\t\tclip.resetDuration();\n\t\t\treturn clip;\n\t\t},\n\t\tmakeClipAdditive: function (targetClip, referenceFrame = 0, referenceClip = targetClip, fps = 30) {\n\t\t\tif (fps <= 0) fps = 30;\n\t\t\tconst numTracks = referenceClip.tracks.length;\n\t\t\tconst referenceTime = referenceFrame / fps; // Make each track's values relative to the values at the reference frame\n\n\t\t\tfor (let i = 0; i < numTracks; ++i) {\n\t\t\t\tconst referenceTrack = referenceClip.tracks[i];\n\t\t\t\tconst referenceTrackType = referenceTrack.ValueTypeName; // Skip this track if it's non-numeric\n\n\t\t\t\tif (referenceTrackType === 'bool' || referenceTrackType === 'string') continue; // Find the track in the target clip whose name and type matches the reference track\n\n\t\t\t\tconst targetTrack = targetClip.tracks.find(function (track) {\n\t\t\t\t\treturn track.name === referenceTrack.name && track.ValueTypeName === referenceTrackType;\n\t\t\t\t});\n\t\t\t\tif (targetTrack === undefined) continue;\n\t\t\t\tlet referenceOffset = 0;\n\t\t\t\tconst referenceValueSize = referenceTrack.getValueSize();\n\n\t\t\t\tif (referenceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline) {\n\t\t\t\t\treferenceOffset = referenceValueSize / 3;\n\t\t\t\t}\n\n\t\t\t\tlet targetOffset = 0;\n\t\t\t\tconst targetValueSize = targetTrack.getValueSize();\n\n\t\t\t\tif (targetTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline) {\n\t\t\t\t\ttargetOffset = targetValueSize / 3;\n\t\t\t\t}\n\n\t\t\t\tconst lastIndex = referenceTrack.times.length - 1;\n\t\t\t\tlet referenceValue; // Find the value to subtract out of the track\n\n\t\t\t\tif (referenceTime <= referenceTrack.times[0]) {\n\t\t\t\t\t// Reference frame is earlier than the first keyframe, so just use the first keyframe\n\t\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\t\treferenceValue = AnimationUtils.arraySlice(referenceTrack.values, startIndex, endIndex);\n\t\t\t\t} else if (referenceTime >= referenceTrack.times[lastIndex]) {\n\t\t\t\t\t// Reference frame is after the last keyframe, so just use the last keyframe\n\t\t\t\t\tconst startIndex = lastIndex * referenceValueSize + referenceOffset;\n\t\t\t\t\tconst endIndex = startIndex + referenceValueSize - referenceOffset;\n\t\t\t\t\treferenceValue = AnimationUtils.arraySlice(referenceTrack.values, startIndex, endIndex);\n\t\t\t\t} else {\n\t\t\t\t\t// Interpolate to the reference value\n\t\t\t\t\tconst interpolant = referenceTrack.createInterpolant();\n\t\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\t\tinterpolant.evaluate(referenceTime);\n\t\t\t\t\treferenceValue = AnimationUtils.arraySlice(interpolant.resultBuffer, startIndex, endIndex);\n\t\t\t\t} // Conjugate the quaternion\n\n\n\t\t\t\tif (referenceTrackType === 'quaternion') {\n\t\t\t\t\tconst referenceQuat = new Quaternion().fromArray(referenceValue).normalize().conjugate();\n\t\t\t\t\treferenceQuat.toArray(referenceValue);\n\t\t\t\t} // Subtract the reference value from all of the track values\n\n\n\t\t\t\tconst numTimes = targetTrack.times.length;\n\n\t\t\t\tfor (let j = 0; j < numTimes; ++j) {\n\t\t\t\t\tconst valueStart = j * targetValueSize + targetOffset;\n\n\t\t\t\t\tif (referenceTrackType === 'quaternion') {\n\t\t\t\t\t\t// Multiply the conjugate for quaternion track types\n\t\t\t\t\t\tQuaternion.multiplyQuaternionsFlat(targetTrack.values, valueStart, referenceValue, 0, targetTrack.values, valueStart);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst valueEnd = targetValueSize - targetOffset * 2; // Subtract each value for all other numeric track types\n\n\t\t\t\t\t\tfor (let k = 0; k < valueEnd; ++k) {\n\t\t\t\t\t\t\ttargetTrack.values[valueStart + k] -= referenceValue[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttargetClip.blendMode = AdditiveAnimationBlendMode;\n\t\t\treturn targetClip;\n\t\t}\n\t};\n\n\t/**\n\t * Abstract base class of interpolants over parametric samples.\n\t *\n\t * The parameter domain is one dimensional, typically the time or a path\n\t * along a curve defined by the data.\n\t *\n\t * The sample values can have any dimensionality and derived classes may\n\t * apply special interpretations to the data.\n\t *\n\t * This class provides the interval seek in a Template Method, deferring\n\t * the actual interpolation to derived classes.\n\t *\n\t * Time complexity is O(1) for linear access crossing at most two points\n\t * and O(log N) for random access, where N is the number of positions.\n\t *\n\t * References:\n\t *\n\t * \t\thttp://www.oodesign.com/template-method-pattern.html\n\t *\n\t */\n\tclass Interpolant {\n\t\tconstructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\t\t\tthis.parameterPositions = parameterPositions;\n\t\t\tthis._cachedIndex = 0;\n\t\t\tthis.resultBuffer = resultBuffer !== undefined ? resultBuffer : new sampleValues.constructor(sampleSize);\n\t\t\tthis.sampleValues = sampleValues;\n\t\t\tthis.valueSize = sampleSize;\n\t\t\tthis.settings = null;\n\t\t\tthis.DefaultSettings_ = {};\n\t\t}\n\n\t\tevaluate(t) {\n\t\t\tconst pp = this.parameterPositions;\n\t\t\tlet i1 = this._cachedIndex,\n\t\t\t\t\tt1 = pp[i1],\n\t\t\t\t\tt0 = pp[i1 - 1];\n\n\t\t\tvalidate_interval: {\n\t\t\t\tseek: {\n\t\t\t\t\tlet right;\n\n\t\t\t\t\tlinear_scan: {\n\t\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t\t//- slower code:\n\t\t\t\t\t\t//-\n\t\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\t\tforward_scan: if (!(t < t1)) {\n\t\t\t\t\t\t\tfor (let giveUpAt = i1 + 2;;) {\n\t\t\t\t\t\t\t\tif (t1 === undefined) {\n\t\t\t\t\t\t\t\t\tif (t < t0) break forward_scan; // after end\n\n\t\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\t\treturn this.afterEnd_(i1 - 1, t, t0);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (i1 === giveUpAt) break; // this loop\n\n\t\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\t\tt1 = pp[++i1];\n\n\t\t\t\t\t\t\t\tif (t < t1) {\n\t\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\t\tbreak seek;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} // prepare binary search on the right side of the index\n\n\n\t\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\t\tbreak linear_scan;\n\t\t\t\t\t\t} //- slower code:\n\t\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\n\n\t\t\t\t\t\tif (!(t >= t0)) {\n\t\t\t\t\t\t\t// looping?\n\t\t\t\t\t\t\tconst t1global = pp[1];\n\n\t\t\t\t\t\t\tif (t < t1global) {\n\t\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\n\t\t\t\t\t\t\t\tt0 = t1global;\n\t\t\t\t\t\t\t} // linear reverse scan\n\n\n\t\t\t\t\t\t\tfor (let giveUpAt = i1 - 2;;) {\n\t\t\t\t\t\t\t\tif (t0 === undefined) {\n\t\t\t\t\t\t\t\t\t// before start\n\t\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\t\treturn this.beforeStart_(0, t, t1);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (i1 === giveUpAt) break; // this loop\n\n\t\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\t\tt0 = pp[--i1 - 1];\n\n\t\t\t\t\t\t\t\tif (t >= t0) {\n\t\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\t\tbreak seek;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} // prepare binary search on the left side of the index\n\n\n\t\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\t\tbreak linear_scan;\n\t\t\t\t\t\t} // the interval is valid\n\n\n\t\t\t\t\t\tbreak validate_interval;\n\t\t\t\t\t} // linear scan\n\t\t\t\t\t// binary search\n\n\n\t\t\t\t\twhile (i1 < right) {\n\t\t\t\t\t\tconst mid = i1 + right >>> 1;\n\n\t\t\t\t\t\tif (t < pp[mid]) {\n\t\t\t\t\t\t\tright = mid;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ti1 = mid + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tt1 = pp[i1];\n\t\t\t\t\tt0 = pp[i1 - 1]; // check boundary cases, again\n\n\t\t\t\t\tif (t0 === undefined) {\n\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\treturn this.beforeStart_(0, t, t1);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t1 === undefined) {\n\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\treturn this.afterEnd_(i1 - 1, t0, t);\n\t\t\t\t\t}\n\t\t\t\t} // seek\n\n\n\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\tthis.intervalChanged_(i1, t0, t1);\n\t\t\t} // validate_interval\n\n\n\t\t\treturn this.interpolate_(i1, t0, t, t1);\n\t\t}\n\n\t\tgetSettings_() {\n\t\t\treturn this.settings || this.DefaultSettings_;\n\t\t}\n\n\t\tcopySampleValue_(index) {\n\t\t\t// copies a sample value to the result buffer\n\t\t\tconst result = this.resultBuffer,\n\t\t\t\t\t\tvalues = this.sampleValues,\n\t\t\t\t\t\tstride = this.valueSize,\n\t\t\t\t\t\toffset = index * stride;\n\n\t\t\tfor (let i = 0; i !== stride; ++i) {\n\t\t\t\tresult[i] = values[offset + i];\n\t\t\t}\n\n\t\t\treturn result;\n\t\t} // Template methods for derived classes:\n\n\n\t\tinterpolate_() {\n\t\t\tthrow new Error('call to abstract method'); // implementations shall return this.resultBuffer\n\t\t}\n\n\t\tintervalChanged_() {// empty\n\t\t}\n\n\t} // ALIAS DEFINITIONS\n\n\n\tInterpolant.prototype.beforeStart_ = Interpolant.prototype.copySampleValue_;\n\tInterpolant.prototype.afterEnd_ = Interpolant.prototype.copySampleValue_;\n\n\t/**\n\t * Fast and simple cubic spline interpolant.\n\t *\n\t * It was derived from a Hermitian construction setting the first derivative\n\t * at each sample position to the linear slope between neighboring positions\n\t * over their parameter interval.\n\t */\n\n\tclass CubicInterpolant extends Interpolant {\n\t\tconstructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\t\t\tsuper(parameterPositions, sampleValues, sampleSize, resultBuffer);\n\t\t\tthis._weightPrev = -0;\n\t\t\tthis._offsetPrev = -0;\n\t\t\tthis._weightNext = -0;\n\t\t\tthis._offsetNext = -0;\n\t\t\tthis.DefaultSettings_ = {\n\t\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\t\tendingEnd: ZeroCurvatureEnding\n\t\t\t};\n\t\t}\n\n\t\tintervalChanged_(i1, t0, t1) {\n\t\t\tconst pp = this.parameterPositions;\n\t\t\tlet iPrev = i1 - 2,\n\t\t\t\t\tiNext = i1 + 1,\n\t\t\t\t\ttPrev = pp[iPrev],\n\t\t\t\t\ttNext = pp[iNext];\n\n\t\t\tif (tPrev === undefined) {\n\t\t\t\tswitch (this.getSettings_().endingStart) {\n\t\t\t\t\tcase ZeroSlopeEnding:\n\t\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\t\tiPrev = i1;\n\t\t\t\t\t\ttPrev = 2 * t0 - t1;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase WrapAroundEnding:\n\t\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\t\ttPrev = t0 + pp[iPrev] - pp[iPrev + 1];\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t// ZeroCurvatureEnding\n\t\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\t\tiPrev = i1;\n\t\t\t\t\t\ttPrev = t1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tNext === undefined) {\n\t\t\t\tswitch (this.getSettings_().endingEnd) {\n\t\t\t\t\tcase ZeroSlopeEnding:\n\t\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\t\tiNext = i1;\n\t\t\t\t\t\ttNext = 2 * t1 - t0;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase WrapAroundEnding:\n\t\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\t\tiNext = 1;\n\t\t\t\t\t\ttNext = t1 + pp[1] - pp[0];\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t// ZeroCurvatureEnding\n\t\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\t\ttNext = t0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst halfDt = (t1 - t0) * 0.5,\n\t\t\t\t\t\tstride = this.valueSize;\n\t\t\tthis._weightPrev = halfDt / (t0 - tPrev);\n\t\t\tthis._weightNext = halfDt / (tNext - t1);\n\t\t\tthis._offsetPrev = iPrev * stride;\n\t\t\tthis._offsetNext = iNext * stride;\n\t\t}\n\n\t\tinterpolate_(i1, t0, t, t1) {\n\t\t\tconst result = this.resultBuffer,\n\t\t\t\t\t\tvalues = this.sampleValues,\n\t\t\t\t\t\tstride = this.valueSize,\n\t\t\t\t\t\to1 = i1 * stride,\n\t\t\t\t\t\to0 = o1 - stride,\n\t\t\t\t\t\toP = this._offsetPrev,\n\t\t\t\t\t\toN = this._offsetNext,\n\t\t\t\t\t\twP = this._weightPrev,\n\t\t\t\t\t\twN = this._weightNext,\n\t\t\t\t\t\tp = (t - t0) / (t1 - t0),\n\t\t\t\t\t\tpp = p * p,\n\t\t\t\t\t\tppp = pp * p; // evaluate polynomials\n\n\t\t\tconst sP = -wP * ppp + 2 * wP * pp - wP * p;\n\t\t\tconst s0 = (1 + wP) * ppp + (-1.5 - 2 * wP) * pp + (-0.5 + wP) * p + 1;\n\t\t\tconst s1 = (-1 - wN) * ppp + (1.5 + wN) * pp + 0.5 * p;\n\t\t\tconst sN = wN * ppp - wN * pp; // combine data linearly\n\n\t\t\tfor (let i = 0; i !== stride; ++i) {\n\t\t\t\tresult[i] = sP * values[oP + i] + s0 * values[o0 + i] + s1 * values[o1 + i] + sN * values[oN + i];\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t}\n\n\tclass LinearInterpolant extends Interpolant {\n\t\tconstructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\t\t\tsuper(parameterPositions, sampleValues, sampleSize, resultBuffer);\n\t\t}\n\n\t\tinterpolate_(i1, t0, t, t1) {\n\t\t\tconst result = this.resultBuffer,\n\t\t\t\t\t\tvalues = this.sampleValues,\n\t\t\t\t\t\tstride = this.valueSize,\n\t\t\t\t\t\toffset1 = i1 * stride,\n\t\t\t\t\t\toffset0 = offset1 - stride,\n\t\t\t\t\t\tweight1 = (t - t0) / (t1 - t0),\n\t\t\t\t\t\tweight0 = 1 - weight1;\n\n\t\t\tfor (let i = 0; i !== stride; ++i) {\n\t\t\t\tresult[i] = values[offset0 + i] * weight0 + values[offset1 + i] * weight1;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t}\n\n\t/**\n\t *\n\t * Interpolant that evaluates to the sample value at the position preceeding\n\t * the parameter.\n\t */\n\n\tclass DiscreteInterpolant extends Interpolant {\n\t\tconstructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\t\t\tsuper(parameterPositions, sampleValues, sampleSize, resultBuffer);\n\t\t}\n\n\t\tinterpolate_(i1\n\t\t/*, t0, t, t1 */\n\t\t) {\n\t\t\treturn this.copySampleValue_(i1 - 1);\n\t\t}\n\n\t}\n\n\tclass KeyframeTrack {\n\t\tconstructor(name, times, values, interpolation) {\n\t\t\tif (name === undefined) throw new Error('THREE.KeyframeTrack: track name is undefined');\n\t\t\tif (times === undefined || times.length === 0) throw new Error('THREE.KeyframeTrack: no keyframes in track named ' + name);\n\t\t\tthis.name = name;\n\t\t\tthis.times = AnimationUtils.convertArray(times, this.TimeBufferType);\n\t\t\tthis.values = AnimationUtils.convertArray(values, this.ValueBufferType);\n\t\t\tthis.setInterpolation(interpolation || this.DefaultInterpolation);\n\t\t} // Serialization (in static context, because of constructor invocation\n\t\t// and automatic invocation of .toJSON):\n\n\n\t\tstatic toJSON(track) {\n\t\t\tconst trackType = track.constructor;\n\t\t\tlet json; // derived classes can define a static toJSON method\n\n\t\t\tif (trackType.toJSON !== this.toJSON) {\n\t\t\t\tjson = trackType.toJSON(track);\n\t\t\t} else {\n\t\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\t\tjson = {\n\t\t\t\t\t'name': track.name,\n\t\t\t\t\t'times': AnimationUtils.convertArray(track.times, Array),\n\t\t\t\t\t'values': AnimationUtils.convertArray(track.values, Array)\n\t\t\t\t};\n\t\t\t\tconst interpolation = track.getInterpolation();\n\n\t\t\t\tif (interpolation !== track.DefaultInterpolation) {\n\t\t\t\t\tjson.interpolation = interpolation;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\t\treturn json;\n\t\t}\n\n\t\tInterpolantFactoryMethodDiscrete(result) {\n\t\t\treturn new DiscreteInterpolant(this.times, this.values, this.getValueSize(), result);\n\t\t}\n\n\t\tInterpolantFactoryMethodLinear(result) {\n\t\t\treturn new LinearInterpolant(this.times, this.values, this.getValueSize(), result);\n\t\t}\n\n\t\tInterpolantFactoryMethodSmooth(result) {\n\t\t\treturn new CubicInterpolant(this.times, this.values, this.getValueSize(), result);\n\t\t}\n\n\t\tsetInterpolation(interpolation) {\n\t\t\tlet factoryMethod;\n\n\t\t\tswitch (interpolation) {\n\t\t\t\tcase InterpolateDiscrete:\n\t\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase InterpolateLinear:\n\t\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase InterpolateSmooth:\n\t\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (factoryMethod === undefined) {\n\t\t\t\tconst message = 'unsupported interpolation for ' + this.ValueTypeName + ' keyframe track named ' + this.name;\n\n\t\t\t\tif (this.createInterpolant === undefined) {\n\t\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\t\tif (interpolation !== this.DefaultInterpolation) {\n\t\t\t\t\t\tthis.setInterpolation(this.DefaultInterpolation);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error(message); // fatal, in this case\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconsole.warn('THREE.KeyframeTrack:', message);\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tthis.createInterpolant = factoryMethod;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetInterpolation() {\n\t\t\tswitch (this.createInterpolant) {\n\t\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\t\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\t\tcase this.InterpolantFactoryMethodLinear:\n\t\t\t\t\treturn InterpolateLinear;\n\n\t\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\t\t\t\t\treturn InterpolateSmooth;\n\t\t\t}\n\t\t}\n\n\t\tgetValueSize() {\n\t\t\treturn this.values.length / this.times.length;\n\t\t} // move all keyframes either forwards or backwards in time\n\n\n\t\tshift(timeOffset) {\n\t\t\tif (timeOffset !== 0.0) {\n\t\t\t\tconst times = this.times;\n\n\t\t\t\tfor (let i = 0, n = times.length; i !== n; ++i) {\n\t\t\t\t\ttimes[i] += timeOffset;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t} // scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\n\n\t\tscale(timeScale) {\n\t\t\tif (timeScale !== 1.0) {\n\t\t\t\tconst times = this.times;\n\n\t\t\t\tfor (let i = 0, n = times.length; i !== n; ++i) {\n\t\t\t\t\ttimes[i] *= timeScale;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t} // removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\n\n\t\ttrim(startTime, endTime) {\n\t\t\tconst times = this.times,\n\t\t\t\t\t\tnKeys = times.length;\n\t\t\tlet from = 0,\n\t\t\t\t\tto = nKeys - 1;\n\n\t\t\twhile (from !== nKeys && times[from] < startTime) {\n\t\t\t\t++from;\n\t\t\t}\n\n\t\t\twhile (to !== -1 && times[to] > endTime) {\n\t\t\t\t--to;\n\t\t\t}\n\n\t\t\t++to; // inclusive -> exclusive bound\n\n\t\t\tif (from !== 0 || to !== nKeys) {\n\t\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\t\tif (from >= to) {\n\t\t\t\t\tto = Math.max(to, 1);\n\t\t\t\t\tfrom = to - 1;\n\t\t\t\t}\n\n\t\t\t\tconst stride = this.getValueSize();\n\t\t\t\tthis.times = AnimationUtils.arraySlice(times, from, to);\n\t\t\t\tthis.values = AnimationUtils.arraySlice(this.values, from * stride, to * stride);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t} // ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\n\n\t\tvalidate() {\n\t\t\tlet valid = true;\n\t\t\tconst valueSize = this.getValueSize();\n\n\t\t\tif (valueSize - Math.floor(valueSize) !== 0) {\n\t\t\t\tconsole.error('THREE.KeyframeTrack: Invalid value size in track.', this);\n\t\t\t\tvalid = false;\n\t\t\t}\n\n\t\t\tconst times = this.times,\n\t\t\t\t\t\tvalues = this.values,\n\t\t\t\t\t\tnKeys = times.length;\n\n\t\t\tif (nKeys === 0) {\n\t\t\t\tconsole.error('THREE.KeyframeTrack: Track is empty.', this);\n\t\t\t\tvalid = false;\n\t\t\t}\n\n\t\t\tlet prevTime = null;\n\n\t\t\tfor (let i = 0; i !== nKeys; i++) {\n\t\t\t\tconst currTime = times[i];\n\n\t\t\t\tif (typeof currTime === 'number' && isNaN(currTime)) {\n\t\t\t\t\tconsole.error('THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime);\n\t\t\t\t\tvalid = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (prevTime !== null && prevTime > currTime) {\n\t\t\t\t\tconsole.error('THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime);\n\t\t\t\t\tvalid = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tprevTime = currTime;\n\t\t\t}\n\n\t\t\tif (values !== undefined) {\n\t\t\t\tif (AnimationUtils.isTypedArray(values)) {\n\t\t\t\t\tfor (let i = 0, n = values.length; i !== n; ++i) {\n\t\t\t\t\t\tconst value = values[i];\n\n\t\t\t\t\t\tif (isNaN(value)) {\n\t\t\t\t\t\t\tconsole.error('THREE.KeyframeTrack: Value is not a valid number.', this, i, value);\n\t\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn valid;\n\t\t} // removes equivalent sequential keys as common in morph target sequences\n\t\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\n\n\t\toptimize() {\n\t\t\t// times or values may be shared with other tracks, so overwriting is unsafe\n\t\t\tconst times = AnimationUtils.arraySlice(this.times),\n\t\t\t\t\t\tvalues = AnimationUtils.arraySlice(this.values),\n\t\t\t\t\t\tstride = this.getValueSize(),\n\t\t\t\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\t\t\t\t\t\tlastIndex = times.length - 1;\n\t\t\tlet writeIndex = 1;\n\n\t\t\tfor (let i = 1; i < lastIndex; ++i) {\n\t\t\t\tlet keep = false;\n\t\t\t\tconst time = times[i];\n\t\t\t\tconst timeNext = times[i + 1]; // remove adjacent keyframes scheduled at the same time\n\n\t\t\t\tif (time !== timeNext && (i !== 1 || time !== times[0])) {\n\t\t\t\t\tif (!smoothInterpolation) {\n\t\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\t\t\t\t\t\tconst offset = i * stride,\n\t\t\t\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\t\tfor (let j = 0; j !== stride; ++j) {\n\t\t\t\t\t\t\tconst value = values[offset + j];\n\n\t\t\t\t\t\t\tif (value !== values[offsetP + j] || value !== values[offsetN + j]) {\n\t\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t}\n\t\t\t\t} // in-place compaction\n\n\n\t\t\t\tif (keep) {\n\t\t\t\t\tif (i !== writeIndex) {\n\t\t\t\t\t\ttimes[writeIndex] = times[i];\n\t\t\t\t\t\tconst readOffset = i * stride,\n\t\t\t\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\t\tfor (let j = 0; j !== stride; ++j) {\n\t\t\t\t\t\t\tvalues[writeOffset + j] = values[readOffset + j];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t++writeIndex;\n\t\t\t\t}\n\t\t\t} // flush last keyframe (compaction looks ahead)\n\n\n\t\t\tif (lastIndex > 0) {\n\t\t\t\ttimes[writeIndex] = times[lastIndex];\n\n\t\t\t\tfor (let readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++j) {\n\t\t\t\t\tvalues[writeOffset + j] = values[readOffset + j];\n\t\t\t\t}\n\n\t\t\t\t++writeIndex;\n\t\t\t}\n\n\t\t\tif (writeIndex !== times.length) {\n\t\t\t\tthis.times = AnimationUtils.arraySlice(times, 0, writeIndex);\n\t\t\t\tthis.values = AnimationUtils.arraySlice(values, 0, writeIndex * stride);\n\t\t\t} else {\n\t\t\t\tthis.times = times;\n\t\t\t\tthis.values = values;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\tconst times = AnimationUtils.arraySlice(this.times, 0);\n\t\t\tconst values = AnimationUtils.arraySlice(this.values, 0);\n\t\t\tconst TypedKeyframeTrack = this.constructor;\n\t\t\tconst track = new TypedKeyframeTrack(this.name, times, values); // Interpolant argument to constructor is not saved, so copy the factory method directly.\n\n\t\t\ttrack.createInterpolant = this.createInterpolant;\n\t\t\treturn track;\n\t\t}\n\n\t}\n\n\tKeyframeTrack.prototype.TimeBufferType = Float32Array;\n\tKeyframeTrack.prototype.ValueBufferType = Float32Array;\n\tKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\n\n\t/**\n\t * A Track of Boolean keyframe values.\n\t */\n\n\tclass BooleanKeyframeTrack extends KeyframeTrack {}\n\n\tBooleanKeyframeTrack.prototype.ValueTypeName = 'bool';\n\tBooleanKeyframeTrack.prototype.ValueBufferType = Array;\n\tBooleanKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\n\tBooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\n\tBooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined; // Note: Actually this track could have a optimized / compressed\n\n\t/**\n\t * A Track of keyframe values that represent color.\n\t */\n\n\tclass ColorKeyframeTrack extends KeyframeTrack {}\n\n\tColorKeyframeTrack.prototype.ValueTypeName = 'color'; // ValueBufferType is inherited\n\n\t/**\n\t * A Track of numeric keyframe values.\n\t */\n\n\tclass NumberKeyframeTrack extends KeyframeTrack {}\n\n\tNumberKeyframeTrack.prototype.ValueTypeName = 'number'; // ValueBufferType is inherited\n\n\t/**\n\t * Spherical linear unit quaternion interpolant.\n\t */\n\n\tclass QuaternionLinearInterpolant extends Interpolant {\n\t\tconstructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\t\t\tsuper(parameterPositions, sampleValues, sampleSize, resultBuffer);\n\t\t}\n\n\t\tinterpolate_(i1, t0, t, t1) {\n\t\t\tconst result = this.resultBuffer,\n\t\t\t\t\t\tvalues = this.sampleValues,\n\t\t\t\t\t\tstride = this.valueSize,\n\t\t\t\t\t\talpha = (t - t0) / (t1 - t0);\n\t\t\tlet offset = i1 * stride;\n\n\t\t\tfor (let end = offset + stride; offset !== end; offset += 4) {\n\t\t\t\tQuaternion.slerpFlat(result, 0, values, offset - stride, values, offset, alpha);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t}\n\n\t/**\n\t * A Track of quaternion keyframe values.\n\t */\n\n\tclass QuaternionKeyframeTrack extends KeyframeTrack {\n\t\tInterpolantFactoryMethodLinear(result) {\n\t\t\treturn new QuaternionLinearInterpolant(this.times, this.values, this.getValueSize(), result);\n\t\t}\n\n\t}\n\n\tQuaternionKeyframeTrack.prototype.ValueTypeName = 'quaternion'; // ValueBufferType is inherited\n\n\tQuaternionKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\n\tQuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n\t/**\n\t * A Track that interpolates Strings\n\t */\n\n\tclass StringKeyframeTrack extends KeyframeTrack {}\n\n\tStringKeyframeTrack.prototype.ValueTypeName = 'string';\n\tStringKeyframeTrack.prototype.ValueBufferType = Array;\n\tStringKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\n\tStringKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\n\tStringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n\t/**\n\t * A Track of vectored keyframe values.\n\t */\n\n\tclass VectorKeyframeTrack extends KeyframeTrack {}\n\n\tVectorKeyframeTrack.prototype.ValueTypeName = 'vector'; // ValueBufferType is inherited\n\n\tclass AnimationClip {\n\t\tconstructor(name, duration = -1, tracks, blendMode = NormalAnimationBlendMode) {\n\t\t\tthis.name = name;\n\t\t\tthis.tracks = tracks;\n\t\t\tthis.duration = duration;\n\t\t\tthis.blendMode = blendMode;\n\t\t\tthis.uuid = generateUUID(); // this means it should figure out its duration by scanning the tracks\n\n\t\t\tif (this.duration < 0) {\n\t\t\t\tthis.resetDuration();\n\t\t\t}\n\t\t}\n\n\t\tstatic parse(json) {\n\t\t\tconst tracks = [],\n\t\t\t\t\t\tjsonTracks = json.tracks,\n\t\t\t\t\t\tframeTime = 1.0 / (json.fps || 1.0);\n\n\t\t\tfor (let i = 0, n = jsonTracks.length; i !== n; ++i) {\n\t\t\t\ttracks.push(parseKeyframeTrack(jsonTracks[i]).scale(frameTime));\n\t\t\t}\n\n\t\t\tconst clip = new this(json.name, json.duration, tracks, json.blendMode);\n\t\t\tclip.uuid = json.uuid;\n\t\t\treturn clip;\n\t\t}\n\n\t\tstatic toJSON(clip) {\n\t\t\tconst tracks = [],\n\t\t\t\t\t\tclipTracks = clip.tracks;\n\t\t\tconst json = {\n\t\t\t\t'name': clip.name,\n\t\t\t\t'duration': clip.duration,\n\t\t\t\t'tracks': tracks,\n\t\t\t\t'uuid': clip.uuid,\n\t\t\t\t'blendMode': clip.blendMode\n\t\t\t};\n\n\t\t\tfor (let i = 0, n = clipTracks.length; i !== n; ++i) {\n\t\t\t\ttracks.push(KeyframeTrack.toJSON(clipTracks[i]));\n\t\t\t}\n\n\t\t\treturn json;\n\t\t}\n\n\t\tstatic CreateFromMorphTargetSequence(name, morphTargetSequence, fps, noLoop) {\n\t\t\tconst numMorphTargets = morphTargetSequence.length;\n\t\t\tconst tracks = [];\n\n\t\t\tfor (let i = 0; i < numMorphTargets; i++) {\n\t\t\t\tlet times = [];\n\t\t\t\tlet values = [];\n\t\t\t\ttimes.push((i + numMorphTargets - 1) % numMorphTargets, i, (i + 1) % numMorphTargets);\n\t\t\t\tvalues.push(0, 1, 0);\n\t\t\t\tconst order = AnimationUtils.getKeyframeOrder(times);\n\t\t\t\ttimes = AnimationUtils.sortedArray(times, 1, order);\n\t\t\t\tvalues = AnimationUtils.sortedArray(values, 1, order); // if there is a key at the first frame, duplicate it as the\n\t\t\t\t// last frame as well for perfect loop.\n\n\t\t\t\tif (!noLoop && times[0] === 0) {\n\t\t\t\t\ttimes.push(numMorphTargets);\n\t\t\t\t\tvalues.push(values[0]);\n\t\t\t\t}\n\n\t\t\t\ttracks.push(new NumberKeyframeTrack('.morphTargetInfluences[' + morphTargetSequence[i].name + ']', times, values).scale(1.0 / fps));\n\t\t\t}\n\n\t\t\treturn new this(name, -1, tracks);\n\t\t}\n\n\t\tstatic findByName(objectOrClipArray, name) {\n\t\t\tlet clipArray = objectOrClipArray;\n\n\t\t\tif (!Array.isArray(objectOrClipArray)) {\n\t\t\t\tconst o = objectOrClipArray;\n\t\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < clipArray.length; i++) {\n\t\t\t\tif (clipArray[i].name === name) {\n\t\t\t\t\treturn clipArray[i];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\n\t\tstatic CreateClipsFromMorphTargetSequences(morphTargets, fps, noLoop) {\n\t\t\tconst animationToMorphTargets = {}; // tested with https://regex101.com/ on trick sequences\n\t\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\n\t\t\tconst pattern = /^([\\w-]*?)([\\d]+)$/; // sort morph target names into animation groups based\n\t\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\n\t\t\tfor (let i = 0, il = morphTargets.length; i < il; i++) {\n\t\t\t\tconst morphTarget = morphTargets[i];\n\t\t\t\tconst parts = morphTarget.name.match(pattern);\n\n\t\t\t\tif (parts && parts.length > 1) {\n\t\t\t\t\tconst name = parts[1];\n\t\t\t\t\tlet animationMorphTargets = animationToMorphTargets[name];\n\n\t\t\t\t\tif (!animationMorphTargets) {\n\t\t\t\t\t\tanimationToMorphTargets[name] = animationMorphTargets = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tanimationMorphTargets.push(morphTarget);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst clips = [];\n\n\t\t\tfor (const name in animationToMorphTargets) {\n\t\t\t\tclips.push(this.CreateFromMorphTargetSequence(name, animationToMorphTargets[name], fps, noLoop));\n\t\t\t}\n\n\t\t\treturn clips;\n\t\t} // parse the animation.hierarchy format\n\n\n\t\tstatic parseAnimation(animation, bones) {\n\t\t\tif (!animation) {\n\t\t\t\tconsole.error('THREE.AnimationClip: No animation in JSONLoader data.');\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst addNonemptyTrack = function (trackType, trackName, animationKeys, propertyName, destTracks) {\n\t\t\t\t// only return track if there are actually keys.\n\t\t\t\tif (animationKeys.length !== 0) {\n\t\t\t\t\tconst times = [];\n\t\t\t\t\tconst values = [];\n\t\t\t\t\tAnimationUtils.flattenJSON(animationKeys, times, values, propertyName); // empty keys are filtered out, so check again\n\n\t\t\t\t\tif (times.length !== 0) {\n\t\t\t\t\t\tdestTracks.push(new trackType(trackName, times, values));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst tracks = [];\n\t\t\tconst clipName = animation.name || 'default';\n\t\t\tconst fps = animation.fps || 30;\n\t\t\tconst blendMode = animation.blendMode; // automatic length determination in AnimationClip.\n\n\t\t\tlet duration = animation.length || -1;\n\t\t\tconst hierarchyTracks = animation.hierarchy || [];\n\n\t\t\tfor (let h = 0; h < hierarchyTracks.length; h++) {\n\t\t\t\tconst animationKeys = hierarchyTracks[h].keys; // skip empty tracks\n\n\t\t\t\tif (!animationKeys || animationKeys.length === 0) continue; // process morph targets\n\n\t\t\t\tif (animationKeys[0].morphTargets) {\n\t\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\t\tconst morphTargetNames = {};\n\t\t\t\t\tlet k;\n\n\t\t\t\t\tfor (k = 0; k < animationKeys.length; k++) {\n\t\t\t\t\t\tif (animationKeys[k].morphTargets) {\n\t\t\t\t\t\t\tfor (let m = 0; m < animationKeys[k].morphTargets.length; m++) {\n\t\t\t\t\t\t\t\tmorphTargetNames[animationKeys[k].morphTargets[m]] = -1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} // create a track for each morph target with all zero\n\t\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t\t// the morphTarget is named.\n\n\n\t\t\t\t\tfor (const morphTargetName in morphTargetNames) {\n\t\t\t\t\t\tconst times = [];\n\t\t\t\t\t\tconst values = [];\n\n\t\t\t\t\t\tfor (let m = 0; m !== animationKeys[k].morphTargets.length; ++m) {\n\t\t\t\t\t\t\tconst animationKey = animationKeys[k];\n\t\t\t\t\t\t\ttimes.push(animationKey.time);\n\t\t\t\t\t\t\tvalues.push(animationKey.morphTarget === morphTargetName ? 1 : 0);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttracks.push(new NumberKeyframeTrack('.morphTargetInfluence[' + morphTargetName + ']', times, values));\n\t\t\t\t\t}\n\n\t\t\t\t\tduration = morphTargetNames.length * (fps || 1.0);\n\t\t\t\t} else {\n\t\t\t\t\t// ...assume skeletal animation\n\t\t\t\t\tconst boneName = '.bones[' + bones[h].name + ']';\n\t\t\t\t\taddNonemptyTrack(VectorKeyframeTrack, boneName + '.position', animationKeys, 'pos', tracks);\n\t\t\t\t\taddNonemptyTrack(QuaternionKeyframeTrack, boneName + '.quaternion', animationKeys, 'rot', tracks);\n\t\t\t\t\taddNonemptyTrack(VectorKeyframeTrack, boneName + '.scale', animationKeys, 'scl', tracks);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tracks.length === 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst clip = new this(clipName, duration, tracks, blendMode);\n\t\t\treturn clip;\n\t\t}\n\n\t\tresetDuration() {\n\t\t\tconst tracks = this.tracks;\n\t\t\tlet duration = 0;\n\n\t\t\tfor (let i = 0, n = tracks.length; i !== n; ++i) {\n\t\t\t\tconst track = this.tracks[i];\n\t\t\t\tduration = Math.max(duration, track.times[track.times.length - 1]);\n\t\t\t}\n\n\t\t\tthis.duration = duration;\n\t\t\treturn this;\n\t\t}\n\n\t\ttrim() {\n\t\t\tfor (let i = 0; i < this.tracks.length; i++) {\n\t\t\t\tthis.tracks[i].trim(0, this.duration);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tvalidate() {\n\t\t\tlet valid = true;\n\n\t\t\tfor (let i = 0; i < this.tracks.length; i++) {\n\t\t\t\tvalid = valid && this.tracks[i].validate();\n\t\t\t}\n\n\t\t\treturn valid;\n\t\t}\n\n\t\toptimize() {\n\t\t\tfor (let i = 0; i < this.tracks.length; i++) {\n\t\t\t\tthis.tracks[i].optimize();\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\tconst tracks = [];\n\n\t\t\tfor (let i = 0; i < this.tracks.length; i++) {\n\t\t\t\ttracks.push(this.tracks[i].clone());\n\t\t\t}\n\n\t\t\treturn new this.constructor(this.name, this.duration, tracks, this.blendMode);\n\t\t}\n\n\t\ttoJSON() {\n\t\t\treturn this.constructor.toJSON(this);\n\t\t}\n\n\t}\n\n\tfunction getTrackTypeForValueTypeName(typeName) {\n\t\tswitch (typeName.toLowerCase()) {\n\t\t\tcase 'scalar':\n\t\t\tcase 'double':\n\t\t\tcase 'float':\n\t\t\tcase 'number':\n\t\t\tcase 'integer':\n\t\t\t\treturn NumberKeyframeTrack;\n\n\t\t\tcase 'vector':\n\t\t\tcase 'vector2':\n\t\t\tcase 'vector3':\n\t\t\tcase 'vector4':\n\t\t\t\treturn VectorKeyframeTrack;\n\n\t\t\tcase 'color':\n\t\t\t\treturn ColorKeyframeTrack;\n\n\t\t\tcase 'quaternion':\n\t\t\t\treturn QuaternionKeyframeTrack;\n\n\t\t\tcase 'bool':\n\t\t\tcase 'boolean':\n\t\t\t\treturn BooleanKeyframeTrack;\n\n\t\t\tcase 'string':\n\t\t\t\treturn StringKeyframeTrack;\n\t\t}\n\n\t\tthrow new Error('THREE.KeyframeTrack: Unsupported typeName: ' + typeName);\n\t}\n\n\tfunction parseKeyframeTrack(json) {\n\t\tif (json.type === undefined) {\n\t\t\tthrow new Error('THREE.KeyframeTrack: track type undefined, can not parse');\n\t\t}\n\n\t\tconst trackType = getTrackTypeForValueTypeName(json.type);\n\n\t\tif (json.times === undefined) {\n\t\t\tconst times = [],\n\t\t\t\t\t\tvalues = [];\n\t\t\tAnimationUtils.flattenJSON(json.keys, times, values, 'value');\n\t\t\tjson.times = times;\n\t\t\tjson.values = values;\n\t\t} // derived classes can define a static parse method\n\n\n\t\tif (trackType.parse !== undefined) {\n\t\t\treturn trackType.parse(json);\n\t\t} else {\n\t\t\t// by default, we assume a constructor compatible with the base\n\t\t\treturn new trackType(json.name, json.times, json.values, json.interpolation);\n\t\t}\n\t}\n\n\tconst Cache = {\n\t\tenabled: false,\n\t\tfiles: {},\n\t\tadd: function (key, file) {\n\t\t\tif (this.enabled === false) return; // console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\t\tthis.files[key] = file;\n\t\t},\n\t\tget: function (key) {\n\t\t\tif (this.enabled === false) return; // console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\t\treturn this.files[key];\n\t\t},\n\t\tremove: function (key) {\n\t\t\tdelete this.files[key];\n\t\t},\n\t\tclear: function () {\n\t\t\tthis.files = {};\n\t\t}\n\t};\n\n\tclass LoadingManager {\n\t\tconstructor(onLoad, onProgress, onError) {\n\t\t\tconst scope = this;\n\t\t\tlet isLoading = false;\n\t\t\tlet itemsLoaded = 0;\n\t\t\tlet itemsTotal = 0;\n\t\t\tlet urlModifier = undefined;\n\t\t\tconst handlers = []; // Refer to #5689 for the reason why we don't set .onStart\n\t\t\t// in the constructor\n\n\t\t\tthis.onStart = undefined;\n\t\t\tthis.onLoad = onLoad;\n\t\t\tthis.onProgress = onProgress;\n\t\t\tthis.onError = onError;\n\n\t\t\tthis.itemStart = function (url) {\n\t\t\t\titemsTotal++;\n\n\t\t\t\tif (isLoading === false) {\n\t\t\t\t\tif (scope.onStart !== undefined) {\n\t\t\t\t\t\tscope.onStart(url, itemsLoaded, itemsTotal);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tisLoading = true;\n\t\t\t};\n\n\t\t\tthis.itemEnd = function (url) {\n\t\t\t\titemsLoaded++;\n\n\t\t\t\tif (scope.onProgress !== undefined) {\n\t\t\t\t\tscope.onProgress(url, itemsLoaded, itemsTotal);\n\t\t\t\t}\n\n\t\t\t\tif (itemsLoaded === itemsTotal) {\n\t\t\t\t\tisLoading = false;\n\n\t\t\t\t\tif (scope.onLoad !== undefined) {\n\t\t\t\t\t\tscope.onLoad();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.itemError = function (url) {\n\t\t\t\tif (scope.onError !== undefined) {\n\t\t\t\t\tscope.onError(url);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.resolveURL = function (url) {\n\t\t\t\tif (urlModifier) {\n\t\t\t\t\treturn urlModifier(url);\n\t\t\t\t}\n\n\t\t\t\treturn url;\n\t\t\t};\n\n\t\t\tthis.setURLModifier = function (transform) {\n\t\t\t\turlModifier = transform;\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\tthis.addHandler = function (regex, loader) {\n\t\t\t\thandlers.push(regex, loader);\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\tthis.removeHandler = function (regex) {\n\t\t\t\tconst index = handlers.indexOf(regex);\n\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\thandlers.splice(index, 2);\n\t\t\t\t}\n\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\tthis.getHandler = function (file) {\n\t\t\t\tfor (let i = 0, l = handlers.length; i < l; i += 2) {\n\t\t\t\t\tconst regex = handlers[i];\n\t\t\t\t\tconst loader = handlers[i + 1];\n\t\t\t\t\tif (regex.global) regex.lastIndex = 0; // see #17920\n\n\t\t\t\t\tif (regex.test(file)) {\n\t\t\t\t\t\treturn loader;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t};\n\t\t}\n\n\t}\n\n\tconst DefaultLoadingManager = new LoadingManager();\n\n\tclass Loader {\n\t\tconstructor(manager) {\n\t\t\tthis.manager = manager !== undefined ? manager : DefaultLoadingManager;\n\t\t\tthis.crossOrigin = 'anonymous';\n\t\t\tthis.withCredentials = false;\n\t\t\tthis.path = '';\n\t\t\tthis.resourcePath = '';\n\t\t\tthis.requestHeader = {};\n\t\t}\n\n\t\tload() {}\n\n\t\tloadAsync(url, onProgress) {\n\t\t\tconst scope = this;\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tscope.load(url, resolve, onProgress, reject);\n\t\t\t});\n\t\t}\n\n\t\tparse() {}\n\n\t\tsetCrossOrigin(crossOrigin) {\n\t\t\tthis.crossOrigin = crossOrigin;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetWithCredentials(value) {\n\t\t\tthis.withCredentials = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetPath(path) {\n\t\t\tthis.path = path;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetResourcePath(resourcePath) {\n\t\t\tthis.resourcePath = resourcePath;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetRequestHeader(requestHeader) {\n\t\t\tthis.requestHeader = requestHeader;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tconst loading = {};\n\n\tclass FileLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tif (url === undefined) url = '';\n\t\t\tif (this.path !== undefined) url = this.path + url;\n\t\t\turl = this.manager.resolveURL(url);\n\t\t\tconst cached = Cache.get(url);\n\n\t\t\tif (cached !== undefined) {\n\t\t\t\tthis.manager.itemStart(url);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (onLoad) onLoad(cached);\n\t\t\t\t\tthis.manager.itemEnd(url);\n\t\t\t\t}, 0);\n\t\t\t\treturn cached;\n\t\t\t} // Check if request is duplicate\n\n\n\t\t\tif (loading[url] !== undefined) {\n\t\t\t\tloading[url].push({\n\t\t\t\t\tonLoad: onLoad,\n\t\t\t\t\tonProgress: onProgress,\n\t\t\t\t\tonError: onError\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t} // Initialise array for duplicate requests\n\n\n\t\t\tloading[url] = [];\n\t\t\tloading[url].push({\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\t\t\t}); // create request\n\n\t\t\tconst req = new Request(url, {\n\t\t\t\theaders: new Headers(this.requestHeader),\n\t\t\t\tcredentials: this.withCredentials ? 'include' : 'same-origin' // An abort controller could be added within a future PR\n\n\t\t\t}); // start the fetch\n\n\t\t\tfetch(req).then(response => {\n\t\t\t\tif (response.status === 200 || response.status === 0) {\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\t\t\t\t\tif (response.status === 0) {\n\t\t\t\t\t\tconsole.warn('THREE.FileLoader: HTTP Status 0 received.');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof ReadableStream === 'undefined' || response.body.getReader === undefined) {\n\t\t\t\t\t\treturn response;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst callbacks = loading[url];\n\t\t\t\t\tconst reader = response.body.getReader();\n\t\t\t\t\tconst contentLength = response.headers.get('Content-Length');\n\t\t\t\t\tconst total = contentLength ? parseInt(contentLength) : 0;\n\t\t\t\t\tconst lengthComputable = total !== 0;\n\t\t\t\t\tlet loaded = 0; // periodically read data into the new stream tracking while download progress\n\n\t\t\t\t\tconst stream = new ReadableStream({\n\t\t\t\t\t\tstart(controller) {\n\t\t\t\t\t\t\treadData();\n\n\t\t\t\t\t\t\tfunction readData() {\n\t\t\t\t\t\t\t\treader.read().then(({\n\t\t\t\t\t\t\t\t\tdone,\n\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t}) => {\n\t\t\t\t\t\t\t\t\tif (done) {\n\t\t\t\t\t\t\t\t\t\tcontroller.close();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tloaded += value.byteLength;\n\t\t\t\t\t\t\t\t\t\tconst event = new ProgressEvent('progress', {\n\t\t\t\t\t\t\t\t\t\t\tlengthComputable,\n\t\t\t\t\t\t\t\t\t\t\tloaded,\n\t\t\t\t\t\t\t\t\t\t\ttotal\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\tfor (let i = 0, il = callbacks.length; i < il; i++) {\n\t\t\t\t\t\t\t\t\t\t\tconst callback = callbacks[i];\n\t\t\t\t\t\t\t\t\t\t\tif (callback.onProgress) callback.onProgress(event);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tcontroller.enqueue(value);\n\t\t\t\t\t\t\t\t\t\treadData();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\t\t\t\t\treturn new Response(stream);\n\t\t\t\t} else {\n\t\t\t\t\tthrow Error(`fetch for \"${response.url}\" responded with ${response.status}: ${response.statusText}`);\n\t\t\t\t}\n\t\t\t}).then(response => {\n\t\t\t\tswitch (this.responseType) {\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\t\treturn response.arrayBuffer();\n\n\t\t\t\t\tcase 'blob':\n\t\t\t\t\t\treturn response.blob();\n\n\t\t\t\t\tcase 'document':\n\t\t\t\t\t\treturn response.text().then(text => {\n\t\t\t\t\t\t\tconst parser = new DOMParser();\n\t\t\t\t\t\t\treturn parser.parseFromString(text, this.mimeType);\n\t\t\t\t\t\t});\n\n\t\t\t\t\tcase 'json':\n\t\t\t\t\t\treturn response.json();\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn response.text();\n\t\t\t\t}\n\t\t\t}).then(data => {\n\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\n\t\t\t\t// error response bodies as proper responses to requests.\n\t\t\t\tCache.add(url, data);\n\t\t\t\tconst callbacks = loading[url];\n\t\t\t\tdelete loading[url];\n\n\t\t\t\tfor (let i = 0, il = callbacks.length; i < il; i++) {\n\t\t\t\t\tconst callback = callbacks[i];\n\t\t\t\t\tif (callback.onLoad) callback.onLoad(data);\n\t\t\t\t}\n\t\t\t}).catch(err => {\n\t\t\t\t// Abort errors and other errors are handled the same\n\t\t\t\tconst callbacks = loading[url];\n\n\t\t\t\tif (callbacks === undefined) {\n\t\t\t\t\t// When onLoad was called and url was deleted in `loading`\n\t\t\t\t\tthis.manager.itemError(url);\n\t\t\t\t\tthrow err;\n\t\t\t\t}\n\n\t\t\t\tdelete loading[url];\n\n\t\t\t\tfor (let i = 0, il = callbacks.length; i < il; i++) {\n\t\t\t\t\tconst callback = callbacks[i];\n\t\t\t\t\tif (callback.onError) callback.onError(err);\n\t\t\t\t}\n\n\t\t\t\tthis.manager.itemError(url);\n\t\t\t}).finally(() => {\n\t\t\t\tthis.manager.itemEnd(url);\n\t\t\t});\n\t\t\tthis.manager.itemStart(url);\n\t\t}\n\n\t\tsetResponseType(value) {\n\t\t\tthis.responseType = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetMimeType(value) {\n\t\t\tthis.mimeType = value;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass AnimationLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tconst scope = this;\n\t\t\tconst loader = new FileLoader(this.manager);\n\t\t\tloader.setPath(this.path);\n\t\t\tloader.setRequestHeader(this.requestHeader);\n\t\t\tloader.setWithCredentials(this.withCredentials);\n\t\t\tloader.load(url, function (text) {\n\t\t\t\ttry {\n\t\t\t\t\tonLoad(scope.parse(JSON.parse(text)));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (onError) {\n\t\t\t\t\t\tonError(e);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError(url);\n\t\t\t\t}\n\t\t\t}, onProgress, onError);\n\t\t}\n\n\t\tparse(json) {\n\t\t\tconst animations = [];\n\n\t\t\tfor (let i = 0; i < json.length; i++) {\n\t\t\t\tconst clip = AnimationClip.parse(json[i]);\n\t\t\t\tanimations.push(clip);\n\t\t\t}\n\n\t\t\treturn animations;\n\t\t}\n\n\t}\n\n\t/**\n\t * Abstract Base class to block based textures loader (dds, pvr, ...)\n\t *\n\t * Sub classes have to implement the parse() method which will be used in load().\n\t */\n\n\tclass CompressedTextureLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tconst scope = this;\n\t\t\tconst images = [];\n\t\t\tconst texture = new CompressedTexture();\n\t\t\tconst loader = new FileLoader(this.manager);\n\t\t\tloader.setPath(this.path);\n\t\t\tloader.setResponseType('arraybuffer');\n\t\t\tloader.setRequestHeader(this.requestHeader);\n\t\t\tloader.setWithCredentials(scope.withCredentials);\n\t\t\tlet loaded = 0;\n\n\t\t\tfunction loadTexture(i) {\n\t\t\t\tloader.load(url[i], function (buffer) {\n\t\t\t\t\tconst texDatas = scope.parse(buffer, true);\n\t\t\t\t\timages[i] = {\n\t\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t\t};\n\t\t\t\t\tloaded += 1;\n\n\t\t\t\t\tif (loaded === 6) {\n\t\t\t\t\t\tif (texDatas.mipmapCount === 1) texture.minFilter = LinearFilter;\n\t\t\t\t\t\ttexture.image = images;\n\t\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\t\ttexture.needsUpdate = true;\n\t\t\t\t\t\tif (onLoad) onLoad(texture);\n\t\t\t\t\t}\n\t\t\t\t}, onProgress, onError);\n\t\t\t}\n\n\t\t\tif (Array.isArray(url)) {\n\t\t\t\tfor (let i = 0, il = url.length; i < il; ++i) {\n\t\t\t\t\tloadTexture(i);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// compressed cubemap texture stored in a single DDS file\n\t\t\t\tloader.load(url, function (buffer) {\n\t\t\t\t\tconst texDatas = scope.parse(buffer, true);\n\n\t\t\t\t\tif (texDatas.isCubemap) {\n\t\t\t\t\t\tconst faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\t\tfor (let f = 0; f < faces; f++) {\n\t\t\t\t\t\t\timages[f] = {\n\t\t\t\t\t\t\t\tmipmaps: []\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (let i = 0; i < texDatas.mipmapCount; i++) {\n\t\t\t\t\t\t\t\timages[f].mipmaps.push(texDatas.mipmaps[f * texDatas.mipmapCount + i]);\n\t\t\t\t\t\t\t\timages[f].format = texDatas.format;\n\t\t\t\t\t\t\t\timages[f].width = texDatas.width;\n\t\t\t\t\t\t\t\timages[f].height = texDatas.height;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttexture.image = images;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (texDatas.mipmapCount === 1) {\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\t\t\t\t\tif (onLoad) onLoad(texture);\n\t\t\t\t}, onProgress, onError);\n\t\t\t}\n\n\t\t\treturn texture;\n\t\t}\n\n\t}\n\n\tclass ImageLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tif (this.path !== undefined) url = this.path + url;\n\t\t\turl = this.manager.resolveURL(url);\n\t\t\tconst scope = this;\n\t\t\tconst cached = Cache.get(url);\n\n\t\t\tif (cached !== undefined) {\n\t\t\t\tscope.manager.itemStart(url);\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tif (onLoad) onLoad(cached);\n\t\t\t\t\tscope.manager.itemEnd(url);\n\t\t\t\t}, 0);\n\t\t\t\treturn cached;\n\t\t\t}\n\n\t\t\tconst image = createElementNS('img');\n\n\t\t\tfunction onImageLoad() {\n\t\t\t\tremoveEventListeners();\n\t\t\t\tCache.add(url, this);\n\t\t\t\tif (onLoad) onLoad(this);\n\t\t\t\tscope.manager.itemEnd(url);\n\t\t\t}\n\n\t\t\tfunction onImageError(event) {\n\t\t\t\tremoveEventListeners();\n\t\t\t\tif (onError) onError(event);\n\t\t\t\tscope.manager.itemError(url);\n\t\t\t\tscope.manager.itemEnd(url);\n\t\t\t}\n\n\t\t\tfunction removeEventListeners() {\n\t\t\t\timage.removeEventListener('load', onImageLoad, false);\n\t\t\t\timage.removeEventListener('error', onImageError, false);\n\t\t\t}\n\n\t\t\timage.addEventListener('load', onImageLoad, false);\n\t\t\timage.addEventListener('error', onImageError, false);\n\n\t\t\tif (url.substr(0, 5) !== 'data:') {\n\t\t\t\tif (this.crossOrigin !== undefined) image.crossOrigin = this.crossOrigin;\n\t\t\t}\n\n\t\t\tscope.manager.itemStart(url);\n\t\t\timage.src = url;\n\t\t\treturn image;\n\t\t}\n\n\t}\n\n\tclass CubeTextureLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(urls, onLoad, onProgress, onError) {\n\t\t\tconst texture = new CubeTexture();\n\t\t\tconst loader = new ImageLoader(this.manager);\n\t\t\tloader.setCrossOrigin(this.crossOrigin);\n\t\t\tloader.setPath(this.path);\n\t\t\tlet loaded = 0;\n\n\t\t\tfunction loadTexture(i) {\n\t\t\t\tloader.load(urls[i], function (image) {\n\t\t\t\t\ttexture.images[i] = image;\n\t\t\t\t\tloaded++;\n\n\t\t\t\t\tif (loaded === 6) {\n\t\t\t\t\t\ttexture.needsUpdate = true;\n\t\t\t\t\t\tif (onLoad) onLoad(texture);\n\t\t\t\t\t}\n\t\t\t\t}, undefined, onError);\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < urls.length; ++i) {\n\t\t\t\tloadTexture(i);\n\t\t\t}\n\n\t\t\treturn texture;\n\t\t}\n\n\t}\n\n\t/**\n\t * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n\t *\n\t * Sub classes have to implement the parse() method which will be used in load().\n\t */\n\n\tclass DataTextureLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tconst scope = this;\n\t\t\tconst texture = new DataTexture();\n\t\t\tconst loader = new FileLoader(this.manager);\n\t\t\tloader.setResponseType('arraybuffer');\n\t\t\tloader.setRequestHeader(this.requestHeader);\n\t\t\tloader.setPath(this.path);\n\t\t\tloader.setWithCredentials(scope.withCredentials);\n\t\t\tloader.load(url, function (buffer) {\n\t\t\t\tconst texData = scope.parse(buffer);\n\t\t\t\tif (!texData) return;\n\n\t\t\t\tif (texData.image !== undefined) {\n\t\t\t\t\ttexture.image = texData.image;\n\t\t\t\t} else if (texData.data !== undefined) {\n\t\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\t\ttexture.image.data = texData.data;\n\t\t\t\t}\n\n\t\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\t\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\t\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\t\tif (texData.encoding !== undefined) {\n\t\t\t\t\ttexture.encoding = texData.encoding;\n\t\t\t\t}\n\n\t\t\t\tif (texData.flipY !== undefined) {\n\t\t\t\t\ttexture.flipY = texData.flipY;\n\t\t\t\t}\n\n\t\t\t\tif (texData.format !== undefined) {\n\t\t\t\t\ttexture.format = texData.format;\n\t\t\t\t}\n\n\t\t\t\tif (texData.type !== undefined) {\n\t\t\t\t\ttexture.type = texData.type;\n\t\t\t\t}\n\n\t\t\t\tif (texData.mipmaps !== undefined) {\n\t\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\t\t\t\t\ttexture.minFilter = LinearMipmapLinearFilter; // presumably...\n\t\t\t\t}\n\n\t\t\t\tif (texData.mipmapCount === 1) {\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\t\t\t\t}\n\n\t\t\t\tif (texData.generateMipmaps !== undefined) {\n\t\t\t\t\ttexture.generateMipmaps = texData.generateMipmaps;\n\t\t\t\t}\n\n\t\t\t\ttexture.needsUpdate = true;\n\t\t\t\tif (onLoad) onLoad(texture, texData);\n\t\t\t}, onProgress, onError);\n\t\t\treturn texture;\n\t\t}\n\n\t}\n\n\tclass TextureLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tconst texture = new Texture();\n\t\t\tconst loader = new ImageLoader(this.manager);\n\t\t\tloader.setCrossOrigin(this.crossOrigin);\n\t\t\tloader.setPath(this.path);\n\t\t\tloader.load(url, function (image) {\n\t\t\t\ttexture.image = image;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif (onLoad !== undefined) {\n\t\t\t\t\tonLoad(texture);\n\t\t\t\t}\n\t\t\t}, onProgress, onError);\n\t\t\treturn texture;\n\t\t}\n\n\t}\n\n\tclass Light extends Object3D {\n\t\tconstructor(color, intensity = 1) {\n\t\t\tsuper();\n\t\t\tthis.type = 'Light';\n\t\t\tthis.color = new Color(color);\n\t\t\tthis.intensity = intensity;\n\t\t}\n\n\t\tdispose() {// Empty here in base class; some subclasses override.\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.intensity = source.intensity;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst data = super.toJSON(meta);\n\t\t\tdata.object.color = this.color.getHex();\n\t\t\tdata.object.intensity = this.intensity;\n\t\t\tif (this.groundColor !== undefined) data.object.groundColor = this.groundColor.getHex();\n\t\t\tif (this.distance !== undefined) data.object.distance = this.distance;\n\t\t\tif (this.angle !== undefined) data.object.angle = this.angle;\n\t\t\tif (this.decay !== undefined) data.object.decay = this.decay;\n\t\t\tif (this.penumbra !== undefined) data.object.penumbra = this.penumbra;\n\t\t\tif (this.shadow !== undefined) data.object.shadow = this.shadow.toJSON();\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tLight.prototype.isLight = true;\n\n\tclass HemisphereLight extends Light {\n\t\tconstructor(skyColor, groundColor, intensity) {\n\t\t\tsuper(skyColor, intensity);\n\t\t\tthis.type = 'HemisphereLight';\n\t\t\tthis.position.copy(Object3D.DefaultUp);\n\t\t\tthis.updateMatrix();\n\t\t\tthis.groundColor = new Color(groundColor);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tLight.prototype.copy.call(this, source);\n\t\t\tthis.groundColor.copy(source.groundColor);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tHemisphereLight.prototype.isHemisphereLight = true;\n\n\tconst _projScreenMatrix$1 = /*@__PURE__*/new Matrix4();\n\n\tconst _lightPositionWorld$1 = /*@__PURE__*/new Vector3();\n\n\tconst _lookTarget$1 = /*@__PURE__*/new Vector3();\n\n\tclass LightShadow {\n\t\tconstructor(camera) {\n\t\t\tthis.camera = camera;\n\t\t\tthis.bias = 0;\n\t\t\tthis.normalBias = 0;\n\t\t\tthis.radius = 1;\n\t\t\tthis.blurSamples = 8;\n\t\t\tthis.mapSize = new Vector2(512, 512);\n\t\t\tthis.map = null;\n\t\t\tthis.mapPass = null;\n\t\t\tthis.matrix = new Matrix4();\n\t\t\tthis.autoUpdate = true;\n\t\t\tthis.needsUpdate = false;\n\t\t\tthis._frustum = new Frustum();\n\t\t\tthis._frameExtents = new Vector2(1, 1);\n\t\t\tthis._viewportCount = 1;\n\t\t\tthis._viewports = [new Vector4(0, 0, 1, 1)];\n\t\t}\n\n\t\tgetViewportCount() {\n\t\t\treturn this._viewportCount;\n\t\t}\n\n\t\tgetFrustum() {\n\t\t\treturn this._frustum;\n\t\t}\n\n\t\tupdateMatrices(light) {\n\t\t\tconst shadowCamera = this.camera;\n\t\t\tconst shadowMatrix = this.matrix;\n\n\t\t\t_lightPositionWorld$1.setFromMatrixPosition(light.matrixWorld);\n\n\t\t\tshadowCamera.position.copy(_lightPositionWorld$1);\n\n\t\t\t_lookTarget$1.setFromMatrixPosition(light.target.matrixWorld);\n\n\t\t\tshadowCamera.lookAt(_lookTarget$1);\n\t\t\tshadowCamera.updateMatrixWorld();\n\n\t\t\t_projScreenMatrix$1.multiplyMatrices(shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse);\n\n\t\t\tthis._frustum.setFromProjectionMatrix(_projScreenMatrix$1);\n\n\t\t\tshadowMatrix.set(0.5, 0.0, 0.0, 0.5, 0.0, 0.5, 0.0, 0.5, 0.0, 0.0, 0.5, 0.5, 0.0, 0.0, 0.0, 1.0);\n\t\t\tshadowMatrix.multiply(shadowCamera.projectionMatrix);\n\t\t\tshadowMatrix.multiply(shadowCamera.matrixWorldInverse);\n\t\t}\n\n\t\tgetViewport(viewportIndex) {\n\t\t\treturn this._viewports[viewportIndex];\n\t\t}\n\n\t\tgetFrameExtents() {\n\t\t\treturn this._frameExtents;\n\t\t}\n\n\t\tdispose() {\n\t\t\tif (this.map) {\n\t\t\t\tthis.map.dispose();\n\t\t\t}\n\n\t\t\tif (this.mapPass) {\n\t\t\t\tthis.mapPass.dispose();\n\t\t\t}\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tthis.camera = source.camera.clone();\n\t\t\tthis.bias = source.bias;\n\t\t\tthis.radius = source.radius;\n\t\t\tthis.mapSize.copy(source.mapSize);\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst object = {};\n\t\t\tif (this.bias !== 0) object.bias = this.bias;\n\t\t\tif (this.normalBias !== 0) object.normalBias = this.normalBias;\n\t\t\tif (this.radius !== 1) object.radius = this.radius;\n\t\t\tif (this.mapSize.x !== 512 || this.mapSize.y !== 512) object.mapSize = this.mapSize.toArray();\n\t\t\tobject.camera = this.camera.toJSON(false).object;\n\t\t\tdelete object.camera.matrix;\n\t\t\treturn object;\n\t\t}\n\n\t}\n\n\tclass SpotLightShadow extends LightShadow {\n\t\tconstructor() {\n\t\t\tsuper(new PerspectiveCamera(50, 1, 0.5, 500));\n\t\t\tthis.focus = 1;\n\t\t}\n\n\t\tupdateMatrices(light) {\n\t\t\tconst camera = this.camera;\n\t\t\tconst fov = RAD2DEG * 2 * light.angle * this.focus;\n\t\t\tconst aspect = this.mapSize.width / this.mapSize.height;\n\t\t\tconst far = light.distance || camera.far;\n\n\t\t\tif (fov !== camera.fov || aspect !== camera.aspect || far !== camera.far) {\n\t\t\t\tcamera.fov = fov;\n\t\t\t\tcamera.aspect = aspect;\n\t\t\t\tcamera.far = far;\n\t\t\t\tcamera.updateProjectionMatrix();\n\t\t\t}\n\n\t\t\tsuper.updateMatrices(light);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.focus = source.focus;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tSpotLightShadow.prototype.isSpotLightShadow = true;\n\n\tclass SpotLight extends Light {\n\t\tconstructor(color, intensity, distance = 0, angle = Math.PI / 3, penumbra = 0, decay = 1) {\n\t\t\tsuper(color, intensity);\n\t\t\tthis.type = 'SpotLight';\n\t\t\tthis.position.copy(Object3D.DefaultUp);\n\t\t\tthis.updateMatrix();\n\t\t\tthis.target = new Object3D();\n\t\t\tthis.distance = distance;\n\t\t\tthis.angle = angle;\n\t\t\tthis.penumbra = penumbra;\n\t\t\tthis.decay = decay; // for physically correct lights, should be 2.\n\n\t\t\tthis.shadow = new SpotLightShadow();\n\t\t}\n\n\t\tget power() {\n\t\t\t// compute the light's luminous power (in lumens) from its intensity (in candela)\n\t\t\t// by convention for a spotlight, luminous power (lm) =  * luminous intensity (cd)\n\t\t\treturn this.intensity * Math.PI;\n\t\t}\n\n\t\tset power(power) {\n\t\t\t// set the light's intensity (in candela) from the desired luminous power (in lumens)\n\t\t\tthis.intensity = power / Math.PI;\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.shadow.dispose();\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.distance = source.distance;\n\t\t\tthis.angle = source.angle;\n\t\t\tthis.penumbra = source.penumbra;\n\t\t\tthis.decay = source.decay;\n\t\t\tthis.target = source.target.clone();\n\t\t\tthis.shadow = source.shadow.clone();\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tSpotLight.prototype.isSpotLight = true;\n\n\tconst _projScreenMatrix = /*@__PURE__*/new Matrix4();\n\n\tconst _lightPositionWorld = /*@__PURE__*/new Vector3();\n\n\tconst _lookTarget = /*@__PURE__*/new Vector3();\n\n\tclass PointLightShadow extends LightShadow {\n\t\tconstructor() {\n\t\t\tsuper(new PerspectiveCamera(90, 1, 0.5, 500));\n\t\t\tthis._frameExtents = new Vector2(4, 2);\n\t\t\tthis._viewportCount = 6;\n\t\t\tthis._viewports = [// These viewports map a cube-map onto a 2D texture with the\n\t\t\t// following orientation:\n\t\t\t//\n\t\t\t//\txzXZ\n\t\t\t//\t y Y\n\t\t\t//\n\t\t\t// X - Positive x direction\n\t\t\t// x - Negative x direction\n\t\t\t// Y - Positive y direction\n\t\t\t// y - Negative y direction\n\t\t\t// Z - Positive z direction\n\t\t\t// z - Negative z direction\n\t\t\t// positive X\n\t\t\tnew Vector4(2, 1, 1, 1), // negative X\n\t\t\tnew Vector4(0, 1, 1, 1), // positive Z\n\t\t\tnew Vector4(3, 1, 1, 1), // negative Z\n\t\t\tnew Vector4(1, 1, 1, 1), // positive Y\n\t\t\tnew Vector4(3, 0, 1, 1), // negative Y\n\t\t\tnew Vector4(1, 0, 1, 1)];\n\t\t\tthis._cubeDirections = [new Vector3(1, 0, 0), new Vector3(-1, 0, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1), new Vector3(0, 1, 0), new Vector3(0, -1, 0)];\n\t\t\tthis._cubeUps = [new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1)];\n\t\t}\n\n\t\tupdateMatrices(light, viewportIndex = 0) {\n\t\t\tconst camera = this.camera;\n\t\t\tconst shadowMatrix = this.matrix;\n\t\t\tconst far = light.distance || camera.far;\n\n\t\t\tif (far !== camera.far) {\n\t\t\t\tcamera.far = far;\n\t\t\t\tcamera.updateProjectionMatrix();\n\t\t\t}\n\n\t\t\t_lightPositionWorld.setFromMatrixPosition(light.matrixWorld);\n\n\t\t\tcamera.position.copy(_lightPositionWorld);\n\n\t\t\t_lookTarget.copy(camera.position);\n\n\t\t\t_lookTarget.add(this._cubeDirections[viewportIndex]);\n\n\t\t\tcamera.up.copy(this._cubeUps[viewportIndex]);\n\t\t\tcamera.lookAt(_lookTarget);\n\t\t\tcamera.updateMatrixWorld();\n\t\t\tshadowMatrix.makeTranslation(-_lightPositionWorld.x, -_lightPositionWorld.y, -_lightPositionWorld.z);\n\n\t\t\t_projScreenMatrix.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);\n\n\t\t\tthis._frustum.setFromProjectionMatrix(_projScreenMatrix);\n\t\t}\n\n\t}\n\n\tPointLightShadow.prototype.isPointLightShadow = true;\n\n\tclass PointLight extends Light {\n\t\tconstructor(color, intensity, distance = 0, decay = 1) {\n\t\t\tsuper(color, intensity);\n\t\t\tthis.type = 'PointLight';\n\t\t\tthis.distance = distance;\n\t\t\tthis.decay = decay; // for physically correct lights, should be 2.\n\n\t\t\tthis.shadow = new PointLightShadow();\n\t\t}\n\n\t\tget power() {\n\t\t\t// compute the light's luminous power (in lumens) from its intensity (in candela)\n\t\t\t// for an isotropic light source, luminous power (lm) = 4  luminous intensity (cd)\n\t\t\treturn this.intensity * 4 * Math.PI;\n\t\t}\n\n\t\tset power(power) {\n\t\t\t// set the light's intensity (in candela) from the desired luminous power (in lumens)\n\t\t\tthis.intensity = power / (4 * Math.PI);\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.shadow.dispose();\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.distance = source.distance;\n\t\t\tthis.decay = source.decay;\n\t\t\tthis.shadow = source.shadow.clone();\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tPointLight.prototype.isPointLight = true;\n\n\tclass DirectionalLightShadow extends LightShadow {\n\t\tconstructor() {\n\t\t\tsuper(new OrthographicCamera(-5, 5, 5, -5, 0.5, 500));\n\t\t}\n\n\t}\n\n\tDirectionalLightShadow.prototype.isDirectionalLightShadow = true;\n\n\tclass DirectionalLight extends Light {\n\t\tconstructor(color, intensity) {\n\t\t\tsuper(color, intensity);\n\t\t\tthis.type = 'DirectionalLight';\n\t\t\tthis.position.copy(Object3D.DefaultUp);\n\t\t\tthis.updateMatrix();\n\t\t\tthis.target = new Object3D();\n\t\t\tthis.shadow = new DirectionalLightShadow();\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.shadow.dispose();\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.target = source.target.clone();\n\t\t\tthis.shadow = source.shadow.clone();\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tDirectionalLight.prototype.isDirectionalLight = true;\n\n\tclass AmbientLight extends Light {\n\t\tconstructor(color, intensity) {\n\t\t\tsuper(color, intensity);\n\t\t\tthis.type = 'AmbientLight';\n\t\t}\n\n\t}\n\n\tAmbientLight.prototype.isAmbientLight = true;\n\n\tclass RectAreaLight extends Light {\n\t\tconstructor(color, intensity, width = 10, height = 10) {\n\t\t\tsuper(color, intensity);\n\t\t\tthis.type = 'RectAreaLight';\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t}\n\n\t\tget power() {\n\t\t\t// compute the light's luminous power (in lumens) from its intensity (in nits)\n\t\t\treturn this.intensity * this.width * this.height * Math.PI;\n\t\t}\n\n\t\tset power(power) {\n\t\t\t// set the light's intensity (in nits) from the desired luminous power (in lumens)\n\t\t\tthis.intensity = power / (this.width * this.height * Math.PI);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.width = source.width;\n\t\t\tthis.height = source.height;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst data = super.toJSON(meta);\n\t\t\tdata.object.width = this.width;\n\t\t\tdata.object.height = this.height;\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tRectAreaLight.prototype.isRectAreaLight = true;\n\n\t/**\n\t * Primary reference:\n\t *\t https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\t *\n\t * Secondary reference:\n\t *\t https://www.ppsloan.org/publications/StupidSH36.pdf\n\t */\n\t// 3-band SH defined by 9 coefficients\n\n\tclass SphericalHarmonics3 {\n\t\tconstructor() {\n\t\t\tthis.coefficients = [];\n\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tthis.coefficients.push(new Vector3());\n\t\t\t}\n\t\t}\n\n\t\tset(coefficients) {\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tthis.coefficients[i].copy(coefficients[i]);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tzero() {\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tthis.coefficients[i].set(0, 0, 0);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t} // get the radiance in the direction of the normal\n\t\t// target is a Vector3\n\n\n\t\tgetAt(normal, target) {\n\t\t\t// normal is assumed to be unit length\n\t\t\tconst x = normal.x,\n\t\t\t\t\t\ty = normal.y,\n\t\t\t\t\t\tz = normal.z;\n\t\t\tconst coeff = this.coefficients; // band 0\n\n\t\t\ttarget.copy(coeff[0]).multiplyScalar(0.282095); // band 1\n\n\t\t\ttarget.addScaledVector(coeff[1], 0.488603 * y);\n\t\t\ttarget.addScaledVector(coeff[2], 0.488603 * z);\n\t\t\ttarget.addScaledVector(coeff[3], 0.488603 * x); // band 2\n\n\t\t\ttarget.addScaledVector(coeff[4], 1.092548 * (x * y));\n\t\t\ttarget.addScaledVector(coeff[5], 1.092548 * (y * z));\n\t\t\ttarget.addScaledVector(coeff[6], 0.315392 * (3.0 * z * z - 1.0));\n\t\t\ttarget.addScaledVector(coeff[7], 1.092548 * (x * z));\n\t\t\ttarget.addScaledVector(coeff[8], 0.546274 * (x * x - y * y));\n\t\t\treturn target;\n\t\t} // get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t\t// target is a Vector3\n\t\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\n\n\t\tgetIrradianceAt(normal, target) {\n\t\t\t// normal is assumed to be unit length\n\t\t\tconst x = normal.x,\n\t\t\t\t\t\ty = normal.y,\n\t\t\t\t\t\tz = normal.z;\n\t\t\tconst coeff = this.coefficients; // band 0\n\n\t\t\ttarget.copy(coeff[0]).multiplyScalar(0.886227); //  * 0.282095\n\t\t\t// band 1\n\n\t\t\ttarget.addScaledVector(coeff[1], 2.0 * 0.511664 * y); // ( 2 *  / 3 ) * 0.488603\n\n\t\t\ttarget.addScaledVector(coeff[2], 2.0 * 0.511664 * z);\n\t\t\ttarget.addScaledVector(coeff[3], 2.0 * 0.511664 * x); // band 2\n\n\t\t\ttarget.addScaledVector(coeff[4], 2.0 * 0.429043 * x * y); // (  / 4 ) * 1.092548\n\n\t\t\ttarget.addScaledVector(coeff[5], 2.0 * 0.429043 * y * z);\n\t\t\ttarget.addScaledVector(coeff[6], 0.743125 * z * z - 0.247708); // (  / 4 ) * 0.315392 * 3\n\n\t\t\ttarget.addScaledVector(coeff[7], 2.0 * 0.429043 * x * z);\n\t\t\ttarget.addScaledVector(coeff[8], 0.429043 * (x * x - y * y)); // (  / 4 ) * 0.546274\n\n\t\t\treturn target;\n\t\t}\n\n\t\tadd(sh) {\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tthis.coefficients[i].add(sh.coefficients[i]);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\taddScaledSH(sh, s) {\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tthis.coefficients[i].addScaledVector(sh.coefficients[i], s);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tscale(s) {\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tthis.coefficients[i].multiplyScalar(s);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tlerp(sh, alpha) {\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tthis.coefficients[i].lerp(sh.coefficients[i], alpha);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(sh) {\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tif (!this.coefficients[i].equals(sh.coefficients[i])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tcopy(sh) {\n\t\t\treturn this.set(sh.coefficients);\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\tfromArray(array, offset = 0) {\n\t\t\tconst coefficients = this.coefficients;\n\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tcoefficients[i].fromArray(array, offset + i * 3);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttoArray(array = [], offset = 0) {\n\t\t\tconst coefficients = this.coefficients;\n\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tcoefficients[i].toArray(array, offset + i * 3);\n\t\t\t}\n\n\t\t\treturn array;\n\t\t} // evaluate the basis functions\n\t\t// shBasis is an Array[ 9 ]\n\n\n\t\tstatic getBasisAt(normal, shBasis) {\n\t\t\t// normal is assumed to be unit length\n\t\t\tconst x = normal.x,\n\t\t\t\t\t\ty = normal.y,\n\t\t\t\t\t\tz = normal.z; // band 0\n\n\t\t\tshBasis[0] = 0.282095; // band 1\n\n\t\t\tshBasis[1] = 0.488603 * y;\n\t\t\tshBasis[2] = 0.488603 * z;\n\t\t\tshBasis[3] = 0.488603 * x; // band 2\n\n\t\t\tshBasis[4] = 1.092548 * x * y;\n\t\t\tshBasis[5] = 1.092548 * y * z;\n\t\t\tshBasis[6] = 0.315392 * (3 * z * z - 1);\n\t\t\tshBasis[7] = 1.092548 * x * z;\n\t\t\tshBasis[8] = 0.546274 * (x * x - y * y);\n\t\t}\n\n\t}\n\n\tSphericalHarmonics3.prototype.isSphericalHarmonics3 = true;\n\n\tclass LightProbe extends Light {\n\t\tconstructor(sh = new SphericalHarmonics3(), intensity = 1) {\n\t\t\tsuper(undefined, intensity);\n\t\t\tthis.sh = sh;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.sh.copy(source.sh);\n\t\t\treturn this;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tthis.intensity = json.intensity; // TODO: Move this bit to Light.fromJSON();\n\n\t\t\tthis.sh.fromArray(json.sh);\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst data = super.toJSON(meta);\n\t\t\tdata.object.sh = this.sh.toArray();\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tLightProbe.prototype.isLightProbe = true;\n\n\tclass MaterialLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t\tthis.textures = {};\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tconst scope = this;\n\t\t\tconst loader = new FileLoader(scope.manager);\n\t\t\tloader.setPath(scope.path);\n\t\t\tloader.setRequestHeader(scope.requestHeader);\n\t\t\tloader.setWithCredentials(scope.withCredentials);\n\t\t\tloader.load(url, function (text) {\n\t\t\t\ttry {\n\t\t\t\t\tonLoad(scope.parse(JSON.parse(text)));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (onError) {\n\t\t\t\t\t\tonError(e);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError(url);\n\t\t\t\t}\n\t\t\t}, onProgress, onError);\n\t\t}\n\n\t\tparse(json) {\n\t\t\tconst textures = this.textures;\n\n\t\t\tfunction getTexture(name) {\n\t\t\t\tif (textures[name] === undefined) {\n\t\t\t\t\tconsole.warn('THREE.MaterialLoader: Undefined texture', name);\n\t\t\t\t}\n\n\t\t\t\treturn textures[name];\n\t\t\t}\n\n\t\t\tconst material = new Materials[json.type]();\n\t\t\tif (json.uuid !== undefined) material.uuid = json.uuid;\n\t\t\tif (json.name !== undefined) material.name = json.name;\n\t\t\tif (json.color !== undefined && material.color !== undefined) material.color.setHex(json.color);\n\t\t\tif (json.roughness !== undefined) material.roughness = json.roughness;\n\t\t\tif (json.metalness !== undefined) material.metalness = json.metalness;\n\t\t\tif (json.sheen !== undefined) material.sheen = json.sheen;\n\t\t\tif (json.sheenColor !== undefined) material.sheenColor = new Color().setHex(json.sheenColor);\n\t\t\tif (json.sheenRoughness !== undefined) material.sheenRoughness = json.sheenRoughness;\n\t\t\tif (json.emissive !== undefined && material.emissive !== undefined) material.emissive.setHex(json.emissive);\n\t\t\tif (json.specular !== undefined && material.specular !== undefined) material.specular.setHex(json.specular);\n\t\t\tif (json.specularIntensity !== undefined) material.specularIntensity = json.specularIntensity;\n\t\t\tif (json.specularColor !== undefined && material.specularColor !== undefined) material.specularColor.setHex(json.specularColor);\n\t\t\tif (json.shininess !== undefined) material.shininess = json.shininess;\n\t\t\tif (json.clearcoat !== undefined) material.clearcoat = json.clearcoat;\n\t\t\tif (json.clearcoatRoughness !== undefined) material.clearcoatRoughness = json.clearcoatRoughness;\n\t\t\tif (json.transmission !== undefined) material.transmission = json.transmission;\n\t\t\tif (json.thickness !== undefined) material.thickness = json.thickness;\n\t\t\tif (json.attenuationDistance !== undefined) material.attenuationDistance = json.attenuationDistance;\n\t\t\tif (json.attenuationColor !== undefined && material.attenuationColor !== undefined) material.attenuationColor.setHex(json.attenuationColor);\n\t\t\tif (json.fog !== undefined) material.fog = json.fog;\n\t\t\tif (json.flatShading !== undefined) material.flatShading = json.flatShading;\n\t\t\tif (json.blending !== undefined) material.blending = json.blending;\n\t\t\tif (json.combine !== undefined) material.combine = json.combine;\n\t\t\tif (json.side !== undefined) material.side = json.side;\n\t\t\tif (json.shadowSide !== undefined) material.shadowSide = json.shadowSide;\n\t\t\tif (json.opacity !== undefined) material.opacity = json.opacity;\n\t\t\tif (json.format !== undefined) material.format = json.format;\n\t\t\tif (json.transparent !== undefined) material.transparent = json.transparent;\n\t\t\tif (json.alphaTest !== undefined) material.alphaTest = json.alphaTest;\n\t\t\tif (json.depthTest !== undefined) material.depthTest = json.depthTest;\n\t\t\tif (json.depthWrite !== undefined) material.depthWrite = json.depthWrite;\n\t\t\tif (json.colorWrite !== undefined) material.colorWrite = json.colorWrite;\n\t\t\tif (json.stencilWrite !== undefined) material.stencilWrite = json.stencilWrite;\n\t\t\tif (json.stencilWriteMask !== undefined) material.stencilWriteMask = json.stencilWriteMask;\n\t\t\tif (json.stencilFunc !== undefined) material.stencilFunc = json.stencilFunc;\n\t\t\tif (json.stencilRef !== undefined) material.stencilRef = json.stencilRef;\n\t\t\tif (json.stencilFuncMask !== undefined) material.stencilFuncMask = json.stencilFuncMask;\n\t\t\tif (json.stencilFail !== undefined) material.stencilFail = json.stencilFail;\n\t\t\tif (json.stencilZFail !== undefined) material.stencilZFail = json.stencilZFail;\n\t\t\tif (json.stencilZPass !== undefined) material.stencilZPass = json.stencilZPass;\n\t\t\tif (json.wireframe !== undefined) material.wireframe = json.wireframe;\n\t\t\tif (json.wireframeLinewidth !== undefined) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\t\tif (json.wireframeLinecap !== undefined) material.wireframeLinecap = json.wireframeLinecap;\n\t\t\tif (json.wireframeLinejoin !== undefined) material.wireframeLinejoin = json.wireframeLinejoin;\n\t\t\tif (json.rotation !== undefined) material.rotation = json.rotation;\n\t\t\tif (json.linewidth !== 1) material.linewidth = json.linewidth;\n\t\t\tif (json.dashSize !== undefined) material.dashSize = json.dashSize;\n\t\t\tif (json.gapSize !== undefined) material.gapSize = json.gapSize;\n\t\t\tif (json.scale !== undefined) material.scale = json.scale;\n\t\t\tif (json.polygonOffset !== undefined) material.polygonOffset = json.polygonOffset;\n\t\t\tif (json.polygonOffsetFactor !== undefined) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\t\tif (json.polygonOffsetUnits !== undefined) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\t\t\tif (json.dithering !== undefined) material.dithering = json.dithering;\n\t\t\tif (json.alphaToCoverage !== undefined) material.alphaToCoverage = json.alphaToCoverage;\n\t\t\tif (json.premultipliedAlpha !== undefined) material.premultipliedAlpha = json.premultipliedAlpha;\n\t\t\tif (json.visible !== undefined) material.visible = json.visible;\n\t\t\tif (json.toneMapped !== undefined) material.toneMapped = json.toneMapped;\n\t\t\tif (json.userData !== undefined) material.userData = json.userData;\n\n\t\t\tif (json.vertexColors !== undefined) {\n\t\t\t\tif (typeof json.vertexColors === 'number') {\n\t\t\t\t\tmaterial.vertexColors = json.vertexColors > 0 ? true : false;\n\t\t\t\t} else {\n\t\t\t\t\tmaterial.vertexColors = json.vertexColors;\n\t\t\t\t}\n\t\t\t} // Shader Material\n\n\n\t\t\tif (json.uniforms !== undefined) {\n\t\t\t\tfor (const name in json.uniforms) {\n\t\t\t\t\tconst uniform = json.uniforms[name];\n\t\t\t\t\tmaterial.uniforms[name] = {};\n\n\t\t\t\t\tswitch (uniform.type) {\n\t\t\t\t\t\tcase 't':\n\t\t\t\t\t\t\tmaterial.uniforms[name].value = getTexture(uniform.value);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'c':\n\t\t\t\t\t\t\tmaterial.uniforms[name].value = new Color().setHex(uniform.value);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\t\tmaterial.uniforms[name].value = new Vector2().fromArray(uniform.value);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\t\tmaterial.uniforms[name].value = new Vector3().fromArray(uniform.value);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\t\tmaterial.uniforms[name].value = new Vector4().fromArray(uniform.value);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\t\tmaterial.uniforms[name].value = new Matrix3().fromArray(uniform.value);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\t\tmaterial.uniforms[name].value = new Matrix4().fromArray(uniform.value);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tmaterial.uniforms[name].value = uniform.value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (json.defines !== undefined) material.defines = json.defines;\n\t\t\tif (json.vertexShader !== undefined) material.vertexShader = json.vertexShader;\n\t\t\tif (json.fragmentShader !== undefined) material.fragmentShader = json.fragmentShader;\n\n\t\t\tif (json.extensions !== undefined) {\n\t\t\t\tfor (const key in json.extensions) {\n\t\t\t\t\tmaterial.extensions[key] = json.extensions[key];\n\t\t\t\t}\n\t\t\t} // Deprecated\n\n\n\t\t\tif (json.shading !== undefined) material.flatShading = json.shading === 1; // THREE.FlatShading\n\t\t\t// for PointsMaterial\n\n\t\t\tif (json.size !== undefined) material.size = json.size;\n\t\t\tif (json.sizeAttenuation !== undefined) material.sizeAttenuation = json.sizeAttenuation; // maps\n\n\t\t\tif (json.map !== undefined) material.map = getTexture(json.map);\n\t\t\tif (json.matcap !== undefined) material.matcap = getTexture(json.matcap);\n\t\t\tif (json.alphaMap !== undefined) material.alphaMap = getTexture(json.alphaMap);\n\t\t\tif (json.bumpMap !== undefined) material.bumpMap = getTexture(json.bumpMap);\n\t\t\tif (json.bumpScale !== undefined) material.bumpScale = json.bumpScale;\n\t\t\tif (json.normalMap !== undefined) material.normalMap = getTexture(json.normalMap);\n\t\t\tif (json.normalMapType !== undefined) material.normalMapType = json.normalMapType;\n\n\t\t\tif (json.normalScale !== undefined) {\n\t\t\t\tlet normalScale = json.normalScale;\n\n\t\t\t\tif (Array.isArray(normalScale) === false) {\n\t\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\t\t\t\t\tnormalScale = [normalScale, normalScale];\n\t\t\t\t}\n\n\t\t\t\tmaterial.normalScale = new Vector2().fromArray(normalScale);\n\t\t\t}\n\n\t\t\tif (json.displacementMap !== undefined) material.displacementMap = getTexture(json.displacementMap);\n\t\t\tif (json.displacementScale !== undefined) material.displacementScale = json.displacementScale;\n\t\t\tif (json.displacementBias !== undefined) material.displacementBias = json.displacementBias;\n\t\t\tif (json.roughnessMap !== undefined) material.roughnessMap = getTexture(json.roughnessMap);\n\t\t\tif (json.metalnessMap !== undefined) material.metalnessMap = getTexture(json.metalnessMap);\n\t\t\tif (json.emissiveMap !== undefined) material.emissiveMap = getTexture(json.emissiveMap);\n\t\t\tif (json.emissiveIntensity !== undefined) material.emissiveIntensity = json.emissiveIntensity;\n\t\t\tif (json.specularMap !== undefined) material.specularMap = getTexture(json.specularMap);\n\t\t\tif (json.specularIntensityMap !== undefined) material.specularIntensityMap = getTexture(json.specularIntensityMap);\n\t\t\tif (json.specularColorMap !== undefined) material.specularColorMap = getTexture(json.specularColorMap);\n\t\t\tif (json.envMap !== undefined) material.envMap = getTexture(json.envMap);\n\t\t\tif (json.envMapIntensity !== undefined) material.envMapIntensity = json.envMapIntensity;\n\t\t\tif (json.reflectivity !== undefined) material.reflectivity = json.reflectivity;\n\t\t\tif (json.refractionRatio !== undefined) material.refractionRatio = json.refractionRatio;\n\t\t\tif (json.lightMap !== undefined) material.lightMap = getTexture(json.lightMap);\n\t\t\tif (json.lightMapIntensity !== undefined) material.lightMapIntensity = json.lightMapIntensity;\n\t\t\tif (json.aoMap !== undefined) material.aoMap = getTexture(json.aoMap);\n\t\t\tif (json.aoMapIntensity !== undefined) material.aoMapIntensity = json.aoMapIntensity;\n\t\t\tif (json.gradientMap !== undefined) material.gradientMap = getTexture(json.gradientMap);\n\t\t\tif (json.clearcoatMap !== undefined) material.clearcoatMap = getTexture(json.clearcoatMap);\n\t\t\tif (json.clearcoatRoughnessMap !== undefined) material.clearcoatRoughnessMap = getTexture(json.clearcoatRoughnessMap);\n\t\t\tif (json.clearcoatNormalMap !== undefined) material.clearcoatNormalMap = getTexture(json.clearcoatNormalMap);\n\t\t\tif (json.clearcoatNormalScale !== undefined) material.clearcoatNormalScale = new Vector2().fromArray(json.clearcoatNormalScale);\n\t\t\tif (json.transmissionMap !== undefined) material.transmissionMap = getTexture(json.transmissionMap);\n\t\t\tif (json.thicknessMap !== undefined) material.thicknessMap = getTexture(json.thicknessMap);\n\t\t\tif (json.sheenColorMap !== undefined) material.sheenColorMap = getTexture(json.sheenColorMap);\n\t\t\tif (json.sheenRoughnessMap !== undefined) material.sheenRoughnessMap = getTexture(json.sheenRoughnessMap);\n\t\t\treturn material;\n\t\t}\n\n\t\tsetTextures(value) {\n\t\t\tthis.textures = value;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass LoaderUtils {\n\t\tstatic decodeText(array) {\n\t\t\tif (typeof TextDecoder !== 'undefined') {\n\t\t\t\treturn new TextDecoder().decode(array);\n\t\t\t} // Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\n\t\t\tlet s = '';\n\n\t\t\tfor (let i = 0, il = array.length; i < il; i++) {\n\t\t\t\t// Implicitly assumes little-endian.\n\t\t\t\ts += String.fromCharCode(array[i]);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\t// merges multi-byte utf-8 characters.\n\t\t\t\treturn decodeURIComponent(escape(s));\n\t\t\t} catch (e) {\n\t\t\t\t// see #16358\n\t\t\t\treturn s;\n\t\t\t}\n\t\t}\n\n\t\tstatic extractUrlBase(url) {\n\t\t\tconst index = url.lastIndexOf('/');\n\t\t\tif (index === -1) return './';\n\t\t\treturn url.substr(0, index + 1);\n\t\t}\n\n\t\tstatic resolveURL(url, path) {\n\t\t\t// Invalid URL\n\t\t\tif (typeof url !== 'string' || url === '') return ''; // Host Relative URL\n\n\t\t\tif (/^https?:\\/\\//i.test(path) && /^\\//.test(url)) {\n\t\t\t\tpath = path.replace(/(^https?:\\/\\/[^\\/]+).*/i, '$1');\n\t\t\t} // Absolute URL http://,https://,//\n\n\n\t\t\tif (/^(https?:)?\\/\\//i.test(url)) return url; // Data URI\n\n\t\t\tif (/^data:.*,.*$/i.test(url)) return url; // Blob URL\n\n\t\t\tif (/^blob:.*$/i.test(url)) return url; // Relative URL\n\n\t\t\treturn path + url;\n\t\t}\n\n\t}\n\n\tclass InstancedBufferGeometry extends BufferGeometry {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.type = 'InstancedBufferGeometry';\n\t\t\tthis.instanceCount = Infinity;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.instanceCount = source.instanceCount;\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON(this);\n\t\t\tdata.instanceCount = this.instanceCount;\n\t\t\tdata.isInstancedBufferGeometry = true;\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tInstancedBufferGeometry.prototype.isInstancedBufferGeometry = true;\n\n\tclass BufferGeometryLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tconst scope = this;\n\t\t\tconst loader = new FileLoader(scope.manager);\n\t\t\tloader.setPath(scope.path);\n\t\t\tloader.setRequestHeader(scope.requestHeader);\n\t\t\tloader.setWithCredentials(scope.withCredentials);\n\t\t\tloader.load(url, function (text) {\n\t\t\t\ttry {\n\t\t\t\t\tonLoad(scope.parse(JSON.parse(text)));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (onError) {\n\t\t\t\t\t\tonError(e);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError(url);\n\t\t\t\t}\n\t\t\t}, onProgress, onError);\n\t\t}\n\n\t\tparse(json) {\n\t\t\tconst interleavedBufferMap = {};\n\t\t\tconst arrayBufferMap = {};\n\n\t\t\tfunction getInterleavedBuffer(json, uuid) {\n\t\t\t\tif (interleavedBufferMap[uuid] !== undefined) return interleavedBufferMap[uuid];\n\t\t\t\tconst interleavedBuffers = json.interleavedBuffers;\n\t\t\t\tconst interleavedBuffer = interleavedBuffers[uuid];\n\t\t\t\tconst buffer = getArrayBuffer(json, interleavedBuffer.buffer);\n\t\t\t\tconst array = getTypedArray(interleavedBuffer.type, buffer);\n\t\t\t\tconst ib = new InterleavedBuffer(array, interleavedBuffer.stride);\n\t\t\t\tib.uuid = interleavedBuffer.uuid;\n\t\t\t\tinterleavedBufferMap[uuid] = ib;\n\t\t\t\treturn ib;\n\t\t\t}\n\n\t\t\tfunction getArrayBuffer(json, uuid) {\n\t\t\t\tif (arrayBufferMap[uuid] !== undefined) return arrayBufferMap[uuid];\n\t\t\t\tconst arrayBuffers = json.arrayBuffers;\n\t\t\t\tconst arrayBuffer = arrayBuffers[uuid];\n\t\t\t\tconst ab = new Uint32Array(arrayBuffer).buffer;\n\t\t\t\tarrayBufferMap[uuid] = ab;\n\t\t\t\treturn ab;\n\t\t\t}\n\n\t\t\tconst geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\t\t\tconst index = json.data.index;\n\n\t\t\tif (index !== undefined) {\n\t\t\t\tconst typedArray = getTypedArray(index.type, index.array);\n\t\t\t\tgeometry.setIndex(new BufferAttribute(typedArray, 1));\n\t\t\t}\n\n\t\t\tconst attributes = json.data.attributes;\n\n\t\t\tfor (const key in attributes) {\n\t\t\t\tconst attribute = attributes[key];\n\t\t\t\tlet bufferAttribute;\n\n\t\t\t\tif (attribute.isInterleavedBufferAttribute) {\n\t\t\t\t\tconst interleavedBuffer = getInterleavedBuffer(json.data, attribute.data);\n\t\t\t\t\tbufferAttribute = new InterleavedBufferAttribute(interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized);\n\t\t\t\t} else {\n\t\t\t\t\tconst typedArray = getTypedArray(attribute.type, attribute.array);\n\t\t\t\t\tconst bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n\t\t\t\t\tbufferAttribute = new bufferAttributeConstr(typedArray, attribute.itemSize, attribute.normalized);\n\t\t\t\t}\n\n\t\t\t\tif (attribute.name !== undefined) bufferAttribute.name = attribute.name;\n\t\t\t\tif (attribute.usage !== undefined) bufferAttribute.setUsage(attribute.usage);\n\n\t\t\t\tif (attribute.updateRange !== undefined) {\n\t\t\t\t\tbufferAttribute.updateRange.offset = attribute.updateRange.offset;\n\t\t\t\t\tbufferAttribute.updateRange.count = attribute.updateRange.count;\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute(key, bufferAttribute);\n\t\t\t}\n\n\t\t\tconst morphAttributes = json.data.morphAttributes;\n\n\t\t\tif (morphAttributes) {\n\t\t\t\tfor (const key in morphAttributes) {\n\t\t\t\t\tconst attributeArray = morphAttributes[key];\n\t\t\t\t\tconst array = [];\n\n\t\t\t\t\tfor (let i = 0, il = attributeArray.length; i < il; i++) {\n\t\t\t\t\t\tconst attribute = attributeArray[i];\n\t\t\t\t\t\tlet bufferAttribute;\n\n\t\t\t\t\t\tif (attribute.isInterleavedBufferAttribute) {\n\t\t\t\t\t\t\tconst interleavedBuffer = getInterleavedBuffer(json.data, attribute.data);\n\t\t\t\t\t\t\tbufferAttribute = new InterleavedBufferAttribute(interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst typedArray = getTypedArray(attribute.type, attribute.array);\n\t\t\t\t\t\t\tbufferAttribute = new BufferAttribute(typedArray, attribute.itemSize, attribute.normalized);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (attribute.name !== undefined) bufferAttribute.name = attribute.name;\n\t\t\t\t\t\tarray.push(bufferAttribute);\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.morphAttributes[key] = array;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst morphTargetsRelative = json.data.morphTargetsRelative;\n\n\t\t\tif (morphTargetsRelative) {\n\t\t\t\tgeometry.morphTargetsRelative = true;\n\t\t\t}\n\n\t\t\tconst groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\t\tif (groups !== undefined) {\n\t\t\t\tfor (let i = 0, n = groups.length; i !== n; ++i) {\n\t\t\t\t\tconst group = groups[i];\n\t\t\t\t\tgeometry.addGroup(group.start, group.count, group.materialIndex);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst boundingSphere = json.data.boundingSphere;\n\n\t\t\tif (boundingSphere !== undefined) {\n\t\t\t\tconst center = new Vector3();\n\n\t\t\t\tif (boundingSphere.center !== undefined) {\n\t\t\t\t\tcenter.fromArray(boundingSphere.center);\n\t\t\t\t}\n\n\t\t\t\tgeometry.boundingSphere = new Sphere(center, boundingSphere.radius);\n\t\t\t}\n\n\t\t\tif (json.name) geometry.name = json.name;\n\t\t\tif (json.userData) geometry.userData = json.userData;\n\t\t\treturn geometry;\n\t\t}\n\n\t}\n\n\tclass ObjectLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tconst scope = this;\n\t\t\tconst path = this.path === '' ? LoaderUtils.extractUrlBase(url) : this.path;\n\t\t\tthis.resourcePath = this.resourcePath || path;\n\t\t\tconst loader = new FileLoader(this.manager);\n\t\t\tloader.setPath(this.path);\n\t\t\tloader.setRequestHeader(this.requestHeader);\n\t\t\tloader.setWithCredentials(this.withCredentials);\n\t\t\tloader.load(url, function (text) {\n\t\t\t\tlet json = null;\n\n\t\t\t\ttry {\n\t\t\t\t\tjson = JSON.parse(text);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (onError !== undefined) onError(error);\n\t\t\t\t\tconsole.error('THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst metadata = json.metadata;\n\n\t\t\t\tif (metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry') {\n\t\t\t\t\tconsole.error('THREE.ObjectLoader: Can\\'t load ' + url);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tscope.parse(json, onLoad);\n\t\t\t}, onProgress, onError);\n\t\t}\n\n\t\tasync loadAsync(url, onProgress) {\n\t\t\tconst scope = this;\n\t\t\tconst path = this.path === '' ? LoaderUtils.extractUrlBase(url) : this.path;\n\t\t\tthis.resourcePath = this.resourcePath || path;\n\t\t\tconst loader = new FileLoader(this.manager);\n\t\t\tloader.setPath(this.path);\n\t\t\tloader.setRequestHeader(this.requestHeader);\n\t\t\tloader.setWithCredentials(this.withCredentials);\n\t\t\tconst text = await loader.loadAsync(url, onProgress);\n\t\t\tconst json = JSON.parse(text);\n\t\t\tconst metadata = json.metadata;\n\n\t\t\tif (metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry') {\n\t\t\t\tthrow new Error('THREE.ObjectLoader: Can\\'t load ' + url);\n\t\t\t}\n\n\t\t\treturn await scope.parseAsync(json);\n\t\t}\n\n\t\tparse(json, onLoad) {\n\t\t\tconst animations = this.parseAnimations(json.animations);\n\t\t\tconst shapes = this.parseShapes(json.shapes);\n\t\t\tconst geometries = this.parseGeometries(json.geometries, shapes);\n\t\t\tconst images = this.parseImages(json.images, function () {\n\t\t\t\tif (onLoad !== undefined) onLoad(object);\n\t\t\t});\n\t\t\tconst textures = this.parseTextures(json.textures, images);\n\t\t\tconst materials = this.parseMaterials(json.materials, textures);\n\t\t\tconst object = this.parseObject(json.object, geometries, materials, textures, animations);\n\t\t\tconst skeletons = this.parseSkeletons(json.skeletons, object);\n\t\t\tthis.bindSkeletons(object, skeletons); //\n\n\t\t\tif (onLoad !== undefined) {\n\t\t\t\tlet hasImages = false;\n\n\t\t\t\tfor (const uuid in images) {\n\t\t\t\t\tif (images[uuid] instanceof HTMLImageElement) {\n\t\t\t\t\t\thasImages = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (hasImages === false) onLoad(object);\n\t\t\t}\n\n\t\t\treturn object;\n\t\t}\n\n\t\tasync parseAsync(json) {\n\t\t\tconst animations = this.parseAnimations(json.animations);\n\t\t\tconst shapes = this.parseShapes(json.shapes);\n\t\t\tconst geometries = this.parseGeometries(json.geometries, shapes);\n\t\t\tconst images = await this.parseImagesAsync(json.images);\n\t\t\tconst textures = this.parseTextures(json.textures, images);\n\t\t\tconst materials = this.parseMaterials(json.materials, textures);\n\t\t\tconst object = this.parseObject(json.object, geometries, materials, textures, animations);\n\t\t\tconst skeletons = this.parseSkeletons(json.skeletons, object);\n\t\t\tthis.bindSkeletons(object, skeletons);\n\t\t\treturn object;\n\t\t}\n\n\t\tparseShapes(json) {\n\t\t\tconst shapes = {};\n\n\t\t\tif (json !== undefined) {\n\t\t\t\tfor (let i = 0, l = json.length; i < l; i++) {\n\t\t\t\t\tconst shape = new Shape().fromJSON(json[i]);\n\t\t\t\t\tshapes[shape.uuid] = shape;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn shapes;\n\t\t}\n\n\t\tparseSkeletons(json, object) {\n\t\t\tconst skeletons = {};\n\t\t\tconst bones = {}; // generate bone lookup table\n\n\t\t\tobject.traverse(function (child) {\n\t\t\t\tif (child.isBone) bones[child.uuid] = child;\n\t\t\t}); // create skeletons\n\n\t\t\tif (json !== undefined) {\n\t\t\t\tfor (let i = 0, l = json.length; i < l; i++) {\n\t\t\t\t\tconst skeleton = new Skeleton().fromJSON(json[i], bones);\n\t\t\t\t\tskeletons[skeleton.uuid] = skeleton;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn skeletons;\n\t\t}\n\n\t\tparseGeometries(json, shapes) {\n\t\t\tconst geometries = {};\n\n\t\t\tif (json !== undefined) {\n\t\t\t\tconst bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\t\tfor (let i = 0, l = json.length; i < l; i++) {\n\t\t\t\t\tlet geometry;\n\t\t\t\t\tconst data = json[i];\n\n\t\t\t\t\tswitch (data.type) {\n\t\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\t\tcase 'InstancedBufferGeometry':\n\t\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse(data);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'Geometry':\n\t\t\t\t\t\t\tconsole.error('THREE.ObjectLoader: The legacy Geometry type is no longer supported.');\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif (data.type in Geometries) {\n\t\t\t\t\t\t\t\tgeometry = Geometries[data.type].fromJSON(data, shapes);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.warn(`THREE.ObjectLoader: Unsupported geometry type \"${data.type}\"`);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.uuid = data.uuid;\n\t\t\t\t\tif (data.name !== undefined) geometry.name = data.name;\n\t\t\t\t\tif (geometry.isBufferGeometry === true && data.userData !== undefined) geometry.userData = data.userData;\n\t\t\t\t\tgeometries[data.uuid] = geometry;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn geometries;\n\t\t}\n\n\t\tparseMaterials(json, textures) {\n\t\t\tconst cache = {}; // MultiMaterial\n\n\t\t\tconst materials = {};\n\n\t\t\tif (json !== undefined) {\n\t\t\t\tconst loader = new MaterialLoader();\n\t\t\t\tloader.setTextures(textures);\n\n\t\t\t\tfor (let i = 0, l = json.length; i < l; i++) {\n\t\t\t\t\tconst data = json[i];\n\n\t\t\t\t\tif (data.type === 'MultiMaterial') {\n\t\t\t\t\t\t// Deprecated\n\t\t\t\t\t\tconst array = [];\n\n\t\t\t\t\t\tfor (let j = 0; j < data.materials.length; j++) {\n\t\t\t\t\t\t\tconst material = data.materials[j];\n\n\t\t\t\t\t\t\tif (cache[material.uuid] === undefined) {\n\t\t\t\t\t\t\t\tcache[material.uuid] = loader.parse(material);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tarray.push(cache[material.uuid]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaterials[data.uuid] = array;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (cache[data.uuid] === undefined) {\n\t\t\t\t\t\t\tcache[data.uuid] = loader.parse(data);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaterials[data.uuid] = cache[data.uuid];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn materials;\n\t\t}\n\n\t\tparseAnimations(json) {\n\t\t\tconst animations = {};\n\n\t\t\tif (json !== undefined) {\n\t\t\t\tfor (let i = 0; i < json.length; i++) {\n\t\t\t\t\tconst data = json[i];\n\t\t\t\t\tconst clip = AnimationClip.parse(data);\n\t\t\t\t\tanimations[clip.uuid] = clip;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn animations;\n\t\t}\n\n\t\tparseImages(json, onLoad) {\n\t\t\tconst scope = this;\n\t\t\tconst images = {};\n\t\t\tlet loader;\n\n\t\t\tfunction loadImage(url) {\n\t\t\t\tscope.manager.itemStart(url);\n\t\t\t\treturn loader.load(url, function () {\n\t\t\t\t\tscope.manager.itemEnd(url);\n\t\t\t\t}, undefined, function () {\n\t\t\t\t\tscope.manager.itemError(url);\n\t\t\t\t\tscope.manager.itemEnd(url);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction deserializeImage(image) {\n\t\t\t\tif (typeof image === 'string') {\n\t\t\t\t\tconst url = image;\n\t\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(url) ? url : scope.resourcePath + url;\n\t\t\t\t\treturn loadImage(path);\n\t\t\t\t} else {\n\t\t\t\t\tif (image.data) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tdata: getTypedArray(image.type, image.data),\n\t\t\t\t\t\t\twidth: image.width,\n\t\t\t\t\t\t\theight: image.height\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (json !== undefined && json.length > 0) {\n\t\t\t\tconst manager = new LoadingManager(onLoad);\n\t\t\t\tloader = new ImageLoader(manager);\n\t\t\t\tloader.setCrossOrigin(this.crossOrigin);\n\n\t\t\t\tfor (let i = 0, il = json.length; i < il; i++) {\n\t\t\t\t\tconst image = json[i];\n\t\t\t\t\tconst url = image.url;\n\n\t\t\t\t\tif (Array.isArray(url)) {\n\t\t\t\t\t\t// load array of images e.g CubeTexture\n\t\t\t\t\t\timages[image.uuid] = [];\n\n\t\t\t\t\t\tfor (let j = 0, jl = url.length; j < jl; j++) {\n\t\t\t\t\t\t\tconst currentUrl = url[j];\n\t\t\t\t\t\t\tconst deserializedImage = deserializeImage(currentUrl);\n\n\t\t\t\t\t\t\tif (deserializedImage !== null) {\n\t\t\t\t\t\t\t\tif (deserializedImage instanceof HTMLImageElement) {\n\t\t\t\t\t\t\t\t\timages[image.uuid].push(deserializedImage);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\n\t\t\t\t\t\t\t\t\timages[image.uuid].push(new DataTexture(deserializedImage.data, deserializedImage.width, deserializedImage.height));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// load single image\n\t\t\t\t\t\tconst deserializedImage = deserializeImage(image.url);\n\n\t\t\t\t\t\tif (deserializedImage !== null) {\n\t\t\t\t\t\t\timages[image.uuid] = deserializedImage;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn images;\n\t\t}\n\n\t\tasync parseImagesAsync(json) {\n\t\t\tconst scope = this;\n\t\t\tconst images = {};\n\t\t\tlet loader;\n\n\t\t\tasync function deserializeImage(image) {\n\t\t\t\tif (typeof image === 'string') {\n\t\t\t\t\tconst url = image;\n\t\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(url) ? url : scope.resourcePath + url;\n\t\t\t\t\treturn await loader.loadAsync(path);\n\t\t\t\t} else {\n\t\t\t\t\tif (image.data) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tdata: getTypedArray(image.type, image.data),\n\t\t\t\t\t\t\twidth: image.width,\n\t\t\t\t\t\t\theight: image.height\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (json !== undefined && json.length > 0) {\n\t\t\t\tloader = new ImageLoader(this.manager);\n\t\t\t\tloader.setCrossOrigin(this.crossOrigin);\n\n\t\t\t\tfor (let i = 0, il = json.length; i < il; i++) {\n\t\t\t\t\tconst image = json[i];\n\t\t\t\t\tconst url = image.url;\n\n\t\t\t\t\tif (Array.isArray(url)) {\n\t\t\t\t\t\t// load array of images e.g CubeTexture\n\t\t\t\t\t\timages[image.uuid] = [];\n\n\t\t\t\t\t\tfor (let j = 0, jl = url.length; j < jl; j++) {\n\t\t\t\t\t\t\tconst currentUrl = url[j];\n\t\t\t\t\t\t\tconst deserializedImage = await deserializeImage(currentUrl);\n\n\t\t\t\t\t\t\tif (deserializedImage !== null) {\n\t\t\t\t\t\t\t\tif (deserializedImage instanceof HTMLImageElement) {\n\t\t\t\t\t\t\t\t\timages[image.uuid].push(deserializedImage);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\n\t\t\t\t\t\t\t\t\timages[image.uuid].push(new DataTexture(deserializedImage.data, deserializedImage.width, deserializedImage.height));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// load single image\n\t\t\t\t\t\tconst deserializedImage = await deserializeImage(image.url);\n\n\t\t\t\t\t\tif (deserializedImage !== null) {\n\t\t\t\t\t\t\timages[image.uuid] = deserializedImage;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn images;\n\t\t}\n\n\t\tparseTextures(json, images) {\n\t\t\tfunction parseConstant(value, type) {\n\t\t\t\tif (typeof value === 'number') return value;\n\t\t\t\tconsole.warn('THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value);\n\t\t\t\treturn type[value];\n\t\t\t}\n\n\t\t\tconst textures = {};\n\n\t\t\tif (json !== undefined) {\n\t\t\t\tfor (let i = 0, l = json.length; i < l; i++) {\n\t\t\t\t\tconst data = json[i];\n\n\t\t\t\t\tif (data.image === undefined) {\n\t\t\t\t\t\tconsole.warn('THREE.ObjectLoader: No \"image\" specified for', data.uuid);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (images[data.image] === undefined) {\n\t\t\t\t\t\tconsole.warn('THREE.ObjectLoader: Undefined image', data.image);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet texture;\n\t\t\t\t\tconst image = images[data.image];\n\n\t\t\t\t\tif (Array.isArray(image)) {\n\t\t\t\t\t\ttexture = new CubeTexture(image);\n\t\t\t\t\t\tif (image.length === 6) texture.needsUpdate = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (image && image.data) {\n\t\t\t\t\t\t\ttexture = new DataTexture(image.data, image.width, image.height);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttexture = new Texture(image);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (image) texture.needsUpdate = true; // textures can have undefined image data\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.uuid = data.uuid;\n\t\t\t\t\tif (data.name !== undefined) texture.name = data.name;\n\t\t\t\t\tif (data.mapping !== undefined) texture.mapping = parseConstant(data.mapping, TEXTURE_MAPPING);\n\t\t\t\t\tif (data.offset !== undefined) texture.offset.fromArray(data.offset);\n\t\t\t\t\tif (data.repeat !== undefined) texture.repeat.fromArray(data.repeat);\n\t\t\t\t\tif (data.center !== undefined) texture.center.fromArray(data.center);\n\t\t\t\t\tif (data.rotation !== undefined) texture.rotation = data.rotation;\n\n\t\t\t\t\tif (data.wrap !== undefined) {\n\t\t\t\t\t\ttexture.wrapS = parseConstant(data.wrap[0], TEXTURE_WRAPPING);\n\t\t\t\t\t\ttexture.wrapT = parseConstant(data.wrap[1], TEXTURE_WRAPPING);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.format !== undefined) texture.format = data.format;\n\t\t\t\t\tif (data.type !== undefined) texture.type = data.type;\n\t\t\t\t\tif (data.encoding !== undefined) texture.encoding = data.encoding;\n\t\t\t\t\tif (data.minFilter !== undefined) texture.minFilter = parseConstant(data.minFilter, TEXTURE_FILTER);\n\t\t\t\t\tif (data.magFilter !== undefined) texture.magFilter = parseConstant(data.magFilter, TEXTURE_FILTER);\n\t\t\t\t\tif (data.anisotropy !== undefined) texture.anisotropy = data.anisotropy;\n\t\t\t\t\tif (data.flipY !== undefined) texture.flipY = data.flipY;\n\t\t\t\t\tif (data.premultiplyAlpha !== undefined) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\t\tif (data.unpackAlignment !== undefined) texture.unpackAlignment = data.unpackAlignment;\n\t\t\t\t\tif (data.userData !== undefined) texture.userData = data.userData;\n\t\t\t\t\ttextures[data.uuid] = texture;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn textures;\n\t\t}\n\n\t\tparseObject(data, geometries, materials, textures, animations) {\n\t\t\tlet object;\n\n\t\t\tfunction getGeometry(name) {\n\t\t\t\tif (geometries[name] === undefined) {\n\t\t\t\t\tconsole.warn('THREE.ObjectLoader: Undefined geometry', name);\n\t\t\t\t}\n\n\t\t\t\treturn geometries[name];\n\t\t\t}\n\n\t\t\tfunction getMaterial(name) {\n\t\t\t\tif (name === undefined) return undefined;\n\n\t\t\t\tif (Array.isArray(name)) {\n\t\t\t\t\tconst array = [];\n\n\t\t\t\t\tfor (let i = 0, l = name.length; i < l; i++) {\n\t\t\t\t\t\tconst uuid = name[i];\n\n\t\t\t\t\t\tif (materials[uuid] === undefined) {\n\t\t\t\t\t\t\tconsole.warn('THREE.ObjectLoader: Undefined material', uuid);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push(materials[uuid]);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn array;\n\t\t\t\t}\n\n\t\t\t\tif (materials[name] === undefined) {\n\t\t\t\t\tconsole.warn('THREE.ObjectLoader: Undefined material', name);\n\t\t\t\t}\n\n\t\t\t\treturn materials[name];\n\t\t\t}\n\n\t\t\tfunction getTexture(uuid) {\n\t\t\t\tif (textures[uuid] === undefined) {\n\t\t\t\t\tconsole.warn('THREE.ObjectLoader: Undefined texture', uuid);\n\t\t\t\t}\n\n\t\t\t\treturn textures[uuid];\n\t\t\t}\n\n\t\t\tlet geometry, material;\n\n\t\t\tswitch (data.type) {\n\t\t\t\tcase 'Scene':\n\t\t\t\t\tobject = new Scene();\n\n\t\t\t\t\tif (data.background !== undefined) {\n\t\t\t\t\t\tif (Number.isInteger(data.background)) {\n\t\t\t\t\t\t\tobject.background = new Color(data.background);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobject.background = getTexture(data.background);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.environment !== undefined) {\n\t\t\t\t\t\tobject.environment = getTexture(data.environment);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.fog !== undefined) {\n\t\t\t\t\t\tif (data.fog.type === 'Fog') {\n\t\t\t\t\t\t\tobject.fog = new Fog(data.fog.color, data.fog.near, data.fog.far);\n\t\t\t\t\t\t} else if (data.fog.type === 'FogExp2') {\n\t\t\t\t\t\t\tobject.fog = new FogExp2(data.fog.color, data.fog.density);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PerspectiveCamera':\n\t\t\t\t\tobject = new PerspectiveCamera(data.fov, data.aspect, data.near, data.far);\n\t\t\t\t\tif (data.focus !== undefined) object.focus = data.focus;\n\t\t\t\t\tif (data.zoom !== undefined) object.zoom = data.zoom;\n\t\t\t\t\tif (data.filmGauge !== undefined) object.filmGauge = data.filmGauge;\n\t\t\t\t\tif (data.filmOffset !== undefined) object.filmOffset = data.filmOffset;\n\t\t\t\t\tif (data.view !== undefined) object.view = Object.assign({}, data.view);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'OrthographicCamera':\n\t\t\t\t\tobject = new OrthographicCamera(data.left, data.right, data.top, data.bottom, data.near, data.far);\n\t\t\t\t\tif (data.zoom !== undefined) object.zoom = data.zoom;\n\t\t\t\t\tif (data.view !== undefined) object.view = Object.assign({}, data.view);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'AmbientLight':\n\t\t\t\t\tobject = new AmbientLight(data.color, data.intensity);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tobject = new DirectionalLight(data.color, data.intensity);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tobject = new PointLight(data.color, data.intensity, data.distance, data.decay);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tobject = new RectAreaLight(data.color, data.intensity, data.width, data.height);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tobject = new SpotLight(data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tobject = new HemisphereLight(data.color, data.groundColor, data.intensity);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'LightProbe':\n\t\t\t\t\tobject = new LightProbe().fromJSON(data);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SkinnedMesh':\n\t\t\t\t\tgeometry = getGeometry(data.geometry);\n\t\t\t\t\tmaterial = getMaterial(data.material);\n\t\t\t\t\tobject = new SkinnedMesh(geometry, material);\n\t\t\t\t\tif (data.bindMode !== undefined) object.bindMode = data.bindMode;\n\t\t\t\t\tif (data.bindMatrix !== undefined) object.bindMatrix.fromArray(data.bindMatrix);\n\t\t\t\t\tif (data.skeleton !== undefined) object.skeleton = data.skeleton;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Mesh':\n\t\t\t\t\tgeometry = getGeometry(data.geometry);\n\t\t\t\t\tmaterial = getMaterial(data.material);\n\t\t\t\t\tobject = new Mesh(geometry, material);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'InstancedMesh':\n\t\t\t\t\tgeometry = getGeometry(data.geometry);\n\t\t\t\t\tmaterial = getMaterial(data.material);\n\t\t\t\t\tconst count = data.count;\n\t\t\t\t\tconst instanceMatrix = data.instanceMatrix;\n\t\t\t\t\tconst instanceColor = data.instanceColor;\n\t\t\t\t\tobject = new InstancedMesh(geometry, material, count);\n\t\t\t\t\tobject.instanceMatrix = new InstancedBufferAttribute(new Float32Array(instanceMatrix.array), 16);\n\t\t\t\t\tif (instanceColor !== undefined) object.instanceColor = new InstancedBufferAttribute(new Float32Array(instanceColor.array), instanceColor.itemSize);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'LOD':\n\t\t\t\t\tobject = new LOD();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Line':\n\t\t\t\t\tobject = new Line(getGeometry(data.geometry), getMaterial(data.material));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'LineLoop':\n\t\t\t\t\tobject = new LineLoop(getGeometry(data.geometry), getMaterial(data.material));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'LineSegments':\n\t\t\t\t\tobject = new LineSegments(getGeometry(data.geometry), getMaterial(data.material));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointCloud':\n\t\t\t\tcase 'Points':\n\t\t\t\t\tobject = new Points(getGeometry(data.geometry), getMaterial(data.material));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Sprite':\n\t\t\t\t\tobject = new Sprite(getMaterial(data.material));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Group':\n\t\t\t\t\tobject = new Group();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Bone':\n\t\t\t\t\tobject = new Bone();\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tobject = new Object3D();\n\t\t\t}\n\n\t\t\tobject.uuid = data.uuid;\n\t\t\tif (data.name !== undefined) object.name = data.name;\n\n\t\t\tif (data.matrix !== undefined) {\n\t\t\t\tobject.matrix.fromArray(data.matrix);\n\t\t\t\tif (data.matrixAutoUpdate !== undefined) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\t\tif (object.matrixAutoUpdate) object.matrix.decompose(object.position, object.quaternion, object.scale);\n\t\t\t} else {\n\t\t\t\tif (data.position !== undefined) object.position.fromArray(data.position);\n\t\t\t\tif (data.rotation !== undefined) object.rotation.fromArray(data.rotation);\n\t\t\t\tif (data.quaternion !== undefined) object.quaternion.fromArray(data.quaternion);\n\t\t\t\tif (data.scale !== undefined) object.scale.fromArray(data.scale);\n\t\t\t}\n\n\t\t\tif (data.castShadow !== undefined) object.castShadow = data.castShadow;\n\t\t\tif (data.receiveShadow !== undefined) object.receiveShadow = data.receiveShadow;\n\n\t\t\tif (data.shadow) {\n\t\t\t\tif (data.shadow.bias !== undefined) object.shadow.bias = data.shadow.bias;\n\t\t\t\tif (data.shadow.normalBias !== undefined) object.shadow.normalBias = data.shadow.normalBias;\n\t\t\t\tif (data.shadow.radius !== undefined) object.shadow.radius = data.shadow.radius;\n\t\t\t\tif (data.shadow.mapSize !== undefined) object.shadow.mapSize.fromArray(data.shadow.mapSize);\n\t\t\t\tif (data.shadow.camera !== undefined) object.shadow.camera = this.parseObject(data.shadow.camera);\n\t\t\t}\n\n\t\t\tif (data.visible !== undefined) object.visible = data.visible;\n\t\t\tif (data.frustumCulled !== undefined) object.frustumCulled = data.frustumCulled;\n\t\t\tif (data.renderOrder !== undefined) object.renderOrder = data.renderOrder;\n\t\t\tif (data.userData !== undefined) object.userData = data.userData;\n\t\t\tif (data.layers !== undefined) object.layers.mask = data.layers;\n\n\t\t\tif (data.children !== undefined) {\n\t\t\t\tconst children = data.children;\n\n\t\t\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\t\t\tobject.add(this.parseObject(children[i], geometries, materials, textures, animations));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (data.animations !== undefined) {\n\t\t\t\tconst objectAnimations = data.animations;\n\n\t\t\t\tfor (let i = 0; i < objectAnimations.length; i++) {\n\t\t\t\t\tconst uuid = objectAnimations[i];\n\t\t\t\t\tobject.animations.push(animations[uuid]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (data.type === 'LOD') {\n\t\t\t\tif (data.autoUpdate !== undefined) object.autoUpdate = data.autoUpdate;\n\t\t\t\tconst levels = data.levels;\n\n\t\t\t\tfor (let l = 0; l < levels.length; l++) {\n\t\t\t\t\tconst level = levels[l];\n\t\t\t\t\tconst child = object.getObjectByProperty('uuid', level.object);\n\n\t\t\t\t\tif (child !== undefined) {\n\t\t\t\t\t\tobject.addLevel(child, level.distance);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn object;\n\t\t}\n\n\t\tbindSkeletons(object, skeletons) {\n\t\t\tif (Object.keys(skeletons).length === 0) return;\n\t\t\tobject.traverse(function (child) {\n\t\t\t\tif (child.isSkinnedMesh === true && child.skeleton !== undefined) {\n\t\t\t\t\tconst skeleton = skeletons[child.skeleton];\n\n\t\t\t\t\tif (skeleton === undefined) {\n\t\t\t\t\t\tconsole.warn('THREE.ObjectLoader: No skeleton found with UUID:', child.skeleton);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchild.bind(skeleton, child.bindMatrix);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/* DEPRECATED */\n\n\n\t\tsetTexturePath(value) {\n\t\t\tconsole.warn('THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().');\n\t\t\treturn this.setResourcePath(value);\n\t\t}\n\n\t}\n\n\tconst TEXTURE_MAPPING = {\n\t\tUVMapping: UVMapping,\n\t\tCubeReflectionMapping: CubeReflectionMapping,\n\t\tCubeRefractionMapping: CubeRefractionMapping,\n\t\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\t\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\t\tCubeUVReflectionMapping: CubeUVReflectionMapping,\n\t\tCubeUVRefractionMapping: CubeUVRefractionMapping\n\t};\n\tconst TEXTURE_WRAPPING = {\n\t\tRepeatWrapping: RepeatWrapping,\n\t\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\t\tMirroredRepeatWrapping: MirroredRepeatWrapping\n\t};\n\tconst TEXTURE_FILTER = {\n\t\tNearestFilter: NearestFilter,\n\t\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\n\t\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\n\t\tLinearFilter: LinearFilter,\n\t\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\n\t\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\n\t};\n\n\tclass ImageBitmapLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\n\t\t\tif (typeof createImageBitmap === 'undefined') {\n\t\t\t\tconsole.warn('THREE.ImageBitmapLoader: createImageBitmap() not supported.');\n\t\t\t}\n\n\t\t\tif (typeof fetch === 'undefined') {\n\t\t\t\tconsole.warn('THREE.ImageBitmapLoader: fetch() not supported.');\n\t\t\t}\n\n\t\t\tthis.options = {\n\t\t\t\tpremultiplyAlpha: 'none'\n\t\t\t};\n\t\t}\n\n\t\tsetOptions(options) {\n\t\t\tthis.options = options;\n\t\t\treturn this;\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tif (url === undefined) url = '';\n\t\t\tif (this.path !== undefined) url = this.path + url;\n\t\t\turl = this.manager.resolveURL(url);\n\t\t\tconst scope = this;\n\t\t\tconst cached = Cache.get(url);\n\n\t\t\tif (cached !== undefined) {\n\t\t\t\tscope.manager.itemStart(url);\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tif (onLoad) onLoad(cached);\n\t\t\t\t\tscope.manager.itemEnd(url);\n\t\t\t\t}, 0);\n\t\t\t\treturn cached;\n\t\t\t}\n\n\t\t\tconst fetchOptions = {};\n\t\t\tfetchOptions.credentials = this.crossOrigin === 'anonymous' ? 'same-origin' : 'include';\n\t\t\tfetchOptions.headers = this.requestHeader;\n\t\t\tfetch(url, fetchOptions).then(function (res) {\n\t\t\t\treturn res.blob();\n\t\t\t}).then(function (blob) {\n\t\t\t\treturn createImageBitmap(blob, Object.assign(scope.options, {\n\t\t\t\t\tcolorSpaceConversion: 'none'\n\t\t\t\t}));\n\t\t\t}).then(function (imageBitmap) {\n\t\t\t\tCache.add(url, imageBitmap);\n\t\t\t\tif (onLoad) onLoad(imageBitmap);\n\t\t\t\tscope.manager.itemEnd(url);\n\t\t\t}).catch(function (e) {\n\t\t\t\tif (onError) onError(e);\n\t\t\t\tscope.manager.itemError(url);\n\t\t\t\tscope.manager.itemEnd(url);\n\t\t\t});\n\t\t\tscope.manager.itemStart(url);\n\t\t}\n\n\t}\n\n\tImageBitmapLoader.prototype.isImageBitmapLoader = true;\n\n\tlet _context;\n\n\tconst AudioContext = {\n\t\tgetContext: function () {\n\t\t\tif (_context === undefined) {\n\t\t\t\t_context = new (window.AudioContext || window.webkitAudioContext)();\n\t\t\t}\n\n\t\t\treturn _context;\n\t\t},\n\t\tsetContext: function (value) {\n\t\t\t_context = value;\n\t\t}\n\t};\n\n\tclass AudioLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tconst scope = this;\n\t\t\tconst loader = new FileLoader(this.manager);\n\t\t\tloader.setResponseType('arraybuffer');\n\t\t\tloader.setPath(this.path);\n\t\t\tloader.setRequestHeader(this.requestHeader);\n\t\t\tloader.setWithCredentials(this.withCredentials);\n\t\t\tloader.load(url, function (buffer) {\n\t\t\t\ttry {\n\t\t\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\t\t\tconst bufferCopy = buffer.slice(0);\n\t\t\t\t\tconst context = AudioContext.getContext();\n\t\t\t\t\tcontext.decodeAudioData(bufferCopy, function (audioBuffer) {\n\t\t\t\t\t\tonLoad(audioBuffer);\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (onError) {\n\t\t\t\t\t\tonError(e);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError(url);\n\t\t\t\t}\n\t\t\t}, onProgress, onError);\n\t\t}\n\n\t}\n\n\tclass HemisphereLightProbe extends LightProbe {\n\t\tconstructor(skyColor, groundColor, intensity = 1) {\n\t\t\tsuper(undefined, intensity);\n\t\t\tconst color1 = new Color().set(skyColor);\n\t\t\tconst color2 = new Color().set(groundColor);\n\t\t\tconst sky = new Vector3(color1.r, color1.g, color1.b);\n\t\t\tconst ground = new Vector3(color2.r, color2.g, color2.b); // without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\n\t\t\tconst c0 = Math.sqrt(Math.PI);\n\t\t\tconst c1 = c0 * Math.sqrt(0.75);\n\t\t\tthis.sh.coefficients[0].copy(sky).add(ground).multiplyScalar(c0);\n\t\t\tthis.sh.coefficients[1].copy(sky).sub(ground).multiplyScalar(c1);\n\t\t}\n\n\t}\n\n\tHemisphereLightProbe.prototype.isHemisphereLightProbe = true;\n\n\tclass AmbientLightProbe extends LightProbe {\n\t\tconstructor(color, intensity = 1) {\n\t\t\tsuper(undefined, intensity);\n\t\t\tconst color1 = new Color().set(color); // without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\n\t\t\tthis.sh.coefficients[0].set(color1.r, color1.g, color1.b).multiplyScalar(2 * Math.sqrt(Math.PI));\n\t\t}\n\n\t}\n\n\tAmbientLightProbe.prototype.isAmbientLightProbe = true;\n\n\tconst _eyeRight = /*@__PURE__*/new Matrix4();\n\n\tconst _eyeLeft = /*@__PURE__*/new Matrix4();\n\n\tconst _projectionMatrix = /*@__PURE__*/new Matrix4();\n\n\tclass StereoCamera {\n\t\tconstructor() {\n\t\t\tthis.type = 'StereoCamera';\n\t\t\tthis.aspect = 1;\n\t\t\tthis.eyeSep = 0.064;\n\t\t\tthis.cameraL = new PerspectiveCamera();\n\t\t\tthis.cameraL.layers.enable(1);\n\t\t\tthis.cameraL.matrixAutoUpdate = false;\n\t\t\tthis.cameraR = new PerspectiveCamera();\n\t\t\tthis.cameraR.layers.enable(2);\n\t\t\tthis.cameraR.matrixAutoUpdate = false;\n\t\t\tthis._cache = {\n\t\t\t\tfocus: null,\n\t\t\t\tfov: null,\n\t\t\t\taspect: null,\n\t\t\t\tnear: null,\n\t\t\t\tfar: null,\n\t\t\t\tzoom: null,\n\t\t\t\teyeSep: null\n\t\t\t};\n\t\t}\n\n\t\tupdate(camera) {\n\t\t\tconst cache = this._cache;\n\t\t\tconst needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov || cache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near || cache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n\t\t\tif (needsUpdate) {\n\t\t\t\tcache.focus = camera.focus;\n\t\t\t\tcache.fov = camera.fov;\n\t\t\t\tcache.aspect = camera.aspect * this.aspect;\n\t\t\t\tcache.near = camera.near;\n\t\t\t\tcache.far = camera.far;\n\t\t\t\tcache.zoom = camera.zoom;\n\t\t\t\tcache.eyeSep = this.eyeSep; // Off-axis stereoscopic effect based on\n\t\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\t\t_projectionMatrix.copy(camera.projectionMatrix);\n\n\t\t\t\tconst eyeSepHalf = cache.eyeSep / 2;\n\t\t\t\tconst eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n\t\t\t\tconst ymax = cache.near * Math.tan(DEG2RAD * cache.fov * 0.5) / cache.zoom;\n\t\t\t\tlet xmin, xmax; // translate xOffset\n\n\t\t\t\t_eyeLeft.elements[12] = -eyeSepHalf;\n\t\t\t\t_eyeRight.elements[12] = eyeSepHalf; // for left eye\n\n\t\t\t\txmin = -ymax * cache.aspect + eyeSepOnProjection;\n\t\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\n\t\t\t\t_projectionMatrix.elements[0] = 2 * cache.near / (xmax - xmin);\n\t\t\t\t_projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);\n\t\t\t\tthis.cameraL.projectionMatrix.copy(_projectionMatrix); // for right eye\n\n\t\t\t\txmin = -ymax * cache.aspect - eyeSepOnProjection;\n\t\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\n\t\t\t\t_projectionMatrix.elements[0] = 2 * cache.near / (xmax - xmin);\n\t\t\t\t_projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);\n\t\t\t\tthis.cameraR.projectionMatrix.copy(_projectionMatrix);\n\t\t\t}\n\n\t\t\tthis.cameraL.matrixWorld.copy(camera.matrixWorld).multiply(_eyeLeft);\n\t\t\tthis.cameraR.matrixWorld.copy(camera.matrixWorld).multiply(_eyeRight);\n\t\t}\n\n\t}\n\n\tclass Clock {\n\t\tconstructor(autoStart = true) {\n\t\t\tthis.autoStart = autoStart;\n\t\t\tthis.startTime = 0;\n\t\t\tthis.oldTime = 0;\n\t\t\tthis.elapsedTime = 0;\n\t\t\tthis.running = false;\n\t\t}\n\n\t\tstart() {\n\t\t\tthis.startTime = now();\n\t\t\tthis.oldTime = this.startTime;\n\t\t\tthis.elapsedTime = 0;\n\t\t\tthis.running = true;\n\t\t}\n\n\t\tstop() {\n\t\t\tthis.getElapsedTime();\n\t\t\tthis.running = false;\n\t\t\tthis.autoStart = false;\n\t\t}\n\n\t\tgetElapsedTime() {\n\t\t\tthis.getDelta();\n\t\t\treturn this.elapsedTime;\n\t\t}\n\n\t\tgetDelta() {\n\t\t\tlet diff = 0;\n\n\t\t\tif (this.autoStart && !this.running) {\n\t\t\t\tthis.start();\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (this.running) {\n\t\t\t\tconst newTime = now();\n\t\t\t\tdiff = (newTime - this.oldTime) / 1000;\n\t\t\t\tthis.oldTime = newTime;\n\t\t\t\tthis.elapsedTime += diff;\n\t\t\t}\n\n\t\t\treturn diff;\n\t\t}\n\n\t}\n\n\tfunction now() {\n\t\treturn (typeof performance === 'undefined' ? Date : performance).now(); // see #10732\n\t}\n\n\tconst _position$1 = /*@__PURE__*/new Vector3();\n\n\tconst _quaternion$1 = /*@__PURE__*/new Quaternion();\n\n\tconst _scale$1 = /*@__PURE__*/new Vector3();\n\n\tconst _orientation$1 = /*@__PURE__*/new Vector3();\n\n\tclass AudioListener extends Object3D {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.type = 'AudioListener';\n\t\t\tthis.context = AudioContext.getContext();\n\t\t\tthis.gain = this.context.createGain();\n\t\t\tthis.gain.connect(this.context.destination);\n\t\t\tthis.filter = null;\n\t\t\tthis.timeDelta = 0; // private\n\n\t\t\tthis._clock = new Clock();\n\t\t}\n\n\t\tgetInput() {\n\t\t\treturn this.gain;\n\t\t}\n\n\t\tremoveFilter() {\n\t\t\tif (this.filter !== null) {\n\t\t\t\tthis.gain.disconnect(this.filter);\n\t\t\t\tthis.filter.disconnect(this.context.destination);\n\t\t\t\tthis.gain.connect(this.context.destination);\n\t\t\t\tthis.filter = null;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tgetFilter() {\n\t\t\treturn this.filter;\n\t\t}\n\n\t\tsetFilter(value) {\n\t\t\tif (this.filter !== null) {\n\t\t\t\tthis.gain.disconnect(this.filter);\n\t\t\t\tthis.filter.disconnect(this.context.destination);\n\t\t\t} else {\n\t\t\t\tthis.gain.disconnect(this.context.destination);\n\t\t\t}\n\n\t\t\tthis.filter = value;\n\t\t\tthis.gain.connect(this.filter);\n\t\t\tthis.filter.connect(this.context.destination);\n\t\t\treturn this;\n\t\t}\n\n\t\tgetMasterVolume() {\n\t\t\treturn this.gain.gain.value;\n\t\t}\n\n\t\tsetMasterVolume(value) {\n\t\t\tthis.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);\n\t\t\treturn this;\n\t\t}\n\n\t\tupdateMatrixWorld(force) {\n\t\t\tsuper.updateMatrixWorld(force);\n\t\t\tconst listener = this.context.listener;\n\t\t\tconst up = this.up;\n\t\t\tthis.timeDelta = this._clock.getDelta();\n\t\t\tthis.matrixWorld.decompose(_position$1, _quaternion$1, _scale$1);\n\n\t\t\t_orientation$1.set(0, 0, -1).applyQuaternion(_quaternion$1);\n\n\t\t\tif (listener.positionX) {\n\t\t\t\t// code path for Chrome (see #14393)\n\t\t\t\tconst endTime = this.context.currentTime + this.timeDelta;\n\t\t\t\tlistener.positionX.linearRampToValueAtTime(_position$1.x, endTime);\n\t\t\t\tlistener.positionY.linearRampToValueAtTime(_position$1.y, endTime);\n\t\t\t\tlistener.positionZ.linearRampToValueAtTime(_position$1.z, endTime);\n\t\t\t\tlistener.forwardX.linearRampToValueAtTime(_orientation$1.x, endTime);\n\t\t\t\tlistener.forwardY.linearRampToValueAtTime(_orientation$1.y, endTime);\n\t\t\t\tlistener.forwardZ.linearRampToValueAtTime(_orientation$1.z, endTime);\n\t\t\t\tlistener.upX.linearRampToValueAtTime(up.x, endTime);\n\t\t\t\tlistener.upY.linearRampToValueAtTime(up.y, endTime);\n\t\t\t\tlistener.upZ.linearRampToValueAtTime(up.z, endTime);\n\t\t\t} else {\n\t\t\t\tlistener.setPosition(_position$1.x, _position$1.y, _position$1.z);\n\t\t\t\tlistener.setOrientation(_orientation$1.x, _orientation$1.y, _orientation$1.z, up.x, up.y, up.z);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tclass Audio extends Object3D {\n\t\tconstructor(listener) {\n\t\t\tsuper();\n\t\t\tthis.type = 'Audio';\n\t\t\tthis.listener = listener;\n\t\t\tthis.context = listener.context;\n\t\t\tthis.gain = this.context.createGain();\n\t\t\tthis.gain.connect(listener.getInput());\n\t\t\tthis.autoplay = false;\n\t\t\tthis.buffer = null;\n\t\t\tthis.detune = 0;\n\t\t\tthis.loop = false;\n\t\t\tthis.loopStart = 0;\n\t\t\tthis.loopEnd = 0;\n\t\t\tthis.offset = 0;\n\t\t\tthis.duration = undefined;\n\t\t\tthis.playbackRate = 1;\n\t\t\tthis.isPlaying = false;\n\t\t\tthis.hasPlaybackControl = true;\n\t\t\tthis.source = null;\n\t\t\tthis.sourceType = 'empty';\n\t\t\tthis._startedAt = 0;\n\t\t\tthis._progress = 0;\n\t\t\tthis._connected = false;\n\t\t\tthis.filters = [];\n\t\t}\n\n\t\tgetOutput() {\n\t\t\treturn this.gain;\n\t\t}\n\n\t\tsetNodeSource(audioNode) {\n\t\t\tthis.hasPlaybackControl = false;\n\t\t\tthis.sourceType = 'audioNode';\n\t\t\tthis.source = audioNode;\n\t\t\tthis.connect();\n\t\t\treturn this;\n\t\t}\n\n\t\tsetMediaElementSource(mediaElement) {\n\t\t\tthis.hasPlaybackControl = false;\n\t\t\tthis.sourceType = 'mediaNode';\n\t\t\tthis.source = this.context.createMediaElementSource(mediaElement);\n\t\t\tthis.connect();\n\t\t\treturn this;\n\t\t}\n\n\t\tsetMediaStreamSource(mediaStream) {\n\t\t\tthis.hasPlaybackControl = false;\n\t\t\tthis.sourceType = 'mediaStreamNode';\n\t\t\tthis.source = this.context.createMediaStreamSource(mediaStream);\n\t\t\tthis.connect();\n\t\t\treturn this;\n\t\t}\n\n\t\tsetBuffer(audioBuffer) {\n\t\t\tthis.buffer = audioBuffer;\n\t\t\tthis.sourceType = 'buffer';\n\t\t\tif (this.autoplay) this.play();\n\t\t\treturn this;\n\t\t}\n\n\t\tplay(delay = 0) {\n\t\t\tif (this.isPlaying === true) {\n\t\t\t\tconsole.warn('THREE.Audio: Audio is already playing.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.hasPlaybackControl === false) {\n\t\t\t\tconsole.warn('THREE.Audio: this Audio has no playback control.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._startedAt = this.context.currentTime + delay;\n\t\t\tconst source = this.context.createBufferSource();\n\t\t\tsource.buffer = this.buffer;\n\t\t\tsource.loop = this.loop;\n\t\t\tsource.loopStart = this.loopStart;\n\t\t\tsource.loopEnd = this.loopEnd;\n\t\t\tsource.onended = this.onEnded.bind(this);\n\t\t\tsource.start(this._startedAt, this._progress + this.offset, this.duration);\n\t\t\tthis.isPlaying = true;\n\t\t\tthis.source = source;\n\t\t\tthis.setDetune(this.detune);\n\t\t\tthis.setPlaybackRate(this.playbackRate);\n\t\t\treturn this.connect();\n\t\t}\n\n\t\tpause() {\n\t\t\tif (this.hasPlaybackControl === false) {\n\t\t\t\tconsole.warn('THREE.Audio: this Audio has no playback control.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.isPlaying === true) {\n\t\t\t\t// update current progress\n\t\t\t\tthis._progress += Math.max(this.context.currentTime - this._startedAt, 0) * this.playbackRate;\n\n\t\t\t\tif (this.loop === true) {\n\t\t\t\t\t// ensure _progress does not exceed duration with looped audios\n\t\t\t\t\tthis._progress = this._progress % (this.duration || this.buffer.duration);\n\t\t\t\t}\n\n\t\t\t\tthis.source.stop();\n\t\t\t\tthis.source.onended = null;\n\t\t\t\tthis.isPlaying = false;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tstop() {\n\t\t\tif (this.hasPlaybackControl === false) {\n\t\t\t\tconsole.warn('THREE.Audio: this Audio has no playback control.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._progress = 0;\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\t\t\tthis.isPlaying = false;\n\t\t\treturn this;\n\t\t}\n\n\t\tconnect() {\n\t\t\tif (this.filters.length > 0) {\n\t\t\t\tthis.source.connect(this.filters[0]);\n\n\t\t\t\tfor (let i = 1, l = this.filters.length; i < l; i++) {\n\t\t\t\t\tthis.filters[i - 1].connect(this.filters[i]);\n\t\t\t\t}\n\n\t\t\t\tthis.filters[this.filters.length - 1].connect(this.getOutput());\n\t\t\t} else {\n\t\t\t\tthis.source.connect(this.getOutput());\n\t\t\t}\n\n\t\t\tthis._connected = true;\n\t\t\treturn this;\n\t\t}\n\n\t\tdisconnect() {\n\t\t\tif (this.filters.length > 0) {\n\t\t\t\tthis.source.disconnect(this.filters[0]);\n\n\t\t\t\tfor (let i = 1, l = this.filters.length; i < l; i++) {\n\t\t\t\t\tthis.filters[i - 1].disconnect(this.filters[i]);\n\t\t\t\t}\n\n\t\t\t\tthis.filters[this.filters.length - 1].disconnect(this.getOutput());\n\t\t\t} else {\n\t\t\t\tthis.source.disconnect(this.getOutput());\n\t\t\t}\n\n\t\t\tthis._connected = false;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetFilters() {\n\t\t\treturn this.filters;\n\t\t}\n\n\t\tsetFilters(value) {\n\t\t\tif (!value) value = [];\n\n\t\t\tif (this._connected === true) {\n\t\t\t\tthis.disconnect();\n\t\t\t\tthis.filters = value.slice();\n\t\t\t\tthis.connect();\n\t\t\t} else {\n\t\t\t\tthis.filters = value.slice();\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetDetune(value) {\n\t\t\tthis.detune = value;\n\t\t\tif (this.source.detune === undefined) return; // only set detune when available\n\n\t\t\tif (this.isPlaying === true) {\n\t\t\t\tthis.source.detune.setTargetAtTime(this.detune, this.context.currentTime, 0.01);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tgetDetune() {\n\t\t\treturn this.detune;\n\t\t}\n\n\t\tgetFilter() {\n\t\t\treturn this.getFilters()[0];\n\t\t}\n\n\t\tsetFilter(filter) {\n\t\t\treturn this.setFilters(filter ? [filter] : []);\n\t\t}\n\n\t\tsetPlaybackRate(value) {\n\t\t\tif (this.hasPlaybackControl === false) {\n\t\t\t\tconsole.warn('THREE.Audio: this Audio has no playback control.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.playbackRate = value;\n\n\t\t\tif (this.isPlaying === true) {\n\t\t\t\tthis.source.playbackRate.setTargetAtTime(this.playbackRate, this.context.currentTime, 0.01);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tgetPlaybackRate() {\n\t\t\treturn this.playbackRate;\n\t\t}\n\n\t\tonEnded() {\n\t\t\tthis.isPlaying = false;\n\t\t}\n\n\t\tgetLoop() {\n\t\t\tif (this.hasPlaybackControl === false) {\n\t\t\t\tconsole.warn('THREE.Audio: this Audio has no playback control.');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn this.loop;\n\t\t}\n\n\t\tsetLoop(value) {\n\t\t\tif (this.hasPlaybackControl === false) {\n\t\t\t\tconsole.warn('THREE.Audio: this Audio has no playback control.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.loop = value;\n\n\t\t\tif (this.isPlaying === true) {\n\t\t\t\tthis.source.loop = this.loop;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetLoopStart(value) {\n\t\t\tthis.loopStart = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetLoopEnd(value) {\n\t\t\tthis.loopEnd = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetVolume() {\n\t\t\treturn this.gain.gain.value;\n\t\t}\n\n\t\tsetVolume(value) {\n\t\t\tthis.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tconst _position = /*@__PURE__*/new Vector3();\n\n\tconst _quaternion = /*@__PURE__*/new Quaternion();\n\n\tconst _scale = /*@__PURE__*/new Vector3();\n\n\tconst _orientation = /*@__PURE__*/new Vector3();\n\n\tclass PositionalAudio extends Audio {\n\t\tconstructor(listener) {\n\t\t\tsuper(listener);\n\t\t\tthis.panner = this.context.createPanner();\n\t\t\tthis.panner.panningModel = 'HRTF';\n\t\t\tthis.panner.connect(this.gain);\n\t\t}\n\n\t\tgetOutput() {\n\t\t\treturn this.panner;\n\t\t}\n\n\t\tgetRefDistance() {\n\t\t\treturn this.panner.refDistance;\n\t\t}\n\n\t\tsetRefDistance(value) {\n\t\t\tthis.panner.refDistance = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetRolloffFactor() {\n\t\t\treturn this.panner.rolloffFactor;\n\t\t}\n\n\t\tsetRolloffFactor(value) {\n\t\t\tthis.panner.rolloffFactor = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetDistanceModel() {\n\t\t\treturn this.panner.distanceModel;\n\t\t}\n\n\t\tsetDistanceModel(value) {\n\t\t\tthis.panner.distanceModel = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetMaxDistance() {\n\t\t\treturn this.panner.maxDistance;\n\t\t}\n\n\t\tsetMaxDistance(value) {\n\t\t\tthis.panner.maxDistance = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetDirectionalCone(coneInnerAngle, coneOuterAngle, coneOuterGain) {\n\t\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\t\tthis.panner.coneOuterGain = coneOuterGain;\n\t\t\treturn this;\n\t\t}\n\n\t\tupdateMatrixWorld(force) {\n\t\t\tsuper.updateMatrixWorld(force);\n\t\t\tif (this.hasPlaybackControl === true && this.isPlaying === false) return;\n\t\t\tthis.matrixWorld.decompose(_position, _quaternion, _scale);\n\n\t\t\t_orientation.set(0, 0, 1).applyQuaternion(_quaternion);\n\n\t\t\tconst panner = this.panner;\n\n\t\t\tif (panner.positionX) {\n\t\t\t\t// code path for Chrome and Firefox (see #14393)\n\t\t\t\tconst endTime = this.context.currentTime + this.listener.timeDelta;\n\t\t\t\tpanner.positionX.linearRampToValueAtTime(_position.x, endTime);\n\t\t\t\tpanner.positionY.linearRampToValueAtTime(_position.y, endTime);\n\t\t\t\tpanner.positionZ.linearRampToValueAtTime(_position.z, endTime);\n\t\t\t\tpanner.orientationX.linearRampToValueAtTime(_orientation.x, endTime);\n\t\t\t\tpanner.orientationY.linearRampToValueAtTime(_orientation.y, endTime);\n\t\t\t\tpanner.orientationZ.linearRampToValueAtTime(_orientation.z, endTime);\n\t\t\t} else {\n\t\t\t\tpanner.setPosition(_position.x, _position.y, _position.z);\n\t\t\t\tpanner.setOrientation(_orientation.x, _orientation.y, _orientation.z);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tclass AudioAnalyser {\n\t\tconstructor(audio, fftSize = 2048) {\n\t\t\tthis.analyser = audio.context.createAnalyser();\n\t\t\tthis.analyser.fftSize = fftSize;\n\t\t\tthis.data = new Uint8Array(this.analyser.frequencyBinCount);\n\t\t\taudio.getOutput().connect(this.analyser);\n\t\t}\n\n\t\tgetFrequencyData() {\n\t\t\tthis.analyser.getByteFrequencyData(this.data);\n\t\t\treturn this.data;\n\t\t}\n\n\t\tgetAverageFrequency() {\n\t\t\tlet value = 0;\n\t\t\tconst data = this.getFrequencyData();\n\n\t\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\t\tvalue += data[i];\n\t\t\t}\n\n\t\t\treturn value / data.length;\n\t\t}\n\n\t}\n\n\tclass PropertyMixer {\n\t\tconstructor(binding, typeName, valueSize) {\n\t\t\tthis.binding = binding;\n\t\t\tthis.valueSize = valueSize;\n\t\t\tlet mixFunction, mixFunctionAdditive, setIdentity; // buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]\n\t\t\t//\n\t\t\t// interpolators can use .buffer as their .result\n\t\t\t// the data then goes to 'incoming'\n\t\t\t//\n\t\t\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t\t\t// the cumulative result and are compared to detect\n\t\t\t// changes\n\t\t\t//\n\t\t\t// 'orig' stores the original state of the property\n\t\t\t//\n\t\t\t// 'add' is used for additive cumulative results\n\t\t\t//\n\t\t\t// 'work' is optional and is only present for quaternion types. It is used\n\t\t\t// to store intermediate quaternion multiplication results\n\n\t\t\tswitch (typeName) {\n\t\t\t\tcase 'quaternion':\n\t\t\t\t\tmixFunction = this._slerp;\n\t\t\t\t\tmixFunctionAdditive = this._slerpAdditive;\n\t\t\t\t\tsetIdentity = this._setAdditiveIdentityQuaternion;\n\t\t\t\t\tthis.buffer = new Float64Array(valueSize * 6);\n\t\t\t\t\tthis._workIndex = 5;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'string':\n\t\t\t\tcase 'bool':\n\t\t\t\t\tmixFunction = this._select; // Use the regular mix function and for additive on these types,\n\t\t\t\t\t// additive is not relevant for non-numeric types\n\n\t\t\t\t\tmixFunctionAdditive = this._select;\n\t\t\t\t\tsetIdentity = this._setAdditiveIdentityOther;\n\t\t\t\t\tthis.buffer = new Array(valueSize * 5);\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tmixFunction = this._lerp;\n\t\t\t\t\tmixFunctionAdditive = this._lerpAdditive;\n\t\t\t\t\tsetIdentity = this._setAdditiveIdentityNumeric;\n\t\t\t\t\tthis.buffer = new Float64Array(valueSize * 5);\n\t\t\t}\n\n\t\t\tthis._mixBufferRegion = mixFunction;\n\t\t\tthis._mixBufferRegionAdditive = mixFunctionAdditive;\n\t\t\tthis._setIdentity = setIdentity;\n\t\t\tthis._origIndex = 3;\n\t\t\tthis._addIndex = 4;\n\t\t\tthis.cumulativeWeight = 0;\n\t\t\tthis.cumulativeWeightAdditive = 0;\n\t\t\tthis.useCount = 0;\n\t\t\tthis.referenceCount = 0;\n\t\t} // accumulate data in the 'incoming' region into 'accu<i>'\n\n\n\t\taccumulate(accuIndex, weight) {\n\t\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t\t// the weight and shouldn't have made the call in the first place\n\t\t\tconst buffer = this.buffer,\n\t\t\t\t\t\tstride = this.valueSize,\n\t\t\t\t\t\toffset = accuIndex * stride + stride;\n\t\t\tlet currentWeight = this.cumulativeWeight;\n\n\t\t\tif (currentWeight === 0) {\n\t\t\t\t// accuN := incoming * weight\n\t\t\t\tfor (let i = 0; i !== stride; ++i) {\n\t\t\t\t\tbuffer[offset + i] = buffer[i];\n\t\t\t\t}\n\n\t\t\t\tcurrentWeight = weight;\n\t\t\t} else {\n\t\t\t\t// accuN := accuN + incoming * weight\n\t\t\t\tcurrentWeight += weight;\n\t\t\t\tconst mix = weight / currentWeight;\n\n\t\t\t\tthis._mixBufferRegion(buffer, offset, 0, mix, stride);\n\t\t\t}\n\n\t\t\tthis.cumulativeWeight = currentWeight;\n\t\t} // accumulate data in the 'incoming' region into 'add'\n\n\n\t\taccumulateAdditive(weight) {\n\t\t\tconst buffer = this.buffer,\n\t\t\t\t\t\tstride = this.valueSize,\n\t\t\t\t\t\toffset = stride * this._addIndex;\n\n\t\t\tif (this.cumulativeWeightAdditive === 0) {\n\t\t\t\t// add = identity\n\t\t\t\tthis._setIdentity();\n\t\t\t} // add := add + incoming * weight\n\n\n\t\t\tthis._mixBufferRegionAdditive(buffer, offset, 0, weight, stride);\n\n\t\t\tthis.cumulativeWeightAdditive += weight;\n\t\t} // apply the state of 'accu<i>' to the binding when accus differ\n\n\n\t\tapply(accuIndex) {\n\t\t\tconst stride = this.valueSize,\n\t\t\t\t\t\tbuffer = this.buffer,\n\t\t\t\t\t\toffset = accuIndex * stride + stride,\n\t\t\t\t\t\tweight = this.cumulativeWeight,\n\t\t\t\t\t\tweightAdditive = this.cumulativeWeightAdditive,\n\t\t\t\t\t\tbinding = this.binding;\n\t\t\tthis.cumulativeWeight = 0;\n\t\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\t\tif (weight < 1) {\n\t\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\t\t\t\tconst originalValueOffset = stride * this._origIndex;\n\n\t\t\t\tthis._mixBufferRegion(buffer, offset, originalValueOffset, 1 - weight, stride);\n\t\t\t}\n\n\t\t\tif (weightAdditive > 0) {\n\t\t\t\t// accuN := accuN + additive accuN\n\t\t\t\tthis._mixBufferRegionAdditive(buffer, offset, this._addIndex * stride, 1, stride);\n\t\t\t}\n\n\t\t\tfor (let i = stride, e = stride + stride; i !== e; ++i) {\n\t\t\t\tif (buffer[i] !== buffer[i + stride]) {\n\t\t\t\t\t// value has changed -> update scene graph\n\t\t\t\t\tbinding.setValue(buffer, offset);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} // remember the state of the bound property and copy it to both accus\n\n\n\t\tsaveOriginalState() {\n\t\t\tconst binding = this.binding;\n\t\t\tconst buffer = this.buffer,\n\t\t\t\t\t\tstride = this.valueSize,\n\t\t\t\t\t\toriginalValueOffset = stride * this._origIndex;\n\t\t\tbinding.getValue(buffer, originalValueOffset); // accu[0..1] := orig -- initially detect changes against the original\n\n\t\t\tfor (let i = stride, e = originalValueOffset; i !== e; ++i) {\n\t\t\t\tbuffer[i] = buffer[originalValueOffset + i % stride];\n\t\t\t} // Add to identity for additive\n\n\n\t\t\tthis._setIdentity();\n\n\t\t\tthis.cumulativeWeight = 0;\n\t\t\tthis.cumulativeWeightAdditive = 0;\n\t\t} // apply the state previously taken via 'saveOriginalState' to the binding\n\n\n\t\trestoreOriginalState() {\n\t\t\tconst originalValueOffset = this.valueSize * 3;\n\t\t\tthis.binding.setValue(this.buffer, originalValueOffset);\n\t\t}\n\n\t\t_setAdditiveIdentityNumeric() {\n\t\t\tconst startIndex = this._addIndex * this.valueSize;\n\t\t\tconst endIndex = startIndex + this.valueSize;\n\n\t\t\tfor (let i = startIndex; i < endIndex; i++) {\n\t\t\t\tthis.buffer[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t_setAdditiveIdentityQuaternion() {\n\t\t\tthis._setAdditiveIdentityNumeric();\n\n\t\t\tthis.buffer[this._addIndex * this.valueSize + 3] = 1;\n\t\t}\n\n\t\t_setAdditiveIdentityOther() {\n\t\t\tconst startIndex = this._origIndex * this.valueSize;\n\t\t\tconst targetIndex = this._addIndex * this.valueSize;\n\n\t\t\tfor (let i = 0; i < this.valueSize; i++) {\n\t\t\t\tthis.buffer[targetIndex + i] = this.buffer[startIndex + i];\n\t\t\t}\n\t\t} // mix functions\n\n\n\t\t_select(buffer, dstOffset, srcOffset, t, stride) {\n\t\t\tif (t >= 0.5) {\n\t\t\t\tfor (let i = 0; i !== stride; ++i) {\n\t\t\t\t\tbuffer[dstOffset + i] = buffer[srcOffset + i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t_slerp(buffer, dstOffset, srcOffset, t) {\n\t\t\tQuaternion.slerpFlat(buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t);\n\t\t}\n\n\t\t_slerpAdditive(buffer, dstOffset, srcOffset, t, stride) {\n\t\t\tconst workOffset = this._workIndex * stride; // Store result in intermediate buffer offset\n\n\t\t\tQuaternion.multiplyQuaternionsFlat(buffer, workOffset, buffer, dstOffset, buffer, srcOffset); // Slerp to the intermediate result\n\n\t\t\tQuaternion.slerpFlat(buffer, dstOffset, buffer, dstOffset, buffer, workOffset, t);\n\t\t}\n\n\t\t_lerp(buffer, dstOffset, srcOffset, t, stride) {\n\t\t\tconst s = 1 - t;\n\n\t\t\tfor (let i = 0; i !== stride; ++i) {\n\t\t\t\tconst j = dstOffset + i;\n\t\t\t\tbuffer[j] = buffer[j] * s + buffer[srcOffset + i] * t;\n\t\t\t}\n\t\t}\n\n\t\t_lerpAdditive(buffer, dstOffset, srcOffset, t, stride) {\n\t\t\tfor (let i = 0; i !== stride; ++i) {\n\t\t\t\tconst j = dstOffset + i;\n\t\t\t\tbuffer[j] = buffer[j] + buffer[srcOffset + i] * t;\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// Characters [].:/ are reserved for track binding syntax.\n\tconst _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\n\n\tconst _reservedRe = new RegExp('[' + _RESERVED_CHARS_RE + ']', 'g'); // Attempts to allow node names from any language. ES5's `\\w` regexp matches\n\t// only latin characters, and the unicode \\p{L} is not yet supported. So\n\t// instead, we exclude reserved characters and match everything else.\n\n\n\tconst _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\n\n\tconst _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace('\\\\.', '') + ']'; // Parent directories, delimited by '/' or ':'. Currently unused, but must\n\t// be matched to parse the rest of the track name.\n\n\n\tconst _directoryRe = /((?:WC+[\\/:])*)/.source.replace('WC', _wordChar); // Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\n\n\n\tconst _nodeRe = /(WCOD+)?/.source.replace('WCOD', _wordCharOrDot); // Object on target node, and accessor. May not contain reserved\n\t// characters. Accessor may contain any character except closing bracket.\n\n\n\tconst _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace('WC', _wordChar); // Property and accessor. May not contain reserved characters. Accessor may\n\t// contain any non-bracket characters.\n\n\n\tconst _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace('WC', _wordChar);\n\n\tconst _trackRe = new RegExp('' + '^' + _directoryRe + _nodeRe + _objectRe + _propertyRe + '$');\n\n\tconst _supportedObjectNames = ['material', 'materials', 'bones'];\n\n\tclass Composite {\n\t\tconstructor(targetGroup, path, optionalParsedPath) {\n\t\t\tconst parsedPath = optionalParsedPath || PropertyBinding.parseTrackName(path);\n\t\t\tthis._targetGroup = targetGroup;\n\t\t\tthis._bindings = targetGroup.subscribe_(path, parsedPath);\n\t\t}\n\n\t\tgetValue(array, offset) {\n\t\t\tthis.bind(); // bind all binding\n\n\t\t\tconst firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\t\t\t\tbinding = this._bindings[firstValidIndex]; // and only call .getValue on the first\n\n\t\t\tif (binding !== undefined) binding.getValue(array, offset);\n\t\t}\n\n\t\tsetValue(array, offset) {\n\t\t\tconst bindings = this._bindings;\n\n\t\t\tfor (let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n\t\t\t\tbindings[i].setValue(array, offset);\n\t\t\t}\n\t\t}\n\n\t\tbind() {\n\t\t\tconst bindings = this._bindings;\n\n\t\t\tfor (let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n\t\t\t\tbindings[i].bind();\n\t\t\t}\n\t\t}\n\n\t\tunbind() {\n\t\t\tconst bindings = this._bindings;\n\n\t\t\tfor (let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n\t\t\t\tbindings[i].unbind();\n\t\t\t}\n\t\t}\n\n\t} // Note: This class uses a State pattern on a per-method basis:\n\t// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n\t// prototype version of these methods with one that represents\n\t// the bound state. When the property is not found, the methods\n\t// become no-ops.\n\n\n\tclass PropertyBinding {\n\t\tconstructor(rootNode, path, parsedPath) {\n\t\t\tthis.path = path;\n\t\t\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName(path);\n\t\t\tthis.node = PropertyBinding.findNode(rootNode, this.parsedPath.nodeName) || rootNode;\n\t\t\tthis.rootNode = rootNode; // initial state of these methods that calls 'bind'\n\n\t\t\tthis.getValue = this._getValue_unbound;\n\t\t\tthis.setValue = this._setValue_unbound;\n\t\t}\n\n\t\tstatic create(root, path, parsedPath) {\n\t\t\tif (!(root && root.isAnimationObjectGroup)) {\n\t\t\t\treturn new PropertyBinding(root, path, parsedPath);\n\t\t\t} else {\n\t\t\t\treturn new PropertyBinding.Composite(root, path, parsedPath);\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Replaces spaces with underscores and removes unsupported characters from\n\t\t * node names, to ensure compatibility with parseTrackName().\n\t\t *\n\t\t * @param {string} name Node name to be sanitized.\n\t\t * @return {string}\n\t\t */\n\n\n\t\tstatic sanitizeNodeName(name) {\n\t\t\treturn name.replace(/\\s/g, '_').replace(_reservedRe, '');\n\t\t}\n\n\t\tstatic parseTrackName(trackName) {\n\t\t\tconst matches = _trackRe.exec(trackName);\n\n\t\t\tif (!matches) {\n\t\t\t\tthrow new Error('PropertyBinding: Cannot parse trackName: ' + trackName);\n\t\t\t}\n\n\t\t\tconst results = {\n\t\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\t\tnodeName: matches[2],\n\t\t\t\tobjectName: matches[3],\n\t\t\t\tobjectIndex: matches[4],\n\t\t\t\tpropertyName: matches[5],\n\t\t\t\t// required\n\t\t\t\tpropertyIndex: matches[6]\n\t\t\t};\n\t\t\tconst lastDot = results.nodeName && results.nodeName.lastIndexOf('.');\n\n\t\t\tif (lastDot !== undefined && lastDot !== -1) {\n\t\t\t\tconst objectName = results.nodeName.substring(lastDot + 1); // Object names must be checked against an allowlist. Otherwise, there\n\t\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t\t// include '.' characters).\n\n\t\t\t\tif (_supportedObjectNames.indexOf(objectName) !== -1) {\n\t\t\t\t\tresults.nodeName = results.nodeName.substring(0, lastDot);\n\t\t\t\t\tresults.objectName = objectName;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (results.propertyName === null || results.propertyName.length === 0) {\n\t\t\t\tthrow new Error('PropertyBinding: can not parse propertyName from trackName: ' + trackName);\n\t\t\t}\n\n\t\t\treturn results;\n\t\t}\n\n\t\tstatic findNode(root, nodeName) {\n\t\t\tif (!nodeName || nodeName === '' || nodeName === '.' || nodeName === -1 || nodeName === root.name || nodeName === root.uuid) {\n\t\t\t\treturn root;\n\t\t\t} // search into skeleton bones.\n\n\n\t\t\tif (root.skeleton) {\n\t\t\t\tconst bone = root.skeleton.getBoneByName(nodeName);\n\n\t\t\t\tif (bone !== undefined) {\n\t\t\t\t\treturn bone;\n\t\t\t\t}\n\t\t\t} // search into node subtree.\n\n\n\t\t\tif (root.children) {\n\t\t\t\tconst searchNodeSubtree = function (children) {\n\t\t\t\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\t\t\t\tconst childNode = children[i];\n\n\t\t\t\t\t\tif (childNode.name === nodeName || childNode.uuid === nodeName) {\n\t\t\t\t\t\t\treturn childNode;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst result = searchNodeSubtree(childNode.children);\n\t\t\t\t\t\tif (result) return result;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn null;\n\t\t\t\t};\n\n\t\t\t\tconst subTreeNode = searchNodeSubtree(root.children);\n\n\t\t\t\tif (subTreeNode) {\n\t\t\t\t\treturn subTreeNode;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t} // these are used to \"bind\" a nonexistent property\n\n\n\t\t_getValue_unavailable() {}\n\n\t\t_setValue_unavailable() {} // Getters\n\n\n\t\t_getValue_direct(buffer, offset) {\n\t\t\tbuffer[offset] = this.targetObject[this.propertyName];\n\t\t}\n\n\t\t_getValue_array(buffer, offset) {\n\t\t\tconst source = this.resolvedProperty;\n\n\t\t\tfor (let i = 0, n = source.length; i !== n; ++i) {\n\t\t\t\tbuffer[offset++] = source[i];\n\t\t\t}\n\t\t}\n\n\t\t_getValue_arrayElement(buffer, offset) {\n\t\t\tbuffer[offset] = this.resolvedProperty[this.propertyIndex];\n\t\t}\n\n\t\t_getValue_toArray(buffer, offset) {\n\t\t\tthis.resolvedProperty.toArray(buffer, offset);\n\t\t} // Direct\n\n\n\t\t_setValue_direct(buffer, offset) {\n\t\t\tthis.targetObject[this.propertyName] = buffer[offset];\n\t\t}\n\n\t\t_setValue_direct_setNeedsUpdate(buffer, offset) {\n\t\t\tthis.targetObject[this.propertyName] = buffer[offset];\n\t\t\tthis.targetObject.needsUpdate = true;\n\t\t}\n\n\t\t_setValue_direct_setMatrixWorldNeedsUpdate(buffer, offset) {\n\t\t\tthis.targetObject[this.propertyName] = buffer[offset];\n\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\t\t} // EntireArray\n\n\n\t\t_setValue_array(buffer, offset) {\n\t\t\tconst dest = this.resolvedProperty;\n\n\t\t\tfor (let i = 0, n = dest.length; i !== n; ++i) {\n\t\t\t\tdest[i] = buffer[offset++];\n\t\t\t}\n\t\t}\n\n\t\t_setValue_array_setNeedsUpdate(buffer, offset) {\n\t\t\tconst dest = this.resolvedProperty;\n\n\t\t\tfor (let i = 0, n = dest.length; i !== n; ++i) {\n\t\t\t\tdest[i] = buffer[offset++];\n\t\t\t}\n\n\t\t\tthis.targetObject.needsUpdate = true;\n\t\t}\n\n\t\t_setValue_array_setMatrixWorldNeedsUpdate(buffer, offset) {\n\t\t\tconst dest = this.resolvedProperty;\n\n\t\t\tfor (let i = 0, n = dest.length; i !== n; ++i) {\n\t\t\t\tdest[i] = buffer[offset++];\n\t\t\t}\n\n\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\t\t} // ArrayElement\n\n\n\t\t_setValue_arrayElement(buffer, offset) {\n\t\t\tthis.resolvedProperty[this.propertyIndex] = buffer[offset];\n\t\t}\n\n\t\t_setValue_arrayElement_setNeedsUpdate(buffer, offset) {\n\t\t\tthis.resolvedProperty[this.propertyIndex] = buffer[offset];\n\t\t\tthis.targetObject.needsUpdate = true;\n\t\t}\n\n\t\t_setValue_arrayElement_setMatrixWorldNeedsUpdate(buffer, offset) {\n\t\t\tthis.resolvedProperty[this.propertyIndex] = buffer[offset];\n\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\t\t} // HasToFromArray\n\n\n\t\t_setValue_fromArray(buffer, offset) {\n\t\t\tthis.resolvedProperty.fromArray(buffer, offset);\n\t\t}\n\n\t\t_setValue_fromArray_setNeedsUpdate(buffer, offset) {\n\t\t\tthis.resolvedProperty.fromArray(buffer, offset);\n\t\t\tthis.targetObject.needsUpdate = true;\n\t\t}\n\n\t\t_setValue_fromArray_setMatrixWorldNeedsUpdate(buffer, offset) {\n\t\t\tthis.resolvedProperty.fromArray(buffer, offset);\n\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\t\t}\n\n\t\t_getValue_unbound(targetArray, offset) {\n\t\t\tthis.bind();\n\t\t\tthis.getValue(targetArray, offset);\n\t\t}\n\n\t\t_setValue_unbound(sourceArray, offset) {\n\t\t\tthis.bind();\n\t\t\tthis.setValue(sourceArray, offset);\n\t\t} // create getter / setter pair for a property in the scene graph\n\n\n\t\tbind() {\n\t\t\tlet targetObject = this.node;\n\t\t\tconst parsedPath = this.parsedPath;\n\t\t\tconst objectName = parsedPath.objectName;\n\t\t\tconst propertyName = parsedPath.propertyName;\n\t\t\tlet propertyIndex = parsedPath.propertyIndex;\n\n\t\t\tif (!targetObject) {\n\t\t\t\ttargetObject = PropertyBinding.findNode(this.rootNode, parsedPath.nodeName) || this.rootNode;\n\t\t\t\tthis.node = targetObject;\n\t\t\t} // set fail state so we can just 'return' on error\n\n\n\t\t\tthis.getValue = this._getValue_unavailable;\n\t\t\tthis.setValue = this._setValue_unavailable; // ensure there is a value node\n\n\t\t\tif (!targetObject) {\n\t\t\t\tconsole.error('THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (objectName) {\n\t\t\t\tlet objectIndex = parsedPath.objectIndex; // special cases were we need to reach deeper into the hierarchy to get the face materials....\n\n\t\t\t\tswitch (objectName) {\n\t\t\t\t\tcase 'materials':\n\t\t\t\t\t\tif (!targetObject.material) {\n\t\t\t\t\t\t\tconsole.error('THREE.PropertyBinding: Can not bind to material as node does not have a material.', this);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!targetObject.material.materials) {\n\t\t\t\t\t\t\tconsole.error('THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttargetObject = targetObject.material.materials;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'bones':\n\t\t\t\t\t\tif (!targetObject.skeleton) {\n\t\t\t\t\t\t\tconsole.error('THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} // potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t\t// and convert the integer string to a true integer.\n\n\n\t\t\t\t\t\ttargetObject = targetObject.skeleton.bones; // support resolving morphTarget names into indices.\n\n\t\t\t\t\t\tfor (let i = 0; i < targetObject.length; i++) {\n\t\t\t\t\t\t\tif (targetObject[i].name === objectIndex) {\n\t\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif (targetObject[objectName] === undefined) {\n\t\t\t\t\t\t\tconsole.error('THREE.PropertyBinding: Can not bind to objectName of node undefined.', this);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttargetObject = targetObject[objectName];\n\t\t\t\t}\n\n\t\t\t\tif (objectIndex !== undefined) {\n\t\t\t\t\tif (targetObject[objectIndex] === undefined) {\n\t\t\t\t\t\tconsole.error('THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[objectIndex];\n\t\t\t\t}\n\t\t\t} // resolve property\n\n\n\t\t\tconst nodeProperty = targetObject[propertyName];\n\n\t\t\tif (nodeProperty === undefined) {\n\t\t\t\tconst nodeName = parsedPath.nodeName;\n\t\t\t\tconsole.error('THREE.PropertyBinding: Trying to update property for track: ' + nodeName + '.' + propertyName + ' but it wasn\\'t found.', targetObject);\n\t\t\t\treturn;\n\t\t\t} // determine versioning scheme\n\n\n\t\t\tlet versioning = this.Versioning.None;\n\t\t\tthis.targetObject = targetObject;\n\n\t\t\tif (targetObject.needsUpdate !== undefined) {\n\t\t\t\t// material\n\t\t\t\tversioning = this.Versioning.NeedsUpdate;\n\t\t\t} else if (targetObject.matrixWorldNeedsUpdate !== undefined) {\n\t\t\t\t// node transform\n\t\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\t\t\t} // determine how the property gets bound\n\n\n\t\t\tlet bindingType = this.BindingType.Direct;\n\n\t\t\tif (propertyIndex !== undefined) {\n\t\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\t\t\t\tif (propertyName === 'morphTargetInfluences') {\n\t\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tif (!targetObject.geometry) {\n\t\t\t\t\t\tconsole.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (targetObject.geometry.isBufferGeometry) {\n\t\t\t\t\t\tif (!targetObject.geometry.morphAttributes) {\n\t\t\t\t\t\t\tconsole.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (targetObject.morphTargetDictionary[propertyIndex] !== undefined) {\n\t\t\t\t\t\t\tpropertyIndex = targetObject.morphTargetDictionary[propertyIndex];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.', this);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbindingType = this.BindingType.ArrayElement;\n\t\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\t\tthis.propertyIndex = propertyIndex;\n\t\t\t} else if (nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined) {\n\t\t\t\t// must use copy for Object3D.Euler/Quaternion\n\t\t\t\tbindingType = this.BindingType.HasFromToArray;\n\t\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\t} else if (Array.isArray(nodeProperty)) {\n\t\t\t\tbindingType = this.BindingType.EntireArray;\n\t\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\t} else {\n\t\t\t\tthis.propertyName = propertyName;\n\t\t\t} // select getter / setter\n\n\n\t\t\tthis.getValue = this.GetterByBindingType[bindingType];\n\t\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[bindingType][versioning];\n\t\t}\n\n\t\tunbind() {\n\t\t\tthis.node = null; // back to the prototype version of getValue / setValue\n\t\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\n\t\t\tthis.getValue = this._getValue_unbound;\n\t\t\tthis.setValue = this._setValue_unbound;\n\t\t}\n\n\t}\n\n\tPropertyBinding.Composite = Composite;\n\tPropertyBinding.prototype.BindingType = {\n\t\tDirect: 0,\n\t\tEntireArray: 1,\n\t\tArrayElement: 2,\n\t\tHasFromToArray: 3\n\t};\n\tPropertyBinding.prototype.Versioning = {\n\t\tNone: 0,\n\t\tNeedsUpdate: 1,\n\t\tMatrixWorldNeedsUpdate: 2\n\t};\n\tPropertyBinding.prototype.GetterByBindingType = [PropertyBinding.prototype._getValue_direct, PropertyBinding.prototype._getValue_array, PropertyBinding.prototype._getValue_arrayElement, PropertyBinding.prototype._getValue_toArray];\n\tPropertyBinding.prototype.SetterByBindingTypeAndVersioning = [[// Direct\n\tPropertyBinding.prototype._setValue_direct, PropertyBinding.prototype._setValue_direct_setNeedsUpdate, PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate], [// EntireArray\n\tPropertyBinding.prototype._setValue_array, PropertyBinding.prototype._setValue_array_setNeedsUpdate, PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate], [// ArrayElement\n\tPropertyBinding.prototype._setValue_arrayElement, PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate, PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate], [// HasToFromArray\n\tPropertyBinding.prototype._setValue_fromArray, PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate, PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];\n\n\t/**\n\t *\n\t * A group of objects that receives a shared animation state.\n\t *\n\t * Usage:\n\t *\n\t *\t- Add objects you would otherwise pass as 'root' to the\n\t *\t\tconstructor or the .clipAction method of AnimationMixer.\n\t *\n\t *\t- Instead pass this object as 'root'.\n\t *\n\t *\t- You can also add and remove objects later when the mixer\n\t *\t\tis running.\n\t *\n\t * Note:\n\t *\n\t *\t\tObjects of this class appear as one object to the mixer,\n\t *\t\tso cache control of the individual objects must be done\n\t *\t\ton the group.\n\t *\n\t * Limitation:\n\t *\n\t *\t- The animated properties must be compatible among the\n\t *\t\tall objects in the group.\n\t *\n\t *\t- A single property can either be controlled through a\n\t *\t\ttarget group or directly, but not both.\n\t */\n\n\tclass AnimationObjectGroup {\n\t\tconstructor() {\n\t\t\tthis.uuid = generateUUID(); // cached objects followed by the active ones\n\n\t\t\tthis._objects = Array.prototype.slice.call(arguments);\n\t\t\tthis.nCachedObjects_ = 0; // threshold\n\t\t\t// note: read by PropertyBinding.Composite\n\n\t\t\tconst indices = {};\n\t\t\tthis._indicesByUUID = indices; // for bookkeeping\n\n\t\t\tfor (let i = 0, n = arguments.length; i !== n; ++i) {\n\t\t\t\tindices[arguments[i].uuid] = i;\n\t\t\t}\n\n\t\t\tthis._paths = []; // inside: string\n\n\t\t\tthis._parsedPaths = []; // inside: { we don't care, here }\n\n\t\t\tthis._bindings = []; // inside: Array< PropertyBinding >\n\n\t\t\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\t\t\tconst scope = this;\n\t\t\tthis.stats = {\n\t\t\t\tobjects: {\n\t\t\t\t\tget total() {\n\t\t\t\t\t\treturn scope._objects.length;\n\t\t\t\t\t},\n\n\t\t\t\t\tget inUse() {\n\t\t\t\t\t\treturn this.total - scope.nCachedObjects_;\n\t\t\t\t\t}\n\n\t\t\t\t},\n\n\t\t\t\tget bindingsPerObject() {\n\t\t\t\t\treturn scope._bindings.length;\n\t\t\t\t}\n\n\t\t\t};\n\t\t}\n\n\t\tadd() {\n\t\t\tconst objects = this._objects,\n\t\t\t\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\t\t\t\tpaths = this._paths,\n\t\t\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\t\t\tbindings = this._bindings,\n\t\t\t\t\t\tnBindings = bindings.length;\n\t\t\tlet knownObject = undefined,\n\t\t\t\t\tnObjects = objects.length,\n\t\t\t\t\tnCachedObjects = this.nCachedObjects_;\n\n\t\t\tfor (let i = 0, n = arguments.length; i !== n; ++i) {\n\t\t\t\tconst object = arguments[i],\n\t\t\t\t\t\t\tuuid = object.uuid;\n\t\t\t\tlet index = indicesByUUID[uuid];\n\n\t\t\t\tif (index === undefined) {\n\t\t\t\t\t// unknown object -> add it to the ACTIVE region\n\t\t\t\t\tindex = nObjects++;\n\t\t\t\t\tindicesByUUID[uuid] = index;\n\t\t\t\t\tobjects.push(object); // accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor (let j = 0, m = nBindings; j !== m; ++j) {\n\t\t\t\t\t\tbindings[j].push(new PropertyBinding(object, paths[j], parsedPaths[j]));\n\t\t\t\t\t}\n\t\t\t\t} else if (index < nCachedObjects) {\n\t\t\t\t\tknownObject = objects[index]; // move existing object to the ACTIVE region\n\n\t\t\t\t\tconst firstActiveIndex = --nCachedObjects,\n\t\t\t\t\t\t\t\tlastCachedObject = objects[firstActiveIndex];\n\t\t\t\t\tindicesByUUID[lastCachedObject.uuid] = index;\n\t\t\t\t\tobjects[index] = lastCachedObject;\n\t\t\t\t\tindicesByUUID[uuid] = firstActiveIndex;\n\t\t\t\t\tobjects[firstActiveIndex] = object; // accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor (let j = 0, m = nBindings; j !== m; ++j) {\n\t\t\t\t\t\tconst bindingsForPath = bindings[j],\n\t\t\t\t\t\t\t\t\tlastCached = bindingsForPath[firstActiveIndex];\n\t\t\t\t\t\tlet binding = bindingsForPath[index];\n\t\t\t\t\t\tbindingsForPath[index] = lastCached;\n\n\t\t\t\t\t\tif (binding === undefined) {\n\t\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t\t// or may not exist\n\t\t\t\t\t\t\tbinding = new PropertyBinding(object, paths[j], parsedPaths[j]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbindingsForPath[firstActiveIndex] = binding;\n\t\t\t\t\t}\n\t\t\t\t} else if (objects[index] !== knownObject) {\n\t\t\t\t\tconsole.error('THREE.AnimationObjectGroup: Different objects with the same UUID ' + 'detected. Clean the caches or recreate your infrastructure when reloading scenes.');\n\t\t\t\t} // else the object is already where we want it to be\n\n\t\t\t} // for arguments\n\n\n\t\t\tthis.nCachedObjects_ = nCachedObjects;\n\t\t}\n\n\t\tremove() {\n\t\t\tconst objects = this._objects,\n\t\t\t\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\t\t\t\tbindings = this._bindings,\n\t\t\t\t\t\tnBindings = bindings.length;\n\t\t\tlet nCachedObjects = this.nCachedObjects_;\n\n\t\t\tfor (let i = 0, n = arguments.length; i !== n; ++i) {\n\t\t\t\tconst object = arguments[i],\n\t\t\t\t\t\t\tuuid = object.uuid,\n\t\t\t\t\t\t\tindex = indicesByUUID[uuid];\n\n\t\t\t\tif (index !== undefined && index >= nCachedObjects) {\n\t\t\t\t\t// move existing object into the CACHED region\n\t\t\t\t\tconst lastCachedIndex = nCachedObjects++,\n\t\t\t\t\t\t\t\tfirstActiveObject = objects[lastCachedIndex];\n\t\t\t\t\tindicesByUUID[firstActiveObject.uuid] = index;\n\t\t\t\t\tobjects[index] = firstActiveObject;\n\t\t\t\t\tindicesByUUID[uuid] = lastCachedIndex;\n\t\t\t\t\tobjects[lastCachedIndex] = object; // accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor (let j = 0, m = nBindings; j !== m; ++j) {\n\t\t\t\t\t\tconst bindingsForPath = bindings[j],\n\t\t\t\t\t\t\t\t\tfirstActive = bindingsForPath[lastCachedIndex],\n\t\t\t\t\t\t\t\t\tbinding = bindingsForPath[index];\n\t\t\t\t\t\tbindingsForPath[index] = firstActive;\n\t\t\t\t\t\tbindingsForPath[lastCachedIndex] = binding;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} // for arguments\n\n\n\t\t\tthis.nCachedObjects_ = nCachedObjects;\n\t\t} // remove & forget\n\n\n\t\tuncache() {\n\t\t\tconst objects = this._objects,\n\t\t\t\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\t\t\t\tbindings = this._bindings,\n\t\t\t\t\t\tnBindings = bindings.length;\n\t\t\tlet nCachedObjects = this.nCachedObjects_,\n\t\t\t\t\tnObjects = objects.length;\n\n\t\t\tfor (let i = 0, n = arguments.length; i !== n; ++i) {\n\t\t\t\tconst object = arguments[i],\n\t\t\t\t\t\t\tuuid = object.uuid,\n\t\t\t\t\t\t\tindex = indicesByUUID[uuid];\n\n\t\t\t\tif (index !== undefined) {\n\t\t\t\t\tdelete indicesByUUID[uuid];\n\n\t\t\t\t\tif (index < nCachedObjects) {\n\t\t\t\t\t\t// object is cached, shrink the CACHED region\n\t\t\t\t\t\tconst firstActiveIndex = --nCachedObjects,\n\t\t\t\t\t\t\t\t\tlastCachedObject = objects[firstActiveIndex],\n\t\t\t\t\t\t\t\t\tlastIndex = --nObjects,\n\t\t\t\t\t\t\t\t\tlastObject = objects[lastIndex]; // last cached object takes this object's place\n\n\t\t\t\t\t\tindicesByUUID[lastCachedObject.uuid] = index;\n\t\t\t\t\t\tobjects[index] = lastCachedObject; // last object goes to the activated slot and pop\n\n\t\t\t\t\t\tindicesByUUID[lastObject.uuid] = firstActiveIndex;\n\t\t\t\t\t\tobjects[firstActiveIndex] = lastObject;\n\t\t\t\t\t\tobjects.pop(); // accounting is done, now do the same for all bindings\n\n\t\t\t\t\t\tfor (let j = 0, m = nBindings; j !== m; ++j) {\n\t\t\t\t\t\t\tconst bindingsForPath = bindings[j],\n\t\t\t\t\t\t\t\t\t\tlastCached = bindingsForPath[firstActiveIndex],\n\t\t\t\t\t\t\t\t\t\tlast = bindingsForPath[lastIndex];\n\t\t\t\t\t\t\tbindingsForPath[index] = lastCached;\n\t\t\t\t\t\t\tbindingsForPath[firstActiveIndex] = last;\n\t\t\t\t\t\t\tbindingsForPath.pop();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// object is active, just swap with the last and pop\n\t\t\t\t\t\tconst lastIndex = --nObjects,\n\t\t\t\t\t\t\t\t\tlastObject = objects[lastIndex];\n\n\t\t\t\t\t\tif (lastIndex > 0) {\n\t\t\t\t\t\t\tindicesByUUID[lastObject.uuid] = index;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tobjects[index] = lastObject;\n\t\t\t\t\t\tobjects.pop(); // accounting is done, now do the same for all bindings\n\n\t\t\t\t\t\tfor (let j = 0, m = nBindings; j !== m; ++j) {\n\t\t\t\t\t\t\tconst bindingsForPath = bindings[j];\n\t\t\t\t\t\t\tbindingsForPath[index] = bindingsForPath[lastIndex];\n\t\t\t\t\t\t\tbindingsForPath.pop();\n\t\t\t\t\t\t}\n\t\t\t\t\t} // cached or active\n\n\t\t\t\t} // if object is known\n\n\t\t\t} // for arguments\n\n\n\t\t\tthis.nCachedObjects_ = nCachedObjects;\n\t\t} // Internal interface used by befriended PropertyBinding.Composite:\n\n\n\t\tsubscribe_(path, parsedPath) {\n\t\t\t// returns an array of bindings for the given path that is changed\n\t\t\t// according to the contained objects in the group\n\t\t\tconst indicesByPath = this._bindingsIndicesByPath;\n\t\t\tlet index = indicesByPath[path];\n\t\t\tconst bindings = this._bindings;\n\t\t\tif (index !== undefined) return bindings[index];\n\t\t\tconst paths = this._paths,\n\t\t\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\t\t\tobjects = this._objects,\n\t\t\t\t\t\tnObjects = objects.length,\n\t\t\t\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\t\t\t\tbindingsForPath = new Array(nObjects);\n\t\t\tindex = bindings.length;\n\t\t\tindicesByPath[path] = index;\n\t\t\tpaths.push(path);\n\t\t\tparsedPaths.push(parsedPath);\n\t\t\tbindings.push(bindingsForPath);\n\n\t\t\tfor (let i = nCachedObjects, n = objects.length; i !== n; ++i) {\n\t\t\t\tconst object = objects[i];\n\t\t\t\tbindingsForPath[i] = new PropertyBinding(object, path, parsedPath);\n\t\t\t}\n\n\t\t\treturn bindingsForPath;\n\t\t}\n\n\t\tunsubscribe_(path) {\n\t\t\t// tells the group to forget about a property path and no longer\n\t\t\t// update the array previously obtained with 'subscribe_'\n\t\t\tconst indicesByPath = this._bindingsIndicesByPath,\n\t\t\t\t\t\tindex = indicesByPath[path];\n\n\t\t\tif (index !== undefined) {\n\t\t\t\tconst paths = this._paths,\n\t\t\t\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\t\t\t\tbindings = this._bindings,\n\t\t\t\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\t\t\t\tlastBindings = bindings[lastBindingsIndex],\n\t\t\t\t\t\t\tlastBindingsPath = path[lastBindingsIndex];\n\t\t\t\tindicesByPath[lastBindingsPath] = index;\n\t\t\t\tbindings[index] = lastBindings;\n\t\t\t\tbindings.pop();\n\t\t\t\tparsedPaths[index] = parsedPaths[lastBindingsIndex];\n\t\t\t\tparsedPaths.pop();\n\t\t\t\tpaths[index] = paths[lastBindingsIndex];\n\t\t\t\tpaths.pop();\n\t\t\t}\n\t\t}\n\n\t}\n\n\tAnimationObjectGroup.prototype.isAnimationObjectGroup = true;\n\n\tclass AnimationAction {\n\t\tconstructor(mixer, clip, localRoot = null, blendMode = clip.blendMode) {\n\t\t\tthis._mixer = mixer;\n\t\t\tthis._clip = clip;\n\t\t\tthis._localRoot = localRoot;\n\t\t\tthis.blendMode = blendMode;\n\t\t\tconst tracks = clip.tracks,\n\t\t\t\t\t\tnTracks = tracks.length,\n\t\t\t\t\t\tinterpolants = new Array(nTracks);\n\t\t\tconst interpolantSettings = {\n\t\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\t\tendingEnd: ZeroCurvatureEnding\n\t\t\t};\n\n\t\t\tfor (let i = 0; i !== nTracks; ++i) {\n\t\t\t\tconst interpolant = tracks[i].createInterpolant(null);\n\t\t\t\tinterpolants[i] = interpolant;\n\t\t\t\tinterpolant.settings = interpolantSettings;\n\t\t\t}\n\n\t\t\tthis._interpolantSettings = interpolantSettings;\n\t\t\tthis._interpolants = interpolants; // bound by the mixer\n\t\t\t// inside: PropertyMixer (managed by the mixer)\n\n\t\t\tthis._propertyBindings = new Array(nTracks);\n\t\t\tthis._cacheIndex = null; // for the memory manager\n\n\t\t\tthis._byClipCacheIndex = null; // for the memory manager\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis.loop = LoopRepeat;\n\t\t\tthis._loopCount = -1; // global mixer time when the action is to be started\n\t\t\t// it's set back to 'null' upon start of the action\n\n\t\t\tthis._startTime = null; // scaled local time of the action\n\t\t\t// gets clamped or wrapped to 0..clip.duration according to loop\n\n\t\t\tthis.time = 0;\n\t\t\tthis.timeScale = 1;\n\t\t\tthis._effectiveTimeScale = 1;\n\t\t\tthis.weight = 1;\n\t\t\tthis._effectiveWeight = 1;\n\t\t\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\t\t\tthis.paused = false; // true -> zero effective time scale\n\n\t\t\tthis.enabled = true; // false -> zero effective weight\n\n\t\t\tthis.clampWhenFinished = false; // keep feeding the last frame?\n\n\t\t\tthis.zeroSlopeAtStart = true; // for smooth interpolation w/o separate\n\n\t\t\tthis.zeroSlopeAtEnd = true; // clips for start, loop and end\n\t\t} // State & Scheduling\n\n\n\t\tplay() {\n\t\t\tthis._mixer._activateAction(this);\n\n\t\t\treturn this;\n\t\t}\n\n\t\tstop() {\n\t\t\tthis._mixer._deactivateAction(this);\n\n\t\t\treturn this.reset();\n\t\t}\n\n\t\treset() {\n\t\t\tthis.paused = false;\n\t\t\tthis.enabled = true;\n\t\t\tthis.time = 0; // restart clip\n\n\t\t\tthis._loopCount = -1; // forget previous loops\n\n\t\t\tthis._startTime = null; // forget scheduling\n\n\t\t\treturn this.stopFading().stopWarping();\n\t\t}\n\n\t\tisRunning() {\n\t\t\treturn this.enabled && !this.paused && this.timeScale !== 0 && this._startTime === null && this._mixer._isActiveAction(this);\n\t\t} // return true when play has been called\n\n\n\t\tisScheduled() {\n\t\t\treturn this._mixer._isActiveAction(this);\n\t\t}\n\n\t\tstartAt(time) {\n\t\t\tthis._startTime = time;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetLoop(mode, repetitions) {\n\t\t\tthis.loop = mode;\n\t\t\tthis.repetitions = repetitions;\n\t\t\treturn this;\n\t\t} // Weight\n\t\t// set the weight stopping any scheduled fading\n\t\t// although .enabled = false yields an effective weight of zero, this\n\t\t// method does *not* change .enabled, because it would be confusing\n\n\n\t\tsetEffectiveWeight(weight) {\n\t\t\tthis.weight = weight; // note: same logic as when updated at runtime\n\n\t\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\t\t\treturn this.stopFading();\n\t\t} // return the weight considering fading and .enabled\n\n\n\t\tgetEffectiveWeight() {\n\t\t\treturn this._effectiveWeight;\n\t\t}\n\n\t\tfadeIn(duration) {\n\t\t\treturn this._scheduleFading(duration, 0, 1);\n\t\t}\n\n\t\tfadeOut(duration) {\n\t\t\treturn this._scheduleFading(duration, 1, 0);\n\t\t}\n\n\t\tcrossFadeFrom(fadeOutAction, duration, warp) {\n\t\t\tfadeOutAction.fadeOut(duration);\n\t\t\tthis.fadeIn(duration);\n\n\t\t\tif (warp) {\n\t\t\t\tconst fadeInDuration = this._clip.duration,\n\t\t\t\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\t\t\t\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\t\t\t\tfadeOutAction.warp(1.0, startEndRatio, duration);\n\t\t\t\tthis.warp(endStartRatio, 1.0, duration);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tcrossFadeTo(fadeInAction, duration, warp) {\n\t\t\treturn fadeInAction.crossFadeFrom(this, duration, warp);\n\t\t}\n\n\t\tstopFading() {\n\t\t\tconst weightInterpolant = this._weightInterpolant;\n\n\t\t\tif (weightInterpolant !== null) {\n\t\t\t\tthis._weightInterpolant = null;\n\n\t\t\t\tthis._mixer._takeBackControlInterpolant(weightInterpolant);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t} // Time Scale Control\n\t\t// set the time scale stopping any scheduled warping\n\t\t// although .paused = true yields an effective time scale of zero, this\n\t\t// method does *not* change .paused, because it would be confusing\n\n\n\t\tsetEffectiveTimeScale(timeScale) {\n\t\t\tthis.timeScale = timeScale;\n\t\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\t\t\treturn this.stopWarping();\n\t\t} // return the time scale considering warping and .paused\n\n\n\t\tgetEffectiveTimeScale() {\n\t\t\treturn this._effectiveTimeScale;\n\t\t}\n\n\t\tsetDuration(duration) {\n\t\t\tthis.timeScale = this._clip.duration / duration;\n\t\t\treturn this.stopWarping();\n\t\t}\n\n\t\tsyncWith(action) {\n\t\t\tthis.time = action.time;\n\t\t\tthis.timeScale = action.timeScale;\n\t\t\treturn this.stopWarping();\n\t\t}\n\n\t\thalt(duration) {\n\t\t\treturn this.warp(this._effectiveTimeScale, 0, duration);\n\t\t}\n\n\t\twarp(startTimeScale, endTimeScale, duration) {\n\t\t\tconst mixer = this._mixer,\n\t\t\t\t\t\tnow = mixer.time,\n\t\t\t\t\t\ttimeScale = this.timeScale;\n\t\t\tlet interpolant = this._timeScaleInterpolant;\n\n\t\t\tif (interpolant === null) {\n\t\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\t\tthis._timeScaleInterpolant = interpolant;\n\t\t\t}\n\n\t\t\tconst times = interpolant.parameterPositions,\n\t\t\t\t\t\tvalues = interpolant.sampleValues;\n\t\t\ttimes[0] = now;\n\t\t\ttimes[1] = now + duration;\n\t\t\tvalues[0] = startTimeScale / timeScale;\n\t\t\tvalues[1] = endTimeScale / timeScale;\n\t\t\treturn this;\n\t\t}\n\n\t\tstopWarping() {\n\t\t\tconst timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\t\tif (timeScaleInterpolant !== null) {\n\t\t\t\tthis._timeScaleInterpolant = null;\n\n\t\t\t\tthis._mixer._takeBackControlInterpolant(timeScaleInterpolant);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t} // Object Accessors\n\n\n\t\tgetMixer() {\n\t\t\treturn this._mixer;\n\t\t}\n\n\t\tgetClip() {\n\t\t\treturn this._clip;\n\t\t}\n\n\t\tgetRoot() {\n\t\t\treturn this._localRoot || this._mixer._root;\n\t\t} // Interna\n\n\n\t\t_update(time, deltaTime, timeDirection, accuIndex) {\n\t\t\t// called by the mixer\n\t\t\tif (!this.enabled) {\n\t\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\t\t\t\tthis._updateWeight(time);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst startTime = this._startTime;\n\n\t\t\tif (startTime !== null) {\n\t\t\t\t// check for scheduled start of action\n\t\t\t\tconst timeRunning = (time - startTime) * timeDirection;\n\n\t\t\t\tif (timeRunning < 0 || timeDirection === 0) {\n\t\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\t\t\t\t} // start\n\n\n\t\t\t\tthis._startTime = null; // unschedule\n\n\t\t\t\tdeltaTime = timeDirection * timeRunning;\n\t\t\t} // apply time scale and advance time\n\n\n\t\t\tdeltaTime *= this._updateTimeScale(time);\n\n\t\t\tconst clipTime = this._updateTime(deltaTime); // note: _updateTime may disable the action resulting in\n\t\t\t// an effective weight of 0\n\n\n\t\t\tconst weight = this._updateWeight(time);\n\n\t\t\tif (weight > 0) {\n\t\t\t\tconst interpolants = this._interpolants;\n\t\t\t\tconst propertyMixers = this._propertyBindings;\n\n\t\t\t\tswitch (this.blendMode) {\n\t\t\t\t\tcase AdditiveAnimationBlendMode:\n\t\t\t\t\t\tfor (let j = 0, m = interpolants.length; j !== m; ++j) {\n\t\t\t\t\t\t\tinterpolants[j].evaluate(clipTime);\n\t\t\t\t\t\t\tpropertyMixers[j].accumulateAdditive(weight);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase NormalAnimationBlendMode:\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tfor (let j = 0, m = interpolants.length; j !== m; ++j) {\n\t\t\t\t\t\t\tinterpolants[j].evaluate(clipTime);\n\t\t\t\t\t\t\tpropertyMixers[j].accumulate(accuIndex, weight);\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t_updateWeight(time) {\n\t\t\tlet weight = 0;\n\n\t\t\tif (this.enabled) {\n\t\t\t\tweight = this.weight;\n\t\t\t\tconst interpolant = this._weightInterpolant;\n\n\t\t\t\tif (interpolant !== null) {\n\t\t\t\t\tconst interpolantValue = interpolant.evaluate(time)[0];\n\t\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\t\tif (time > interpolant.parameterPositions[1]) {\n\t\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\t\tif (interpolantValue === 0) {\n\t\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\t\tthis.enabled = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._effectiveWeight = weight;\n\t\t\treturn weight;\n\t\t}\n\n\t\t_updateTimeScale(time) {\n\t\t\tlet timeScale = 0;\n\n\t\t\tif (!this.paused) {\n\t\t\t\ttimeScale = this.timeScale;\n\t\t\t\tconst interpolant = this._timeScaleInterpolant;\n\n\t\t\t\tif (interpolant !== null) {\n\t\t\t\t\tconst interpolantValue = interpolant.evaluate(time)[0];\n\t\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\t\tif (time > interpolant.parameterPositions[1]) {\n\t\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\t\tif (timeScale === 0) {\n\t\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\t\tthis.paused = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\t\tthis.timeScale = timeScale;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._effectiveTimeScale = timeScale;\n\t\t\treturn timeScale;\n\t\t}\n\n\t\t_updateTime(deltaTime) {\n\t\t\tconst duration = this._clip.duration;\n\t\t\tconst loop = this.loop;\n\t\t\tlet time = this.time + deltaTime;\n\t\t\tlet loopCount = this._loopCount;\n\t\t\tconst pingPong = loop === LoopPingPong;\n\n\t\t\tif (deltaTime === 0) {\n\t\t\t\tif (loopCount === -1) return time;\n\t\t\t\treturn pingPong && (loopCount & 1) === 1 ? duration - time : time;\n\t\t\t}\n\n\t\t\tif (loop === LoopOnce) {\n\t\t\t\tif (loopCount === -1) {\n\t\t\t\t\t// just started\n\t\t\t\t\tthis._loopCount = 0;\n\n\t\t\t\t\tthis._setEndings(true, true, false);\n\t\t\t\t}\n\n\t\t\t\thandle_stop: {\n\t\t\t\t\tif (time >= duration) {\n\t\t\t\t\t\ttime = duration;\n\t\t\t\t\t} else if (time < 0) {\n\t\t\t\t\t\ttime = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.time = time;\n\t\t\t\t\t\tbreak handle_stop;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.clampWhenFinished) this.paused = true;else this.enabled = false;\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent({\n\t\t\t\t\t\ttype: 'finished',\n\t\t\t\t\t\taction: this,\n\t\t\t\t\t\tdirection: deltaTime < 0 ? -1 : 1\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// repetitive Repeat or PingPong\n\t\t\t\tif (loopCount === -1) {\n\t\t\t\t\t// just started\n\t\t\t\t\tif (deltaTime >= 0) {\n\t\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\t\tthis._setEndings(true, this.repetitions === 0, pingPong);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t\t// so leave loopCount at -1\n\t\t\t\t\t\tthis._setEndings(this.repetitions === 0, true, pingPong);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (time >= duration || time < 0) {\n\t\t\t\t\t// wrap around\n\t\t\t\t\tconst loopDelta = Math.floor(time / duration); // signed\n\n\t\t\t\t\ttime -= duration * loopDelta;\n\t\t\t\t\tloopCount += Math.abs(loopDelta);\n\t\t\t\t\tconst pending = this.repetitions - loopCount;\n\n\t\t\t\t\tif (pending <= 0) {\n\t\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\t\t\t\t\t\tif (this.clampWhenFinished) this.paused = true;else this.enabled = false;\n\t\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\t\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\t\tthis._mixer.dispatchEvent({\n\t\t\t\t\t\t\ttype: 'finished',\n\t\t\t\t\t\t\taction: this,\n\t\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : -1\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// keep running\n\t\t\t\t\t\tif (pending === 1) {\n\t\t\t\t\t\t\t// entering the last round\n\t\t\t\t\t\t\tconst atStart = deltaTime < 0;\n\n\t\t\t\t\t\t\tthis._setEndings(atStart, !atStart, pingPong);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._setEndings(false, false, pingPong);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._loopCount = loopCount;\n\t\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\t\tthis._mixer.dispatchEvent({\n\t\t\t\t\t\t\ttype: 'loop',\n\t\t\t\t\t\t\taction: this,\n\t\t\t\t\t\t\tloopDelta: loopDelta\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.time = time;\n\t\t\t\t}\n\n\t\t\t\tif (pingPong && (loopCount & 1) === 1) {\n\t\t\t\t\t// invert time for the \"pong round\"\n\t\t\t\t\treturn duration - time;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn time;\n\t\t}\n\n\t\t_setEndings(atStart, atEnd, pingPong) {\n\t\t\tconst settings = this._interpolantSettings;\n\n\t\t\tif (pingPong) {\n\t\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\t\t\t} else {\n\t\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\t\t\t\tif (atStart) {\n\t\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\t\t\t\t} else {\n\t\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\t\t\t\t}\n\n\t\t\t\tif (atEnd) {\n\t\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\t\t\t\t} else {\n\t\t\t\t\tsettings.endingEnd = WrapAroundEnding;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t_scheduleFading(duration, weightNow, weightThen) {\n\t\t\tconst mixer = this._mixer,\n\t\t\t\t\t\tnow = mixer.time;\n\t\t\tlet interpolant = this._weightInterpolant;\n\n\t\t\tif (interpolant === null) {\n\t\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\t\tthis._weightInterpolant = interpolant;\n\t\t\t}\n\n\t\t\tconst times = interpolant.parameterPositions,\n\t\t\t\t\t\tvalues = interpolant.sampleValues;\n\t\t\ttimes[0] = now;\n\t\t\tvalues[0] = weightNow;\n\t\t\ttimes[1] = now + duration;\n\t\t\tvalues[1] = weightThen;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass AnimationMixer extends EventDispatcher {\n\t\tconstructor(root) {\n\t\t\tsuper();\n\t\t\tthis._root = root;\n\n\t\t\tthis._initMemoryManager();\n\n\t\t\tthis._accuIndex = 0;\n\t\t\tthis.time = 0;\n\t\t\tthis.timeScale = 1.0;\n\t\t}\n\n\t\t_bindAction(action, prototypeAction) {\n\t\t\tconst root = action._localRoot || this._root,\n\t\t\t\t\t\ttracks = action._clip.tracks,\n\t\t\t\t\t\tnTracks = tracks.length,\n\t\t\t\t\t\tbindings = action._propertyBindings,\n\t\t\t\t\t\tinterpolants = action._interpolants,\n\t\t\t\t\t\trootUuid = root.uuid,\n\t\t\t\t\t\tbindingsByRoot = this._bindingsByRootAndName;\n\t\t\tlet bindingsByName = bindingsByRoot[rootUuid];\n\n\t\t\tif (bindingsByName === undefined) {\n\t\t\t\tbindingsByName = {};\n\t\t\t\tbindingsByRoot[rootUuid] = bindingsByName;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i !== nTracks; ++i) {\n\t\t\t\tconst track = tracks[i],\n\t\t\t\t\t\t\ttrackName = track.name;\n\t\t\t\tlet binding = bindingsByName[trackName];\n\n\t\t\t\tif (binding !== undefined) {\n\t\t\t\t\tbindings[i] = binding;\n\t\t\t\t} else {\n\t\t\t\t\tbinding = bindings[i];\n\n\t\t\t\t\tif (binding !== undefined) {\n\t\t\t\t\t\t// existing binding, make sure the cache knows\n\t\t\t\t\t\tif (binding._cacheIndex === null) {\n\t\t\t\t\t\t\t++binding.referenceCount;\n\n\t\t\t\t\t\t\tthis._addInactiveBinding(binding, rootUuid, trackName);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst path = prototypeAction && prototypeAction._propertyBindings[i].binding.parsedPath;\n\t\t\t\t\tbinding = new PropertyMixer(PropertyBinding.create(root, trackName, path), track.ValueTypeName, track.getValueSize());\n\t\t\t\t\t++binding.referenceCount;\n\n\t\t\t\t\tthis._addInactiveBinding(binding, rootUuid, trackName);\n\n\t\t\t\t\tbindings[i] = binding;\n\t\t\t\t}\n\n\t\t\t\tinterpolants[i].resultBuffer = binding.buffer;\n\t\t\t}\n\t\t}\n\n\t\t_activateAction(action) {\n\t\t\tif (!this._isActiveAction(action)) {\n\t\t\t\tif (action._cacheIndex === null) {\n\t\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t\t// appears to be still using it -> rebind\n\t\t\t\t\tconst rootUuid = (action._localRoot || this._root).uuid,\n\t\t\t\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\t\t\t\tactionsForClip = this._actionsByClip[clipUuid];\n\n\t\t\t\t\tthis._bindAction(action, actionsForClip && actionsForClip.knownActions[0]);\n\n\t\t\t\t\tthis._addInactiveAction(action, clipUuid, rootUuid);\n\t\t\t\t}\n\n\t\t\t\tconst bindings = action._propertyBindings; // increment reference counts / sort out state\n\n\t\t\t\tfor (let i = 0, n = bindings.length; i !== n; ++i) {\n\t\t\t\t\tconst binding = bindings[i];\n\n\t\t\t\t\tif (binding.useCount++ === 0) {\n\t\t\t\t\t\tthis._lendBinding(binding);\n\n\t\t\t\t\t\tbinding.saveOriginalState();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._lendAction(action);\n\t\t\t}\n\t\t}\n\n\t\t_deactivateAction(action) {\n\t\t\tif (this._isActiveAction(action)) {\n\t\t\t\tconst bindings = action._propertyBindings; // decrement reference counts / sort out state\n\n\t\t\t\tfor (let i = 0, n = bindings.length; i !== n; ++i) {\n\t\t\t\t\tconst binding = bindings[i];\n\n\t\t\t\t\tif (--binding.useCount === 0) {\n\t\t\t\t\t\tbinding.restoreOriginalState();\n\n\t\t\t\t\t\tthis._takeBackBinding(binding);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._takeBackAction(action);\n\t\t\t}\n\t\t} // Memory manager\n\n\n\t\t_initMemoryManager() {\n\t\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\n\t\t\tthis._nActiveActions = 0;\n\t\t\tthis._actionsByClip = {}; // inside:\n\t\t\t// {\n\t\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t\t// }\n\n\t\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\n\t\t\tthis._nActiveBindings = 0;\n\t\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\t\t\tthis._controlInterpolants = []; // same game as above\n\n\t\t\tthis._nActiveControlInterpolants = 0;\n\t\t\tconst scope = this;\n\t\t\tthis.stats = {\n\t\t\t\tactions: {\n\t\t\t\t\tget total() {\n\t\t\t\t\t\treturn scope._actions.length;\n\t\t\t\t\t},\n\n\t\t\t\t\tget inUse() {\n\t\t\t\t\t\treturn scope._nActiveActions;\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\tbindings: {\n\t\t\t\t\tget total() {\n\t\t\t\t\t\treturn scope._bindings.length;\n\t\t\t\t\t},\n\n\t\t\t\t\tget inUse() {\n\t\t\t\t\t\treturn scope._nActiveBindings;\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\tcontrolInterpolants: {\n\t\t\t\t\tget total() {\n\t\t\t\t\t\treturn scope._controlInterpolants.length;\n\t\t\t\t\t},\n\n\t\t\t\t\tget inUse() {\n\t\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\t\t} // Memory management for AnimationAction objects\n\n\n\t\t_isActiveAction(action) {\n\t\t\tconst index = action._cacheIndex;\n\t\t\treturn index !== null && index < this._nActiveActions;\n\t\t}\n\n\t\t_addInactiveAction(action, clipUuid, rootUuid) {\n\t\t\tconst actions = this._actions,\n\t\t\t\t\t\tactionsByClip = this._actionsByClip;\n\t\t\tlet actionsForClip = actionsByClip[clipUuid];\n\n\t\t\tif (actionsForClip === undefined) {\n\t\t\t\tactionsForClip = {\n\t\t\t\t\tknownActions: [action],\n\t\t\t\t\tactionByRoot: {}\n\t\t\t\t};\n\t\t\t\taction._byClipCacheIndex = 0;\n\t\t\t\tactionsByClip[clipUuid] = actionsForClip;\n\t\t\t} else {\n\t\t\t\tconst knownActions = actionsForClip.knownActions;\n\t\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\t\tknownActions.push(action);\n\t\t\t}\n\n\t\t\taction._cacheIndex = actions.length;\n\t\t\tactions.push(action);\n\t\t\tactionsForClip.actionByRoot[rootUuid] = action;\n\t\t}\n\n\t\t_removeInactiveAction(action) {\n\t\t\tconst actions = this._actions,\n\t\t\t\t\t\tlastInactiveAction = actions[actions.length - 1],\n\t\t\t\t\t\tcacheIndex = action._cacheIndex;\n\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\tactions[cacheIndex] = lastInactiveAction;\n\t\t\tactions.pop();\n\t\t\taction._cacheIndex = null;\n\t\t\tconst clipUuid = action._clip.uuid,\n\t\t\t\t\t\tactionsByClip = this._actionsByClip,\n\t\t\t\t\t\tactionsForClip = actionsByClip[clipUuid],\n\t\t\t\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\t\t\t\t\t\tlastKnownAction = knownActionsForClip[knownActionsForClip.length - 1],\n\t\t\t\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\t\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\t\tknownActionsForClip[byClipCacheIndex] = lastKnownAction;\n\t\t\tknownActionsForClip.pop();\n\t\t\taction._byClipCacheIndex = null;\n\t\t\tconst actionByRoot = actionsForClip.actionByRoot,\n\t\t\t\t\t\trootUuid = (action._localRoot || this._root).uuid;\n\t\t\tdelete actionByRoot[rootUuid];\n\n\t\t\tif (knownActionsForClip.length === 0) {\n\t\t\t\tdelete actionsByClip[clipUuid];\n\t\t\t}\n\n\t\t\tthis._removeInactiveBindingsForAction(action);\n\t\t}\n\n\t\t_removeInactiveBindingsForAction(action) {\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\tfor (let i = 0, n = bindings.length; i !== n; ++i) {\n\t\t\t\tconst binding = bindings[i];\n\n\t\t\t\tif (--binding.referenceCount === 0) {\n\t\t\t\t\tthis._removeInactiveBinding(binding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t_lendAction(action) {\n\t\t\t// [ active actions |\tinactive actions\t]\n\t\t\t// [\tactive actions >| inactive actions ]\n\t\t\t//\t\t\t\t\t\t\t\t s\t\t\t\ta\n\t\t\t//\t\t\t\t\t\t\t\t\t<-swap->\n\t\t\t//\t\t\t\t\t\t\t\t a\t\t\t\ts\n\t\t\tconst actions = this._actions,\n\t\t\t\t\t\tprevIndex = action._cacheIndex,\n\t\t\t\t\t\tlastActiveIndex = this._nActiveActions++,\n\t\t\t\t\t\tfirstInactiveAction = actions[lastActiveIndex];\n\t\t\taction._cacheIndex = lastActiveIndex;\n\t\t\tactions[lastActiveIndex] = action;\n\t\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\t\tactions[prevIndex] = firstInactiveAction;\n\t\t}\n\n\t\t_takeBackAction(action) {\n\t\t\t// [\tactive actions\t| inactive actions ]\n\t\t\t// [ active actions |< inactive actions\t]\n\t\t\t//\t\t\t\ta\t\t\t\ts\n\t\t\t//\t\t\t\t <-swap->\n\t\t\t//\t\t\t\ts\t\t\t\ta\n\t\t\tconst actions = this._actions,\n\t\t\t\t\t\tprevIndex = action._cacheIndex,\n\t\t\t\t\t\tfirstInactiveIndex = --this._nActiveActions,\n\t\t\t\t\t\tlastActiveAction = actions[firstInactiveIndex];\n\t\t\taction._cacheIndex = firstInactiveIndex;\n\t\t\tactions[firstInactiveIndex] = action;\n\t\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\t\tactions[prevIndex] = lastActiveAction;\n\t\t} // Memory management for PropertyMixer objects\n\n\n\t\t_addInactiveBinding(binding, rootUuid, trackName) {\n\t\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\t\t\t\tbindings = this._bindings;\n\t\t\tlet bindingByName = bindingsByRoot[rootUuid];\n\n\t\t\tif (bindingByName === undefined) {\n\t\t\t\tbindingByName = {};\n\t\t\t\tbindingsByRoot[rootUuid] = bindingByName;\n\t\t\t}\n\n\t\t\tbindingByName[trackName] = binding;\n\t\t\tbinding._cacheIndex = bindings.length;\n\t\t\tbindings.push(binding);\n\t\t}\n\n\t\t_removeInactiveBinding(binding) {\n\t\t\tconst bindings = this._bindings,\n\t\t\t\t\t\tpropBinding = binding.binding,\n\t\t\t\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\t\t\t\ttrackName = propBinding.path,\n\t\t\t\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\t\t\t\tbindingByName = bindingsByRoot[rootUuid],\n\t\t\t\t\t\tlastInactiveBinding = bindings[bindings.length - 1],\n\t\t\t\t\t\tcacheIndex = binding._cacheIndex;\n\t\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\t\tbindings[cacheIndex] = lastInactiveBinding;\n\t\t\tbindings.pop();\n\t\t\tdelete bindingByName[trackName];\n\n\t\t\tif (Object.keys(bindingByName).length === 0) {\n\t\t\t\tdelete bindingsByRoot[rootUuid];\n\t\t\t}\n\t\t}\n\n\t\t_lendBinding(binding) {\n\t\t\tconst bindings = this._bindings,\n\t\t\t\t\t\tprevIndex = binding._cacheIndex,\n\t\t\t\t\t\tlastActiveIndex = this._nActiveBindings++,\n\t\t\t\t\t\tfirstInactiveBinding = bindings[lastActiveIndex];\n\t\t\tbinding._cacheIndex = lastActiveIndex;\n\t\t\tbindings[lastActiveIndex] = binding;\n\t\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\t\tbindings[prevIndex] = firstInactiveBinding;\n\t\t}\n\n\t\t_takeBackBinding(binding) {\n\t\t\tconst bindings = this._bindings,\n\t\t\t\t\t\tprevIndex = binding._cacheIndex,\n\t\t\t\t\t\tfirstInactiveIndex = --this._nActiveBindings,\n\t\t\t\t\t\tlastActiveBinding = bindings[firstInactiveIndex];\n\t\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\t\tbindings[firstInactiveIndex] = binding;\n\t\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\t\tbindings[prevIndex] = lastActiveBinding;\n\t\t} // Memory management of Interpolants for weight and time scale\n\n\n\t\t_lendControlInterpolant() {\n\t\t\tconst interpolants = this._controlInterpolants,\n\t\t\t\t\t\tlastActiveIndex = this._nActiveControlInterpolants++;\n\t\t\tlet interpolant = interpolants[lastActiveIndex];\n\n\t\t\tif (interpolant === undefined) {\n\t\t\t\tinterpolant = new LinearInterpolant(new Float32Array(2), new Float32Array(2), 1, this._controlInterpolantsResultBuffer);\n\t\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\t\tinterpolants[lastActiveIndex] = interpolant;\n\t\t\t}\n\n\t\t\treturn interpolant;\n\t\t}\n\n\t\t_takeBackControlInterpolant(interpolant) {\n\t\t\tconst interpolants = this._controlInterpolants,\n\t\t\t\t\t\tprevIndex = interpolant.__cacheIndex,\n\t\t\t\t\t\tfirstInactiveIndex = --this._nActiveControlInterpolants,\n\t\t\t\t\t\tlastActiveInterpolant = interpolants[firstInactiveIndex];\n\t\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\t\tinterpolants[firstInactiveIndex] = interpolant;\n\t\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\t\tinterpolants[prevIndex] = lastActiveInterpolant;\n\t\t} // return an action for a clip optionally using a custom root target\n\t\t// object (this method allocates a lot of dynamic memory in case a\n\t\t// previously unknown clip/root combination is specified)\n\n\n\t\tclipAction(clip, optionalRoot, blendMode) {\n\t\t\tconst root = optionalRoot || this._root,\n\t\t\t\t\t\trootUuid = root.uuid;\n\t\t\tlet clipObject = typeof clip === 'string' ? AnimationClip.findByName(root, clip) : clip;\n\t\t\tconst clipUuid = clipObject !== null ? clipObject.uuid : clip;\n\t\t\tconst actionsForClip = this._actionsByClip[clipUuid];\n\t\t\tlet prototypeAction = null;\n\n\t\t\tif (blendMode === undefined) {\n\t\t\t\tif (clipObject !== null) {\n\t\t\t\t\tblendMode = clipObject.blendMode;\n\t\t\t\t} else {\n\t\t\t\t\tblendMode = NormalAnimationBlendMode;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (actionsForClip !== undefined) {\n\t\t\t\tconst existingAction = actionsForClip.actionByRoot[rootUuid];\n\n\t\t\t\tif (existingAction !== undefined && existingAction.blendMode === blendMode) {\n\t\t\t\t\treturn existingAction;\n\t\t\t\t} // we know the clip, so we don't have to parse all\n\t\t\t\t// the bindings again but can just copy\n\n\n\t\t\t\tprototypeAction = actionsForClip.knownActions[0]; // also, take the clip from the prototype action\n\n\t\t\t\tif (clipObject === null) clipObject = prototypeAction._clip;\n\t\t\t} // clip must be known when specified via string\n\n\n\t\t\tif (clipObject === null) return null; // allocate all resources required to run it\n\n\t\t\tconst newAction = new AnimationAction(this, clipObject, optionalRoot, blendMode);\n\n\t\t\tthis._bindAction(newAction, prototypeAction); // and make the action known to the memory manager\n\n\n\t\t\tthis._addInactiveAction(newAction, clipUuid, rootUuid);\n\n\t\t\treturn newAction;\n\t\t} // get an existing action\n\n\n\t\texistingAction(clip, optionalRoot) {\n\t\t\tconst root = optionalRoot || this._root,\n\t\t\t\t\t\trootUuid = root.uuid,\n\t\t\t\t\t\tclipObject = typeof clip === 'string' ? AnimationClip.findByName(root, clip) : clip,\n\t\t\t\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\t\t\t\t\t\tactionsForClip = this._actionsByClip[clipUuid];\n\n\t\t\tif (actionsForClip !== undefined) {\n\t\t\t\treturn actionsForClip.actionByRoot[rootUuid] || null;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t} // deactivates all previously scheduled actions\n\n\n\t\tstopAllAction() {\n\t\t\tconst actions = this._actions,\n\t\t\t\t\t\tnActions = this._nActiveActions;\n\n\t\t\tfor (let i = nActions - 1; i >= 0; --i) {\n\t\t\t\tactions[i].stop();\n\t\t\t}\n\n\t\t\treturn this;\n\t\t} // advance the time and update apply the animation\n\n\n\t\tupdate(deltaTime) {\n\t\t\tdeltaTime *= this.timeScale;\n\t\t\tconst actions = this._actions,\n\t\t\t\t\t\tnActions = this._nActiveActions,\n\t\t\t\t\t\ttime = this.time += deltaTime,\n\t\t\t\t\t\ttimeDirection = Math.sign(deltaTime),\n\t\t\t\t\t\taccuIndex = this._accuIndex ^= 1; // run active actions\n\n\t\t\tfor (let i = 0; i !== nActions; ++i) {\n\t\t\t\tconst action = actions[i];\n\n\t\t\t\taction._update(time, deltaTime, timeDirection, accuIndex);\n\t\t\t} // update scene graph\n\n\n\t\t\tconst bindings = this._bindings,\n\t\t\t\t\t\tnBindings = this._nActiveBindings;\n\n\t\t\tfor (let i = 0; i !== nBindings; ++i) {\n\t\t\t\tbindings[i].apply(accuIndex);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t} // Allows you to seek to a specific time in an animation.\n\n\n\t\tsetTime(timeInSeconds) {\n\t\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\n\n\t\t\tfor (let i = 0; i < this._actions.length; i++) {\n\t\t\t\tthis._actions[i].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\t\t\t}\n\n\t\t\treturn this.update(timeInSeconds); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\t\t} // return this mixer's root target object\n\n\n\t\tgetRoot() {\n\t\t\treturn this._root;\n\t\t} // free all resources specific to a particular clip\n\n\n\t\tuncacheClip(clip) {\n\t\t\tconst actions = this._actions,\n\t\t\t\t\t\tclipUuid = clip.uuid,\n\t\t\t\t\t\tactionsByClip = this._actionsByClip,\n\t\t\t\t\t\tactionsForClip = actionsByClip[clipUuid];\n\n\t\t\tif (actionsForClip !== undefined) {\n\t\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t\t// iteration state and also require updating the state we can\n\t\t\t\t// just throw away\n\t\t\t\tconst actionsToRemove = actionsForClip.knownActions;\n\n\t\t\t\tfor (let i = 0, n = actionsToRemove.length; i !== n; ++i) {\n\t\t\t\t\tconst action = actionsToRemove[i];\n\n\t\t\t\t\tthis._deactivateAction(action);\n\n\t\t\t\t\tconst cacheIndex = action._cacheIndex,\n\t\t\t\t\t\t\t\tlastInactiveAction = actions[actions.length - 1];\n\t\t\t\t\taction._cacheIndex = null;\n\t\t\t\t\taction._byClipCacheIndex = null;\n\t\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\t\tactions[cacheIndex] = lastInactiveAction;\n\t\t\t\t\tactions.pop();\n\n\t\t\t\t\tthis._removeInactiveBindingsForAction(action);\n\t\t\t\t}\n\n\t\t\t\tdelete actionsByClip[clipUuid];\n\t\t\t}\n\t\t} // free all resources specific to a particular root target object\n\n\n\t\tuncacheRoot(root) {\n\t\t\tconst rootUuid = root.uuid,\n\t\t\t\t\t\tactionsByClip = this._actionsByClip;\n\n\t\t\tfor (const clipUuid in actionsByClip) {\n\t\t\t\tconst actionByRoot = actionsByClip[clipUuid].actionByRoot,\n\t\t\t\t\t\t\taction = actionByRoot[rootUuid];\n\n\t\t\t\tif (action !== undefined) {\n\t\t\t\t\tthis._deactivateAction(action);\n\n\t\t\t\t\tthis._removeInactiveAction(action);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\t\t\t\tbindingByName = bindingsByRoot[rootUuid];\n\n\t\t\tif (bindingByName !== undefined) {\n\t\t\t\tfor (const trackName in bindingByName) {\n\t\t\t\t\tconst binding = bindingByName[trackName];\n\t\t\t\t\tbinding.restoreOriginalState();\n\n\t\t\t\t\tthis._removeInactiveBinding(binding);\n\t\t\t\t}\n\t\t\t}\n\t\t} // remove a targeted clip from the cache\n\n\n\t\tuncacheAction(clip, optionalRoot) {\n\t\t\tconst action = this.existingAction(clip, optionalRoot);\n\n\t\t\tif (action !== null) {\n\t\t\t\tthis._deactivateAction(action);\n\n\t\t\t\tthis._removeInactiveAction(action);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tAnimationMixer.prototype._controlInterpolantsResultBuffer = new Float32Array(1);\n\n\tclass Uniform {\n\t\tconstructor(value) {\n\t\t\tif (typeof value === 'string') {\n\t\t\t\tconsole.warn('THREE.Uniform: Type parameter is no longer needed.');\n\t\t\t\tvalue = arguments[1];\n\t\t\t}\n\n\t\t\tthis.value = value;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new Uniform(this.value.clone === undefined ? this.value : this.value.clone());\n\t\t}\n\n\t}\n\n\tclass InstancedInterleavedBuffer extends InterleavedBuffer {\n\t\tconstructor(array, stride, meshPerAttribute = 1) {\n\t\t\tsuper(array, stride);\n\t\t\tthis.meshPerAttribute = meshPerAttribute;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\t\t\treturn this;\n\t\t}\n\n\t\tclone(data) {\n\t\t\tconst ib = super.clone(data);\n\t\t\tib.meshPerAttribute = this.meshPerAttribute;\n\t\t\treturn ib;\n\t\t}\n\n\t\ttoJSON(data) {\n\t\t\tconst json = super.toJSON(data);\n\t\t\tjson.isInstancedInterleavedBuffer = true;\n\t\t\tjson.meshPerAttribute = this.meshPerAttribute;\n\t\t\treturn json;\n\t\t}\n\n\t}\n\n\tInstancedInterleavedBuffer.prototype.isInstancedInterleavedBuffer = true;\n\n\tclass GLBufferAttribute {\n\t\tconstructor(buffer, type, itemSize, elementSize, count) {\n\t\t\tthis.buffer = buffer;\n\t\t\tthis.type = type;\n\t\t\tthis.itemSize = itemSize;\n\t\t\tthis.elementSize = elementSize;\n\t\t\tthis.count = count;\n\t\t\tthis.version = 0;\n\t\t}\n\n\t\tset needsUpdate(value) {\n\t\t\tif (value === true) this.version++;\n\t\t}\n\n\t\tsetBuffer(buffer) {\n\t\t\tthis.buffer = buffer;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetType(type, elementSize) {\n\t\t\tthis.type = type;\n\t\t\tthis.elementSize = elementSize;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetItemSize(itemSize) {\n\t\t\tthis.itemSize = itemSize;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetCount(count) {\n\t\t\tthis.count = count;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tGLBufferAttribute.prototype.isGLBufferAttribute = true;\n\n\tclass Raycaster {\n\t\tconstructor(origin, direction, near = 0, far = Infinity) {\n\t\t\tthis.ray = new Ray(origin, direction); // direction is assumed to be normalized (for accurate distance calculations)\n\n\t\t\tthis.near = near;\n\t\t\tthis.far = far;\n\t\t\tthis.camera = null;\n\t\t\tthis.layers = new Layers();\n\t\t\tthis.params = {\n\t\t\t\tMesh: {},\n\t\t\t\tLine: {\n\t\t\t\t\tthreshold: 1\n\t\t\t\t},\n\t\t\t\tLOD: {},\n\t\t\t\tPoints: {\n\t\t\t\t\tthreshold: 1\n\t\t\t\t},\n\t\t\t\tSprite: {}\n\t\t\t};\n\t\t}\n\n\t\tset(origin, direction) {\n\t\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\t\t\tthis.ray.set(origin, direction);\n\t\t}\n\n\t\tsetFromCamera(coords, camera) {\n\t\t\tif (camera && camera.isPerspectiveCamera) {\n\t\t\t\tthis.ray.origin.setFromMatrixPosition(camera.matrixWorld);\n\t\t\t\tthis.ray.direction.set(coords.x, coords.y, 0.5).unproject(camera).sub(this.ray.origin).normalize();\n\t\t\t\tthis.camera = camera;\n\t\t\t} else if (camera && camera.isOrthographicCamera) {\n\t\t\t\tthis.ray.origin.set(coords.x, coords.y, (camera.near + camera.far) / (camera.near - camera.far)).unproject(camera); // set origin in plane of camera\n\n\t\t\t\tthis.ray.direction.set(0, 0, -1).transformDirection(camera.matrixWorld);\n\t\t\t\tthis.camera = camera;\n\t\t\t} else {\n\t\t\t\tconsole.error('THREE.Raycaster: Unsupported camera type: ' + camera.type);\n\t\t\t}\n\t\t}\n\n\t\tintersectObject(object, recursive = true, intersects = []) {\n\t\t\tintersectObject(object, this, intersects, recursive);\n\t\t\tintersects.sort(ascSort);\n\t\t\treturn intersects;\n\t\t}\n\n\t\tintersectObjects(objects, recursive = true, intersects = []) {\n\t\t\tfor (let i = 0, l = objects.length; i < l; i++) {\n\t\t\t\tintersectObject(objects[i], this, intersects, recursive);\n\t\t\t}\n\n\t\t\tintersects.sort(ascSort);\n\t\t\treturn intersects;\n\t\t}\n\n\t}\n\n\tfunction ascSort(a, b) {\n\t\treturn a.distance - b.distance;\n\t}\n\n\tfunction intersectObject(object, raycaster, intersects, recursive) {\n\t\tif (object.layers.test(raycaster.layers)) {\n\t\t\tobject.raycast(raycaster, intersects);\n\t\t}\n\n\t\tif (recursive === true) {\n\t\t\tconst children = object.children;\n\n\t\t\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\t\t\tintersectObject(children[i], raycaster, intersects, true);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n\t *\n\t * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n\t * The azimuthal angle (theta) is measured from the positive z-axis.\n\t */\n\n\tclass Spherical {\n\t\tconstructor(radius = 1, phi = 0, theta = 0) {\n\t\t\tthis.radius = radius;\n\t\t\tthis.phi = phi; // polar angle\n\n\t\t\tthis.theta = theta; // azimuthal angle\n\n\t\t\treturn this;\n\t\t}\n\n\t\tset(radius, phi, theta) {\n\t\t\tthis.radius = radius;\n\t\t\tthis.phi = phi;\n\t\t\tthis.theta = theta;\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(other) {\n\t\t\tthis.radius = other.radius;\n\t\t\tthis.phi = other.phi;\n\t\t\tthis.theta = other.theta;\n\t\t\treturn this;\n\t\t} // restrict phi to be betwee EPS and PI-EPS\n\n\n\t\tmakeSafe() {\n\t\t\tconst EPS = 0.000001;\n\t\t\tthis.phi = Math.max(EPS, Math.min(Math.PI - EPS, this.phi));\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromVector3(v) {\n\t\t\treturn this.setFromCartesianCoords(v.x, v.y, v.z);\n\t\t}\n\n\t\tsetFromCartesianCoords(x, y, z) {\n\t\t\tthis.radius = Math.sqrt(x * x + y * y + z * z);\n\n\t\t\tif (this.radius === 0) {\n\t\t\t\tthis.theta = 0;\n\t\t\t\tthis.phi = 0;\n\t\t\t} else {\n\t\t\t\tthis.theta = Math.atan2(x, z);\n\t\t\t\tthis.phi = Math.acos(clamp(y / this.radius, -1, 1));\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t}\n\n\t/**\n\t * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n\t */\n\tclass Cylindrical {\n\t\tconstructor(radius = 1, theta = 0, y = 0) {\n\t\t\tthis.radius = radius; // distance from the origin to a point in the x-z plane\n\n\t\t\tthis.theta = theta; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\n\t\t\tthis.y = y; // height above the x-z plane\n\n\t\t\treturn this;\n\t\t}\n\n\t\tset(radius, theta, y) {\n\t\t\tthis.radius = radius;\n\t\t\tthis.theta = theta;\n\t\t\tthis.y = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(other) {\n\t\t\tthis.radius = other.radius;\n\t\t\tthis.theta = other.theta;\n\t\t\tthis.y = other.y;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromVector3(v) {\n\t\t\treturn this.setFromCartesianCoords(v.x, v.y, v.z);\n\t\t}\n\n\t\tsetFromCartesianCoords(x, y, z) {\n\t\t\tthis.radius = Math.sqrt(x * x + z * z);\n\t\t\tthis.theta = Math.atan2(x, z);\n\t\t\tthis.y = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t}\n\n\tconst _vector$4 = /*@__PURE__*/new Vector2();\n\n\tclass Box2 {\n\t\tconstructor(min = new Vector2(+Infinity, +Infinity), max = new Vector2(-Infinity, -Infinity)) {\n\t\t\tthis.min = min;\n\t\t\tthis.max = max;\n\t\t}\n\n\t\tset(min, max) {\n\t\t\tthis.min.copy(min);\n\t\t\tthis.max.copy(max);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromPoints(points) {\n\t\t\tthis.makeEmpty();\n\n\t\t\tfor (let i = 0, il = points.length; i < il; i++) {\n\t\t\t\tthis.expandByPoint(points[i]);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromCenterAndSize(center, size) {\n\t\t\tconst halfSize = _vector$4.copy(size).multiplyScalar(0.5);\n\n\t\t\tthis.min.copy(center).sub(halfSize);\n\t\t\tthis.max.copy(center).add(halfSize);\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\tcopy(box) {\n\t\t\tthis.min.copy(box.min);\n\t\t\tthis.max.copy(box.max);\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeEmpty() {\n\t\t\tthis.min.x = this.min.y = +Infinity;\n\t\t\tthis.max.x = this.max.y = -Infinity;\n\t\t\treturn this;\n\t\t}\n\n\t\tisEmpty() {\n\t\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\t\t\treturn this.max.x < this.min.x || this.max.y < this.min.y;\n\t\t}\n\n\t\tgetCenter(target) {\n\t\t\treturn this.isEmpty() ? target.set(0, 0) : target.addVectors(this.min, this.max).multiplyScalar(0.5);\n\t\t}\n\n\t\tgetSize(target) {\n\t\t\treturn this.isEmpty() ? target.set(0, 0) : target.subVectors(this.max, this.min);\n\t\t}\n\n\t\texpandByPoint(point) {\n\t\t\tthis.min.min(point);\n\t\t\tthis.max.max(point);\n\t\t\treturn this;\n\t\t}\n\n\t\texpandByVector(vector) {\n\t\t\tthis.min.sub(vector);\n\t\t\tthis.max.add(vector);\n\t\t\treturn this;\n\t\t}\n\n\t\texpandByScalar(scalar) {\n\t\t\tthis.min.addScalar(-scalar);\n\t\t\tthis.max.addScalar(scalar);\n\t\t\treturn this;\n\t\t}\n\n\t\tcontainsPoint(point) {\n\t\t\treturn point.x < this.min.x || point.x > this.max.x || point.y < this.min.y || point.y > this.max.y ? false : true;\n\t\t}\n\n\t\tcontainsBox(box) {\n\t\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x && this.min.y <= box.min.y && box.max.y <= this.max.y;\n\t\t}\n\n\t\tgetParameter(point, target) {\n\t\t\t// This can potentially have a divide by zero if the box\n\t\t\t// has a size dimension of 0.\n\t\t\treturn target.set((point.x - this.min.x) / (this.max.x - this.min.x), (point.y - this.min.y) / (this.max.y - this.min.y));\n\t\t}\n\n\t\tintersectsBox(box) {\n\t\t\t// using 4 splitting planes to rule out intersections\n\t\t\treturn box.max.x < this.min.x || box.min.x > this.max.x || box.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\t\t}\n\n\t\tclampPoint(point, target) {\n\t\t\treturn target.copy(point).clamp(this.min, this.max);\n\t\t}\n\n\t\tdistanceToPoint(point) {\n\t\t\tconst clampedPoint = _vector$4.copy(point).clamp(this.min, this.max);\n\n\t\t\treturn clampedPoint.sub(point).length();\n\t\t}\n\n\t\tintersect(box) {\n\t\t\tthis.min.max(box.min);\n\t\t\tthis.max.min(box.max);\n\t\t\treturn this;\n\t\t}\n\n\t\tunion(box) {\n\t\t\tthis.min.min(box.min);\n\t\t\tthis.max.max(box.max);\n\t\t\treturn this;\n\t\t}\n\n\t\ttranslate(offset) {\n\t\t\tthis.min.add(offset);\n\t\t\tthis.max.add(offset);\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(box) {\n\t\t\treturn box.min.equals(this.min) && box.max.equals(this.max);\n\t\t}\n\n\t}\n\n\tBox2.prototype.isBox2 = true;\n\n\tconst _startP = /*@__PURE__*/new Vector3();\n\n\tconst _startEnd = /*@__PURE__*/new Vector3();\n\n\tclass Line3 {\n\t\tconstructor(start = new Vector3(), end = new Vector3()) {\n\t\t\tthis.start = start;\n\t\t\tthis.end = end;\n\t\t}\n\n\t\tset(start, end) {\n\t\t\tthis.start.copy(start);\n\t\t\tthis.end.copy(end);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(line) {\n\t\t\tthis.start.copy(line.start);\n\t\t\tthis.end.copy(line.end);\n\t\t\treturn this;\n\t\t}\n\n\t\tgetCenter(target) {\n\t\t\treturn target.addVectors(this.start, this.end).multiplyScalar(0.5);\n\t\t}\n\n\t\tdelta(target) {\n\t\t\treturn target.subVectors(this.end, this.start);\n\t\t}\n\n\t\tdistanceSq() {\n\t\t\treturn this.start.distanceToSquared(this.end);\n\t\t}\n\n\t\tdistance() {\n\t\t\treturn this.start.distanceTo(this.end);\n\t\t}\n\n\t\tat(t, target) {\n\t\t\treturn this.delta(target).multiplyScalar(t).add(this.start);\n\t\t}\n\n\t\tclosestPointToPointParameter(point, clampToLine) {\n\t\t\t_startP.subVectors(point, this.start);\n\n\t\t\t_startEnd.subVectors(this.end, this.start);\n\n\t\t\tconst startEnd2 = _startEnd.dot(_startEnd);\n\n\t\t\tconst startEnd_startP = _startEnd.dot(_startP);\n\n\t\t\tlet t = startEnd_startP / startEnd2;\n\n\t\t\tif (clampToLine) {\n\t\t\t\tt = clamp(t, 0, 1);\n\t\t\t}\n\n\t\t\treturn t;\n\t\t}\n\n\t\tclosestPointToPoint(point, clampToLine, target) {\n\t\t\tconst t = this.closestPointToPointParameter(point, clampToLine);\n\t\t\treturn this.delta(target).multiplyScalar(t).add(this.start);\n\t\t}\n\n\t\tapplyMatrix4(matrix) {\n\t\t\tthis.start.applyMatrix4(matrix);\n\t\t\tthis.end.applyMatrix4(matrix);\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(line) {\n\t\t\treturn line.start.equals(this.start) && line.end.equals(this.end);\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t}\n\n\tconst _vector$3 = /*@__PURE__*/new Vector3();\n\n\tclass SpotLightHelper extends Object3D {\n\t\tconstructor(light, color) {\n\t\t\tsuper();\n\t\t\tthis.light = light;\n\t\t\tthis.light.updateMatrixWorld();\n\t\t\tthis.matrix = light.matrixWorld;\n\t\t\tthis.matrixAutoUpdate = false;\n\t\t\tthis.color = color;\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tconst positions = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1];\n\n\t\t\tfor (let i = 0, j = 1, l = 32; i < l; i++, j++) {\n\t\t\t\tconst p1 = i / l * Math.PI * 2;\n\t\t\t\tconst p2 = j / l * Math.PI * 2;\n\t\t\t\tpositions.push(Math.cos(p1), Math.sin(p1), 1, Math.cos(p2), Math.sin(p2), 1);\n\t\t\t}\n\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n\t\t\tconst material = new LineBasicMaterial({\n\t\t\t\tfog: false,\n\t\t\t\ttoneMapped: false\n\t\t\t});\n\t\t\tthis.cone = new LineSegments(geometry, material);\n\t\t\tthis.add(this.cone);\n\t\t\tthis.update();\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.cone.geometry.dispose();\n\t\t\tthis.cone.material.dispose();\n\t\t}\n\n\t\tupdate() {\n\t\t\tthis.light.updateMatrixWorld();\n\t\t\tconst coneLength = this.light.distance ? this.light.distance : 1000;\n\t\t\tconst coneWidth = coneLength * Math.tan(this.light.angle);\n\t\t\tthis.cone.scale.set(coneWidth, coneWidth, coneLength);\n\n\t\t\t_vector$3.setFromMatrixPosition(this.light.target.matrixWorld);\n\n\t\t\tthis.cone.lookAt(_vector$3);\n\n\t\t\tif (this.color !== undefined) {\n\t\t\t\tthis.cone.material.color.set(this.color);\n\t\t\t} else {\n\t\t\t\tthis.cone.material.color.copy(this.light.color);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tconst _vector$2 = /*@__PURE__*/new Vector3();\n\n\tconst _boneMatrix = /*@__PURE__*/new Matrix4();\n\n\tconst _matrixWorldInv = /*@__PURE__*/new Matrix4();\n\n\tclass SkeletonHelper extends LineSegments {\n\t\tconstructor(object) {\n\t\t\tconst bones = getBoneList(object);\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tconst vertices = [];\n\t\t\tconst colors = [];\n\t\t\tconst color1 = new Color(0, 0, 1);\n\t\t\tconst color2 = new Color(0, 1, 0);\n\n\t\t\tfor (let i = 0; i < bones.length; i++) {\n\t\t\t\tconst bone = bones[i];\n\n\t\t\t\tif (bone.parent && bone.parent.isBone) {\n\t\t\t\t\tvertices.push(0, 0, 0);\n\t\t\t\t\tvertices.push(0, 0, 0);\n\t\t\t\t\tcolors.push(color1.r, color1.g, color1.b);\n\t\t\t\t\tcolors.push(color2.r, color2.g, color2.b);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tgeometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\t\t\tconst material = new LineBasicMaterial({\n\t\t\t\tvertexColors: true,\n\t\t\t\tdepthTest: false,\n\t\t\t\tdepthWrite: false,\n\t\t\t\ttoneMapped: false,\n\t\t\t\ttransparent: true\n\t\t\t});\n\t\t\tsuper(geometry, material);\n\t\t\tthis.type = 'SkeletonHelper';\n\t\t\tthis.isSkeletonHelper = true;\n\t\t\tthis.root = object;\n\t\t\tthis.bones = bones;\n\t\t\tthis.matrix = object.matrixWorld;\n\t\t\tthis.matrixAutoUpdate = false;\n\t\t}\n\n\t\tupdateMatrixWorld(force) {\n\t\t\tconst bones = this.bones;\n\t\t\tconst geometry = this.geometry;\n\t\t\tconst position = geometry.getAttribute('position');\n\n\t\t\t_matrixWorldInv.copy(this.root.matrixWorld).invert();\n\n\t\t\tfor (let i = 0, j = 0; i < bones.length; i++) {\n\t\t\t\tconst bone = bones[i];\n\n\t\t\t\tif (bone.parent && bone.parent.isBone) {\n\t\t\t\t\t_boneMatrix.multiplyMatrices(_matrixWorldInv, bone.matrixWorld);\n\n\t\t\t\t\t_vector$2.setFromMatrixPosition(_boneMatrix);\n\n\t\t\t\t\tposition.setXYZ(j, _vector$2.x, _vector$2.y, _vector$2.z);\n\n\t\t\t\t\t_boneMatrix.multiplyMatrices(_matrixWorldInv, bone.parent.matrixWorld);\n\n\t\t\t\t\t_vector$2.setFromMatrixPosition(_boneMatrix);\n\n\t\t\t\t\tposition.setXYZ(j + 1, _vector$2.x, _vector$2.y, _vector$2.z);\n\t\t\t\t\tj += 2;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgeometry.getAttribute('position').needsUpdate = true;\n\t\t\tsuper.updateMatrixWorld(force);\n\t\t}\n\n\t}\n\n\tfunction getBoneList(object) {\n\t\tconst boneList = [];\n\n\t\tif (object && object.isBone) {\n\t\t\tboneList.push(object);\n\t\t}\n\n\t\tfor (let i = 0; i < object.children.length; i++) {\n\t\t\tboneList.push.apply(boneList, getBoneList(object.children[i]));\n\t\t}\n\n\t\treturn boneList;\n\t}\n\n\tclass PointLightHelper extends Mesh {\n\t\tconstructor(light, sphereSize, color) {\n\t\t\tconst geometry = new SphereGeometry(sphereSize, 4, 2);\n\t\t\tconst material = new MeshBasicMaterial({\n\t\t\t\twireframe: true,\n\t\t\t\tfog: false,\n\t\t\t\ttoneMapped: false\n\t\t\t});\n\t\t\tsuper(geometry, material);\n\t\t\tthis.light = light;\n\t\t\tthis.light.updateMatrixWorld();\n\t\t\tthis.color = color;\n\t\t\tthis.type = 'PointLightHelper';\n\t\t\tthis.matrix = this.light.matrixWorld;\n\t\t\tthis.matrixAutoUpdate = false;\n\t\t\tthis.update();\n\t\t\t/*\n\t\t\t// TODO: delete this comment?\n\t\t\tconst distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n\t\t\tconst distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\t\t\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\t\t\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\t\t\tconst d = light.distance;\n\t\t\tif ( d === 0.0 ) {\n\t\t\t\tthis.lightDistance.visible = false;\n\t\t\t} else {\n\t\t\t\tthis.lightDistance.scale.set( d, d, d );\n\t\t\t}\n\t\t\tthis.add( this.lightDistance );\n\t\t\t*/\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.geometry.dispose();\n\t\t\tthis.material.dispose();\n\t\t}\n\n\t\tupdate() {\n\t\t\tif (this.color !== undefined) {\n\t\t\t\tthis.material.color.set(this.color);\n\t\t\t} else {\n\t\t\t\tthis.material.color.copy(this.light.color);\n\t\t\t}\n\t\t\t/*\n\t\t\tconst d = this.light.distance;\n\t\t\t\tif ( d === 0.0 ) {\n\t\t\t\t\tthis.lightDistance.visible = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.lightDistance.visible = true;\n\t\t\t\tthis.lightDistance.scale.set( d, d, d );\n\t\t\t\t}\n\t\t\t*/\n\n\t\t}\n\n\t}\n\n\tconst _vector$1 = /*@__PURE__*/new Vector3();\n\n\tconst _color1 = /*@__PURE__*/new Color();\n\n\tconst _color2 = /*@__PURE__*/new Color();\n\n\tclass HemisphereLightHelper extends Object3D {\n\t\tconstructor(light, size, color) {\n\t\t\tsuper();\n\t\t\tthis.light = light;\n\t\t\tthis.light.updateMatrixWorld();\n\t\t\tthis.matrix = light.matrixWorld;\n\t\t\tthis.matrixAutoUpdate = false;\n\t\t\tthis.color = color;\n\t\t\tconst geometry = new OctahedronGeometry(size);\n\t\t\tgeometry.rotateY(Math.PI * 0.5);\n\t\t\tthis.material = new MeshBasicMaterial({\n\t\t\t\twireframe: true,\n\t\t\t\tfog: false,\n\t\t\t\ttoneMapped: false\n\t\t\t});\n\t\t\tif (this.color === undefined) this.material.vertexColors = true;\n\t\t\tconst position = geometry.getAttribute('position');\n\t\t\tconst colors = new Float32Array(position.count * 3);\n\t\t\tgeometry.setAttribute('color', new BufferAttribute(colors, 3));\n\t\t\tthis.add(new Mesh(geometry, this.material));\n\t\t\tthis.update();\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.children[0].geometry.dispose();\n\t\t\tthis.children[0].material.dispose();\n\t\t}\n\n\t\tupdate() {\n\t\t\tconst mesh = this.children[0];\n\n\t\t\tif (this.color !== undefined) {\n\t\t\t\tthis.material.color.set(this.color);\n\t\t\t} else {\n\t\t\t\tconst colors = mesh.geometry.getAttribute('color');\n\n\t\t\t\t_color1.copy(this.light.color);\n\n\t\t\t\t_color2.copy(this.light.groundColor);\n\n\t\t\t\tfor (let i = 0, l = colors.count; i < l; i++) {\n\t\t\t\t\tconst color = i < l / 2 ? _color1 : _color2;\n\t\t\t\t\tcolors.setXYZ(i, color.r, color.g, color.b);\n\t\t\t\t}\n\n\t\t\t\tcolors.needsUpdate = true;\n\t\t\t}\n\n\t\t\tmesh.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate());\n\t\t}\n\n\t}\n\n\tclass GridHelper extends LineSegments {\n\t\tconstructor(size = 10, divisions = 10, color1 = 0x444444, color2 = 0x888888) {\n\t\t\tcolor1 = new Color(color1);\n\t\t\tcolor2 = new Color(color2);\n\t\t\tconst center = divisions / 2;\n\t\t\tconst step = size / divisions;\n\t\t\tconst halfSize = size / 2;\n\t\t\tconst vertices = [],\n\t\t\t\t\t\tcolors = [];\n\n\t\t\tfor (let i = 0, j = 0, k = -halfSize; i <= divisions; i++, k += step) {\n\t\t\t\tvertices.push(-halfSize, 0, k, halfSize, 0, k);\n\t\t\t\tvertices.push(k, 0, -halfSize, k, 0, halfSize);\n\t\t\t\tconst color = i === center ? color1 : color2;\n\t\t\t\tcolor.toArray(colors, j);\n\t\t\t\tj += 3;\n\t\t\t\tcolor.toArray(colors, j);\n\t\t\t\tj += 3;\n\t\t\t\tcolor.toArray(colors, j);\n\t\t\t\tj += 3;\n\t\t\t\tcolor.toArray(colors, j);\n\t\t\t\tj += 3;\n\t\t\t}\n\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tgeometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\t\t\tconst material = new LineBasicMaterial({\n\t\t\t\tvertexColors: true,\n\t\t\t\ttoneMapped: false\n\t\t\t});\n\t\t\tsuper(geometry, material);\n\t\t\tthis.type = 'GridHelper';\n\t\t}\n\n\t}\n\n\tclass PolarGridHelper extends LineSegments {\n\t\tconstructor(radius = 10, radials = 16, circles = 8, divisions = 64, color1 = 0x444444, color2 = 0x888888) {\n\t\t\tcolor1 = new Color(color1);\n\t\t\tcolor2 = new Color(color2);\n\t\t\tconst vertices = [];\n\t\t\tconst colors = []; // create the radials\n\n\t\t\tfor (let i = 0; i <= radials; i++) {\n\t\t\t\tconst v = i / radials * (Math.PI * 2);\n\t\t\t\tconst x = Math.sin(v) * radius;\n\t\t\t\tconst z = Math.cos(v) * radius;\n\t\t\t\tvertices.push(0, 0, 0);\n\t\t\t\tvertices.push(x, 0, z);\n\t\t\t\tconst color = i & 1 ? color1 : color2;\n\t\t\t\tcolors.push(color.r, color.g, color.b);\n\t\t\t\tcolors.push(color.r, color.g, color.b);\n\t\t\t} // create the circles\n\n\n\t\t\tfor (let i = 0; i <= circles; i++) {\n\t\t\t\tconst color = i & 1 ? color1 : color2;\n\t\t\t\tconst r = radius - radius / circles * i;\n\n\t\t\t\tfor (let j = 0; j < divisions; j++) {\n\t\t\t\t\t// first vertex\n\t\t\t\t\tlet v = j / divisions * (Math.PI * 2);\n\t\t\t\t\tlet x = Math.sin(v) * r;\n\t\t\t\t\tlet z = Math.cos(v) * r;\n\t\t\t\t\tvertices.push(x, 0, z);\n\t\t\t\t\tcolors.push(color.r, color.g, color.b); // second vertex\n\n\t\t\t\t\tv = (j + 1) / divisions * (Math.PI * 2);\n\t\t\t\t\tx = Math.sin(v) * r;\n\t\t\t\t\tz = Math.cos(v) * r;\n\t\t\t\t\tvertices.push(x, 0, z);\n\t\t\t\t\tcolors.push(color.r, color.g, color.b);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tgeometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\t\t\tconst material = new LineBasicMaterial({\n\t\t\t\tvertexColors: true,\n\t\t\t\ttoneMapped: false\n\t\t\t});\n\t\t\tsuper(geometry, material);\n\t\t\tthis.type = 'PolarGridHelper';\n\t\t}\n\n\t}\n\n\tconst _v1 = /*@__PURE__*/new Vector3();\n\n\tconst _v2 = /*@__PURE__*/new Vector3();\n\n\tconst _v3 = /*@__PURE__*/new Vector3();\n\n\tclass DirectionalLightHelper extends Object3D {\n\t\tconstructor(light, size, color) {\n\t\t\tsuper();\n\t\t\tthis.light = light;\n\t\t\tthis.light.updateMatrixWorld();\n\t\t\tthis.matrix = light.matrixWorld;\n\t\t\tthis.matrixAutoUpdate = false;\n\t\t\tthis.color = color;\n\t\t\tif (size === undefined) size = 1;\n\t\t\tlet geometry = new BufferGeometry();\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute([-size, size, 0, size, size, 0, size, -size, 0, -size, -size, 0, -size, size, 0], 3));\n\t\t\tconst material = new LineBasicMaterial({\n\t\t\t\tfog: false,\n\t\t\t\ttoneMapped: false\n\t\t\t});\n\t\t\tthis.lightPlane = new Line(geometry, material);\n\t\t\tthis.add(this.lightPlane);\n\t\t\tgeometry = new BufferGeometry();\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 0, 1], 3));\n\t\t\tthis.targetLine = new Line(geometry, material);\n\t\t\tthis.add(this.targetLine);\n\t\t\tthis.update();\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.lightPlane.geometry.dispose();\n\t\t\tthis.lightPlane.material.dispose();\n\t\t\tthis.targetLine.geometry.dispose();\n\t\t\tthis.targetLine.material.dispose();\n\t\t}\n\n\t\tupdate() {\n\t\t\t_v1.setFromMatrixPosition(this.light.matrixWorld);\n\n\t\t\t_v2.setFromMatrixPosition(this.light.target.matrixWorld);\n\n\t\t\t_v3.subVectors(_v2, _v1);\n\n\t\t\tthis.lightPlane.lookAt(_v2);\n\n\t\t\tif (this.color !== undefined) {\n\t\t\t\tthis.lightPlane.material.color.set(this.color);\n\t\t\t\tthis.targetLine.material.color.set(this.color);\n\t\t\t} else {\n\t\t\t\tthis.lightPlane.material.color.copy(this.light.color);\n\t\t\t\tthis.targetLine.material.color.copy(this.light.color);\n\t\t\t}\n\n\t\t\tthis.targetLine.lookAt(_v2);\n\t\t\tthis.targetLine.scale.z = _v3.length();\n\t\t}\n\n\t}\n\n\tconst _vector = /*@__PURE__*/new Vector3();\n\n\tconst _camera = /*@__PURE__*/new Camera();\n\t/**\n\t *\t- shows frustum, line of sight and up of the camera\n\t *\t- suitable for fast updates\n\t * \t- based on frustum visualization in lightgl.js shadowmap example\n\t *\t\thttps://github.com/evanw/lightgl.js/blob/master/tests/shadowmap.html\n\t */\n\n\n\tclass CameraHelper extends LineSegments {\n\t\tconstructor(camera) {\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tconst material = new LineBasicMaterial({\n\t\t\t\tcolor: 0xffffff,\n\t\t\t\tvertexColors: true,\n\t\t\t\ttoneMapped: false\n\t\t\t});\n\t\t\tconst vertices = [];\n\t\t\tconst colors = [];\n\t\t\tconst pointMap = {}; // colors\n\n\t\t\tconst colorFrustum = new Color(0xffaa00);\n\t\t\tconst colorCone = new Color(0xff0000);\n\t\t\tconst colorUp = new Color(0x00aaff);\n\t\t\tconst colorTarget = new Color(0xffffff);\n\t\t\tconst colorCross = new Color(0x333333); // near\n\n\t\t\taddLine('n1', 'n2', colorFrustum);\n\t\t\taddLine('n2', 'n4', colorFrustum);\n\t\t\taddLine('n4', 'n3', colorFrustum);\n\t\t\taddLine('n3', 'n1', colorFrustum); // far\n\n\t\t\taddLine('f1', 'f2', colorFrustum);\n\t\t\taddLine('f2', 'f4', colorFrustum);\n\t\t\taddLine('f4', 'f3', colorFrustum);\n\t\t\taddLine('f3', 'f1', colorFrustum); // sides\n\n\t\t\taddLine('n1', 'f1', colorFrustum);\n\t\t\taddLine('n2', 'f2', colorFrustum);\n\t\t\taddLine('n3', 'f3', colorFrustum);\n\t\t\taddLine('n4', 'f4', colorFrustum); // cone\n\n\t\t\taddLine('p', 'n1', colorCone);\n\t\t\taddLine('p', 'n2', colorCone);\n\t\t\taddLine('p', 'n3', colorCone);\n\t\t\taddLine('p', 'n4', colorCone); // up\n\n\t\t\taddLine('u1', 'u2', colorUp);\n\t\t\taddLine('u2', 'u3', colorUp);\n\t\t\taddLine('u3', 'u1', colorUp); // target\n\n\t\t\taddLine('c', 't', colorTarget);\n\t\t\taddLine('p', 'c', colorCross); // cross\n\n\t\t\taddLine('cn1', 'cn2', colorCross);\n\t\t\taddLine('cn3', 'cn4', colorCross);\n\t\t\taddLine('cf1', 'cf2', colorCross);\n\t\t\taddLine('cf3', 'cf4', colorCross);\n\n\t\t\tfunction addLine(a, b, color) {\n\t\t\t\taddPoint(a, color);\n\t\t\t\taddPoint(b, color);\n\t\t\t}\n\n\t\t\tfunction addPoint(id, color) {\n\t\t\t\tvertices.push(0, 0, 0);\n\t\t\t\tcolors.push(color.r, color.g, color.b);\n\n\t\t\t\tif (pointMap[id] === undefined) {\n\t\t\t\t\tpointMap[id] = [];\n\t\t\t\t}\n\n\t\t\t\tpointMap[id].push(vertices.length / 3 - 1);\n\t\t\t}\n\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tgeometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\t\t\tsuper(geometry, material);\n\t\t\tthis.type = 'CameraHelper';\n\t\t\tthis.camera = camera;\n\t\t\tif (this.camera.updateProjectionMatrix) this.camera.updateProjectionMatrix();\n\t\t\tthis.matrix = camera.matrixWorld;\n\t\t\tthis.matrixAutoUpdate = false;\n\t\t\tthis.pointMap = pointMap;\n\t\t\tthis.update();\n\t\t}\n\n\t\tupdate() {\n\t\t\tconst geometry = this.geometry;\n\t\t\tconst pointMap = this.pointMap;\n\t\t\tconst w = 1,\n\t\t\t\t\t\th = 1; // we need just camera projection matrix inverse\n\t\t\t// world matrix must be identity\n\n\t\t\t_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse); // center / target\n\n\n\t\t\tsetPoint('c', pointMap, geometry, _camera, 0, 0, -1);\n\t\t\tsetPoint('t', pointMap, geometry, _camera, 0, 0, 1); // near\n\n\t\t\tsetPoint('n1', pointMap, geometry, _camera, -w, -h, -1);\n\t\t\tsetPoint('n2', pointMap, geometry, _camera, w, -h, -1);\n\t\t\tsetPoint('n3', pointMap, geometry, _camera, -w, h, -1);\n\t\t\tsetPoint('n4', pointMap, geometry, _camera, w, h, -1); // far\n\n\t\t\tsetPoint('f1', pointMap, geometry, _camera, -w, -h, 1);\n\t\t\tsetPoint('f2', pointMap, geometry, _camera, w, -h, 1);\n\t\t\tsetPoint('f3', pointMap, geometry, _camera, -w, h, 1);\n\t\t\tsetPoint('f4', pointMap, geometry, _camera, w, h, 1); // up\n\n\t\t\tsetPoint('u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, -1);\n\t\t\tsetPoint('u2', pointMap, geometry, _camera, -w * 0.7, h * 1.1, -1);\n\t\t\tsetPoint('u3', pointMap, geometry, _camera, 0, h * 2, -1); // cross\n\n\t\t\tsetPoint('cf1', pointMap, geometry, _camera, -w, 0, 1);\n\t\t\tsetPoint('cf2', pointMap, geometry, _camera, w, 0, 1);\n\t\t\tsetPoint('cf3', pointMap, geometry, _camera, 0, -h, 1);\n\t\t\tsetPoint('cf4', pointMap, geometry, _camera, 0, h, 1);\n\t\t\tsetPoint('cn1', pointMap, geometry, _camera, -w, 0, -1);\n\t\t\tsetPoint('cn2', pointMap, geometry, _camera, w, 0, -1);\n\t\t\tsetPoint('cn3', pointMap, geometry, _camera, 0, -h, -1);\n\t\t\tsetPoint('cn4', pointMap, geometry, _camera, 0, h, -1);\n\t\t\tgeometry.getAttribute('position').needsUpdate = true;\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.geometry.dispose();\n\t\t\tthis.material.dispose();\n\t\t}\n\n\t}\n\n\tfunction setPoint(point, pointMap, geometry, camera, x, y, z) {\n\t\t_vector.set(x, y, z).unproject(camera);\n\n\t\tconst points = pointMap[point];\n\n\t\tif (points !== undefined) {\n\t\t\tconst position = geometry.getAttribute('position');\n\n\t\t\tfor (let i = 0, l = points.length; i < l; i++) {\n\t\t\t\tposition.setXYZ(points[i], _vector.x, _vector.y, _vector.z);\n\t\t\t}\n\t\t}\n\t}\n\n\tconst _box = /*@__PURE__*/new Box3();\n\n\tclass BoxHelper extends LineSegments {\n\t\tconstructor(object, color = 0xffff00) {\n\t\t\tconst indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);\n\t\t\tconst positions = new Float32Array(8 * 3);\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tgeometry.setIndex(new BufferAttribute(indices, 1));\n\t\t\tgeometry.setAttribute('position', new BufferAttribute(positions, 3));\n\t\t\tsuper(geometry, new LineBasicMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\ttoneMapped: false\n\t\t\t}));\n\t\t\tthis.object = object;\n\t\t\tthis.type = 'BoxHelper';\n\t\t\tthis.matrixAutoUpdate = false;\n\t\t\tthis.update();\n\t\t}\n\n\t\tupdate(object) {\n\t\t\tif (object !== undefined) {\n\t\t\t\tconsole.warn('THREE.BoxHelper: .update() has no longer arguments.');\n\t\t\t}\n\n\t\t\tif (this.object !== undefined) {\n\t\t\t\t_box.setFromObject(this.object);\n\t\t\t}\n\n\t\t\tif (_box.isEmpty()) return;\n\t\t\tconst min = _box.min;\n\t\t\tconst max = _box.max;\n\t\t\t/*\n\t\t\t\t5____4\n\t\t\t1/___0/|\n\t\t\t| 6__|_7\n\t\t\t2/___3/\n\t\t\t\t0: max.x, max.y, max.z\n\t\t\t1: min.x, max.y, max.z\n\t\t\t2: min.x, min.y, max.z\n\t\t\t3: max.x, min.y, max.z\n\t\t\t4: max.x, max.y, min.z\n\t\t\t5: min.x, max.y, min.z\n\t\t\t6: min.x, min.y, min.z\n\t\t\t7: max.x, min.y, min.z\n\t\t\t*/\n\n\t\t\tconst position = this.geometry.attributes.position;\n\t\t\tconst array = position.array;\n\t\t\tarray[0] = max.x;\n\t\t\tarray[1] = max.y;\n\t\t\tarray[2] = max.z;\n\t\t\tarray[3] = min.x;\n\t\t\tarray[4] = max.y;\n\t\t\tarray[5] = max.z;\n\t\t\tarray[6] = min.x;\n\t\t\tarray[7] = min.y;\n\t\t\tarray[8] = max.z;\n\t\t\tarray[9] = max.x;\n\t\t\tarray[10] = min.y;\n\t\t\tarray[11] = max.z;\n\t\t\tarray[12] = max.x;\n\t\t\tarray[13] = max.y;\n\t\t\tarray[14] = min.z;\n\t\t\tarray[15] = min.x;\n\t\t\tarray[16] = max.y;\n\t\t\tarray[17] = min.z;\n\t\t\tarray[18] = min.x;\n\t\t\tarray[19] = min.y;\n\t\t\tarray[20] = min.z;\n\t\t\tarray[21] = max.x;\n\t\t\tarray[22] = min.y;\n\t\t\tarray[23] = min.z;\n\t\t\tposition.needsUpdate = true;\n\t\t\tthis.geometry.computeBoundingSphere();\n\t\t}\n\n\t\tsetFromObject(object) {\n\t\t\tthis.object = object;\n\t\t\tthis.update();\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tLineSegments.prototype.copy.call(this, source);\n\t\t\tthis.object = source.object;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass Box3Helper extends LineSegments {\n\t\tconstructor(box, color = 0xffff00) {\n\t\t\tconst indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);\n\t\t\tconst positions = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1];\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tgeometry.setIndex(new BufferAttribute(indices, 1));\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n\t\t\tsuper(geometry, new LineBasicMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\ttoneMapped: false\n\t\t\t}));\n\t\t\tthis.box = box;\n\t\t\tthis.type = 'Box3Helper';\n\t\t\tthis.geometry.computeBoundingSphere();\n\t\t}\n\n\t\tupdateMatrixWorld(force) {\n\t\t\tconst box = this.box;\n\t\t\tif (box.isEmpty()) return;\n\t\t\tbox.getCenter(this.position);\n\t\t\tbox.getSize(this.scale);\n\t\t\tthis.scale.multiplyScalar(0.5);\n\t\t\tsuper.updateMatrixWorld(force);\n\t\t}\n\n\t}\n\n\tclass PlaneHelper extends Line {\n\t\tconstructor(plane, size = 1, hex = 0xffff00) {\n\t\t\tconst color = hex;\n\t\t\tconst positions = [1, -1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0];\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n\t\t\tgeometry.computeBoundingSphere();\n\t\t\tsuper(geometry, new LineBasicMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\ttoneMapped: false\n\t\t\t}));\n\t\t\tthis.type = 'PlaneHelper';\n\t\t\tthis.plane = plane;\n\t\t\tthis.size = size;\n\t\t\tconst positions2 = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1];\n\t\t\tconst geometry2 = new BufferGeometry();\n\t\t\tgeometry2.setAttribute('position', new Float32BufferAttribute(positions2, 3));\n\t\t\tgeometry2.computeBoundingSphere();\n\t\t\tthis.add(new Mesh(geometry2, new MeshBasicMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\topacity: 0.2,\n\t\t\t\ttransparent: true,\n\t\t\t\tdepthWrite: false,\n\t\t\t\ttoneMapped: false\n\t\t\t})));\n\t\t}\n\n\t\tupdateMatrixWorld(force) {\n\t\t\tlet scale = -this.plane.constant;\n\t\t\tif (Math.abs(scale) < 1e-8) scale = 1e-8; // sign does not matter\n\n\t\t\tthis.scale.set(0.5 * this.size, 0.5 * this.size, scale);\n\t\t\tthis.children[0].material.side = scale < 0 ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\t\t\tthis.lookAt(this.plane.normal);\n\t\t\tsuper.updateMatrixWorld(force);\n\t\t}\n\n\t}\n\n\tconst _axis = /*@__PURE__*/new Vector3();\n\n\tlet _lineGeometry, _coneGeometry;\n\n\tclass ArrowHelper extends Object3D {\n\t\t// dir is assumed to be normalized\n\t\tconstructor(dir = new Vector3(0, 0, 1), origin = new Vector3(0, 0, 0), length = 1, color = 0xffff00, headLength = length * 0.2, headWidth = headLength * 0.2) {\n\t\t\tsuper();\n\t\t\tthis.type = 'ArrowHelper';\n\n\t\t\tif (_lineGeometry === undefined) {\n\t\t\t\t_lineGeometry = new BufferGeometry();\n\n\t\t\t\t_lineGeometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 1, 0], 3));\n\n\t\t\t\t_coneGeometry = new CylinderGeometry(0, 0.5, 1, 5, 1);\n\n\t\t\t\t_coneGeometry.translate(0, -0.5, 0);\n\t\t\t}\n\n\t\t\tthis.position.copy(origin);\n\t\t\tthis.line = new Line(_lineGeometry, new LineBasicMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\ttoneMapped: false\n\t\t\t}));\n\t\t\tthis.line.matrixAutoUpdate = false;\n\t\t\tthis.add(this.line);\n\t\t\tthis.cone = new Mesh(_coneGeometry, new MeshBasicMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\ttoneMapped: false\n\t\t\t}));\n\t\t\tthis.cone.matrixAutoUpdate = false;\n\t\t\tthis.add(this.cone);\n\t\t\tthis.setDirection(dir);\n\t\t\tthis.setLength(length, headLength, headWidth);\n\t\t}\n\n\t\tsetDirection(dir) {\n\t\t\t// dir is assumed to be normalized\n\t\t\tif (dir.y > 0.99999) {\n\t\t\t\tthis.quaternion.set(0, 0, 0, 1);\n\t\t\t} else if (dir.y < -0.99999) {\n\t\t\t\tthis.quaternion.set(1, 0, 0, 0);\n\t\t\t} else {\n\t\t\t\t_axis.set(dir.z, 0, -dir.x).normalize();\n\n\t\t\t\tconst radians = Math.acos(dir.y);\n\t\t\t\tthis.quaternion.setFromAxisAngle(_axis, radians);\n\t\t\t}\n\t\t}\n\n\t\tsetLength(length, headLength = length * 0.2, headWidth = headLength * 0.2) {\n\t\t\tthis.line.scale.set(1, Math.max(0.0001, length - headLength), 1); // see #17458\n\n\t\t\tthis.line.updateMatrix();\n\t\t\tthis.cone.scale.set(headWidth, headLength, headWidth);\n\t\t\tthis.cone.position.y = length;\n\t\t\tthis.cone.updateMatrix();\n\t\t}\n\n\t\tsetColor(color) {\n\t\t\tthis.line.material.color.set(color);\n\t\t\tthis.cone.material.color.set(color);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source, false);\n\t\t\tthis.line.copy(source.line);\n\t\t\tthis.cone.copy(source.cone);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass AxesHelper extends LineSegments {\n\t\tconstructor(size = 1) {\n\t\t\tconst vertices = [0, 0, 0, size, 0, 0, 0, 0, 0, 0, size, 0, 0, 0, 0, 0, 0, size];\n\t\t\tconst colors = [1, 0, 0, 1, 0.6, 0, 0, 1, 0, 0.6, 1, 0, 0, 0, 1, 0, 0.6, 1];\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tgeometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\t\t\tconst material = new LineBasicMaterial({\n\t\t\t\tvertexColors: true,\n\t\t\t\ttoneMapped: false\n\t\t\t});\n\t\t\tsuper(geometry, material);\n\t\t\tthis.type = 'AxesHelper';\n\t\t}\n\n\t\tsetColors(xAxisColor, yAxisColor, zAxisColor) {\n\t\t\tconst color = new Color();\n\t\t\tconst array = this.geometry.attributes.color.array;\n\t\t\tcolor.set(xAxisColor);\n\t\t\tcolor.toArray(array, 0);\n\t\t\tcolor.toArray(array, 3);\n\t\t\tcolor.set(yAxisColor);\n\t\t\tcolor.toArray(array, 6);\n\t\t\tcolor.toArray(array, 9);\n\t\t\tcolor.set(zAxisColor);\n\t\t\tcolor.toArray(array, 12);\n\t\t\tcolor.toArray(array, 15);\n\t\t\tthis.geometry.attributes.color.needsUpdate = true;\n\t\t\treturn this;\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.geometry.dispose();\n\t\t\tthis.material.dispose();\n\t\t}\n\n\t}\n\n\tclass ShapePath {\n\t\tconstructor() {\n\t\t\tthis.type = 'ShapePath';\n\t\t\tthis.color = new Color();\n\t\t\tthis.subPaths = [];\n\t\t\tthis.currentPath = null;\n\t\t}\n\n\t\tmoveTo(x, y) {\n\t\t\tthis.currentPath = new Path();\n\t\t\tthis.subPaths.push(this.currentPath);\n\t\t\tthis.currentPath.moveTo(x, y);\n\t\t\treturn this;\n\t\t}\n\n\t\tlineTo(x, y) {\n\t\t\tthis.currentPath.lineTo(x, y);\n\t\t\treturn this;\n\t\t}\n\n\t\tquadraticCurveTo(aCPx, aCPy, aX, aY) {\n\t\t\tthis.currentPath.quadraticCurveTo(aCPx, aCPy, aX, aY);\n\t\t\treturn this;\n\t\t}\n\n\t\tbezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {\n\t\t\tthis.currentPath.bezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY);\n\t\t\treturn this;\n\t\t}\n\n\t\tsplineThru(pts) {\n\t\t\tthis.currentPath.splineThru(pts);\n\t\t\treturn this;\n\t\t}\n\n\t\ttoShapes(isCCW, noHoles) {\n\t\t\tfunction toShapesNoHoles(inSubpaths) {\n\t\t\t\tconst shapes = [];\n\n\t\t\t\tfor (let i = 0, l = inSubpaths.length; i < l; i++) {\n\t\t\t\t\tconst tmpPath = inSubpaths[i];\n\t\t\t\t\tconst tmpShape = new Shape();\n\t\t\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\t\t\tshapes.push(tmpShape);\n\t\t\t\t}\n\n\t\t\t\treturn shapes;\n\t\t\t}\n\n\t\t\tfunction isPointInsidePolygon(inPt, inPolygon) {\n\t\t\t\tconst polyLen = inPolygon.length; // inPt on polygon contour => immediate success\t\tor\n\t\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t\t//\twith the horizontal line through inPt, left of inPt\n\t\t\t\t//\tnot counting lowerY endpoints of edges and whole edges on that line\n\n\t\t\t\tlet inside = false;\n\n\t\t\t\tfor (let p = polyLen - 1, q = 0; q < polyLen; p = q++) {\n\t\t\t\t\tlet edgeLowPt = inPolygon[p];\n\t\t\t\t\tlet edgeHighPt = inPolygon[q];\n\t\t\t\t\tlet edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\t\tlet edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\t\tif (Math.abs(edgeDy) > Number.EPSILON) {\n\t\t\t\t\t\t// not parallel\n\t\t\t\t\t\tif (edgeDy < 0) {\n\t\t\t\t\t\t\tedgeLowPt = inPolygon[q];\n\t\t\t\t\t\t\tedgeDx = -edgeDx;\n\t\t\t\t\t\t\tedgeHighPt = inPolygon[p];\n\t\t\t\t\t\t\tedgeDy = -edgeDy;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (inPt.y < edgeLowPt.y || inPt.y > edgeHighPt.y) continue;\n\n\t\t\t\t\t\tif (inPt.y === edgeLowPt.y) {\n\t\t\t\t\t\t\tif (inPt.x === edgeLowPt.x) return true; // inPt is on contour ?\n\t\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst perpEdge = edgeDy * (inPt.x - edgeLowPt.x) - edgeDx * (inPt.y - edgeLowPt.y);\n\t\t\t\t\t\t\tif (perpEdge === 0) return true; // inPt is on contour ?\n\n\t\t\t\t\t\t\tif (perpEdge < 0) continue;\n\t\t\t\t\t\t\tinside = !inside; // true intersection left of inPt\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// parallel or collinear\n\t\t\t\t\t\tif (inPt.y !== edgeLowPt.y) continue; // parallel\n\t\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\n\t\t\t\t\t\tif (edgeHighPt.x <= inPt.x && inPt.x <= edgeLowPt.x || edgeLowPt.x <= inPt.x && inPt.x <= edgeHighPt.x) return true; // inPt: Point on contour !\n\t\t\t\t\t\t// continue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn inside;\n\t\t\t}\n\n\t\t\tconst isClockWise = ShapeUtils.isClockWise;\n\t\t\tconst subPaths = this.subPaths;\n\t\t\tif (subPaths.length === 0) return [];\n\t\t\tif (noHoles === true) return toShapesNoHoles(subPaths);\n\t\t\tlet solid, tmpPath, tmpShape;\n\t\t\tconst shapes = [];\n\n\t\t\tif (subPaths.length === 1) {\n\t\t\t\ttmpPath = subPaths[0];\n\t\t\t\ttmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\t\tshapes.push(tmpShape);\n\t\t\t\treturn shapes;\n\t\t\t}\n\n\t\t\tlet holesFirst = !isClockWise(subPaths[0].getPoints());\n\t\t\tholesFirst = isCCW ? !holesFirst : holesFirst; // console.log(\"Holes first\", holesFirst);\n\n\t\t\tconst betterShapeHoles = [];\n\t\t\tconst newShapes = [];\n\t\t\tlet newShapeHoles = [];\n\t\t\tlet mainIdx = 0;\n\t\t\tlet tmpPoints;\n\t\t\tnewShapes[mainIdx] = undefined;\n\t\t\tnewShapeHoles[mainIdx] = [];\n\n\t\t\tfor (let i = 0, l = subPaths.length; i < l; i++) {\n\t\t\t\ttmpPath = subPaths[i];\n\t\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\t\tsolid = isClockWise(tmpPoints);\n\t\t\t\tsolid = isCCW ? !solid : solid;\n\n\t\t\t\tif (solid) {\n\t\t\t\t\tif (!holesFirst && newShapes[mainIdx]) mainIdx++;\n\t\t\t\t\tnewShapes[mainIdx] = {\n\t\t\t\t\t\ts: new Shape(),\n\t\t\t\t\t\tp: tmpPoints\n\t\t\t\t\t};\n\t\t\t\t\tnewShapes[mainIdx].s.curves = tmpPath.curves;\n\t\t\t\t\tif (holesFirst) mainIdx++;\n\t\t\t\t\tnewShapeHoles[mainIdx] = []; //console.log('cw', i);\n\t\t\t\t} else {\n\t\t\t\t\tnewShapeHoles[mainIdx].push({\n\t\t\t\t\t\th: tmpPath,\n\t\t\t\t\t\tp: tmpPoints[0]\n\t\t\t\t\t}); //console.log('ccw', i);\n\t\t\t\t}\n\t\t\t} // only Holes? -> probably all Shapes with wrong orientation\n\n\n\t\t\tif (!newShapes[0]) return toShapesNoHoles(subPaths);\n\n\t\t\tif (newShapes.length > 1) {\n\t\t\t\tlet ambiguous = false;\n\t\t\t\tconst toChange = [];\n\n\t\t\t\tfor (let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx++) {\n\t\t\t\t\tbetterShapeHoles[sIdx] = [];\n\t\t\t\t}\n\n\t\t\t\tfor (let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx++) {\n\t\t\t\t\tconst sho = newShapeHoles[sIdx];\n\n\t\t\t\t\tfor (let hIdx = 0; hIdx < sho.length; hIdx++) {\n\t\t\t\t\t\tconst ho = sho[hIdx];\n\t\t\t\t\t\tlet hole_unassigned = true;\n\n\t\t\t\t\t\tfor (let s2Idx = 0; s2Idx < newShapes.length; s2Idx++) {\n\t\t\t\t\t\t\tif (isPointInsidePolygon(ho.p, newShapes[s2Idx].p)) {\n\t\t\t\t\t\t\t\tif (sIdx !== s2Idx) toChange.push({\n\t\t\t\t\t\t\t\t\tfroms: sIdx,\n\t\t\t\t\t\t\t\t\ttos: s2Idx,\n\t\t\t\t\t\t\t\t\thole: hIdx\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tif (hole_unassigned) {\n\t\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\t\tbetterShapeHoles[s2Idx].push(ho);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tambiguous = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (hole_unassigned) {\n\t\t\t\t\t\t\tbetterShapeHoles[sIdx].push(ho);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} // console.log(\"ambiguous: \", ambiguous);\n\n\n\t\t\t\tif (toChange.length > 0) {\n\t\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\t\tif (!ambiguous) newShapeHoles = betterShapeHoles;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet tmpHoles;\n\n\t\t\tfor (let i = 0, il = newShapes.length; i < il; i++) {\n\t\t\t\ttmpShape = newShapes[i].s;\n\t\t\t\tshapes.push(tmpShape);\n\t\t\t\ttmpHoles = newShapeHoles[i];\n\n\t\t\t\tfor (let j = 0, jl = tmpHoles.length; j < jl; j++) {\n\t\t\t\t\ttmpShape.holes.push(tmpHoles[j].h);\n\t\t\t\t}\n\t\t\t} //console.log(\"shape\", shapes);\n\n\n\t\t\treturn shapes;\n\t\t}\n\n\t}\n\n\tconst _floatView = new Float32Array(1);\n\n\tconst _int32View = new Int32Array(_floatView.buffer);\n\n\tclass DataUtils {\n\t\t// Converts float32 to float16 (stored as uint16 value).\n\t\tstatic toHalfFloat(val) {\n\t\t\tif (val > 65504) {\n\t\t\t\tconsole.warn('THREE.DataUtils.toHalfFloat(): value exceeds 65504.');\n\t\t\t\tval = 65504; // maximum representable value in float16\n\t\t\t} // Source: http://gamedev.stackexchange.com/questions/17326/conversion-of-a-number-from-single-precision-floating-point-representation-to-a/17410#17410\n\n\t\t\t/* This method is faster than the OpenEXR implementation (very often\n\t\t\t* used, eg. in Ogre), with the additional benefit of rounding, inspired\n\t\t\t* by James Tursa?s half-precision code. */\n\n\n\t\t\t_floatView[0] = val;\n\t\t\tconst x = _int32View[0];\n\t\t\tlet bits = x >> 16 & 0x8000;\n\t\t\t/* Get the sign */\n\n\t\t\tlet m = x >> 12 & 0x07ff;\n\t\t\t/* Keep one extra bit for rounding */\n\n\t\t\tconst e = x >> 23 & 0xff;\n\t\t\t/* Using int is faster here */\n\n\t\t\t/* If zero, or denormal, or exponent underflows too much for a denormal\n\t\t\t\t* half, return signed zero. */\n\n\t\t\tif (e < 103) return bits;\n\t\t\t/* If NaN, return NaN. If Inf or exponent overflow, return Inf. */\n\n\t\t\tif (e > 142) {\n\t\t\t\tbits |= 0x7c00;\n\t\t\t\t/* If exponent was 0xff and one mantissa bit was set, it means NaN,\n\t\t\t\t\t\t\t* not Inf, so make sure we set one mantissa bit too. */\n\n\t\t\t\tbits |= (e == 255 ? 0 : 1) && x & 0x007fffff;\n\t\t\t\treturn bits;\n\t\t\t}\n\t\t\t/* If exponent underflows but not too much, return a denormal */\n\n\n\t\t\tif (e < 113) {\n\t\t\t\tm |= 0x0800;\n\t\t\t\t/* Extra rounding may overflow and set mantissa to 0 and exponent\n\t\t\t\t\t* to 1, which is OK. */\n\n\t\t\t\tbits |= (m >> 114 - e) + (m >> 113 - e & 1);\n\t\t\t\treturn bits;\n\t\t\t}\n\n\t\t\tbits |= e - 112 << 10 | m >> 1;\n\t\t\t/* Extra rounding. An overflow will set mantissa to 0 and increment\n\t\t\t\t* the exponent, which is OK. */\n\n\t\t\tbits += m & 1;\n\t\t\treturn bits;\n\t\t}\n\n\t}\n\n\tconst LineStrip = 0;\n\tconst LinePieces = 1;\n\tconst NoColors = 0;\n\tconst FaceColors = 1;\n\tconst VertexColors = 2;\n\tfunction MeshFaceMaterial(materials) {\n\t\tconsole.warn('THREE.MeshFaceMaterial has been removed. Use an Array instead.');\n\t\treturn materials;\n\t}\n\tfunction MultiMaterial(materials = []) {\n\t\tconsole.warn('THREE.MultiMaterial has been removed. Use an Array instead.');\n\t\tmaterials.isMultiMaterial = true;\n\t\tmaterials.materials = materials;\n\n\t\tmaterials.clone = function () {\n\t\t\treturn materials.slice();\n\t\t};\n\n\t\treturn materials;\n\t}\n\tfunction PointCloud(geometry, material) {\n\t\tconsole.warn('THREE.PointCloud has been renamed to THREE.Points.');\n\t\treturn new Points(geometry, material);\n\t}\n\tfunction Particle(material) {\n\t\tconsole.warn('THREE.Particle has been renamed to THREE.Sprite.');\n\t\treturn new Sprite(material);\n\t}\n\tfunction ParticleSystem(geometry, material) {\n\t\tconsole.warn('THREE.ParticleSystem has been renamed to THREE.Points.');\n\t\treturn new Points(geometry, material);\n\t}\n\tfunction PointCloudMaterial(parameters) {\n\t\tconsole.warn('THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.');\n\t\treturn new PointsMaterial(parameters);\n\t}\n\tfunction ParticleBasicMaterial(parameters) {\n\t\tconsole.warn('THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.');\n\t\treturn new PointsMaterial(parameters);\n\t}\n\tfunction ParticleSystemMaterial(parameters) {\n\t\tconsole.warn('THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.');\n\t\treturn new PointsMaterial(parameters);\n\t}\n\tfunction Vertex(x, y, z) {\n\t\tconsole.warn('THREE.Vertex has been removed. Use THREE.Vector3 instead.');\n\t\treturn new Vector3(x, y, z);\n\t} //\n\n\tfunction DynamicBufferAttribute(array, itemSize) {\n\t\tconsole.warn('THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.');\n\t\treturn new BufferAttribute(array, itemSize).setUsage(DynamicDrawUsage);\n\t}\n\tfunction Int8Attribute(array, itemSize) {\n\t\tconsole.warn('THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.');\n\t\treturn new Int8BufferAttribute(array, itemSize);\n\t}\n\tfunction Uint8Attribute(array, itemSize) {\n\t\tconsole.warn('THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.');\n\t\treturn new Uint8BufferAttribute(array, itemSize);\n\t}\n\tfunction Uint8ClampedAttribute(array, itemSize) {\n\t\tconsole.warn('THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.');\n\t\treturn new Uint8ClampedBufferAttribute(array, itemSize);\n\t}\n\tfunction Int16Attribute(array, itemSize) {\n\t\tconsole.warn('THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.');\n\t\treturn new Int16BufferAttribute(array, itemSize);\n\t}\n\tfunction Uint16Attribute(array, itemSize) {\n\t\tconsole.warn('THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.');\n\t\treturn new Uint16BufferAttribute(array, itemSize);\n\t}\n\tfunction Int32Attribute(array, itemSize) {\n\t\tconsole.warn('THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.');\n\t\treturn new Int32BufferAttribute(array, itemSize);\n\t}\n\tfunction Uint32Attribute(array, itemSize) {\n\t\tconsole.warn('THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.');\n\t\treturn new Uint32BufferAttribute(array, itemSize);\n\t}\n\tfunction Float32Attribute(array, itemSize) {\n\t\tconsole.warn('THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.');\n\t\treturn new Float32BufferAttribute(array, itemSize);\n\t}\n\tfunction Float64Attribute(array, itemSize) {\n\t\tconsole.warn('THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.');\n\t\treturn new Float64BufferAttribute(array, itemSize);\n\t} //\n\n\tCurve.create = function (construct, getPoint) {\n\t\tconsole.log('THREE.Curve.create() has been deprecated');\n\t\tconstruct.prototype = Object.create(Curve.prototype);\n\t\tconstruct.prototype.constructor = construct;\n\t\tconstruct.prototype.getPoint = getPoint;\n\t\treturn construct;\n\t}; //\n\n\n\tPath.prototype.fromPoints = function (points) {\n\t\tconsole.warn('THREE.Path: .fromPoints() has been renamed to .setFromPoints().');\n\t\treturn this.setFromPoints(points);\n\t}; //\n\n\n\tfunction AxisHelper(size) {\n\t\tconsole.warn('THREE.AxisHelper has been renamed to THREE.AxesHelper.');\n\t\treturn new AxesHelper(size);\n\t}\n\tfunction BoundingBoxHelper(object, color) {\n\t\tconsole.warn('THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.');\n\t\treturn new BoxHelper(object, color);\n\t}\n\tfunction EdgesHelper(object, hex) {\n\t\tconsole.warn('THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.');\n\t\treturn new LineSegments(new EdgesGeometry(object.geometry), new LineBasicMaterial({\n\t\t\tcolor: hex !== undefined ? hex : 0xffffff\n\t\t}));\n\t}\n\n\tGridHelper.prototype.setColors = function () {\n\t\tconsole.error('THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.');\n\t};\n\n\tSkeletonHelper.prototype.update = function () {\n\t\tconsole.error('THREE.SkeletonHelper: update() no longer needs to be called.');\n\t};\n\n\tfunction WireframeHelper(object, hex) {\n\t\tconsole.warn('THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.');\n\t\treturn new LineSegments(new WireframeGeometry(object.geometry), new LineBasicMaterial({\n\t\t\tcolor: hex !== undefined ? hex : 0xffffff\n\t\t}));\n\t} //\n\n\tLoader.prototype.extractUrlBase = function (url) {\n\t\tconsole.warn('THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.');\n\t\treturn LoaderUtils.extractUrlBase(url);\n\t};\n\n\tLoader.Handlers = {\n\t\tadd: function () {\n\t\t\tconsole.error('THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.');\n\t\t},\n\t\tget: function () {\n\t\t\tconsole.error('THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.');\n\t\t}\n\t};\n\tfunction XHRLoader(manager) {\n\t\tconsole.warn('THREE.XHRLoader has been renamed to THREE.FileLoader.');\n\t\treturn new FileLoader(manager);\n\t}\n\tfunction BinaryTextureLoader(manager) {\n\t\tconsole.warn('THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.');\n\t\treturn new DataTextureLoader(manager);\n\t} //\n\n\tBox2.prototype.center = function (optionalTarget) {\n\t\tconsole.warn('THREE.Box2: .center() has been renamed to .getCenter().');\n\t\treturn this.getCenter(optionalTarget);\n\t};\n\n\tBox2.prototype.empty = function () {\n\t\tconsole.warn('THREE.Box2: .empty() has been renamed to .isEmpty().');\n\t\treturn this.isEmpty();\n\t};\n\n\tBox2.prototype.isIntersectionBox = function (box) {\n\t\tconsole.warn('THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().');\n\t\treturn this.intersectsBox(box);\n\t};\n\n\tBox2.prototype.size = function (optionalTarget) {\n\t\tconsole.warn('THREE.Box2: .size() has been renamed to .getSize().');\n\t\treturn this.getSize(optionalTarget);\n\t}; //\n\n\n\tBox3.prototype.center = function (optionalTarget) {\n\t\tconsole.warn('THREE.Box3: .center() has been renamed to .getCenter().');\n\t\treturn this.getCenter(optionalTarget);\n\t};\n\n\tBox3.prototype.empty = function () {\n\t\tconsole.warn('THREE.Box3: .empty() has been renamed to .isEmpty().');\n\t\treturn this.isEmpty();\n\t};\n\n\tBox3.prototype.isIntersectionBox = function (box) {\n\t\tconsole.warn('THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().');\n\t\treturn this.intersectsBox(box);\n\t};\n\n\tBox3.prototype.isIntersectionSphere = function (sphere) {\n\t\tconsole.warn('THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().');\n\t\treturn this.intersectsSphere(sphere);\n\t};\n\n\tBox3.prototype.size = function (optionalTarget) {\n\t\tconsole.warn('THREE.Box3: .size() has been renamed to .getSize().');\n\t\treturn this.getSize(optionalTarget);\n\t}; //\n\n\n\tSphere.prototype.empty = function () {\n\t\tconsole.warn('THREE.Sphere: .empty() has been renamed to .isEmpty().');\n\t\treturn this.isEmpty();\n\t}; //\n\n\n\tFrustum.prototype.setFromMatrix = function (m) {\n\t\tconsole.warn('THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().');\n\t\treturn this.setFromProjectionMatrix(m);\n\t}; //\n\n\n\tLine3.prototype.center = function (optionalTarget) {\n\t\tconsole.warn('THREE.Line3: .center() has been renamed to .getCenter().');\n\t\treturn this.getCenter(optionalTarget);\n\t}; //\n\n\n\tMatrix3.prototype.flattenToArrayOffset = function (array, offset) {\n\t\tconsole.warn('THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.');\n\t\treturn this.toArray(array, offset);\n\t};\n\n\tMatrix3.prototype.multiplyVector3 = function (vector) {\n\t\tconsole.warn('THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.');\n\t\treturn vector.applyMatrix3(this);\n\t};\n\n\tMatrix3.prototype.multiplyVector3Array = function () {\n\t\tconsole.error('THREE.Matrix3: .multiplyVector3Array() has been removed.');\n\t};\n\n\tMatrix3.prototype.applyToBufferAttribute = function (attribute) {\n\t\tconsole.warn('THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.');\n\t\treturn attribute.applyMatrix3(this);\n\t};\n\n\tMatrix3.prototype.applyToVector3Array = function () {\n\t\tconsole.error('THREE.Matrix3: .applyToVector3Array() has been removed.');\n\t};\n\n\tMatrix3.prototype.getInverse = function (matrix) {\n\t\tconsole.warn('THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.');\n\t\treturn this.copy(matrix).invert();\n\t}; //\n\n\n\tMatrix4.prototype.extractPosition = function (m) {\n\t\tconsole.warn('THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().');\n\t\treturn this.copyPosition(m);\n\t};\n\n\tMatrix4.prototype.flattenToArrayOffset = function (array, offset) {\n\t\tconsole.warn('THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.');\n\t\treturn this.toArray(array, offset);\n\t};\n\n\tMatrix4.prototype.getPosition = function () {\n\t\tconsole.warn('THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.');\n\t\treturn new Vector3().setFromMatrixColumn(this, 3);\n\t};\n\n\tMatrix4.prototype.setRotationFromQuaternion = function (q) {\n\t\tconsole.warn('THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().');\n\t\treturn this.makeRotationFromQuaternion(q);\n\t};\n\n\tMatrix4.prototype.multiplyToArray = function () {\n\t\tconsole.warn('THREE.Matrix4: .multiplyToArray() has been removed.');\n\t};\n\n\tMatrix4.prototype.multiplyVector3 = function (vector) {\n\t\tconsole.warn('THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.');\n\t\treturn vector.applyMatrix4(this);\n\t};\n\n\tMatrix4.prototype.multiplyVector4 = function (vector) {\n\t\tconsole.warn('THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.');\n\t\treturn vector.applyMatrix4(this);\n\t};\n\n\tMatrix4.prototype.multiplyVector3Array = function () {\n\t\tconsole.error('THREE.Matrix4: .multiplyVector3Array() has been removed.');\n\t};\n\n\tMatrix4.prototype.rotateAxis = function (v) {\n\t\tconsole.warn('THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.');\n\t\tv.transformDirection(this);\n\t};\n\n\tMatrix4.prototype.crossVector = function (vector) {\n\t\tconsole.warn('THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.');\n\t\treturn vector.applyMatrix4(this);\n\t};\n\n\tMatrix4.prototype.translate = function () {\n\t\tconsole.error('THREE.Matrix4: .translate() has been removed.');\n\t};\n\n\tMatrix4.prototype.rotateX = function () {\n\t\tconsole.error('THREE.Matrix4: .rotateX() has been removed.');\n\t};\n\n\tMatrix4.prototype.rotateY = function () {\n\t\tconsole.error('THREE.Matrix4: .rotateY() has been removed.');\n\t};\n\n\tMatrix4.prototype.rotateZ = function () {\n\t\tconsole.error('THREE.Matrix4: .rotateZ() has been removed.');\n\t};\n\n\tMatrix4.prototype.rotateByAxis = function () {\n\t\tconsole.error('THREE.Matrix4: .rotateByAxis() has been removed.');\n\t};\n\n\tMatrix4.prototype.applyToBufferAttribute = function (attribute) {\n\t\tconsole.warn('THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.');\n\t\treturn attribute.applyMatrix4(this);\n\t};\n\n\tMatrix4.prototype.applyToVector3Array = function () {\n\t\tconsole.error('THREE.Matrix4: .applyToVector3Array() has been removed.');\n\t};\n\n\tMatrix4.prototype.makeFrustum = function (left, right, bottom, top, near, far) {\n\t\tconsole.warn('THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.');\n\t\treturn this.makePerspective(left, right, top, bottom, near, far);\n\t};\n\n\tMatrix4.prototype.getInverse = function (matrix) {\n\t\tconsole.warn('THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.');\n\t\treturn this.copy(matrix).invert();\n\t}; //\n\n\n\tPlane.prototype.isIntersectionLine = function (line) {\n\t\tconsole.warn('THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().');\n\t\treturn this.intersectsLine(line);\n\t}; //\n\n\n\tQuaternion.prototype.multiplyVector3 = function (vector) {\n\t\tconsole.warn('THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.');\n\t\treturn vector.applyQuaternion(this);\n\t};\n\n\tQuaternion.prototype.inverse = function () {\n\t\tconsole.warn('THREE.Quaternion: .inverse() has been renamed to invert().');\n\t\treturn this.invert();\n\t}; //\n\n\n\tRay.prototype.isIntersectionBox = function (box) {\n\t\tconsole.warn('THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().');\n\t\treturn this.intersectsBox(box);\n\t};\n\n\tRay.prototype.isIntersectionPlane = function (plane) {\n\t\tconsole.warn('THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().');\n\t\treturn this.intersectsPlane(plane);\n\t};\n\n\tRay.prototype.isIntersectionSphere = function (sphere) {\n\t\tconsole.warn('THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().');\n\t\treturn this.intersectsSphere(sphere);\n\t}; //\n\n\n\tTriangle.prototype.area = function () {\n\t\tconsole.warn('THREE.Triangle: .area() has been renamed to .getArea().');\n\t\treturn this.getArea();\n\t};\n\n\tTriangle.prototype.barycoordFromPoint = function (point, target) {\n\t\tconsole.warn('THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().');\n\t\treturn this.getBarycoord(point, target);\n\t};\n\n\tTriangle.prototype.midpoint = function (target) {\n\t\tconsole.warn('THREE.Triangle: .midpoint() has been renamed to .getMidpoint().');\n\t\treturn this.getMidpoint(target);\n\t};\n\n\tTriangle.prototypenormal = function (target) {\n\t\tconsole.warn('THREE.Triangle: .normal() has been renamed to .getNormal().');\n\t\treturn this.getNormal(target);\n\t};\n\n\tTriangle.prototype.plane = function (target) {\n\t\tconsole.warn('THREE.Triangle: .plane() has been renamed to .getPlane().');\n\t\treturn this.getPlane(target);\n\t};\n\n\tTriangle.barycoordFromPoint = function (point, a, b, c, target) {\n\t\tconsole.warn('THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().');\n\t\treturn Triangle.getBarycoord(point, a, b, c, target);\n\t};\n\n\tTriangle.normal = function (a, b, c, target) {\n\t\tconsole.warn('THREE.Triangle: .normal() has been renamed to .getNormal().');\n\t\treturn Triangle.getNormal(a, b, c, target);\n\t}; //\n\n\n\tShape.prototype.extractAllPoints = function (divisions) {\n\t\tconsole.warn('THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.');\n\t\treturn this.extractPoints(divisions);\n\t};\n\n\tShape.prototype.extrude = function (options) {\n\t\tconsole.warn('THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.');\n\t\treturn new ExtrudeGeometry(this, options);\n\t};\n\n\tShape.prototype.makeGeometry = function (options) {\n\t\tconsole.warn('THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.');\n\t\treturn new ShapeGeometry(this, options);\n\t}; //\n\n\n\tVector2.prototype.fromAttribute = function (attribute, index, offset) {\n\t\tconsole.warn('THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().');\n\t\treturn this.fromBufferAttribute(attribute, index, offset);\n\t};\n\n\tVector2.prototype.distanceToManhattan = function (v) {\n\t\tconsole.warn('THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().');\n\t\treturn this.manhattanDistanceTo(v);\n\t};\n\n\tVector2.prototype.lengthManhattan = function () {\n\t\tconsole.warn('THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().');\n\t\treturn this.manhattanLength();\n\t}; //\n\n\n\tVector3.prototype.setEulerFromRotationMatrix = function () {\n\t\tconsole.error('THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.');\n\t};\n\n\tVector3.prototype.setEulerFromQuaternion = function () {\n\t\tconsole.error('THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.');\n\t};\n\n\tVector3.prototype.getPositionFromMatrix = function (m) {\n\t\tconsole.warn('THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().');\n\t\treturn this.setFromMatrixPosition(m);\n\t};\n\n\tVector3.prototype.getScaleFromMatrix = function (m) {\n\t\tconsole.warn('THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().');\n\t\treturn this.setFromMatrixScale(m);\n\t};\n\n\tVector3.prototype.getColumnFromMatrix = function (index, matrix) {\n\t\tconsole.warn('THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().');\n\t\treturn this.setFromMatrixColumn(matrix, index);\n\t};\n\n\tVector3.prototype.applyProjection = function (m) {\n\t\tconsole.warn('THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.');\n\t\treturn this.applyMatrix4(m);\n\t};\n\n\tVector3.prototype.fromAttribute = function (attribute, index, offset) {\n\t\tconsole.warn('THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().');\n\t\treturn this.fromBufferAttribute(attribute, index, offset);\n\t};\n\n\tVector3.prototype.distanceToManhattan = function (v) {\n\t\tconsole.warn('THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().');\n\t\treturn this.manhattanDistanceTo(v);\n\t};\n\n\tVector3.prototype.lengthManhattan = function () {\n\t\tconsole.warn('THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().');\n\t\treturn this.manhattanLength();\n\t}; //\n\n\n\tVector4.prototype.fromAttribute = function (attribute, index, offset) {\n\t\tconsole.warn('THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().');\n\t\treturn this.fromBufferAttribute(attribute, index, offset);\n\t};\n\n\tVector4.prototype.lengthManhattan = function () {\n\t\tconsole.warn('THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().');\n\t\treturn this.manhattanLength();\n\t}; //\n\n\n\tObject3D.prototype.getChildByName = function (name) {\n\t\tconsole.warn('THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().');\n\t\treturn this.getObjectByName(name);\n\t};\n\n\tObject3D.prototype.renderDepth = function () {\n\t\tconsole.warn('THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.');\n\t};\n\n\tObject3D.prototype.translate = function (distance, axis) {\n\t\tconsole.warn('THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.');\n\t\treturn this.translateOnAxis(axis, distance);\n\t};\n\n\tObject3D.prototype.getWorldRotation = function () {\n\t\tconsole.error('THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.');\n\t};\n\n\tObject3D.prototype.applyMatrix = function (matrix) {\n\t\tconsole.warn('THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().');\n\t\treturn this.applyMatrix4(matrix);\n\t};\n\n\tObject.defineProperties(Object3D.prototype, {\n\t\teulerOrder: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');\n\t\t\t\treturn this.rotation.order;\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');\n\t\t\t\tthis.rotation.order = value;\n\t\t\t}\n\t\t},\n\t\tuseQuaternion: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');\n\t\t\t},\n\t\t\tset: function () {\n\t\t\t\tconsole.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');\n\t\t\t}\n\t\t}\n\t});\n\n\tMesh.prototype.setDrawMode = function () {\n\t\tconsole.error('THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.');\n\t};\n\n\tObject.defineProperties(Mesh.prototype, {\n\t\tdrawMode: {\n\t\t\tget: function () {\n\t\t\t\tconsole.error('THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.');\n\t\t\t\treturn TrianglesDrawMode;\n\t\t\t},\n\t\t\tset: function () {\n\t\t\t\tconsole.error('THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.');\n\t\t\t}\n\t\t}\n\t});\n\n\tSkinnedMesh.prototype.initBones = function () {\n\t\tconsole.error('THREE.SkinnedMesh: initBones() has been removed.');\n\t}; //\n\n\n\tPerspectiveCamera.prototype.setLens = function (focalLength, filmGauge) {\n\t\tconsole.warn('THREE.PerspectiveCamera.setLens is deprecated. ' + 'Use .setFocalLength and .filmGauge for a photographic setup.');\n\t\tif (filmGauge !== undefined) this.filmGauge = filmGauge;\n\t\tthis.setFocalLength(focalLength);\n\t}; //\n\n\n\tObject.defineProperties(Light.prototype, {\n\t\tonlyShadow: {\n\t\t\tset: function () {\n\t\t\t\tconsole.warn('THREE.Light: .onlyShadow has been removed.');\n\t\t\t}\n\t\t},\n\t\tshadowCameraFov: {\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.Light: .shadowCameraFov is now .shadow.camera.fov.');\n\t\t\t\tthis.shadow.camera.fov = value;\n\t\t\t}\n\t\t},\n\t\tshadowCameraLeft: {\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.Light: .shadowCameraLeft is now .shadow.camera.left.');\n\t\t\t\tthis.shadow.camera.left = value;\n\t\t\t}\n\t\t},\n\t\tshadowCameraRight: {\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.Light: .shadowCameraRight is now .shadow.camera.right.');\n\t\t\t\tthis.shadow.camera.right = value;\n\t\t\t}\n\t\t},\n\t\tshadowCameraTop: {\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.Light: .shadowCameraTop is now .shadow.camera.top.');\n\t\t\t\tthis.shadow.camera.top = value;\n\t\t\t}\n\t\t},\n\t\tshadowCameraBottom: {\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.');\n\t\t\t\tthis.shadow.camera.bottom = value;\n\t\t\t}\n\t\t},\n\t\tshadowCameraNear: {\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.Light: .shadowCameraNear is now .shadow.camera.near.');\n\t\t\t\tthis.shadow.camera.near = value;\n\t\t\t}\n\t\t},\n\t\tshadowCameraFar: {\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.Light: .shadowCameraFar is now .shadow.camera.far.');\n\t\t\t\tthis.shadow.camera.far = value;\n\t\t\t}\n\t\t},\n\t\tshadowCameraVisible: {\n\t\t\tset: function () {\n\t\t\t\tconsole.warn('THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.');\n\t\t\t}\n\t\t},\n\t\tshadowBias: {\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.Light: .shadowBias is now .shadow.bias.');\n\t\t\t\tthis.shadow.bias = value;\n\t\t\t}\n\t\t},\n\t\tshadowDarkness: {\n\t\t\tset: function () {\n\t\t\t\tconsole.warn('THREE.Light: .shadowDarkness has been removed.');\n\t\t\t}\n\t\t},\n\t\tshadowMapWidth: {\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.');\n\t\t\t\tthis.shadow.mapSize.width = value;\n\t\t\t}\n\t\t},\n\t\tshadowMapHeight: {\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.');\n\t\t\t\tthis.shadow.mapSize.height = value;\n\t\t\t}\n\t\t}\n\t}); //\n\n\tObject.defineProperties(BufferAttribute.prototype, {\n\t\tlength: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.BufferAttribute: .length has been deprecated. Use .count instead.');\n\t\t\t\treturn this.array.length;\n\t\t\t}\n\t\t},\n\t\tdynamic: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.');\n\t\t\t\treturn this.usage === DynamicDrawUsage;\n\t\t\t},\n\t\t\tset: function () {\n\t\t\t\tconsole.warn('THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.');\n\t\t\t\tthis.setUsage(DynamicDrawUsage);\n\t\t\t}\n\t\t}\n\t});\n\n\tBufferAttribute.prototype.setDynamic = function (value) {\n\t\tconsole.warn('THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.');\n\t\tthis.setUsage(value === true ? DynamicDrawUsage : StaticDrawUsage);\n\t\treturn this;\n\t};\n\n\tBufferAttribute.prototype.copyIndicesArray = function () {\n\t\tconsole.error('THREE.BufferAttribute: .copyIndicesArray() has been removed.');\n\t}, BufferAttribute.prototype.setArray = function () {\n\t\tconsole.error('THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers');\n\t}; //\n\n\tBufferGeometry.prototype.addIndex = function (index) {\n\t\tconsole.warn('THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().');\n\t\tthis.setIndex(index);\n\t};\n\n\tBufferGeometry.prototype.addAttribute = function (name, attribute) {\n\t\tconsole.warn('THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().');\n\n\t\tif (!(attribute && attribute.isBufferAttribute) && !(attribute && attribute.isInterleavedBufferAttribute)) {\n\t\t\tconsole.warn('THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).');\n\t\t\treturn this.setAttribute(name, new BufferAttribute(arguments[1], arguments[2]));\n\t\t}\n\n\t\tif (name === 'index') {\n\t\t\tconsole.warn('THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.');\n\t\t\tthis.setIndex(attribute);\n\t\t\treturn this;\n\t\t}\n\n\t\treturn this.setAttribute(name, attribute);\n\t};\n\n\tBufferGeometry.prototype.addDrawCall = function (start, count, indexOffset) {\n\t\tif (indexOffset !== undefined) {\n\t\t\tconsole.warn('THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.');\n\t\t}\n\n\t\tconsole.warn('THREE.BufferGeometry: .addDrawCall() is now .addGroup().');\n\t\tthis.addGroup(start, count);\n\t};\n\n\tBufferGeometry.prototype.clearDrawCalls = function () {\n\t\tconsole.warn('THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().');\n\t\tthis.clearGroups();\n\t};\n\n\tBufferGeometry.prototype.computeOffsets = function () {\n\t\tconsole.warn('THREE.BufferGeometry: .computeOffsets() has been removed.');\n\t};\n\n\tBufferGeometry.prototype.removeAttribute = function (name) {\n\t\tconsole.warn('THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().');\n\t\treturn this.deleteAttribute(name);\n\t};\n\n\tBufferGeometry.prototype.applyMatrix = function (matrix) {\n\t\tconsole.warn('THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().');\n\t\treturn this.applyMatrix4(matrix);\n\t};\n\n\tObject.defineProperties(BufferGeometry.prototype, {\n\t\tdrawcalls: {\n\t\t\tget: function () {\n\t\t\t\tconsole.error('THREE.BufferGeometry: .drawcalls has been renamed to .groups.');\n\t\t\t\treturn this.groups;\n\t\t\t}\n\t\t},\n\t\toffsets: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.BufferGeometry: .offsets has been renamed to .groups.');\n\t\t\t\treturn this.groups;\n\t\t\t}\n\t\t}\n\t});\n\n\tInterleavedBuffer.prototype.setDynamic = function (value) {\n\t\tconsole.warn('THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.');\n\t\tthis.setUsage(value === true ? DynamicDrawUsage : StaticDrawUsage);\n\t\treturn this;\n\t};\n\n\tInterleavedBuffer.prototype.setArray = function () {\n\t\tconsole.error('THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers');\n\t}; //\n\n\n\tExtrudeGeometry.prototype.getArrays = function () {\n\t\tconsole.error('THREE.ExtrudeGeometry: .getArrays() has been removed.');\n\t};\n\n\tExtrudeGeometry.prototype.addShapeList = function () {\n\t\tconsole.error('THREE.ExtrudeGeometry: .addShapeList() has been removed.');\n\t};\n\n\tExtrudeGeometry.prototype.addShape = function () {\n\t\tconsole.error('THREE.ExtrudeGeometry: .addShape() has been removed.');\n\t}; //\n\n\n\tScene.prototype.dispose = function () {\n\t\tconsole.error('THREE.Scene: .dispose() has been removed.');\n\t}; //\n\n\n\tUniform.prototype.onUpdate = function () {\n\t\tconsole.warn('THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.');\n\t\treturn this;\n\t}; //\n\n\n\tObject.defineProperties(Material.prototype, {\n\t\twrapAround: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.Material: .wrapAround has been removed.');\n\t\t\t},\n\t\t\tset: function () {\n\t\t\t\tconsole.warn('THREE.Material: .wrapAround has been removed.');\n\t\t\t}\n\t\t},\n\t\toverdraw: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.Material: .overdraw has been removed.');\n\t\t\t},\n\t\t\tset: function () {\n\t\t\t\tconsole.warn('THREE.Material: .overdraw has been removed.');\n\t\t\t}\n\t\t},\n\t\twrapRGB: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.Material: .wrapRGB has been removed.');\n\t\t\t\treturn new Color();\n\t\t\t}\n\t\t},\n\t\tshading: {\n\t\t\tget: function () {\n\t\t\t\tconsole.error('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');\n\t\t\t\tthis.flatShading = value === FlatShading;\n\t\t\t}\n\t\t},\n\t\tstencilMask: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.');\n\t\t\t\treturn this.stencilFuncMask;\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.');\n\t\t\t\tthis.stencilFuncMask = value;\n\t\t\t}\n\t\t},\n\t\tvertexTangents: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.' + this.type + ': .vertexTangents has been removed.');\n\t\t\t},\n\t\t\tset: function () {\n\t\t\t\tconsole.warn('THREE.' + this.type + ': .vertexTangents has been removed.');\n\t\t\t}\n\t\t}\n\t});\n\tObject.defineProperties(ShaderMaterial.prototype, {\n\t\tderivatives: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');\n\t\t\t\treturn this.extensions.derivatives;\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');\n\t\t\t\tthis.extensions.derivatives = value;\n\t\t\t}\n\t\t}\n\t}); //\n\n\tWebGLRenderer.prototype.clearTarget = function (renderTarget, color, depth, stencil) {\n\t\tconsole.warn('THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.');\n\t\tthis.setRenderTarget(renderTarget);\n\t\tthis.clear(color, depth, stencil);\n\t};\n\n\tWebGLRenderer.prototype.animate = function (callback) {\n\t\tconsole.warn('THREE.WebGLRenderer: .animate() is now .setAnimationLoop().');\n\t\tthis.setAnimationLoop(callback);\n\t};\n\n\tWebGLRenderer.prototype.getCurrentRenderTarget = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().');\n\t\treturn this.getRenderTarget();\n\t};\n\n\tWebGLRenderer.prototype.getMaxAnisotropy = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().');\n\t\treturn this.capabilities.getMaxAnisotropy();\n\t};\n\n\tWebGLRenderer.prototype.getPrecision = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.');\n\t\treturn this.capabilities.precision;\n\t};\n\n\tWebGLRenderer.prototype.resetGLState = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .resetGLState() is now .state.reset().');\n\t\treturn this.state.reset();\n\t};\n\n\tWebGLRenderer.prototype.supportsFloatTextures = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).');\n\t\treturn this.extensions.get('OES_texture_float');\n\t};\n\n\tWebGLRenderer.prototype.supportsHalfFloatTextures = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).');\n\t\treturn this.extensions.get('OES_texture_half_float');\n\t};\n\n\tWebGLRenderer.prototype.supportsStandardDerivatives = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).');\n\t\treturn this.extensions.get('OES_standard_derivatives');\n\t};\n\n\tWebGLRenderer.prototype.supportsCompressedTextureS3TC = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).');\n\t\treturn this.extensions.get('WEBGL_compressed_texture_s3tc');\n\t};\n\n\tWebGLRenderer.prototype.supportsCompressedTexturePVRTC = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).');\n\t\treturn this.extensions.get('WEBGL_compressed_texture_pvrtc');\n\t};\n\n\tWebGLRenderer.prototype.supportsBlendMinMax = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).');\n\t\treturn this.extensions.get('EXT_blend_minmax');\n\t};\n\n\tWebGLRenderer.prototype.supportsVertexTextures = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.');\n\t\treturn this.capabilities.vertexTextures;\n\t};\n\n\tWebGLRenderer.prototype.supportsInstancedArrays = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).');\n\t\treturn this.extensions.get('ANGLE_instanced_arrays');\n\t};\n\n\tWebGLRenderer.prototype.enableScissorTest = function (boolean) {\n\t\tconsole.warn('THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().');\n\t\tthis.setScissorTest(boolean);\n\t};\n\n\tWebGLRenderer.prototype.initMaterial = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .initMaterial() has been removed.');\n\t};\n\n\tWebGLRenderer.prototype.addPrePlugin = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .addPrePlugin() has been removed.');\n\t};\n\n\tWebGLRenderer.prototype.addPostPlugin = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .addPostPlugin() has been removed.');\n\t};\n\n\tWebGLRenderer.prototype.updateShadowMap = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .updateShadowMap() has been removed.');\n\t};\n\n\tWebGLRenderer.prototype.setFaceCulling = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .setFaceCulling() has been removed.');\n\t};\n\n\tWebGLRenderer.prototype.allocTextureUnit = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .allocTextureUnit() has been removed.');\n\t};\n\n\tWebGLRenderer.prototype.setTexture = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .setTexture() has been removed.');\n\t};\n\n\tWebGLRenderer.prototype.setTexture2D = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .setTexture2D() has been removed.');\n\t};\n\n\tWebGLRenderer.prototype.setTextureCube = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .setTextureCube() has been removed.');\n\t};\n\n\tWebGLRenderer.prototype.getActiveMipMapLevel = function () {\n\t\tconsole.warn('THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().');\n\t\treturn this.getActiveMipmapLevel();\n\t};\n\n\tObject.defineProperties(WebGLRenderer.prototype, {\n\t\tshadowMapEnabled: {\n\t\t\tget: function () {\n\t\t\t\treturn this.shadowMap.enabled;\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.');\n\t\t\t\tthis.shadowMap.enabled = value;\n\t\t\t}\n\t\t},\n\t\tshadowMapType: {\n\t\t\tget: function () {\n\t\t\t\treturn this.shadowMap.type;\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.');\n\t\t\t\tthis.shadowMap.type = value;\n\t\t\t}\n\t\t},\n\t\tshadowMapCullFace: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.');\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tset: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.');\n\t\t\t}\n\t\t},\n\t\tcontext: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.');\n\t\t\t\treturn this.getContext();\n\t\t\t}\n\t\t},\n\t\tvr: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .vr has been renamed to .xr');\n\t\t\t\treturn this.xr;\n\t\t\t}\n\t\t},\n\t\tgammaInput: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.');\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tset: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.');\n\t\t\t}\n\t\t},\n\t\tgammaOutput: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.');\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.');\n\t\t\t\tthis.outputEncoding = value === true ? sRGBEncoding : LinearEncoding;\n\t\t\t}\n\t\t},\n\t\ttoneMappingWhitePoint: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.');\n\t\t\t\treturn 1.0;\n\t\t\t},\n\t\t\tset: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.');\n\t\t\t}\n\t\t},\n\t\tgammaFactor: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .gammaFactor has been removed.');\n\t\t\t\treturn 2;\n\t\t\t},\n\t\t\tset: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .gammaFactor has been removed.');\n\t\t\t}\n\t\t}\n\t});\n\tObject.defineProperties(WebGLShadowMap.prototype, {\n\t\tcullFace: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.');\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tset: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.');\n\t\t\t}\n\t\t},\n\t\trenderReverseSided: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.');\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tset: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.');\n\t\t\t}\n\t\t},\n\t\trenderSingleSided: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.');\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tset: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.');\n\t\t\t}\n\t\t}\n\t});\n\tfunction WebGLRenderTargetCube(width, height, options) {\n\t\tconsole.warn('THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).');\n\t\treturn new WebGLCubeRenderTarget(width, options);\n\t} //\n\n\tObject.defineProperties(WebGLRenderTarget.prototype, {\n\t\twrapS: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');\n\t\t\t\treturn this.texture.wrapS;\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');\n\t\t\t\tthis.texture.wrapS = value;\n\t\t\t}\n\t\t},\n\t\twrapT: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');\n\t\t\t\treturn this.texture.wrapT;\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');\n\t\t\t\tthis.texture.wrapT = value;\n\t\t\t}\n\t\t},\n\t\tmagFilter: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');\n\t\t\t\treturn this.texture.magFilter;\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');\n\t\t\t\tthis.texture.magFilter = value;\n\t\t\t}\n\t\t},\n\t\tminFilter: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');\n\t\t\t\treturn this.texture.minFilter;\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');\n\t\t\t\tthis.texture.minFilter = value;\n\t\t\t}\n\t\t},\n\t\tanisotropy: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');\n\t\t\t\treturn this.texture.anisotropy;\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');\n\t\t\t\tthis.texture.anisotropy = value;\n\t\t\t}\n\t\t},\n\t\toffset: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');\n\t\t\t\treturn this.texture.offset;\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');\n\t\t\t\tthis.texture.offset = value;\n\t\t\t}\n\t\t},\n\t\trepeat: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');\n\t\t\t\treturn this.texture.repeat;\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');\n\t\t\t\tthis.texture.repeat = value;\n\t\t\t}\n\t\t},\n\t\tformat: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');\n\t\t\t\treturn this.texture.format;\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');\n\t\t\t\tthis.texture.format = value;\n\t\t\t}\n\t\t},\n\t\ttype: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');\n\t\t\t\treturn this.texture.type;\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');\n\t\t\t\tthis.texture.type = value;\n\t\t\t}\n\t\t},\n\t\tgenerateMipmaps: {\n\t\t\tget: function () {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');\n\t\t\t\treturn this.texture.generateMipmaps;\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\tconsole.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');\n\t\t\t\tthis.texture.generateMipmaps = value;\n\t\t\t}\n\t\t}\n\t}); //\n\n\tAudio.prototype.load = function (file) {\n\t\tconsole.warn('THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.');\n\t\tconst scope = this;\n\t\tconst audioLoader = new AudioLoader();\n\t\taudioLoader.load(file, function (buffer) {\n\t\t\tscope.setBuffer(buffer);\n\t\t});\n\t\treturn this;\n\t};\n\n\tAudioAnalyser.prototype.getData = function () {\n\t\tconsole.warn('THREE.AudioAnalyser: .getData() is now .getFrequencyData().');\n\t\treturn this.getFrequencyData();\n\t}; //\n\n\n\tCubeCamera.prototype.updateCubeMap = function (renderer, scene) {\n\t\tconsole.warn('THREE.CubeCamera: .updateCubeMap() is now .update().');\n\t\treturn this.update(renderer, scene);\n\t};\n\n\tCubeCamera.prototype.clear = function (renderer, color, depth, stencil) {\n\t\tconsole.warn('THREE.CubeCamera: .clear() is now .renderTarget.clear().');\n\t\treturn this.renderTarget.clear(renderer, color, depth, stencil);\n\t};\n\n\tImageUtils.crossOrigin = undefined;\n\n\tImageUtils.loadTexture = function (url, mapping, onLoad, onError) {\n\t\tconsole.warn('THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.');\n\t\tconst loader = new TextureLoader();\n\t\tloader.setCrossOrigin(this.crossOrigin);\n\t\tconst texture = loader.load(url, onLoad, undefined, onError);\n\t\tif (mapping) texture.mapping = mapping;\n\t\treturn texture;\n\t};\n\n\tImageUtils.loadTextureCube = function (urls, mapping, onLoad, onError) {\n\t\tconsole.warn('THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.');\n\t\tconst loader = new CubeTextureLoader();\n\t\tloader.setCrossOrigin(this.crossOrigin);\n\t\tconst texture = loader.load(urls, onLoad, undefined, onError);\n\t\tif (mapping) texture.mapping = mapping;\n\t\treturn texture;\n\t};\n\n\tImageUtils.loadCompressedTexture = function () {\n\t\tconsole.error('THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.');\n\t};\n\n\tImageUtils.loadCompressedTextureCube = function () {\n\t\tconsole.error('THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.');\n\t}; //\n\n\n\tfunction CanvasRenderer() {\n\t\tconsole.error('THREE.CanvasRenderer has been removed');\n\t} //\n\n\tfunction JSONLoader() {\n\t\tconsole.error('THREE.JSONLoader has been removed.');\n\t} //\n\n\tconst SceneUtils = {\n\t\tcreateMultiMaterialObject: function () {\n\t\t\tconsole.error('THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js');\n\t\t},\n\t\tdetach: function () {\n\t\t\tconsole.error('THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js');\n\t\t},\n\t\tattach: function () {\n\t\t\tconsole.error('THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js');\n\t\t}\n\t}; //\n\n\tfunction LensFlare() {\n\t\tconsole.error('THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js');\n\t} //\n\n\tfunction ParametricGeometry() {\n\t\tconsole.error('THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js');\n\t\treturn new BufferGeometry();\n\t}\n\tfunction TextGeometry() {\n\t\tconsole.error('THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js');\n\t\treturn new BufferGeometry();\n\t}\n\tfunction FontLoader() {\n\t\tconsole.error('THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js');\n\t}\n\tfunction Font() {\n\t\tconsole.error('THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js');\n\t}\n\tfunction ImmediateRenderObject() {\n\t\tconsole.error('THREE.ImmediateRenderObject has been removed.');\n\t}\n\n\tif (typeof __THREE_DEVTOOLS__ !== 'undefined') {\n\t\t__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('register', {\n\t\t\tdetail: {\n\t\t\t\trevision: REVISION\n\t\t\t}\n\t\t}));\n\t}\n\n\tif (typeof window !== 'undefined') {\n\t\tif (window.__THREE__) {\n\t\t\tconsole.warn('WARNING: Multiple instances of Three.js being imported.');\n\t\t} else {\n\t\t\twindow.__THREE__ = REVISION;\n\t\t}\n\t}\n\n\texports.ACESFilmicToneMapping = ACESFilmicToneMapping;\n\texports.AddEquation = AddEquation;\n\texports.AddOperation = AddOperation;\n\texports.AdditiveAnimationBlendMode = AdditiveAnimationBlendMode;\n\texports.AdditiveBlending = AdditiveBlending;\n\texports.AlphaFormat = AlphaFormat;\n\texports.AlwaysDepth = AlwaysDepth;\n\texports.AlwaysStencilFunc = AlwaysStencilFunc;\n\texports.AmbientLight = AmbientLight;\n\texports.AmbientLightProbe = AmbientLightProbe;\n\texports.AnimationClip = AnimationClip;\n\texports.AnimationLoader = AnimationLoader;\n\texports.AnimationMixer = AnimationMixer;\n\texports.AnimationObjectGroup = AnimationObjectGroup;\n\texports.AnimationUtils = AnimationUtils;\n\texports.ArcCurve = ArcCurve;\n\texports.ArrayCamera = ArrayCamera;\n\texports.ArrowHelper = ArrowHelper;\n\texports.Audio = Audio;\n\texports.AudioAnalyser = AudioAnalyser;\n\texports.AudioContext = AudioContext;\n\texports.AudioListener = AudioListener;\n\texports.AudioLoader = AudioLoader;\n\texports.AxesHelper = AxesHelper;\n\texports.AxisHelper = AxisHelper;\n\texports.BackSide = BackSide;\n\texports.BasicDepthPacking = BasicDepthPacking;\n\texports.BasicShadowMap = BasicShadowMap;\n\texports.BinaryTextureLoader = BinaryTextureLoader;\n\texports.Bone = Bone;\n\texports.BooleanKeyframeTrack = BooleanKeyframeTrack;\n\texports.BoundingBoxHelper = BoundingBoxHelper;\n\texports.Box2 = Box2;\n\texports.Box3 = Box3;\n\texports.Box3Helper = Box3Helper;\n\texports.BoxBufferGeometry = BoxGeometry;\n\texports.BoxGeometry = BoxGeometry;\n\texports.BoxHelper = BoxHelper;\n\texports.BufferAttribute = BufferAttribute;\n\texports.BufferGeometry = BufferGeometry;\n\texports.BufferGeometryLoader = BufferGeometryLoader;\n\texports.ByteType = ByteType;\n\texports.Cache = Cache;\n\texports.Camera = Camera;\n\texports.CameraHelper = CameraHelper;\n\texports.CanvasRenderer = CanvasRenderer;\n\texports.CanvasTexture = CanvasTexture;\n\texports.CatmullRomCurve3 = CatmullRomCurve3;\n\texports.CineonToneMapping = CineonToneMapping;\n\texports.CircleBufferGeometry = CircleGeometry;\n\texports.CircleGeometry = CircleGeometry;\n\texports.ClampToEdgeWrapping = ClampToEdgeWrapping;\n\texports.Clock = Clock;\n\texports.Color = Color;\n\texports.ColorKeyframeTrack = ColorKeyframeTrack;\n\texports.CompressedTexture = CompressedTexture;\n\texports.CompressedTextureLoader = CompressedTextureLoader;\n\texports.ConeBufferGeometry = ConeGeometry;\n\texports.ConeGeometry = ConeGeometry;\n\texports.CubeCamera = CubeCamera;\n\texports.CubeReflectionMapping = CubeReflectionMapping;\n\texports.CubeRefractionMapping = CubeRefractionMapping;\n\texports.CubeTexture = CubeTexture;\n\texports.CubeTextureLoader = CubeTextureLoader;\n\texports.CubeUVReflectionMapping = CubeUVReflectionMapping;\n\texports.CubeUVRefractionMapping = CubeUVRefractionMapping;\n\texports.CubicBezierCurve = CubicBezierCurve;\n\texports.CubicBezierCurve3 = CubicBezierCurve3;\n\texports.CubicInterpolant = CubicInterpolant;\n\texports.CullFaceBack = CullFaceBack;\n\texports.CullFaceFront = CullFaceFront;\n\texports.CullFaceFrontBack = CullFaceFrontBack;\n\texports.CullFaceNone = CullFaceNone;\n\texports.Curve = Curve;\n\texports.CurvePath = CurvePath;\n\texports.CustomBlending = CustomBlending;\n\texports.CustomToneMapping = CustomToneMapping;\n\texports.CylinderBufferGeometry = CylinderGeometry;\n\texports.CylinderGeometry = CylinderGeometry;\n\texports.Cylindrical = Cylindrical;\n\texports.DataTexture = DataTexture;\n\texports.DataTexture2DArray = DataTexture2DArray;\n\texports.DataTexture3D = DataTexture3D;\n\texports.DataTextureLoader = DataTextureLoader;\n\texports.DataUtils = DataUtils;\n\texports.DecrementStencilOp = DecrementStencilOp;\n\texports.DecrementWrapStencilOp = DecrementWrapStencilOp;\n\texports.DefaultLoadingManager = DefaultLoadingManager;\n\texports.DepthFormat = DepthFormat;\n\texports.DepthStencilFormat = DepthStencilFormat;\n\texports.DepthTexture = DepthTexture;\n\texports.DirectionalLight = DirectionalLight;\n\texports.DirectionalLightHelper = DirectionalLightHelper;\n\texports.DiscreteInterpolant = DiscreteInterpolant;\n\texports.DodecahedronBufferGeometry = DodecahedronGeometry;\n\texports.DodecahedronGeometry = DodecahedronGeometry;\n\texports.DoubleSide = DoubleSide;\n\texports.DstAlphaFactor = DstAlphaFactor;\n\texports.DstColorFactor = DstColorFactor;\n\texports.DynamicBufferAttribute = DynamicBufferAttribute;\n\texports.DynamicCopyUsage = DynamicCopyUsage;\n\texports.DynamicDrawUsage = DynamicDrawUsage;\n\texports.DynamicReadUsage = DynamicReadUsage;\n\texports.EdgesGeometry = EdgesGeometry;\n\texports.EdgesHelper = EdgesHelper;\n\texports.EllipseCurve = EllipseCurve;\n\texports.EqualDepth = EqualDepth;\n\texports.EqualStencilFunc = EqualStencilFunc;\n\texports.EquirectangularReflectionMapping = EquirectangularReflectionMapping;\n\texports.EquirectangularRefractionMapping = EquirectangularRefractionMapping;\n\texports.Euler = Euler;\n\texports.EventDispatcher = EventDispatcher;\n\texports.ExtrudeBufferGeometry = ExtrudeGeometry;\n\texports.ExtrudeGeometry = ExtrudeGeometry;\n\texports.FaceColors = FaceColors;\n\texports.FileLoader = FileLoader;\n\texports.FlatShading = FlatShading;\n\texports.Float16BufferAttribute = Float16BufferAttribute;\n\texports.Float32Attribute = Float32Attribute;\n\texports.Float32BufferAttribute = Float32BufferAttribute;\n\texports.Float64Attribute = Float64Attribute;\n\texports.Float64BufferAttribute = Float64BufferAttribute;\n\texports.FloatType = FloatType;\n\texports.Fog = Fog;\n\texports.FogExp2 = FogExp2;\n\texports.Font = Font;\n\texports.FontLoader = FontLoader;\n\texports.FramebufferTexture = FramebufferTexture;\n\texports.FrontSide = FrontSide;\n\texports.Frustum = Frustum;\n\texports.GLBufferAttribute = GLBufferAttribute;\n\texports.GLSL1 = GLSL1;\n\texports.GLSL3 = GLSL3;\n\texports.GreaterDepth = GreaterDepth;\n\texports.GreaterEqualDepth = GreaterEqualDepth;\n\texports.GreaterEqualStencilFunc = GreaterEqualStencilFunc;\n\texports.GreaterStencilFunc = GreaterStencilFunc;\n\texports.GridHelper = GridHelper;\n\texports.Group = Group;\n\texports.HalfFloatType = HalfFloatType;\n\texports.HemisphereLight = HemisphereLight;\n\texports.HemisphereLightHelper = HemisphereLightHelper;\n\texports.HemisphereLightProbe = HemisphereLightProbe;\n\texports.IcosahedronBufferGeometry = IcosahedronGeometry;\n\texports.IcosahedronGeometry = IcosahedronGeometry;\n\texports.ImageBitmapLoader = ImageBitmapLoader;\n\texports.ImageLoader = ImageLoader;\n\texports.ImageUtils = ImageUtils;\n\texports.ImmediateRenderObject = ImmediateRenderObject;\n\texports.IncrementStencilOp = IncrementStencilOp;\n\texports.IncrementWrapStencilOp = IncrementWrapStencilOp;\n\texports.InstancedBufferAttribute = InstancedBufferAttribute;\n\texports.InstancedBufferGeometry = InstancedBufferGeometry;\n\texports.InstancedInterleavedBuffer = InstancedInterleavedBuffer;\n\texports.InstancedMesh = InstancedMesh;\n\texports.Int16Attribute = Int16Attribute;\n\texports.Int16BufferAttribute = Int16BufferAttribute;\n\texports.Int32Attribute = Int32Attribute;\n\texports.Int32BufferAttribute = Int32BufferAttribute;\n\texports.Int8Attribute = Int8Attribute;\n\texports.Int8BufferAttribute = Int8BufferAttribute;\n\texports.IntType = IntType;\n\texports.InterleavedBuffer = InterleavedBuffer;\n\texports.InterleavedBufferAttribute = InterleavedBufferAttribute;\n\texports.Interpolant = Interpolant;\n\texports.InterpolateDiscrete = InterpolateDiscrete;\n\texports.InterpolateLinear = InterpolateLinear;\n\texports.InterpolateSmooth = InterpolateSmooth;\n\texports.InvertStencilOp = InvertStencilOp;\n\texports.JSONLoader = JSONLoader;\n\texports.KeepStencilOp = KeepStencilOp;\n\texports.KeyframeTrack = KeyframeTrack;\n\texports.LOD = LOD;\n\texports.LatheBufferGeometry = LatheGeometry;\n\texports.LatheGeometry = LatheGeometry;\n\texports.Layers = Layers;\n\texports.LensFlare = LensFlare;\n\texports.LessDepth = LessDepth;\n\texports.LessEqualDepth = LessEqualDepth;\n\texports.LessEqualStencilFunc = LessEqualStencilFunc;\n\texports.LessStencilFunc = LessStencilFunc;\n\texports.Light = Light;\n\texports.LightProbe = LightProbe;\n\texports.Line = Line;\n\texports.Line3 = Line3;\n\texports.LineBasicMaterial = LineBasicMaterial;\n\texports.LineCurve = LineCurve;\n\texports.LineCurve3 = LineCurve3;\n\texports.LineDashedMaterial = LineDashedMaterial;\n\texports.LineLoop = LineLoop;\n\texports.LinePieces = LinePieces;\n\texports.LineSegments = LineSegments;\n\texports.LineStrip = LineStrip;\n\texports.LinearEncoding = LinearEncoding;\n\texports.LinearFilter = LinearFilter;\n\texports.LinearInterpolant = LinearInterpolant;\n\texports.LinearMipMapLinearFilter = LinearMipMapLinearFilter;\n\texports.LinearMipMapNearestFilter = LinearMipMapNearestFilter;\n\texports.LinearMipmapLinearFilter = LinearMipmapLinearFilter;\n\texports.LinearMipmapNearestFilter = LinearMipmapNearestFilter;\n\texports.LinearToneMapping = LinearToneMapping;\n\texports.Loader = Loader;\n\texports.LoaderUtils = LoaderUtils;\n\texports.LoadingManager = LoadingManager;\n\texports.LoopOnce = LoopOnce;\n\texports.LoopPingPong = LoopPingPong;\n\texports.LoopRepeat = LoopRepeat;\n\texports.LuminanceAlphaFormat = LuminanceAlphaFormat;\n\texports.LuminanceFormat = LuminanceFormat;\n\texports.MOUSE = MOUSE;\n\texports.Material = Material;\n\texports.MaterialLoader = MaterialLoader;\n\texports.Math = MathUtils;\n\texports.MathUtils = MathUtils;\n\texports.Matrix3 = Matrix3;\n\texports.Matrix4 = Matrix4;\n\texports.MaxEquation = MaxEquation;\n\texports.Mesh = Mesh;\n\texports.MeshBasicMaterial = MeshBasicMaterial;\n\texports.MeshDepthMaterial = MeshDepthMaterial;\n\texports.MeshDistanceMaterial = MeshDistanceMaterial;\n\texports.MeshFaceMaterial = MeshFaceMaterial;\n\texports.MeshLambertMaterial = MeshLambertMaterial;\n\texports.MeshMatcapMaterial = MeshMatcapMaterial;\n\texports.MeshNormalMaterial = MeshNormalMaterial;\n\texports.MeshPhongMaterial = MeshPhongMaterial;\n\texports.MeshPhysicalMaterial = MeshPhysicalMaterial;\n\texports.MeshStandardMaterial = MeshStandardMaterial;\n\texports.MeshToonMaterial = MeshToonMaterial;\n\texports.MinEquation = MinEquation;\n\texports.MirroredRepeatWrapping = MirroredRepeatWrapping;\n\texports.MixOperation = MixOperation;\n\texports.MultiMaterial = MultiMaterial;\n\texports.MultiplyBlending = MultiplyBlending;\n\texports.MultiplyOperation = MultiplyOperation;\n\texports.NearestFilter = NearestFilter;\n\texports.NearestMipMapLinearFilter = NearestMipMapLinearFilter;\n\texports.NearestMipMapNearestFilter = NearestMipMapNearestFilter;\n\texports.NearestMipmapLinearFilter = NearestMipmapLinearFilter;\n\texports.NearestMipmapNearestFilter = NearestMipmapNearestFilter;\n\texports.NeverDepth = NeverDepth;\n\texports.NeverStencilFunc = NeverStencilFunc;\n\texports.NoBlending = NoBlending;\n\texports.NoColors = NoColors;\n\texports.NoToneMapping = NoToneMapping;\n\texports.NormalAnimationBlendMode = NormalAnimationBlendMode;\n\texports.NormalBlending = NormalBlending;\n\texports.NotEqualDepth = NotEqualDepth;\n\texports.NotEqualStencilFunc = NotEqualStencilFunc;\n\texports.NumberKeyframeTrack = NumberKeyframeTrack;\n\texports.Object3D = Object3D;\n\texports.ObjectLoader = ObjectLoader;\n\texports.ObjectSpaceNormalMap = ObjectSpaceNormalMap;\n\texports.OctahedronBufferGeometry = OctahedronGeometry;\n\texports.OctahedronGeometry = OctahedronGeometry;\n\texports.OneFactor = OneFactor;\n\texports.OneMinusDstAlphaFactor = OneMinusDstAlphaFactor;\n\texports.OneMinusDstColorFactor = OneMinusDstColorFactor;\n\texports.OneMinusSrcAlphaFactor = OneMinusSrcAlphaFactor;\n\texports.OneMinusSrcColorFactor = OneMinusSrcColorFactor;\n\texports.OrthographicCamera = OrthographicCamera;\n\texports.PCFShadowMap = PCFShadowMap;\n\texports.PCFSoftShadowMap = PCFSoftShadowMap;\n\texports.PMREMGenerator = PMREMGenerator;\n\texports.ParametricGeometry = ParametricGeometry;\n\texports.Particle = Particle;\n\texports.ParticleBasicMaterial = ParticleBasicMaterial;\n\texports.ParticleSystem = ParticleSystem;\n\texports.ParticleSystemMaterial = ParticleSystemMaterial;\n\texports.Path = Path;\n\texports.PerspectiveCamera = PerspectiveCamera;\n\texports.Plane = Plane;\n\texports.PlaneBufferGeometry = PlaneGeometry;\n\texports.PlaneGeometry = PlaneGeometry;\n\texports.PlaneHelper = PlaneHelper;\n\texports.PointCloud = PointCloud;\n\texports.PointCloudMaterial = PointCloudMaterial;\n\texports.PointLight = PointLight;\n\texports.PointLightHelper = PointLightHelper;\n\texports.Points = Points;\n\texports.PointsMaterial = PointsMaterial;\n\texports.PolarGridHelper = PolarGridHelper;\n\texports.PolyhedronBufferGeometry = PolyhedronGeometry;\n\texports.PolyhedronGeometry = PolyhedronGeometry;\n\texports.PositionalAudio = PositionalAudio;\n\texports.PropertyBinding = PropertyBinding;\n\texports.PropertyMixer = PropertyMixer;\n\texports.QuadraticBezierCurve = QuadraticBezierCurve;\n\texports.QuadraticBezierCurve3 = QuadraticBezierCurve3;\n\texports.Quaternion = Quaternion;\n\texports.QuaternionKeyframeTrack = QuaternionKeyframeTrack;\n\texports.QuaternionLinearInterpolant = QuaternionLinearInterpolant;\n\texports.REVISION = REVISION;\n\texports.RGBADepthPacking = RGBADepthPacking;\n\texports.RGBAFormat = RGBAFormat;\n\texports.RGBAIntegerFormat = RGBAIntegerFormat;\n\texports.RGBA_ASTC_10x10_Format = RGBA_ASTC_10x10_Format;\n\texports.RGBA_ASTC_10x5_Format = RGBA_ASTC_10x5_Format;\n\texports.RGBA_ASTC_10x6_Format = RGBA_ASTC_10x6_Format;\n\texports.RGBA_ASTC_10x8_Format = RGBA_ASTC_10x8_Format;\n\texports.RGBA_ASTC_12x10_Format = RGBA_ASTC_12x10_Format;\n\texports.RGBA_ASTC_12x12_Format = RGBA_ASTC_12x12_Format;\n\texports.RGBA_ASTC_4x4_Format = RGBA_ASTC_4x4_Format;\n\texports.RGBA_ASTC_5x4_Format = RGBA_ASTC_5x4_Format;\n\texports.RGBA_ASTC_5x5_Format = RGBA_ASTC_5x5_Format;\n\texports.RGBA_ASTC_6x5_Format = RGBA_ASTC_6x5_Format;\n\texports.RGBA_ASTC_6x6_Format = RGBA_ASTC_6x6_Format;\n\texports.RGBA_ASTC_8x5_Format = RGBA_ASTC_8x5_Format;\n\texports.RGBA_ASTC_8x6_Format = RGBA_ASTC_8x6_Format;\n\texports.RGBA_ASTC_8x8_Format = RGBA_ASTC_8x8_Format;\n\texports.RGBA_BPTC_Format = RGBA_BPTC_Format;\n\texports.RGBA_ETC2_EAC_Format = RGBA_ETC2_EAC_Format;\n\texports.RGBA_PVRTC_2BPPV1_Format = RGBA_PVRTC_2BPPV1_Format;\n\texports.RGBA_PVRTC_4BPPV1_Format = RGBA_PVRTC_4BPPV1_Format;\n\texports.RGBA_S3TC_DXT1_Format = RGBA_S3TC_DXT1_Format;\n\texports.RGBA_S3TC_DXT3_Format = RGBA_S3TC_DXT3_Format;\n\texports.RGBA_S3TC_DXT5_Format = RGBA_S3TC_DXT5_Format;\n\texports.RGBFormat = RGBFormat;\n\texports.RGBIntegerFormat = RGBIntegerFormat;\n\texports.RGB_ETC1_Format = RGB_ETC1_Format;\n\texports.RGB_ETC2_Format = RGB_ETC2_Format;\n\texports.RGB_PVRTC_2BPPV1_Format = RGB_PVRTC_2BPPV1_Format;\n\texports.RGB_PVRTC_4BPPV1_Format = RGB_PVRTC_4BPPV1_Format;\n\texports.RGB_S3TC_DXT1_Format = RGB_S3TC_DXT1_Format;\n\texports.RGFormat = RGFormat;\n\texports.RGIntegerFormat = RGIntegerFormat;\n\texports.RawShaderMaterial = RawShaderMaterial;\n\texports.Ray = Ray;\n\texports.Raycaster = Raycaster;\n\texports.RectAreaLight = RectAreaLight;\n\texports.RedFormat = RedFormat;\n\texports.RedIntegerFormat = RedIntegerFormat;\n\texports.ReinhardToneMapping = ReinhardToneMapping;\n\texports.RepeatWrapping = RepeatWrapping;\n\texports.ReplaceStencilOp = ReplaceStencilOp;\n\texports.ReverseSubtractEquation = ReverseSubtractEquation;\n\texports.RingBufferGeometry = RingGeometry;\n\texports.RingGeometry = RingGeometry;\n\texports.SRGB8_ALPHA8_ASTC_10x10_Format = SRGB8_ALPHA8_ASTC_10x10_Format;\n\texports.SRGB8_ALPHA8_ASTC_10x5_Format = SRGB8_ALPHA8_ASTC_10x5_Format;\n\texports.SRGB8_ALPHA8_ASTC_10x6_Format = SRGB8_ALPHA8_ASTC_10x6_Format;\n\texports.SRGB8_ALPHA8_ASTC_10x8_Format = SRGB8_ALPHA8_ASTC_10x8_Format;\n\texports.SRGB8_ALPHA8_ASTC_12x10_Format = SRGB8_ALPHA8_ASTC_12x10_Format;\n\texports.SRGB8_ALPHA8_ASTC_12x12_Format = SRGB8_ALPHA8_ASTC_12x12_Format;\n\texports.SRGB8_ALPHA8_ASTC_4x4_Format = SRGB8_ALPHA8_ASTC_4x4_Format;\n\texports.SRGB8_ALPHA8_ASTC_5x4_Format = SRGB8_ALPHA8_ASTC_5x4_Format;\n\texports.SRGB8_ALPHA8_ASTC_5x5_Format = SRGB8_ALPHA8_ASTC_5x5_Format;\n\texports.SRGB8_ALPHA8_ASTC_6x5_Format = SRGB8_ALPHA8_ASTC_6x5_Format;\n\texports.SRGB8_ALPHA8_ASTC_6x6_Format = SRGB8_ALPHA8_ASTC_6x6_Format;\n\texports.SRGB8_ALPHA8_ASTC_8x5_Format = SRGB8_ALPHA8_ASTC_8x5_Format;\n\texports.SRGB8_ALPHA8_ASTC_8x6_Format = SRGB8_ALPHA8_ASTC_8x6_Format;\n\texports.SRGB8_ALPHA8_ASTC_8x8_Format = SRGB8_ALPHA8_ASTC_8x8_Format;\n\texports.Scene = Scene;\n\texports.SceneUtils = SceneUtils;\n\texports.ShaderChunk = ShaderChunk;\n\texports.ShaderLib = ShaderLib;\n\texports.ShaderMaterial = ShaderMaterial;\n\texports.ShadowMaterial = ShadowMaterial;\n\texports.Shape = Shape;\n\texports.ShapeBufferGeometry = ShapeGeometry;\n\texports.ShapeGeometry = ShapeGeometry;\n\texports.ShapePath = ShapePath;\n\texports.ShapeUtils = ShapeUtils;\n\texports.ShortType = ShortType;\n\texports.Skeleton = Skeleton;\n\texports.SkeletonHelper = SkeletonHelper;\n\texports.SkinnedMesh = SkinnedMesh;\n\texports.SmoothShading = SmoothShading;\n\texports.Sphere = Sphere;\n\texports.SphereBufferGeometry = SphereGeometry;\n\texports.SphereGeometry = SphereGeometry;\n\texports.Spherical = Spherical;\n\texports.SphericalHarmonics3 = SphericalHarmonics3;\n\texports.SplineCurve = SplineCurve;\n\texports.SpotLight = SpotLight;\n\texports.SpotLightHelper = SpotLightHelper;\n\texports.Sprite = Sprite;\n\texports.SpriteMaterial = SpriteMaterial;\n\texports.SrcAlphaFactor = SrcAlphaFactor;\n\texports.SrcAlphaSaturateFactor = SrcAlphaSaturateFactor;\n\texports.SrcColorFactor = SrcColorFactor;\n\texports.StaticCopyUsage = StaticCopyUsage;\n\texports.StaticDrawUsage = StaticDrawUsage;\n\texports.StaticReadUsage = StaticReadUsage;\n\texports.StereoCamera = StereoCamera;\n\texports.StreamCopyUsage = StreamCopyUsage;\n\texports.StreamDrawUsage = StreamDrawUsage;\n\texports.StreamReadUsage = StreamReadUsage;\n\texports.StringKeyframeTrack = StringKeyframeTrack;\n\texports.SubtractEquation = SubtractEquation;\n\texports.SubtractiveBlending = SubtractiveBlending;\n\texports.TOUCH = TOUCH;\n\texports.TangentSpaceNormalMap = TangentSpaceNormalMap;\n\texports.TetrahedronBufferGeometry = TetrahedronGeometry;\n\texports.TetrahedronGeometry = TetrahedronGeometry;\n\texports.TextGeometry = TextGeometry;\n\texports.Texture = Texture;\n\texports.TextureLoader = TextureLoader;\n\texports.TorusBufferGeometry = TorusGeometry;\n\texports.TorusGeometry = TorusGeometry;\n\texports.TorusKnotBufferGeometry = TorusKnotGeometry;\n\texports.TorusKnotGeometry = TorusKnotGeometry;\n\texports.Triangle = Triangle;\n\texports.TriangleFanDrawMode = TriangleFanDrawMode;\n\texports.TriangleStripDrawMode = TriangleStripDrawMode;\n\texports.TrianglesDrawMode = TrianglesDrawMode;\n\texports.TubeBufferGeometry = TubeGeometry;\n\texports.TubeGeometry = TubeGeometry;\n\texports.UVMapping = UVMapping;\n\texports.Uint16Attribute = Uint16Attribute;\n\texports.Uint16BufferAttribute = Uint16BufferAttribute;\n\texports.Uint32Attribute = Uint32Attribute;\n\texports.Uint32BufferAttribute = Uint32BufferAttribute;\n\texports.Uint8Attribute = Uint8Attribute;\n\texports.Uint8BufferAttribute = Uint8BufferAttribute;\n\texports.Uint8ClampedAttribute = Uint8ClampedAttribute;\n\texports.Uint8ClampedBufferAttribute = Uint8ClampedBufferAttribute;\n\texports.Uniform = Uniform;\n\texports.UniformsLib = UniformsLib;\n\texports.UniformsUtils = UniformsUtils;\n\texports.UnsignedByteType = UnsignedByteType;\n\texports.UnsignedInt248Type = UnsignedInt248Type;\n\texports.UnsignedIntType = UnsignedIntType;\n\texports.UnsignedShort4444Type = UnsignedShort4444Type;\n\texports.UnsignedShort5551Type = UnsignedShort5551Type;\n\texports.UnsignedShort565Type = UnsignedShort565Type;\n\texports.UnsignedShortType = UnsignedShortType;\n\texports.VSMShadowMap = VSMShadowMap;\n\texports.Vector2 = Vector2;\n\texports.Vector3 = Vector3;\n\texports.Vector4 = Vector4;\n\texports.VectorKeyframeTrack = VectorKeyframeTrack;\n\texports.Vertex = Vertex;\n\texports.VertexColors = VertexColors;\n\texports.VideoTexture = VideoTexture;\n\texports.WebGL1Renderer = WebGL1Renderer;\n\texports.WebGLCubeRenderTarget = WebGLCubeRenderTarget;\n\texports.WebGLMultipleRenderTargets = WebGLMultipleRenderTargets;\n\texports.WebGLMultisampleRenderTarget = WebGLMultisampleRenderTarget;\n\texports.WebGLRenderTarget = WebGLRenderTarget;\n\texports.WebGLRenderTargetCube = WebGLRenderTargetCube;\n\texports.WebGLRenderer = WebGLRenderer;\n\texports.WebGLUtils = WebGLUtils;\n\texports.WireframeGeometry = WireframeGeometry;\n\texports.WireframeHelper = WireframeHelper;\n\texports.WrapAroundEnding = WrapAroundEnding;\n\texports.XHRLoader = XHRLoader;\n\texports.ZeroCurvatureEnding = ZeroCurvatureEnding;\n\texports.ZeroFactor = ZeroFactor;\n\texports.ZeroSlopeEnding = ZeroSlopeEnding;\n\texports.ZeroStencilOp = ZeroStencilOp;\n\texports.sRGBEncoding = sRGBEncoding;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","import {\n\tBufferGeometry,\n\tFileLoader,\n\tFloat32BufferAttribute,\n\tGroup,\n\tLineBasicMaterial,\n\tLineSegments,\n\tLoader,\n\tMaterial,\n\tMesh,\n\tMeshPhongMaterial,\n\tPoints,\n\tPointsMaterial,\n\tVector3\n} from 'three';\n\n// o object_name | g group_name\nconst _object_pattern = /^[og]\\s*(.+)?/;\n// mtllib file_reference\nconst _material_library_pattern = /^mtllib /;\n// usemtl material_name\nconst _material_use_pattern = /^usemtl /;\n// usemap map_name\nconst _map_use_pattern = /^usemap /;\n\nconst _vA = new Vector3();\nconst _vB = new Vector3();\nconst _vC = new Vector3();\n\nconst _ab = new Vector3();\nconst _cb = new Vector3();\n\nfunction ParserState() {\n\n\tconst state = {\n\t\tobjects: [],\n\t\tobject: {},\n\n\t\tvertices: [],\n\t\tnormals: [],\n\t\tcolors: [],\n\t\tuvs: [],\n\n\t\tmaterials: {},\n\t\tmaterialLibraries: [],\n\n\t\tstartObject: function ( name, fromDeclaration ) {\n\n\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\n\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\n\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\n\n\t\t\t\tthis.object.name = name;\n\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\n\n\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\tthis.object._finalize( true );\n\n\t\t\t}\n\n\t\t\tthis.object = {\n\t\t\t\tname: name || '',\n\t\t\t\tfromDeclaration: ( fromDeclaration !== false ),\n\n\t\t\t\tgeometry: {\n\t\t\t\t\tvertices: [],\n\t\t\t\t\tnormals: [],\n\t\t\t\t\tcolors: [],\n\t\t\t\t\tuvs: [],\n\t\t\t\t\thasUVIndices: false\n\t\t\t\t},\n\t\t\t\tmaterials: [],\n\t\t\t\tsmooth: true,\n\n\t\t\t\tstartMaterial: function ( name, libraries ) {\n\n\t\t\t\t\tconst previous = this._finalize( false );\n\n\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\n\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\n\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\n\n\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst material = {\n\t\t\t\t\t\tindex: this.materials.length,\n\t\t\t\t\t\tname: name || '',\n\t\t\t\t\t\tmtllib: ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\n\t\t\t\t\t\tsmooth: ( previous !== undefined ? previous.smooth : this.smooth ),\n\t\t\t\t\t\tgroupStart: ( previous !== undefined ? previous.groupEnd : 0 ),\n\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\tinherited: false,\n\n\t\t\t\t\t\tclone: function ( index ) {\n\n\t\t\t\t\t\t\tconst cloned = {\n\t\t\t\t\t\t\t\tindex: ( typeof index === 'number' ? index : this.index ),\n\t\t\t\t\t\t\t\tname: this.name,\n\t\t\t\t\t\t\t\tmtllib: this.mtllib,\n\t\t\t\t\t\t\t\tsmooth: this.smooth,\n\t\t\t\t\t\t\t\tgroupStart: 0,\n\t\t\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\t\t\tinherited: false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcloned.clone = this.clone.bind( cloned );\n\t\t\t\t\t\t\treturn cloned;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.materials.push( material );\n\n\t\t\t\t\treturn material;\n\n\t\t\t\t},\n\n\t\t\t\tcurrentMaterial: function () {\n\n\t\t\t\t\tif ( this.materials.length > 0 ) {\n\n\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn undefined;\n\n\t\t\t\t},\n\n\t\t\t\t_finalize: function ( end ) {\n\n\t\t\t\t\tconst lastMultiMaterial = this.currentMaterial();\n\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === - 1 ) {\n\n\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\n\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\n\t\t\t\t\t\tlastMultiMaterial.inherited = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\n\t\t\t\t\tif ( end && this.materials.length > 1 ) {\n\n\t\t\t\t\t\tfor ( let mi = this.materials.length - 1; mi >= 0; mi -- ) {\n\n\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {\n\n\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\n\t\t\t\t\tif ( end && this.materials.length === 0 ) {\n\n\t\t\t\t\t\tthis.materials.push( {\n\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\tsmooth: this.smooth\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn lastMultiMaterial;\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Inherit previous objects material.\n\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\n\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\n\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\n\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\n\n\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\n\n\t\t\t\tconst declared = previousMaterial.clone( 0 );\n\t\t\t\tdeclared.inherited = true;\n\t\t\t\tthis.object.materials.push( declared );\n\n\t\t\t}\n\n\t\t\tthis.objects.push( this.object );\n\n\t\t},\n\n\t\tfinalize: function () {\n\n\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\tthis.object._finalize( true );\n\n\t\t\t}\n\n\t\t},\n\n\t\tparseVertexIndex: function ( value, len ) {\n\n\t\t\tconst index = parseInt( value, 10 );\n\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t},\n\n\t\tparseNormalIndex: function ( value, len ) {\n\n\t\t\tconst index = parseInt( value, 10 );\n\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t},\n\n\t\tparseUVIndex: function ( value, len ) {\n\n\t\t\tconst index = parseInt( value, 10 );\n\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\n\n\t\t},\n\n\t\taddVertex: function ( a, b, c ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.vertices;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t},\n\n\t\taddVertexPoint: function ( a ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.vertices;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t},\n\n\t\taddVertexLine: function ( a ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.vertices;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t},\n\n\t\taddNormal: function ( a, b, c ) {\n\n\t\t\tconst src = this.normals;\n\t\t\tconst dst = this.object.geometry.normals;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t},\n\n\t\taddFaceNormal: function ( a, b, c ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.normals;\n\n\t\t\t_vA.fromArray( src, a );\n\t\t\t_vB.fromArray( src, b );\n\t\t\t_vC.fromArray( src, c );\n\n\t\t\t_cb.subVectors( _vC, _vB );\n\t\t\t_ab.subVectors( _vA, _vB );\n\t\t\t_cb.cross( _ab );\n\n\t\t\t_cb.normalize();\n\n\t\t\tdst.push( _cb.x, _cb.y, _cb.z );\n\t\t\tdst.push( _cb.x, _cb.y, _cb.z );\n\t\t\tdst.push( _cb.x, _cb.y, _cb.z );\n\n\t\t},\n\n\t\taddColor: function ( a, b, c ) {\n\n\t\t\tconst src = this.colors;\n\t\t\tconst dst = this.object.geometry.colors;\n\n\t\t\tif ( src[ a ] !== undefined ) dst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\tif ( src[ b ] !== undefined ) dst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\tif ( src[ c ] !== undefined ) dst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t},\n\n\t\taddUV: function ( a, b, c ) {\n\n\t\t\tconst src = this.uvs;\n\t\t\tconst dst = this.object.geometry.uvs;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ] );\n\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ] );\n\n\t\t},\n\n\t\taddDefaultUV: function () {\n\n\t\t\tconst dst = this.object.geometry.uvs;\n\n\t\t\tdst.push( 0, 0 );\n\t\t\tdst.push( 0, 0 );\n\t\t\tdst.push( 0, 0 );\n\n\t\t},\n\n\t\taddUVLine: function ( a ) {\n\n\t\t\tconst src = this.uvs;\n\t\t\tconst dst = this.object.geometry.uvs;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\n\t\t},\n\n\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\n\n\t\t\tconst vLen = this.vertices.length;\n\n\t\t\tlet ia = this.parseVertexIndex( a, vLen );\n\t\t\tlet ib = this.parseVertexIndex( b, vLen );\n\t\t\tlet ic = this.parseVertexIndex( c, vLen );\n\n\t\t\tthis.addVertex( ia, ib, ic );\n\t\t\tthis.addColor( ia, ib, ic );\n\n\t\t\t// normals\n\n\t\t\tif ( na !== undefined && na !== '' ) {\n\n\t\t\t\tconst nLen = this.normals.length;\n\n\t\t\t\tia = this.parseNormalIndex( na, nLen );\n\t\t\t\tib = this.parseNormalIndex( nb, nLen );\n\t\t\t\tic = this.parseNormalIndex( nc, nLen );\n\n\t\t\t\tthis.addNormal( ia, ib, ic );\n\n\t\t\t} else {\n\n\t\t\t\tthis.addFaceNormal( ia, ib, ic );\n\n\t\t\t}\n\n\t\t\t// uvs\n\n\t\t\tif ( ua !== undefined && ua !== '' ) {\n\n\t\t\t\tconst uvLen = this.uvs.length;\n\n\t\t\t\tia = this.parseUVIndex( ua, uvLen );\n\t\t\t\tib = this.parseUVIndex( ub, uvLen );\n\t\t\t\tic = this.parseUVIndex( uc, uvLen );\n\n\t\t\t\tthis.addUV( ia, ib, ic );\n\n\t\t\t\tthis.object.geometry.hasUVIndices = true;\n\n\t\t\t} else {\n\n\t\t\t\t// add placeholder values (for inconsistent face definitions)\n\n\t\t\t\tthis.addDefaultUV();\n\n\t\t\t}\n\n\t\t},\n\n\t\taddPointGeometry: function ( vertices ) {\n\n\t\t\tthis.object.geometry.type = 'Points';\n\n\t\t\tconst vLen = this.vertices.length;\n\n\t\t\tfor ( let vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\tconst index = this.parseVertexIndex( vertices[ vi ], vLen );\n\n\t\t\t\tthis.addVertexPoint( index );\n\t\t\t\tthis.addColor( index );\n\n\t\t\t}\n\n\t\t},\n\n\t\taddLineGeometry: function ( vertices, uvs ) {\n\n\t\t\tthis.object.geometry.type = 'Line';\n\n\t\t\tconst vLen = this.vertices.length;\n\t\t\tconst uvLen = this.uvs.length;\n\n\t\t\tfor ( let vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\n\n\t\t\t}\n\n\t\t\tfor ( let uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\n\n\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tstate.startObject( '', false );\n\n\treturn state;\n\n}\n\n//\n\nclass OBJLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.materials = null;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tsetMaterials( materials ) {\n\n\t\tthis.materials = materials;\n\n\t\treturn this;\n\n\t}\n\n\tparse( text ) {\n\n\t\tconst state = new ParserState();\n\n\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\n\n\t\t\t// This is faster than String.split with regex that splits on both\n\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\n\n\t\t}\n\n\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1 ) {\n\n\t\t\t// join lines separated by a line continuation character (\\)\n\t\t\ttext = text.replace( /\\\\\\n/g, '' );\n\n\t\t}\n\n\t\tconst lines = text.split( '\\n' );\n\t\tlet line = '', lineFirstChar = '';\n\t\tlet lineLength = 0;\n\t\tlet result = [];\n\n\t\t// Faster to just trim left side of the line. Use if available.\n\t\tconst trimLeft = ( typeof ''.trimLeft === 'function' );\n\n\t\tfor ( let i = 0, l = lines.length; i < l; i ++ ) {\n\n\t\t\tline = lines[ i ];\n\n\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\n\n\t\t\tlineLength = line.length;\n\n\t\t\tif ( lineLength === 0 ) continue;\n\n\t\t\tlineFirstChar = line.charAt( 0 );\n\n\t\t\t// @todo invoke passed in handler if any\n\t\t\tif ( lineFirstChar === '#' ) continue;\n\n\t\t\tif ( lineFirstChar === 'v' ) {\n\n\t\t\t\tconst data = line.split( /\\s+/ );\n\n\t\t\t\tswitch ( data[ 0 ] ) {\n\n\t\t\t\t\tcase 'v':\n\t\t\t\t\t\tstate.vertices.push(\n\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif ( data.length >= 7 ) {\n\n\t\t\t\t\t\t\tstate.colors.push(\n\t\t\t\t\t\t\t\tparseFloat( data[ 4 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 5 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 6 ] )\n\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// if no colors are defined, add placeholders so color and vertex indices match\n\n\t\t\t\t\t\t\tstate.colors.push( undefined, undefined, undefined );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'vn':\n\t\t\t\t\t\tstate.normals.push(\n\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'vt':\n\t\t\t\t\t\tstate.uvs.push(\n\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 2 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t} else if ( lineFirstChar === 'f' ) {\n\n\t\t\t\tconst lineData = line.substr( 1 ).trim();\n\t\t\t\tconst vertexData = lineData.split( /\\s+/ );\n\t\t\t\tconst faceVertices = [];\n\n\t\t\t\t// Parse the face vertex data into an easy to work with format\n\n\t\t\t\tfor ( let j = 0, jl = vertexData.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst vertex = vertexData[ j ];\n\n\t\t\t\t\tif ( vertex.length > 0 ) {\n\n\t\t\t\t\t\tconst vertexParts = vertex.split( '/' );\n\t\t\t\t\t\tfaceVertices.push( vertexParts );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Draw an edge between the first vertex and all subsequent vertices to form an n-gon\n\n\t\t\t\tconst v1 = faceVertices[ 0 ];\n\n\t\t\t\tfor ( let j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {\n\n\t\t\t\t\tconst v2 = faceVertices[ j ];\n\t\t\t\t\tconst v3 = faceVertices[ j + 1 ];\n\n\t\t\t\t\tstate.addFace(\n\t\t\t\t\t\tv1[ 0 ], v2[ 0 ], v3[ 0 ],\n\t\t\t\t\t\tv1[ 1 ], v2[ 1 ], v3[ 1 ],\n\t\t\t\t\t\tv1[ 2 ], v2[ 2 ], v3[ 2 ]\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t} else if ( lineFirstChar === 'l' ) {\n\n\t\t\t\tconst lineParts = line.substring( 1 ).trim().split( ' ' );\n\t\t\t\tlet lineVertices = [];\n\t\t\t\tconst lineUVs = [];\n\n\t\t\t\tif ( line.indexOf( '/' ) === - 1 ) {\n\n\t\t\t\t\tlineVertices = lineParts;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( let li = 0, llen = lineParts.length; li < llen; li ++ ) {\n\n\t\t\t\t\t\tconst parts = lineParts[ li ].split( '/' );\n\n\t\t\t\t\t\tif ( parts[ 0 ] !== '' ) lineVertices.push( parts[ 0 ] );\n\t\t\t\t\t\tif ( parts[ 1 ] !== '' ) lineUVs.push( parts[ 1 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\n\n\t\t\t} else if ( lineFirstChar === 'p' ) {\n\n\t\t\t\tconst lineData = line.substr( 1 ).trim();\n\t\t\t\tconst pointData = lineData.split( ' ' );\n\n\t\t\t\tstate.addPointGeometry( pointData );\n\n\t\t\t} else if ( ( result = _object_pattern.exec( line ) ) !== null ) {\n\n\t\t\t\t// o object_name\n\t\t\t\t// or\n\t\t\t\t// g group_name\n\n\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\n\t\t\t\t// let name = result[ 0 ].substr( 1 ).trim();\n\t\t\t\tconst name = ( ' ' + result[ 0 ].substr( 1 ).trim() ).substr( 1 );\n\n\t\t\t\tstate.startObject( name );\n\n\t\t\t} else if ( _material_use_pattern.test( line ) ) {\n\n\t\t\t\t// material\n\n\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\n\n\t\t\t} else if ( _material_library_pattern.test( line ) ) {\n\n\t\t\t\t// mtl file\n\n\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\n\n\t\t\t} else if ( _map_use_pattern.test( line ) ) {\n\n\t\t\t\t// the line is parsed but ignored since the loader assumes textures are defined MTL files\n\t\t\t\t// (according to https://www.okino.com/conv/imp_wave.htm, 'usemap' is the old-style Wavefront texture reference method)\n\n\t\t\t\tconsole.warn( 'THREE.OBJLoader: Rendering identifier \"usemap\" not supported. Textures must be defined in MTL files.' );\n\n\t\t\t} else if ( lineFirstChar === 's' ) {\n\n\t\t\t\tresult = line.split( ' ' );\n\n\t\t\t\t// smooth shading\n\n\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\n\t\t\t\t// but does not define a usemtl for each face set.\n\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\n\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\n\t\t\t\t// where explicit usemtl defines geometry groups.\n\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\n\n\t\t\t\t/*\n\t\t\t\t\t * http://paulbourke.net/dataformats/obj/\n\t\t\t\t\t *\n\t\t\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\n\t\t\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\n\t\t\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\n\t\t\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\n\t\t\t\t\t * than 0.\"\n\t\t\t\t\t */\n\t\t\t\tif ( result.length > 1 ) {\n\n\t\t\t\t\tconst value = result[ 1 ].trim().toLowerCase();\n\t\t\t\t\tstate.object.smooth = ( value !== '0' && value !== 'off' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// ZBrush can produce \"s\" lines #11707\n\t\t\t\t\tstate.object.smooth = true;\n\n\t\t\t\t}\n\n\t\t\t\tconst material = state.object.currentMaterial();\n\t\t\t\tif ( material ) material.smooth = state.object.smooth;\n\n\t\t\t} else {\n\n\t\t\t\t// Handle null terminated files without exception\n\t\t\t\tif ( line === '\\0' ) continue;\n\n\t\t\t\tconsole.warn( 'THREE.OBJLoader: Unexpected line: \"' + line + '\"' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.finalize();\n\n\t\tconst container = new Group();\n\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\n\n\t\tconst hasPrimitives = ! ( state.objects.length === 1 && state.objects[ 0 ].geometry.vertices.length === 0 );\n\n\t\tif ( hasPrimitives === true ) {\n\n\t\t\tfor ( let i = 0, l = state.objects.length; i < l; i ++ ) {\n\n\t\t\t\tconst object = state.objects[ i ];\n\t\t\t\tconst geometry = object.geometry;\n\t\t\t\tconst materials = object.materials;\n\t\t\t\tconst isLine = ( geometry.type === 'Line' );\n\t\t\t\tconst isPoints = ( geometry.type === 'Points' );\n\t\t\t\tlet hasVertexColors = false;\n\n\t\t\t\t// Skip o/g line declarations that did not follow with any faces\n\t\t\t\tif ( geometry.vertices.length === 0 ) continue;\n\n\t\t\t\tconst buffergeometry = new BufferGeometry();\n\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( geometry.vertices, 3 ) );\n\n\t\t\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'normal', new Float32BufferAttribute( geometry.normals, 3 ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\t\t\thasVertexColors = true;\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( geometry.colors, 3 ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.hasUVIndices === true ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'uv', new Float32BufferAttribute( geometry.uvs, 2 ) );\n\n\t\t\t\t}\n\n\t\t\t\t// Create materials\n\n\t\t\t\tconst createdMaterials = [];\n\n\t\t\t\tfor ( let mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\tconst sourceMaterial = materials[ mi ];\n\t\t\t\t\tconst materialHash = sourceMaterial.name + '_' + sourceMaterial.smooth + '_' + hasVertexColors;\n\t\t\t\t\tlet material = state.materials[ materialHash ];\n\n\t\t\t\t\tif ( this.materials !== null ) {\n\n\t\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\n\n\t\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\n\t\t\t\t\t\tif ( isLine && material && ! ( material instanceof LineBasicMaterial ) ) {\n\n\t\t\t\t\t\t\tconst materialLine = new LineBasicMaterial();\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialLine, material );\n\t\t\t\t\t\t\tmaterialLine.color.copy( material.color );\n\t\t\t\t\t\t\tmaterial = materialLine;\n\n\t\t\t\t\t\t} else if ( isPoints && material && ! ( material instanceof PointsMaterial ) ) {\n\n\t\t\t\t\t\t\tconst materialPoints = new PointsMaterial( { size: 10, sizeAttenuation: false } );\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialPoints, material );\n\t\t\t\t\t\t\tmaterialPoints.color.copy( material.color );\n\t\t\t\t\t\t\tmaterialPoints.map = material.map;\n\t\t\t\t\t\t\tmaterial = materialPoints;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( material === undefined ) {\n\n\t\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\t\tmaterial = new LineBasicMaterial();\n\n\t\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\t\tmaterial = new PointsMaterial( { size: 1, sizeAttenuation: false } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tmaterial = new MeshPhongMaterial();\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\n\t\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;\n\t\t\t\t\t\tmaterial.vertexColors = hasVertexColors;\n\n\t\t\t\t\t\tstate.materials[ materialHash ] = material;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcreatedMaterials.push( material );\n\n\t\t\t\t}\n\n\t\t\t\t// Create mesh\n\n\t\t\t\tlet mesh;\n\n\t\t\t\tif ( createdMaterials.length > 1 ) {\n\n\t\t\t\t\tfor ( let mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\t\tconst sourceMaterial = materials[ mi ];\n\t\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = object.name;\n\n\t\t\t\tcontainer.add( mesh );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// if there is only the default parser state object with no geometry data, interpret data as point cloud\n\n\t\t\tif ( state.vertices.length > 0 ) {\n\n\t\t\t\tconst material = new PointsMaterial( { size: 1, sizeAttenuation: false } );\n\n\t\t\t\tconst buffergeometry = new BufferGeometry();\n\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( state.vertices, 3 ) );\n\n\t\t\t\tif ( state.colors.length > 0 && state.colors[ 0 ] !== undefined ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( state.colors, 3 ) );\n\t\t\t\t\tmaterial.vertexColors = true;\n\n\t\t\t\t}\n\n\t\t\t\tconst points = new Points( buffergeometry, material );\n\t\t\t\tcontainer.add( points );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn container;\n\n\t}\n\n}\n\nexport { OBJLoader };\n","\"use strict\";\n\nimport lottie from \"lottie-web\";\nimport * as THREE from \"three\";\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader.js\";\n\nlet scene, camera, renderer, frameId;\nlet header, headerImg;\nlet headerAnim, wcydAnim, wcydObserver, keyboardContainer;\nlet scrollEffect = 0, lastScrollTop = 0, animationStart = 0;\nlet complete = false;\n\nwindow.onbeforeunload = () => window.scrollTo(0, 0);\n\nfunction createScene() {\n  scene = new THREE.Scene(); //set up the scene\n  camera = new THREE.PerspectiveCamera(\n    60, window.innerWidth / window.innerHeight, 0.1, 1000);\n  camera.position.set(0, 0, 1.25);\n  renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  keyboardContainer = document.querySelector(\"#keyboard\")\n  keyboardContainer.append(renderer.domElement);\n}\n\nfunction loadModel() {\n  const color = new THREE.Color(\"rgb(0, 12, 165)\");\n  var ambient = new THREE.AmbientLight(color);\n  scene.add(ambient);\n\n  const loader = new OBJLoader();\n\n  const kb = loader.load(\n    \"/assets/models/keyboard.obj\",\n    function (obj) {\n      // Add the loaded object to the scene\n      scene.add(obj);\n      obj.position.set(0, 0, 0);\n\n      setInterval(() => {\n        obj.rotateY(0.01);\n        obj.rotateX(0.01);\n      }, 1 / 60);\n    }\n  );\n\n  animate();\n}\n\nfunction resize() {\n  renderer.setSize(keyboardContainer.clientWidth, keyboardContainer.clientHeight);\n  camera.aspect = keyboardContainer.clientWidth / keyboardContainer.clientHeight;\n  camera.updateProjectionMatrix();\n};\n\nfunction animate() {\n  frameId = requestAnimationFrame(animate);\n  renderer.render(scene, camera);\n}\n\nfunction loadHeaderAnim() {\n  headerAnim = lottie.loadAnimation({\n    container: document.querySelector(\"#intro-anim\"),\n    renderer: 'svg',\n    loop: false,\n    autoplay: true,\n    path: 'https://assets5.lottiefiles.com/packages/lf20_ftnubpoc.json'\n  });\n}\n\nlet x = window.matchMedia(\"(max-width: 992px)\");\nfunction loadWcydAnim() {\n  if (x.matches) {\n    wcydAnim = lottie.loadAnimation({\n      container: document.querySelector(\"#wcyd-anim\"),\n      renderer: 'canvas',\n      loop: false,\n      autoplay: false,\n      path: '/assets/json/wcyd-animation-mobile.json'\n    })\n  } else {\n    wcydAnim = lottie.loadAnimation({\n      container: document.querySelector(\"#wcyd-anim\"),\n      renderer: 'canvas',\n      loop: false,\n      autoplay: false,\n      path: '/assets/json/wcyd-animation-desktop.json',\n      rendererSettings: {\n        preserveAspectRatio: 'xMidYMax slice'\n      }\n    })\n  };\n}\n\nfunction attachObserverToWcyd() {\n  if (x.matches) {\n    wcydObserver = new IntersectionObserver(entries => {\n      entries.forEach(entry => {\n        if (entry.intersectionRatio > 0) {\n          document.addEventListener(\"scroll\", playAnimation);\n        } else {\n          document.removeEventListener(\"scroll\", playAnimation);\n        }\n      })\n    });\n  } else {\n    wcydObserver = new IntersectionObserver(entries => {\n      entries.forEach(entry => {\n        if (entry.intersectionRatio >= 1) {\n          document.addEventListener(\"scroll\", playAnimation);\n        } else {\n          document.removeEventListener(\"scroll\", playAnimation);\n        }\n      })\n    }, {\n      threshold: 1.0\n    });\n  }\n\n  wcydObserver.observe(document.querySelector(\"#wcyd-anim\"));\n}\n\nfunction playAnimation() {\n  let st = window.pageYOffset || document.documentElement.scrollTop;\n  if (st > lastScrollTop) {\n    wcydAnim.playSegments([animationStart, animationStart + 1], true);\n    if (animationStart >= 432) {\n      complete = true;\n    } else {\n      animationStart++;\n    }\n  } else {\n    wcydAnim.playSegments([animationStart, animationStart - 1], true);\n    if (animationStart != 0) {\n      animationStart--;\n    } else {\n      document.querySelector(\"#spacer\").style.height = `0vh`;\n      scrollEffect = 0;\n    }\n  }\n  lastScrollTop = st <= 0 ? 0 : st;\n}\n\nfunction endlessScroll() {\n  scrollEffect += 1;\n  document.querySelector(\"#spacer\").style.height = `${100 + (scrollEffect * 75)}vh`;\n\n  if (complete) {\n    document.removeEventListener(\"scroll\", endlessScroll);\n    document.querySelector(\"#wcyd-anim\").classList.add(\"hidden\");\n    document.querySelector(\"#spacer\").classList.add(\"hidden\");\n    document.querySelector(\"#project-section\").classList.remove(\"hidden\");\n    document.querySelector(\"#blog-section\").classList.remove(\"hidden\");\n    document.querySelector(\"footer\").classList.remove(\"hidden\");\n    document.querySelector(\"#spacer\").style.display = \"none\";\n    loadAnimationsLoadedAfter();\n  }\n}\n\nasync function loadAnimationsLoadedAfter() {\n  const {createViewAllAnim, assignViewAllEvents, createLetsTalkAnim, assignLetsTalkEvents} = await import(\"./invisible-animations.js\");\n  console.log(\"imported methods\");\n  createViewAllAnim();\n  assignViewAllEvents();\n  createLetsTalkAnim();\n  assignLetsTalkEvents();\n}\n\nfunction init() {\n  loadHeaderAnim();\n  createScene();\n  loadModel();\n  window.addEventListener(\"resize\", resize);\n\n  loadWcydAnim();\n  attachObserverToWcyd();\n  document.addEventListener(\"scroll\", endlessScroll);\n\n  header = document.querySelector(\"header\");\n  headerImg = document.querySelector(\"#header-img\");\n\n  header.addEventListener(\"mouseenter\", (e) => {\n    const paths = [\"/assets/img/img-1.png\", \"/assets/img/img-2.jpg\", \"/assets/img/img-3.jpg\", \"/assets/img/img-4.jpg\", \"/assets/img/img-5.jpg\"];\n    const randomImg = paths[Math.floor(Math.random() * paths.length)];\n    headerImg.src = randomImg;\n    // set mouse cursor to the mouse pointer's position by using margin\n    headerImg.style.left = e.clientX + \"px\";\n    headerImg.style.top = e.clientY + \"px\";\n\n    const random = (Math.random() * -25 + 1) + (Math.random() * 25 + 1);\n\n    headerImg.style.transform = `rotate(${random}deg) translate(-50%)`;\n    headerImg.classList.remove(\"hidden\");\n\n    // when it leaves header hide the image\n    header.addEventListener(\"mouseleave\", () => {\n      headerImg.classList.add(\"hidden\");\n    });\n\n    // on mouse move update image position\n    header.addEventListener(\"mousemove\", (e) => {\n      // set mouse cursor to the mouse pointer's position by using margin\n      headerImg.style.left = e.clientX + \"px\";\n      headerImg.style.top = e.clientY + \"px\";\n    });\n  });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", init);","\"use strict\";\n\nimport lottie from \"lottie-web\";\n\nlet letsTalk, viewAll, viewAllContainer, letsTalkContainer;\n\nexport function createLetsTalkAnim() {\n    letsTalk = lottie.loadAnimation({\n        container: document.querySelector(\"#lets-talk\"),\n        renderer: 'svg',\n        loop: false,\n        autoplay: false,\n        path: \"/assets/json/letstalk.json\"\n    });\n}\n\nexport function assignLetsTalkEvents() {\n    letsTalkContainer = document.querySelector(\"#lets-talk\");\n    letsTalkContainer.addEventListener(\"mouseenter\", e => {\n        e.stopPropagation();\n        letsTalk.play();\n        letsTalk.loop = true;\n    })\n\n    letsTalkContainer.addEventListener(\"mouseleave\", e => {\n        letsTalk.loop = false;\n    })\n\n    letsTalkContainer.addEventListener(\"click\", e => {\n        open(\"mailto:craigcontreras@protonmail.com\");\n    });\n}\n\nexport function createViewAllAnim() {\n    viewAll = lottie.loadAnimation({\n        container: document.querySelector(\"#view-all-posts\"),\n        renderer: 'svg',\n        loop: false,\n        autoplay: false,\n        path: \"/assets/json/view-all.json\"\n    });\n}\n\nexport function assignViewAllEvents() {\n    viewAllContainer = document.querySelector(\"#view-all-posts\");\n    viewAllContainer.addEventListener(\"mouseenter\", e => {\n        e.stopPropagation();\n        viewAll.play();\n        viewAll.loop = true;\n    })\n\n    viewAllContainer.addEventListener(\"mouseleave\", e => {\n        viewAll.loop = false;\n    })\n\n    viewAllContainer.addEventListener(\"click\", e => {\n        document.querySelector(\".transition\").classList.add(\"is-active\");\n        setTimeout(() => {\n            window.location.replace(\"/blog.html\");\n        }, 500);\n    });\n}"]}